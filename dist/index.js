!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){ko.components.register(t,{viewModel:n(142)("./"+t+"/index").default,template:n(180)("./"+t+"/index.html")})}function o(t){ko.components.register(t,{viewModel:{createViewModel:n(142)("./"+t+"/index").default},template:n(180)("./"+t+"/index.html")})}function a(t){var e=n(211)("./"+t+"/index").default;ko.bindingHandlers[t]=e}function u(t){ko.components.register(t.name,{viewModel:t.init,template:t.template})}Object.defineProperty(e,"__esModule",{value:!0}),n(26);var c=n(30),s=r(c),f=n(136),l=r(f),d=n(138),p=r(d);Date.prototype._format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t};var h=["box","box-tabs","box-filter","box-content","state-item","state-tabs","box-sticky","submit","step-legend","casitem","cascader"],v=["u-datepicker","u-select","u-switch","u-checkbox","u-radio","u-year","u-month","u-yearmonth","u-currency","u-tree","u-input","u-tooltip","u-pagination","form-group","form-title","form-text","form-ctn"],b=["ko-currency","hideInNewWindow","repeatSubmit","repeatClick","clickoutside"];h.forEach(function(t){i(t)}),v.forEach(function(t){o(t)}),b.forEach(function(t){a(t)}),u(s.default),u(l.default),u(p.default),e.default=ko},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(57),u=r(a),c=n(58),s=r(c),f=n(62),l=r(f),d=n(109),p=r(d);n(117);var h=n(119),v=r(h),b=n(120),y=r(b),m=n(121),g=window.ko,_="";g.components.register(_+"datepicker-year",{viewModel:n(122).default,template:n(125)}),g.components.register(_+"datepicker-month",{viewModel:n(126).default,template:n(129)}),g.components.register(_+"datepicker-day",{viewModel:n(130).default,template:n(131)}),g.components.register(_+"datepicker-timer",{viewModel:n(132).default,template:n(135)});var x="yyyy-MM-dd",w="yyyy-MM-dd hh:mm:ss",k=function(t){for(var e=t.offsetLeft,n=t.offsetParent;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e},j=function(t){function e(){return(0,u.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,s.default)(e,[{key:"initialize",value:function(t){var e=this,n=t.placeholder,r=t.data,i=t.isTimer,o=void 0!==i&&i,a=t.lang,u=void 0===a?"zh":a,c=t.minDate,s=t.maxDate,f=t.numbericValue,l=void 0!==f&&f,d=t.dropStyle;t.gridRef;this.lang=u,this.dropStyle=d,this.isTimer=o,this.placeholder=n,this.data=r,this.isNumbericValue=l,this.year=g.observable(),this.month=g.observable(),this.day=g.observable(),this.hour=g.observable(0),this.minutes=g.observable(0),this.seconds=g.observable(0),this.minDate=c||g.observable("1600-01-01"),this.maxDate=s||g.observable("2099-12-31"),this.isPopup=g.observable(!1),this.initFlag=!0,this.showyear=g.observable(!1),this.showmonth=g.observable(!1),this.showday=g.observable(!0),this.showtimer=g.observable(!1),this.alignright=g.observable(!1),this.i18nConfirm="确定",this.setFocus=function(){e.$el.querySelector(".y-input").click(),e.$el.querySelector(".y-input").focus()},this.setUnFoucs=function(){e.isPopup(!1)}}},{key:"computed",value:function(t){var e=this;this.computedData=g.pureComputed({read:function(){var t;return t=e.isTimer?new Date(e.year(),e.month()-1,e.day(),e.hour(),e.minutes(),e.seconds())._format(w):new Date(e.year(),e.month()-1,e.day())._format(x),e.data()?t:""},write:function(t){e.setData(t,e.data,e.isNumbericValue)}})}},{key:"subscribe",value:function(t){var e=this;this.data.subscribe(function(t){e.generateDate(t)}),this.year.subscribe(function(t){e.showyear(!1),e.showmonth(!0)}),this.month.subscribe(function(t){e.showmonth(!1),e.showday(!0)}),this.day.subscribe(function(t){e.isTimer||e.bindModelValue()}),this.hour.subscribe(function(t){e.isTimer&&e.bindModelValue()}),this.minutes.subscribe(function(t){e.isTimer&&e.bindModelValue()}),this.seconds.subscribe(function(t){e.isTimer&&e.bindModelValue()})}},{key:"methods",value:function(t){var e=this;this.setData=m.setData,this.onMaskHover=function(){},this.generateDate=function(t){var n;t?n=isNaN(t-0)?new Date(t.replace(/-/g,"/")):new Date(t-0):(n=new Date,e.initFlag=!1),e.year(n.getFullYear()),e.month(n.getMonth()+1),e.day(n.getDate()),e.isTimer&&(e.hour(n.getHours()),e.minutes(n.getMinutes()),e.seconds(n.getSeconds())),e.initFlag=!1},this.focus=function(t,n){var r=k(n.target),i=document.documentElement.clientWidth;try{i-r<280?e.alignright(!0):e.alignright(!1)}catch(t){console.error(t)}e.isPopup(!0),e.showyear(!1),e.showmonth(!1),e.showday(!0)},this.maskClick=function(){e.isPopup(!1)},this.bindModelValue=function(){e.isTimer||e.closeModal();var t=void 0;t=e.isTimer?new Date(e.year(),e.month()-1,e.day(),e.hour(),e.minutes(),e.seconds())._format(w):new Date(e.year(),e.month()-1,e.day())._format(x),e.initFlag&&e.setData(t,e.data,e.isNumbericValue);var n=e.data();void 0!==n&&""!==n&&null!==n&&e.setData(t,e.data,e.isNumbericValue)},this.confirm=function(){e.bindModelValue(),e.closeModal()},this.timerpanel=function(){e.showtimer(!e.showtimer())},this.choosenow=function(){var t=void 0;t=e.isTimer?(new Date)._format(w):(new Date)._format(x),e.setData(t,e.data,e.isNumbericValue),e.closeModal()},this.closeModal=function(){e.showyear(!1),e.showmonth(!1),e.showday(!1),e.isPopup(!1)}}},{key:"created",value:function(t){this.generateDate(this.data())}}]),e}(y.default);e.default={name:"datepicker",init:y.default.createViewModel(j),template:v.default}},function(t,e,n){t.exports={default:n(32),__esModule:!0}},function(t,e,n){n(33),t.exports=n(44).Object.getPrototypeOf},function(t,e,n){var r=n(34),i=n(36);n(42)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(35);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(37),i=n(34),o=n(38)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(39)("keys"),i=n(41);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(40),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(43),i=n(44),o=n(53);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(40),i=n(44),o=n(45),a=n(47),u="prototype",c=function(t,e,n){var s,f,l,d=t&c.F,p=t&c.G,h=t&c.S,v=t&c.P,b=t&c.B,y=t&c.W,m=p?i:i[e]||(i[e]={}),g=m[u],_=p?r:h?r[e]:(r[e]||{})[u];p&&(n=e);for(s in n)f=!d&&_&&void 0!==_[s],f&&s in m||(l=f?_[s]:n[s],m[s]=p&&"function"!=typeof _[s]?n[s]:b&&f?o(l,r):y&&_[s]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(l):v&&"function"==typeof l?o(Function.call,l):l,v&&((m.virtual||(m.virtual={}))[s]=l,t&c.R&&g&&!g[s]&&a(g,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(46);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(48),i=n(56);t.exports=n(52)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(49),i=n(51),o=n(55),a=Object.defineProperty;e.f=n(52)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(50);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(52)&&!n(53)(function(){return 7!=Object.defineProperty(n(54)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(53)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(50),i=n(40).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(50);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(59),o=r(i);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(60),__esModule:!0}},function(t,e,n){n(61);var r=n(44).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(43);r(r.S+r.F*!n(52),"Object",{defineProperty:n(48).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(63),o=r(i);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(64),o=r(i),a=n(93),u=r(a),c="function"==typeof u.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof u.default&&t.constructor===u.default&&t!==u.default.prototype?"symbol":typeof t};e.default="function"==typeof u.default&&"symbol"===c(o.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof u.default&&t.constructor===u.default&&t!==u.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,e,n){t.exports={default:n(65),__esModule:!0}},function(t,e,n){n(66),n(88),t.exports=n(92).f("iterator")},function(t,e,n){"use strict";var r=n(67)(!0);n(69)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(68),i=n(35);t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(o=u.charCodeAt(c),o<55296||o>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):o:t?u.slice(c,c+2):(o-55296<<10)+(a-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(70),i=n(43),o=n(71),a=n(47),u=n(37),c=n(72),s=n(73),f=n(86),l=n(36),d=n(87)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",b="values",y=function(){return this};t.exports=function(t,e,n,m,g,_,x){s(n,e,m);var w,k,j,C=function(t){if(!p&&t in S)return S[t];switch(t){case v:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",T=g==b,E=!1,S=t.prototype,M=S[d]||S[h]||g&&S[g],D=M||C(g),A=g?T?C("entries"):D:void 0,N="Array"==e?S.entries||M:M;if(N&&(j=l(N.call(new t)),j!==Object.prototype&&(f(j,O,!0),r||u(j,d)||a(j,d,y))),T&&M&&M.name!==b&&(E=!0,D=function(){return M.call(this)}),r&&!x||!p&&!E&&S[d]||a(S,d,D),c[e]=D,c[O]=y,g)if(w={values:T?D:C(b),keys:_?D:C(v),entries:A},x)for(k in w)k in S||o(S,k,w[k]);else i(i.P+i.F*(p||E),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(47)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(74),i=n(56),o=n(86),a={};n(47)(a,n(87)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(49),i=n(75),o=n(84),a=n(38)("IE_PROTO"),u=function(){},c="prototype",s=function(){var t,e=n(54)("iframe"),r=o.length,i="<",a=">";for(e.style.display="none",n(85).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),s=t.F;r--;)delete s[c][o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[a]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(48),i=n(49),o=n(76);t.exports=n(52)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),u=a.length,c=0;u>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(77),i=n(84);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(37),i=n(78),o=n(81)(!1),a=n(38)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~o(s,n)||s.push(n));return s}},function(t,e,n){var r=n(79),i=n(35);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(80);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(78),i=n(82),o=n(83);t.exports=function(t){return function(e,n,a){var u,c=r(e),s=i(c.length),f=o(a,s);if(t&&n!=n){for(;s>f;)if(u=c[f++],u!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(68),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(68),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(40).document&&document.documentElement},function(t,e,n){var r=n(48).f,i=n(37),o=n(87)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(39)("wks"),i=n(41),o=n(40).Symbol,a="function"==typeof o,u=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};u.store=r},function(t,e,n){n(89);for(var r=n(40),i=n(47),o=n(72),a=n(87)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var s=u[c],f=r[s],l=f&&f.prototype;l&&!l[a]&&i(l,a,s),o[s]=o.Array}},function(t,e,n){"use strict";var r=n(90),i=n(91),o=n(72),a=n(78);t.exports=n(69)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(87)},function(t,e,n){t.exports={default:n(94),__esModule:!0}},function(t,e,n){n(95),n(106),n(107),n(108),t.exports=n(44).Symbol},function(t,e,n){"use strict";var r=n(40),i=n(37),o=n(52),a=n(43),u=n(71),c=n(96).KEY,s=n(53),f=n(39),l=n(86),d=n(41),p=n(87),h=n(92),v=n(97),b=n(98),y=n(99),m=n(102),g=n(49),_=n(78),x=n(55),w=n(56),k=n(74),j=n(103),C=n(105),O=n(48),T=n(76),E=C.f,S=O.f,M=j.f,D=r.Symbol,A=r.JSON,N=A&&A.stringify,$="prototype",I=p("_hidden"),P=p("toPrimitive"),R={}.propertyIsEnumerable,B=f("symbol-registry"),L=f("symbols"),z=f("op-symbols"),F=Object[$],V="function"==typeof D,W=r.QObject,H=!W||!W[$]||!W[$].findChild,U=o&&s(function(){return 7!=k(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=E(F,e);r&&delete F[e],S(t,e,n),r&&t!==F&&S(F,e,r)}:S,q=function(t){var e=L[t]=k(D[$]);return e._k=t,e},J=V&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Y=function(t,e,n){return t===F&&Y(z,e,n),g(t),e=x(e,!0),g(n),i(L,e)?(n.enumerable?(i(t,I)&&t[I][e]&&(t[I][e]=!1),n=k(n,{enumerable:w(0,!1)})):(i(t,I)||S(t,I,w(1,{})),t[I][e]=!0),U(t,e,n)):S(t,e,n)},G=function(t,e){g(t);for(var n,r=y(e=_(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},K=function(t,e){return void 0===e?k(t):G(k(t),e)},Z=function(t){var e=R.call(this,t=x(t,!0));return!(this===F&&i(L,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(L,t)||i(this,I)&&this[I][t])||e)},X=function(t,e){if(t=_(t),e=x(e,!0),t!==F||!i(L,e)||i(z,e)){var n=E(t,e);return!n||!i(L,e)||i(t,I)&&t[I][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=M(_(t)),r=[],o=0;n.length>o;)i(L,e=n[o++])||e==I||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===F,r=M(n?z:_(t)),o=[],a=0;r.length>a;)!i(L,e=r[a++])||n&&!i(F,e)||o.push(L[e]);return o};V||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(z,n),i(this,I)&&i(this[I],t)&&(this[I][t]=!1),U(this,t,w(1,n))};return o&&H&&U(F,t,{configurable:!0,set:e}),q(t)},u(D[$],"toString",function(){return this._k}),C.f=X,O.f=Y,n(104).f=j.f=Q,n(101).f=Z,n(100).f=tt,o&&!n(70)&&u(F,"propertyIsEnumerable",Z,!0),h.f=function(t){return q(p(t))}),a(a.G+a.W+a.F*!V,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var et=T(p.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=D(t)},keyFor:function(t){if(J(t))return b(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!V,"Object",{create:K,defineProperty:Y,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),A&&a(a.S+a.F*(!V||s(function(){var t=D();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,N.apply(A,r)}}}),D[$][P]||n(47)(D[$],P,D[$].valueOf),l(D,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(41)("meta"),i=n(50),o=n(37),a=n(48).f,u=0,c=Object.isExtensible||function(){return!0},s=!n(53)(function(){return c(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},d=function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},p=function(t){return s&&h.NEED&&c(t)&&!o(t,r)&&f(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:d,onFreeze:p}},function(t,e,n){var r=n(40),i=n(44),o=n(70),a=n(92),u=n(48).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(76),i=n(78);t.exports=function(t,e){for(var n,o=i(t),a=r(o),u=a.length,c=0;u>c;)if(o[n=a[c++]]===e)return n}},function(t,e,n){var r=n(76),i=n(100),o=n(101);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,u=n(t),c=o.f,s=0;u.length>s;)c.call(t,a=u[s++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(80);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(78),i=n(104).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?u(t):i(r(t))}},function(t,e,n){var r=n(77),i=n(84).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(101),i=n(56),o=n(78),a=n(55),u=n(37),c=n(51),s=Object.getOwnPropertyDescriptor;e.f=n(52)?s:function(t,e){if(t=o(t),e=a(e,!0),c)try{return s(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(97)("asyncIterator")},function(t,e,n){n(97)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(110),o=r(i),a=n(114),u=r(a),c=n(63),s=r(c);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,s.default)(e)));t.prototype=(0,u.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){t.exports={default:n(111),__esModule:!0}},function(t,e,n){n(112),t.exports=n(44).Object.setPrototypeOf},function(t,e,n){var r=n(43);r(r.S,"Object",{setPrototypeOf:n(113).set})},function(t,e,n){var r=n(50),i=n(49),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(45)(Function.call,n(105).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(115),__esModule:!0}},function(t,e,n){n(116);var r=n(44).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(43);r(r.S,"Object",{create:n(74)})},function(t,e){},,function(t,e){t.exports='<div style=position:relative> <div class="y-datepicker-input z-indexPicture"> <input type=text class=y-input data-bind="value:computedData,event:{focus:focus},attr:{\'placeholder\': placeholder}"> <span class="fa fa-calendar"></span> </div> <dropdown params="style: dropStyle,targetEl:$el,isShow:isPopup, width:\'240\', maxHeight: \'258\', overflow:\'hidden\'"> <div class=y-datepicker-ctn data-bind="css:{\'select-date\': $parent.isPopup, \'isTimer\': $parent.isTimer, \'alignright\': $parent.alignright}"> <div class=y-datepicker-header> </div> <div class=y-datepicker-footer> <datepicker-year params="\n          year: $parent.year,\n          showmonth:$parent.showmonth,\n          showyear:$parent.showyear" class=hide data-bind="css:{\'show\':$parent.showyear}"> </datepicker-year> <datepicker-month params="\n          year: $parent.year,\n          month: $parent.month,\n          showday:$parent.showday,\n          showmonth:$parent.showmonth,\n          showyear:$parent.showyear" class=hide data-bind="css:{\'show\':$parent.showmonth}"> </datepicker-month> <datepicker-day params="\n          isNumbericValue: $parent.isNumbericValue,\n          minDate: $parent.minDate,\n          maxDate:$parent.maxDate,\n          hour:$parent.hour,\n          minutes:$parent.minutes,\n          seconds:$parent.seconds,\n          isTimer:$parent.isTimer,\n          data: $parent.data,\n          year: $parent.year,\n          month: $parent.month,\n          day: $parent.day,\n          showday:$parent.showday,\n          showyear:$parent.showyear,\n          showmonth:$parent.showmonth" class=hide data-bind="css:{\'show\':$parent.showday}"> </datepicker-day> <datepicker-timer params="\n          hour:$parent.hour,\n          minutes:$parent.minutes,\n          seconds:$parent.seconds,\n          showtimer:$parent.showtimer"> </datepicker-timer> <div class=y-datepicker-option> <div class=curdate data-bind=click:$parent.choosenow> <span class="fa fa-arrows"></span> </div> <div class=timer-picker data-bind=click:$parent.timerpanel> <span class="fa fa-clock-o" data-bind="css:{\'fa-calendar\':$parent.showtimer}"></span> </div> <div class="confirmbutton pull-right" data-bind="click:$parent.confirm, text: $parent.i18nConfirm"></div> </div> </div> <div class=y-datepicker-mask data-bind=event:{mousemove:$parent.onMaskHover},click:$parent.maskClick></div> </div> </dropdown> </div> '},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(57),o=r(i),a=n(58),u=r(a),c=function(){function t(e){(0,o.default)(this,t),this.$el=e.$el,this.$templateNodes=e.$templateNodes,this.initialize(e),this.computed(e),this.subscribe(e),this.methods(e),this.created(e)}return(0,u.default)(t,[{key:"initialize",value:function(t){}},{key:"computed",value:function(t){}},{key:"created",value:function(t){}},{key:"subscribe",value:function(t){}},{key:"methods",value:function(t){}}],[{key:"createViewModel",value:function(t){return{createViewModel:function(e,n){return e.$el=n.element,e.$templateNodes=n.templateNodes,new t(e)}}}}]),t}();e.default=c},function(t,e){"use strict";function n(t,e,n){n&&(t=new Date(t).getTime()),e(t)}function r(t){var e=new Date(t.getTime());return e.setDate(1),e.getDay()}function i(t,e){return 3===e||5===e||8===e||10===e?30:1===e?t%4===0&&t%100!==0||t%400===0?29:28:31}function o(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)}function a(t,e){var n=new Date(t,e-1,1),r=n.getDay();return 0===r?n.setTime(n.getTime()-7*u):n.setTime(n.getTime()-u*r),n}Object.defineProperty(e,"__esModule",{value:!0}),e.setData=n,e.getFirstDayOfMonth=r,e.getDayCountOfMonth=i,e.getWeekNumber=o,e.getStartDateOfMonth=a;var u=864e5},function(t,e,n){"use strict";function r(t){var e=this;this.year=t.year,this._year=i.observable(t.year()),this.startyear=i.computed(function(){return 10*Math.floor(this._year()/10)},this),this.handleYearClick=function(n){e.year(e.startyear()+n),t.showyear(!1),t.showmonth(!0)},this.last10year=function(){e._year(e._year()-10)},this.next10year=function(){e._year(e._year()+10)}}Object.defineProperty(e,"__esModule",{value:!0}),n(123);var i=window.ko;e.default=r},function(t,e){},,function(t,e){t.exports='<div class=y-year-ctn> <div class=y-year-header> <div class=last10year data-bind="click: last10year">&lt;&lt;</div> <div class=cur10year> <span data-bind=text:startyear></span> <span>-</span> <span data-bind="text:startyear() + 9"></span> </div> <div class=next10year data-bind="click: next10year">&gt;&gt;</div> </div> <table class=y-year-body> <tr> <td class=available data-bind="css:{curry:year() == startyear()+0}"><div class=cell data-bind="text: startyear,click:function(){handleYearClick(0)}"></div></td> <td class=available data-bind="css:{curry:year() == startyear()+1}"><div class=cell data-bind="text: startyear() + 1,click:function(){handleYearClick(1)}"></div></td> <td class=available data-bind="css:{curry:year() == startyear()+2}"><div class=cell data-bind="text: startyear() + 2,click:function(){handleYearClick(2)}"></div></td> <td class=available data-bind="css:{curry:year() == startyear()+3}"><div class=cell data-bind="text: startyear() + 3,click:function(){handleYearClick(3)}"></div></td> </tr> <tr> <td class=available data-bind="css:{curry:year() == startyear()+4}"><div class=cell data-bind="text: startyear() + 4,click:function(){handleYearClick(4)}"></div></td> <td class=available data-bind="css:{curry:year() == startyear()+5}"><div class=cell data-bind="text: startyear() + 5,click:function(){handleYearClick(5)}"></div></td> <td class=available data-bind="css:{curry:year() == startyear()+6}"><div class=cell data-bind="text: startyear() + 6,click:function(){handleYearClick(6)}"></div></td> <td class=available data-bind="css:{curry:year() == startyear()+7}"><div class=cell data-bind="text: startyear() + 7,click:function(){handleYearClick(7)}"></div></td> </tr> <tr> <td class=available data-bind="css:{curry:year() == startyear()+8}"><div class=cell data-bind="text: startyear() + 8,click:function(){handleYearClick(8)}"></div></td> <td class=available data-bind="css:{curry:year() == startyear()+9}"><div class=cell data-bind="text: startyear() + 9,click:function(){handleYearClick(9)}"></div></td> </tr> </table> </div> '},function(t,e,n){"use strict";function r(t){var e=this;this.month=t.month,this.year=t.year,this.handleMonthClick=function(n){e.month(n),t.showday(!0),t.showmonth(!1)},this.lastyear=function(){e.year(e.year()-1)},this.nextyear=function(){e.year(e.year()+1)},this.chooseyear=function(){t.showyear(!0),t.showmonth(!1)},this.month1="一月",this.month2="二月",this.month3="三月",this.month4="四月",this.month5="五月",this.month6="六月",this.month7="七月",this.month8="八月",this.month9="九月",this.month10="十月",this.month11="十一月",this.month12="十二月"}Object.defineProperty(e,"__esModule",{value:!0}),n(127),e.default=r},function(t,e){},,function(t,e){t.exports='<div class=y-month-ctn> <div class=y-month-header> <div class=lastyear data-bind="click: lastyear">&lt;&lt;</div> <div class=curyear> <span data-bind=text:year,click:chooseyear></span> </div> <div class=nextyear data-bind="click: nextyear">&gt;&gt;</div> </div> <table class=y-month-body> <tbody> <tr> <td data-bind="css:{curry:month() == 1}"> <div class=cell data-bind="click:function(){handleMonthClick(1)}, text: month1">一月</div> </td> <td data-bind="css:{curry:month() == 2}"> <div class=cell data-bind="click:function(){handleMonthClick(2)}, text: month2">二月</div> </td> <td data-bind="css:{curry:month() == 3}"> <div class=cell data-bind="click:function(){handleMonthClick(3)}, text: month3">三月</div> </td> <td data-bind="css:{curry:month() == 4}"> <div class=cell data-bind="click:function(){handleMonthClick(4)}, text: month4">四月</div> </td> </tr> <tr> <td data-bind="css:{curry:month() == 5}"> <div class=cell data-bind="click:function(){handleMonthClick(5)}, text: month5">五月</div> </td> <td data-bind="css:{curry:month() == 6}"> <div class=cell data-bind="click:function(){handleMonthClick(6)}, text: month6">六月</div> </td> <td data-bind="css:{curry:month() == 7}"> <div class=cell data-bind="click:function(){handleMonthClick(7)}, text: month7">七月</div> </td> <td data-bind="css:{curry:month() == 8}"> <div class=cell data-bind="click:function(){handleMonthClick(8)}, text: month8">八月</div> </td> </tr> <tr> <td data-bind="css:{curry:month() == 9}"> <div class=cell data-bind="click:function(){handleMonthClick(9)}, text: month9">九月</div> </td> <td data-bind="css:{curry:month() == 10}"> <div class=cell data-bind="click:function(){handleMonthClick(10)}, text: month10">十月</div> </td> <td data-bind="css:{curry:month() == 11}"> <div class=cell data-bind="click:function(){handleMonthClick(11)}, text: month11">十一月</div> </td> <td data-bind="css:{curry:month() == 12}"> <div class=cell data-bind="click:function(){handleMonthClick(12)}, text: month12">十二月</div> </td> </tr> </tbody> </table> </div> ';
},function(t,e,n){"use strict";function r(t){var e=this,n=this;this.month=t.month,this.year=t.year,this.showYear=o.computed(function(){return this.year()+"年"}.bind(this)),this.showMonth=o.computed(function(){return this.month()+"月"}.bind(this)),this.day=t.day,this.tableRows=o.observableArray([o.observableArray([]),o.observableArray([]),o.observableArray([]),o.observableArray([]),o.observableArray([]),o.observableArray([])]),this.firstDayOfWeek=o.observable(7),this.startDate=o.computed(function(){return(0,i.getStartDateOfMonth)(this.year(),this.month())},this),this.disabledDate=function(e){return!!(t.minDate()&&u(e)<=u(new Date(t.minDate())))||!!(t.maxDate()&&u(e)>=u(new Date(t.maxDate())))},this.showWeekNumber=!1,this.offsetDay=o.computed(function(){var t=this.firstDayOfWeek();return t>3?7-t:-t},this),this.handleDayClick=function(e){if(!e.disabled){var n=this.year(),r=this.month(),o=e.text;"prev-month"===e.type?1===r?(n--,r=12):r--:"next-month"===e.type&&(12===r?(n++,r=1):r++),(0,i.setData)(new Date(n,r-1,o,t.hour(),t.minutes(),t.seconds())._format(t.isTimer?"yyyy-MM-dd hh:mm:ss":"yyyy-MM-dd"),t.data,t.isNumbericValue)}},this.isSelectedDay=function(n,r){if("normal"!==n)return!1;if(!t.data())return!1;var i=new Date((t.data()+"").replace(/-/g,"/"));return r===e.day()&&e.month()===i.getMonth()+1&&e.year()===i.getFullYear()||void 0},this.chooseyear=function(){t.showyear(!0),t.showday(!1)},this.choosemonth=function(){t.showmonth(!0),t.showday(!1)},this.lastyear=function(){e.year(e.year()-1),e.showday()},this.lastmonth=function(){var t=e.month();1===t?(e.year(e.year()-1),e.month(12)):e.month(e.month()-1),e.showday()},this.nextyear=function(){e.year(e.year()+1),e.showday()},this.nextmonth=function(){var t=e.month();12===t?(e.year(e.year()+1),e.month(1)):e.month(e.month()+1),e.showday()},this.showday=function(){t.showmonth(!1),t.showday(!0)},this.rows=o.computed(function(){var t=new Date(this.year(),this.month()-1,1),e=(0,i.getFirstDayOfMonth)(t),r=(0,i.getDayCountOfMonth)(t.getFullYear(),t.getMonth()),o=(0,i.getDayCountOfMonth)(t.getFullYear(),0===t.getMonth()?11:t.getMonth()-1);e=0===e?7:e;for(var c=this.offsetDay(),s=this.tableRows(),f=1,l=void 0,d=this.startDate(),p=this.disabledDate,h=u(new Date),v=0;v<6;v++){var b=s[v]();this.showWeekNumber&&(b[0]||(b[0]={type:"week",text:(0,i.getWeekNumber)(new Date(d.getTime()+a*(7*v+1)))}));for(var y=0;y<7;y++){var m=b[this.showWeekNumber?y+1:y];m||(m={row:v,column:y,type:"normal"}),m.$parent=n,m.type="normal";var g=7*v+y,_=d.getTime()+a*(g-c),x=_===h;x&&(m.type="today"),v>=0&&v<=1?y+7*v>=e+c?(m.text=f++,2===f&&(l=7*v+y)):(m.text=o-(e+c-y%7)+1+7*v,m.type="prev-month"):f<=r?(m.text=f++,2===f&&(l=7*v+y)):(m.text=f++-r,m.type="next-month"),m.disabled="function"==typeof p&&p(new Date(_)),this.showWeekNumber?b[y+1]=m:b[y]=m}s[v](b)}return s.firstDayPosition=l,s},this)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(121),o=window.ko,a=864e5,u=function(t){var e=new Date(t);return e.setHours(0,0,0,0),e.getTime()};e.default=r},function(t,e){t.exports='<div class=y-day-ctn> <div class=y-day-header> <span class=lastyear data-bind="click: lastyear">&lt;&lt;</span> <span class=lastmonth data-bind="click: lastmonth">&lt;</span> <span class=yearandmonth> <span data-bind="text: showYear, click: chooseyear"></span> <span data-bind="text: showMonth, click: choosemonth"></span> </span> <span class=nextmonth data-bind="click: nextmonth">&gt;</span> <span class=nextyear data-bind="click: nextyear">&gt;&gt;</span> </div> <table class=y-day-body> <tr style=color:#bbb> <td>日</td> <td>一</td> <td>二</td> <td>三</td> <td>四</td> <td>五</td> <td>六</td> </tr> <!-- ko foreach: { data: rows(), as: \'row\' } --> <tr data-bind="foreach: { data: row, as: \'cell\' }"> <td data-bind="click:function(){$parent.handleDayClick(cell)},css:{disable:cell.disabled,nextmonth:cell.type==\'next-month\',prevmonth:cell.type==\'prev-month\',today: cell.type==\'today\',selectedDay: $parent.isSelectedDay(cell.type, cell.text)}"> <div data-bind=text:cell.text></div> </td> </tr> <!-- /ko --> </table> </div> '},function(t,e,n){"use strict";function r(t){var e=this,n=t.hour,r=t.minutes,o=t.seconds,a=t.showtimer;this.showtimer=a,this.hour=i.computed(function(){return n()>9?n():"0"+n()}),this.minutes=i.computed(function(){return r()>9?r():"0"+r()}),this.seconds=i.computed(function(){return o()>9?o():"0"+o()}),this.onInput=function(t){var e=parseFloat(t.target.value);/^[0-9]*[1-9][0-9]*$/.test(e)||(t.target.value="00")},this.nexthour=function(){var t=n()+1;n(24===t?0:t)},this.lasthour=function(){var t=n()-1;n(t<=0?23:t)},this.blurHour=function(t){var e=t.target.value;e>=24||e<=0?(n(0),t.target.value="00"):n(e)};var u,c;this.nexthourholddown=function(){u=setTimeout(function(){c=setInterval(function(){e.nexthour()},100)},200)},this.lasthourholddown=function(){u=setTimeout(function(){c=setInterval(function(){e.lasthour()},100)},200)},this.nextminholddown=function(){u=setTimeout(function(){c=setInterval(function(){e.nextminutes()},50)},200)},this.lastminholddown=function(){u=setTimeout(function(){c=setInterval(function(){e.lastminutes()},50)},200)},this.nextsecholddown=function(){u=setTimeout(function(){c=setInterval(function(){e.nextseconds()},50)},200)},this.lastsecholddown=function(){u=setTimeout(function(){c=setInterval(function(){e.lastseconds()},50)},200)},this.holdup=function(){clearInterval(c),clearTimeout(u)},this.blur=function(){clearInterval(c),clearTimeout(u)},this.nextminutes=function(){var t=r()+1;r(t>=60?0:t)},this.lastminutes=function(){var t=r()-1;r(t<=0?59:t)},this.blurMinutes=function(t){var e=t.target.value;e>=60||e<=0?(r(0),t.target.value="00"):r(e)},this.nextseconds=function(){var t=o()+1;o(t>=60?0:t)},this.lastseconds=function(){var t=o()-1;o(t<=0?59:t)},this.blurSeconds=function(t){var e=t.target.value;e>=60||e<=0?(o(0),t.target.value="00"):o(e)}}Object.defineProperty(e,"__esModule",{value:!0}),n(133);var i=window.ko;e.default=r},function(t,e){},,function(t,e){t.exports='<div class=y-timer-ctn data-bind="css:{\'hidden\':!showtimer()}"> <div class=y-timer-header> </div> <table class=y-timer-body> <tr> <td> <div> <div class="fa fa-angle-up" data-bind="click: nexthour, event:{mousedown:nexthourholddown,mouseup:holdup,blur:blur}"></div> <input class=timer type=text data-bind="value:hour, event:{blur:function(){blurHour(event)},input:function(){onInput(event)}}"> <div class="fa fa-angle-down" data-bind="click: lasthour,event:{mousedown:lasthourholddown,mouseup:holdup,blur:blur}"></div> </div> </td> <td>:</td> <td> <div> <div class="fa fa-angle-up" data-bind="click: nextminutes, event:{mousedown:nextminholddown,mouseup:holdup,blur:blur}"></div> <input class=timer type=text data-bind="value:minutes, event:{blur:function(){blurMinutes(event)},input:function(){onInput(event)}}"> <div class="fa fa-angle-down" data-bind="click: lastminutes, event:{mousedown:lastminholddown,mouseup:holdup,blur:blur}"></div> </div> </td> <td>:</td> <td> <div> <div class="fa fa-angle-up" data-bind="click: nextseconds, event:{mousedown:nextsecholddown,mouseup:holdup,blur:blur}"></div> <input class=timer type=text data-bind="value:seconds, event:{blur:function(){blurSeconds(event)},input:function(){onInput(event)}}"> <div class="fa fa-angle-down" data-bind="click: lastseconds,event:{mousedown:lastsecholddown,mouseup:holdup,blur:blur}"></div> </div> </td> </tr> </table> </div> '},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.placeholder,n=t.data,r=t.minDate,i=t.maxDate,o=t.numbericValue;this.placeholder=e,this.data=n,this.minDate=r||u.observable("1600-01-01"),this.maxDate=i||u.observable("2099-12-31"),this.numbericValue=o}Object.defineProperty(e,"__esModule",{value:!0});var o=n(137),a=r(o),u=window.ko;e.default={name:"datetimepicker",init:i,template:a.default}},function(t,e){t.exports='<datepicker params="numbericValue:numbericValue,minDate:minDate,maxDate:maxDate,placeholder:placeholder,data: data, isTimer:true"> </datepicker> '},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=this;this.isShow=t.isShow||u.observable(!1),this.scrollTop=t.scrollTop||u.observable();var r=e.element;this.scrollTop.subscribe(function(t){r.children[0].scrollTop=t}),this.dropStyle=t.style,this.$el=e,this.isTransferDom=!t.isStopTransferDom,this.targetEl=t.targetEl,this.top=u.observable(),this.left=u.observable(),this.topAdjust=t.topAdjust||0,this.width=u.observable(t.width||"100%");var i=function(){this.isShow()&&this.top(this.targetEl.children[0].getBoundingClientRect().top+32)}.bind(this);this.onEnter=function(){},this.onLeave=function(){},this.isShow.subscribe(function(e){if(e&&n.isTransferDom){var r=n.targetEl.children[0],o=r.getBoundingClientRect(),a=o.left,u=o.right,s="100%"===n.width()?r.offsetWidth:n.width().toString().replace("px","")-0;document.documentElement.clientWidth-o.left<s&&(a=u-s),t.width||n.width(c(r).width()),n.left(a),n.top(o.top+32),document.addEventListener("scroll",i)}else document.removeEventListener("scroll",i)}),this.style=u.computed(function(){var e=t.style||{};return n.width&&n.width.subscribe&&(isNaN(n.width())?e.width=n.width():e.width=n.width()+"px"),t.maxHeight&&(e.maxHeight=t.maxHeight+"px"),t.overflow&&(e.overflow=t.overflow),n.top()?(e.top=n.top()+Number(n.topAdjust)+"px",e.left=n.left()+"px",e.position="fixed"):e.position="absolute",e}),this.animated=u.observable(!1),this.isShow.subscribe(function(t){n.animated(!0),setTimeout(function(){n.animated(!1)},1500)})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(139),a=r(o);n(140);var u=window.ko,c=window.$,s={createViewModel:function(t,e){return new i(t,e)}};e.default={name:"dropdown",init:s,template:a.default}},function(t,e){t.exports='<div class=y-dropdown data-bind="\n  transferdom: isTransferDom,\n  style: style,\n  event: {\n    mouseenter: onEnter,\n    mouseleave: onLeave\n  },\n  css: {\n    animated: animated,\n    slideInUp: isShow && !dropStyle,\n    slideOutUp: !isShow(),\n    hidden:!isShow()\n  }"> <!-- ko template: { nodes: $componentTemplateNodes } --> <!-- /ko --> </div> '},function(t,e,n){/*! ko-bindingHandlers v1.1.11 author by 友云采FED */
!function(e,r){t.exports=r(n(141))}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=38)}([function(t,e,n){var r=n(20),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(e,n){e.exports=t},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(79),o=n(82);t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){return null==t?void 0===t?c:u:s&&s in Object(t)?o(t):a(t)}var i=n(8),o=n(46),a=n(47),u="[object Null]",c="[object Undefined]",s=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(5),o=n(6),a="[object Symbol]";t.exports=r},function(t,e,n){var r=n(0),i=r.Symbol;t.exports=i},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(69),o=n(70),a=n(71),u=n(72),c=n(73);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(30);t.exports=r},function(t,e,n){var r=n(3),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(91);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(7),o=1/0;t.exports=r},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(54),o=n(61),a=n(27);t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){var r=n(3),i=n(0),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(83),o=n(90),a=n(92),u=n(93),c=n(94);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||u.test(t)||!a.test(t)||null!=e&&t in Object(e)}var i=n(2),o=n(7),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),o=r(i),a=n(48),u=r(a),c={debounce:o.default,filter:u.default};e.default=c},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(44))},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){var r=n(56),i=n(6),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},function(t,e,n){(function(t){var r=n(0),i=n(57),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===o,c=u?r.Buffer:void 0,s=c?c.isBuffer:void 0,f=s||i;t.exports=f}).call(e,n(24)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){var r=n(58),i=n(59),o=n(60),a=o&&o.isTypedArray,u=a?i(a):r;t.exports=u},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(28),o=n(15);t.exports=r},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==u||e==c||e==a||e==s}var i=n(5),o=n(4),a="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(9),o=n(74),a=n(75),u=n(76),c=n(77),s=n(78);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=u,r.prototype.has=c,r.prototype.set=s,t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n,a,u){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,u))}var i=n(95),o=n(6);t.exports=r},function(t,e,n){function r(t,e,n,r,s,f){var l=n&u,d=t.length,p=e.length;if(d!=p&&!(l&&p>d))return!1;var h=f.get(t);if(h&&f.get(e))return h==e;var v=-1,b=!0,y=n&c?new i:void 0;for(f.set(t,e),f.set(e,t);++v<d;){var m=t[v],g=e[v];if(r)var _=l?r(g,m,v,e,t,f):r(m,g,v,t,e,f);if(void 0!==_){if(_)continue;b=!1;break}if(y){if(!o(e,function(t,e){if(!a(y,e)&&(m===t||s(m,t,n,r,f)))return y.push(e)})){b=!1;break}}else if(m!==g&&!s(m,g,n,r,f)){b=!1;break}}return f.delete(t),f.delete(e),b}var i=n(96),o=n(99),a=n(100),u=1,c=2;t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(4);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}t.exports=n},function(t,e,n){function r(t,e){e=i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}var i=n(37),o=n(13);t.exports=r},function(t,e,n){function r(t,e){return i(t)?t:o(t,e)?[t]:a(u(t))}var i=n(2),o=n(18),a=n(119),u=n(122);t.exports=r},function(t,e,n){t.exports=n(39)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCustomValue=e.getCrossTenantCustomConfig=void 0;var r=n(40);e.getCrossTenantCustomConfig=r.getCrossTenantCustomConfig,e.getCustomValue=r.getCustomValue},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCustomValue=e.getCrossTenantCustomConfig=void 0,n(41),n(132),n(133),n(134),n(135),n(136),n(137),n(138);var r=n(139);e.getCrossTenantCustomConfig=r.getCrossTenantCustomConfig,e.getCustomValue=r.getCustomValue},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),o=r(i),a=n(19),u=r(a);o.default.bindingHandlers.repeatClick={init:function(t,e){var n=!0,r=u.default.debounce(function(t,e){n&&(e(t),n=!1,setTimeout(function(){n=!0},2500))},300);t.addEventListener("click",function(t){r(t,e())})}},o.default.bindingHandlers.repeatSubmit={init:function(t,e){var n=!0,r=u.default.debounce(function(t,e){n&&(e(t),n=!1,setTimeout(function(){n=!0},2500))},300);t.addEventListener("submit",function(t){return r(t,e()),t.preventDefault(),!1})}}},function(t,e,n){function r(t,e,n){function r(e){var n=m,r=g;return m=g=void 0,j=e,x=t.apply(r,n)}function f(t){return j=t,w=setTimeout(p,e),C?r(t):x}function l(t){var n=t-k,r=t-j,i=e-n;return O?s(i,_-r):i}function d(t){var n=t-k,r=t-j;return void 0===k||n>=e||n<0||O&&r>=_}function p(){var t=o();return d(t)?h(t):void(w=setTimeout(p,l(t)))}function h(t){return w=void 0,T&&m?r(t):(m=g=void 0,x)}function v(){void 0!==w&&clearTimeout(w),j=0,m=k=g=w=void 0}function b(){return void 0===w?x:h(o())}function y(){var t=o(),n=d(t);if(m=arguments,g=this,k=t,n){if(void 0===w)return f(k);if(O)return w=setTimeout(p,e),r(k)}return void 0===w&&(w=setTimeout(p,e)),x}var m,g,_,x,w,k,j=0,C=!1,O=!1,T=!0;if("function"!=typeof t)throw new TypeError(u);return e=a(e)||0,i(n)&&(C=!!n.leading,O="maxWait"in n,_=O?c(a(n.maxWait)||0,e):_,T="trailing"in n?!!n.trailing:T),y.cancel=v,y.flush=b,y}var i=n(4),o=n(43),a=n(45),u="Expected a function",c=Math.max,s=Math.min;t.exports=r},function(t,e,n){var r=n(0),i=function(){return r.Date.now()};t.exports=i},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=s.test(t);return n||f.test(t)?l(t.slice(2),n?2:8):c.test(t)?a:+t}var i=n(4),o=n(7),a=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;t.exports=r},function(t,e,n){function r(t){var e=a.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var i=u.call(t);return r&&(e?t[c]=n:delete t[c]),i}var i=n(8),o=Object.prototype,a=o.hasOwnProperty,u=o.toString,c=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e){return(u(t)?i:o)(t,a(e,3))}var i=n(21),o=n(49),a=n(66),u=n(2);t.exports=r},function(t,e,n){function r(t,e){var n=[];return i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var i=n(50);t.exports=r},function(t,e,n){var r=n(51),i=n(65),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(52),o=n(14);t.exports=r},function(t,e,n){var r=n(53),i=r();t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),f=!n&&!r&&u(t),d=!n&&!r&&!f&&s(t),p=n||r||f||d,h=p?i(t.length,String):[],v=h.length;for(var b in t)!e&&!l.call(t,b)||p&&("length"==b||f&&("offset"==b||"parent"==b)||d&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||c(b,v))||h.push(b);return h}var i=n(55),o=n(22),a=n(2),u=n(23),c=n(25),s=n(26),f=Object.prototype,l=f.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(5),o=n(6),a="[object Arguments]";t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!u[i(t)]}var i=n(5),o=n(15),a=n(6),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(20),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,u=a&&r.process,c=function(){try{return u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=c}).call(e,n(24)(t))},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(62),o=n(63),a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){var r=n(64),i=r(Object.keys,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,u=Object(n);(e?a--:++a<o)&&!1!==r(u[a],a,u););return n}}var i=n(27);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?u(t)?o(t[0],t[1]):i(t):c(t)}var i=n(67),o=n(117),a=n(128),u=n(2),c=n(129);t.exports=r},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(68),o=n(116),a=n(35);t.exports=r},function(t,e,n){function r(t,e,n,r){var c=n.length,s=c,f=!r;if(null==t)return!s;for(t=Object(t);c--;){var l=n[c];if(f&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++c<s;){l=n[c];var d=l[0],p=t[d],h=l[1];if(f&&l[2]){if(void 0===p&&!(d in t))return!1}else{var v=new i;if(r)var b=r(p,h,d,t,e,v);if(!(void 0===b?o(h,p,a|u,r,v):b))return!1}}return!0}var i=n(29),o=n(32),a=1,u=2;t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():a.call(e,n,1),--this.size,0))}var i=n(10),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(10);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(10);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(10);t.exports=r},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(9);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<u-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(9),o=n(16),a=n(17),u=200;t.exports=r},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?h:s).test(u(t))}var i=n(28),o=n(80),a=n(4),u=n(31),c=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,d=f.toString,p=l.hasOwnProperty,h=RegExp("^"+d.call(p).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(81),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(0),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(84),o=n(9),a=n(16);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(85),o=n(86),a=n(87),u=n(88),c=n(89);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(11);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return u.call(e,t)?e[t]:void 0}var i=n(11),o="__lodash_hash_undefined__",a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(11),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(11),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(12);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(12);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(12);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(12);t.exports=r},function(t,e,n){function r(t,e,n,r,b,m){var g=s(t),_=s(e),x=g?h:c(t),w=_?h:c(e);x=x==p?v:x,w=w==p?v:w;var k=x==v,j=w==v,C=x==w;if(C&&f(t)){if(!f(e))return!1;g=!0,k=!1}if(C&&!k)return m||(m=new i),g||l(t)?o(t,e,n,r,b,m):a(t,e,x,n,r,b,m);if(!(n&d)){var O=k&&y.call(t,"__wrapped__"),T=j&&y.call(e,"__wrapped__");if(O||T){var E=O?t.value():t,S=T?e.value():e;return m||(m=new i),b(E,S,n,r,m)}}return!!C&&(m||(m=new i),u(t,e,n,r,b,m))}var i=n(29),o=n(33),a=n(101),u=n(105),c=n(111),s=n(2),f=n(23),l=n(26),d=1,p="[object Arguments]",h="[object Array]",v="[object Object]",b=Object.prototype,y=b.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(17),o=n(97),a=n(98);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t,e,n,r,i,k,C){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!k(new o(t),new o(e)));case d:case p:case b:return a(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case g:return t==e+"";case v:var O=c;case m:var T=r&f;if(O||(O=s),t.size!=e.size&&!T)return!1;var E=C.get(t);if(E)return E==e;r|=l,C.set(t,e);var S=u(O(t),O(e),r,i,k,C);return C.delete(t),S;case _:if(j)return j.call(t)==j.call(e)}return!1}var i=n(8),o=n(102),a=n(30),u=n(33),c=n(103),s=n(104),f=1,l=2,d="[object Boolean]",p="[object Date]",h="[object Error]",v="[object Map]",b="[object Number]",y="[object RegExp]",m="[object Set]",g="[object String]",_="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",k=i?i.prototype:void 0,j=k?k.valueOf:void 0;t.exports=r},function(t,e,n){var r=n(0),i=r.Uint8Array;t.exports=i},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t,e,n,r,a,c){var s=n&o,f=i(t),l=f.length;if(l!=i(e).length&&!s)return!1;for(var d=l;d--;){var p=f[d];if(!(s?p in e:u.call(e,p)))return!1}var h=c.get(t);if(h&&c.get(e))return h==e;var v=!0;c.set(t,e),c.set(e,t);for(var b=s;++d<l;){p=f[d];var y=t[p],m=e[p];if(r)var g=s?r(m,y,p,e,t,c):r(y,m,p,t,e,c);if(!(void 0===g?y===m||a(y,m,n,r,c):g)){v=!1;break}b||(b="constructor"==p)}if(v&&!b){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(v=!1)}return c.delete(t),c.delete(e),v}var i=n(106),o=1,a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return i(t,a,o)}var i=n(107),o=n(109),a=n(14);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(108),o=n(2);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){var r=n(21),i=n(110),o=Object.prototype,a=o.propertyIsEnumerable,u=Object.getOwnPropertySymbols,c=u?function(t){return null==t?[]:(t=Object(t),r(u(t),function(e){return a.call(t,e)}))}:i;t.exports=c},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(112),i=n(16),o=n(113),a=n(114),u=n(115),c=n(5),s=n(31),f=s(r),l=s(i),d=s(o),p=s(a),h=s(u),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(3),i=n(0),o=r(i,"DataView");t.exports=o},function(t,e,n){var r=n(3),i=n(0),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(3),i=n(0),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(3),i=n(0),o=r(i,"WeakMap");t.exports=o},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(34),o=n(14);t.exports=r},function(t,e,n){function r(t,e){return u(t)&&c(e)?s(f(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,l|d)}}var i=n(32),o=n(118),a=n(125),u=n(18),c=n(34),s=n(35),f=n(13),l=1,d=2;t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(36);t.exports=r},function(t,e,n){var r=n(120),i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,u=r(function(t){var e=[];return i.test(t)&&e.push(""),t.replace(o,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e});t.exports=u},function(t,e,n){function r(t){var e=i(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var i=n(121),o=500;t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(17),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(123);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(u(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}var i=n(8),o=n(124),a=n(2),u=n(7),c=1/0,s=i?i.prototype:void 0,f=s?s.toString:void 0;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(126),o=n(127);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){e=i(e,t);for(var r=-1,f=e.length,l=!1;++r<f;){var d=s(e[r]);if(!(l=null!=t&&n(t,d)))break;t=t[d]}return l||++r!=f?l:!!(f=null==t?0:t.length)&&c(f)&&u(d,f)&&(a(t)||o(t))}var i=n(37),o=n(22),a=n(2),u=n(25),c=n(15),s=n(13);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return a(t)?i(u(t)):o(t)}var i=n(130),o=n(131),a=n(18),u=n(13);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(36);t.exports=r},function(t,e,n){"use strict";var r=n(1);(function(t){return t&&t.__esModule?t:{default:t}})(r).default.bindingHandlers.backbtn={init:function(t,e,n,r,i){$(t).off("click").on("click",function(){history.length<=1?(window.opener=null,window.open("","_self"),window.close()):window.history.go(-1)})}}},function(t,e,n){"use strict";var r=n(1);(function(t){return t&&t.__esModule?t:{default:t}})(r).default.bindingHandlers.clickoutside={init:function(t,e,n,r,i){function o(n){return!t.contains(n.target)&&void(e()&&e()(n))}document.addEventListener("click",o)}}},function(t,e,n){"use strict";var r=n(1);(function(t){return t&&t.__esModule?t:{default:t}})(r).default.bindingHandlers.hiddeninnewwindow={init:function(t,e,n,r,i){history.length<=1&&(t.style.display="none")}}},function(t,e,n){"use strict";function r(t){return document.body}var i=n(1);(function(t){return t&&t.__esModule?t:{default:t}})(i).default.bindingHandlers.transferdom={init:function(t,e,n,i,o){t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";var a=t.parentNode;if(a){var u=document.createComment(""),c=!1;!1!==e()&&(a.replaceChild(u,t),r().appendChild(t),c=!0),t.__transferDomData||(t.__transferDomData={parentNode:a,home:u,target:r(),hasMovedOut:c})}},update:function(t,e,n,i,o){if(t.dataset&&"true"!==t.dataset.transfer)return!1;var a=t.__transferDomData;if(a){var u=a.parentNode,c=a.home,s=a.hasMovedOut;!s&&e()?(u.replaceChild(c,t),r().appendChild(t),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!0,target:r(e)})):s&&!1===e()?(u.replaceChild(t,c),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!1,target:r(e)})):e()&&r().appendChild(t)}}}},function(t,e,n){"use strict";var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);i.default.bindingHandlers.let||(i.default.bindingHandlers.let={init:function(t,e,n,r,o){var a=o.extend(e);return i.default.applyBindingsToDescendants(a,t),{controlsDescendantBindings:!0}}},i.default.virtualElements.allowedBindings.let=!0)},function(t,e,n){"use strict";function r(t){return isNaN(t)?t:Number(t)}function i(t){return isNaN(t)?t:r(Number(t).toFixed(2))}function o(t){if(isNaN(t))return t;var e=t;t=Math.abs(t),t=(t||0).toString();for(var n="",r=t.split("."),i=r[0],o=r.length>1?r[1]:0;i.length>3;)n=","+i.slice(-3)+n,i=i.slice(0,i.length-3);return i&&(n=i+n),Number(o)&&(n+="."+Number("0."+o).toString().split(".")[1]),e<0&&(n="-"+n),n}function a(t){return isNaN(t)?t:o(i(t))}var u=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(u);c.default.bindingHandlers.removeZero={update:function(t,e,n,i,o){c.default.utils.setTextContent(t,r(c.default.utils.unwrapObservable(e())))}},c.default.bindingHandlers.amount={update:function(t,e,n,r,o){c.default.utils.setTextContent(t,i(c.default.utils.unwrapObservable(e())))}},c.default.bindingHandlers.financial={update:function(t,e,n,r,i){c.default.utils.setTextContent(t,o(c.default.utils.unwrapObservable(e())))}},c.default.bindingHandlers.financialAmount={update:function(t,e,n,r,i){c.default.utils.setTextContent(t,a(c.default.utils.unwrapObservable(e())))}},c.default.bindingHandlers.financialAmountWithSymbol={update:function(t,e,n,r,i){c.default.utils.setTextContent(t,"￥ "+a(c.default.utils.unwrapObservable(e())))}}},function(t,e,n){"use strict";var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r);window.requestIdleCallback=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)},i.default.bindingHandlers.lazyForeach={makeTemplateValueAccessor:function(t){var e=null;return function(){var n=t(),r=n.minLength||50,o=n.step||20,a=n.looptime||200,u=n.data,c=u(),s=i.default.observableArray(c.splice(0,r)).extend({deferred:!0});return n.data=s,e&&clearInterval(e),e=setInterval(function(){requestIdleCallback(function(){c.length>0?c.splice(0,o).forEach(function(t){s.push(t)}):clearInterval(e)})},a),n}},init:function(t,e,n,r,o){return i.default.bindingHandlers.foreach.init(t,e,n,r,o)},update:function(t,e,n,r,o){return i.default.bindingHandlers.foreach.update(t,i.default.bindingHandlers.lazyForeach.makeTemplateValueAccessor(e),n,r,o)}},i.default.virtualElements.allowedBindings.lazyForeach=!0},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){window.sessionStorage.getItem("crossTenantDataId")!=t?(window.sessionStorage.removeItem("crossTenantDataId"),window.sessionStorage.removeItem("crossTenantData"),$.ajax({url:"/yuncai/custom/getOutsideRule?enterpriseId="+t,type:"get",async:!1,success:function(n){var r=JSON.parse(n);1==r.status?(window.sessionStorage.setItem("crossTenantData",JSON.stringify(r.data)),window.sessionStorage.setItem("crossTenantDataId",t)):console.error(r.msg),e()}})):e()}function o(t){var e=a();t.targetEnterpriseId&&(e=JSON.parse(window.sessionStorage.getItem("crossTenantData")));var n=l.default.filter(e,function(e){return(t.billType==e.billType||t.model==e.billType)&&t.dataInfo==e.dataInfo&&t.field==e.field&&t.customType==e.customType});return n&&n.length>0?n[0].customValue:null}function a(){var t=[],e=window.localStorage.getItem("customConfigs");return e?t=t.concat(JSON.parse(e)):$.ajax({url:"/yuncai/custom/getRule",type:"get",async:!1,success:function(e){var n=JSON.parse(e);1==n.status?(window.localStorage.setItem("customConfigs",JSON.stringify(n.data)),t.concat(n.data)):console.error(n.msg)}}),t}function u(t,e,n){var r=[];if(n){var i=window.sessionStorage.getItem("crossTenantData");r=l.default.filter(i?JSON.parse(i):[],function(t){return(e.billType==t.billType||e.model==t.billType)&&e.dataInfo==t.dataInfo&&e.field==t.field&&e.customType==t.customType})}else r=l.default.filter(a(),function(t){return(e.billType==t.billType||e.model==t.billType)&&e.dataInfo==t.dataInfo&&e.field==t.field&&e.customType==t.customType});r.length>0&&("visible"==r[0].customType?0==r[0].customValue?$(t).addClass("hidden").hide():($(t).removeClass("hidden"),$(t).show()):"editable"==r[0].customType?1==r[0].customValue&&($(t).removeClass("hidden"),$(t).show()):"labeltext"==r[0].customType?$(t).html(r[0].customValue):"placeholder"==r[0].customType?$(t).attr("placeholder",r[0].customValue):"defaultValue"==r[0].customType?$(t).val()||($(t).val(r[0].customValue),$(t).change()):"customdata"==r[0].customType&&$(t).attr("data-custom",r[0].customValue))}Object.defineProperty(e,"__esModule",{value:!0}),e.getCustomValue=e.getCrossTenantCustomConfig=void 0;var c=n(1),s=r(c),f=n(19),l=r(f);s.default.bindingHandlers.customfeature={init:function(t,e,n,r,i){var o=e();o.subscribe||o&&u(t,o,!1)},update:function(t,e){var n=e();n.subscribe&&n()&&n().targetEnterpriseId&&u(t,n(),!0)}},e.getCrossTenantCustomConfig=i,e.getCustomValue=o}])})},function(t,e,n){var r,i,o;/*!
	 * Knockout JavaScript library v3.5.0
	 * (c) The Knockout.js team - http://knockoutjs.com/
	 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
	 */
!function(){!function(a){var u=this||(0,eval)("this"),c=u.document,s=u.navigator,f=u.jQuery,l=u.JSON;f||"undefined"==typeof jQuery||(f=jQuery),function(a){i=[e,n],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(function(t,e){function n(t,e){return(null===t||typeof t in v)&&t===e}function r(t,e){var n;return function(){n||(n=h.a.setTimeout(function(){n=a,t()},e))}}function i(t,e){var n;return function(){clearTimeout(n),n=h.a.setTimeout(t,e)}}function o(t,e){e&&"change"!==e?"beforeChange"===e?this.oc(t):this.bb(t,e):this.pc(t)}function d(t,e){null!==e&&e.s&&e.s()}function p(t,e){var n=this.pd,r=n[_];r.qa||(this.Pb&&this.kb[e]?(n.tc(e,t,this.kb[e]),this.kb[e]=null,--this.Pb):r.F[e]||n.tc(e,t,r.G?{da:t}:n.Zc(t)),t.Ka&&t.fd())}var h="undefined"!=typeof t?t:{};h.b=function(t,e){for(var n=t.split("."),r=h,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=e},h.J=function(t,e,n){t[e]=n},h.version="3.5.0",h.b("version",h.version),h.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},h.a=function(){function t(t,e){for(var n in t)i.call(t,n)&&e(n,t[n])}function e(t,e){if(e)for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t}function n(t,e){return t.__proto__=e,t}function r(t,e,n,r){var i=t[e].match(g)||[];h.a.C(n.match(g),function(t){h.a.Oa(i,t,r)}),t[e]=i.join(" ")}var i=Object.prototype.hasOwnProperty,o={__proto__:[]}instanceof Array,d="function"==typeof Symbol,p={},v={};p[s&&/Firefox\/2/i.test(s.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),t(p,function(t,e){if(e.length)for(var n=0,r=e.length;n<r;n++)v[e[n]]=t});var b,y={propertychange:!0},m=c&&function(){for(var t=3,e=c.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",n[0];);return 4<t?t:a}(),g=/\S+/g;return{Ic:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],C:function(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t)},A:"function"==typeof Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e)}:function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Lb:function(t,e,n){for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r];return a},hb:function(t,e){var n=h.a.A(t,e);0<n?t.splice(n,1):0===n&&t.shift()},vc:function(t){var e=[];return t&&h.a.C(t,function(t){0>h.a.A(e,t)&&e.push(t)}),e},Mb:function(t,e,n){var r=[];if(t)for(var i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i));return r},fb:function(t,e,n){var r=[];if(t)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i)&&r.push(t[i]);return r},gb:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t},Oa:function(t,e,n){var r=h.a.A(h.a.$b(t),e);0>r?n&&t.push(e):n||t.splice(r,1)},Ba:o,extend:e,setPrototypeOf:n,zb:o?n:e,O:t,Ha:function(t,e,n){if(!t)return t;var r,o={};for(r in t)i.call(t,r)&&(o[r]=e.call(n,t[r],r,t));return o},Sb:function(t){for(;t.firstChild;)h.removeNode(t.firstChild)},Xb:function(t){t=h.a.la(t);for(var e=(t[0]&&t[0].ownerDocument||c).createElement("div"),n=0,r=t.length;n<r;n++)e.appendChild(h.na(t[n]));return e},Ca:function(t,e){for(var n=0,r=t.length,i=[];n<r;n++){var o=t[n].cloneNode(!0);i.push(e?h.na(o):o)}return i},ua:function(t,e){if(h.a.Sb(t),e)for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n])},Wc:function(t,e){var n=t.nodeType?[t]:t;if(0<n.length){for(var r=n[0],i=r.parentNode,o=0,a=e.length;o<a;o++)i.insertBefore(e[o],r);for(o=0,a=n.length;o<a;o++)h.removeNode(n[o])}},Ua:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);for(;1<t.length&&t[t.length-1].parentNode!==e;)t.length--;if(1<t.length){var n=t[0],r=t[t.length-1];for(t.length=0;n!==r;)t.push(n),n=n.nextSibling;t.push(r)}}return t},Yc:function(t,e){7>m?t.setAttribute("selected",e):t.selected=e},Cb:function(t){return null===t||t===a?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Td:function(t,e){return t=t||"",!(e.length>t.length)&&t.substring(0,e.length)===e},ud:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(1!==t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},Rb:function(t){return h.a.ud(t,t.ownerDocument.documentElement)},jd:function(t){return!!h.a.Lb(t,h.a.Rb)},P:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},zc:function(t){return h.onError?function(){try{return t.apply(this,arguments)}catch(t){throw h.onError&&h.onError(t),t}}:t},setTimeout:function(t,e){return setTimeout(h.a.zc(t),e)},Fc:function(t){setTimeout(function(){throw h.onError&&h.onError(t),t},0)},H:function(t,e,n){var r=h.a.zc(n);if(n=y[e],h.options.useOnlyNativeEvents||n||!f)if(n||"function"!=typeof t.addEventListener){if("undefined"==typeof t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(e){r.call(t,e)},o="on"+e;t.attachEvent(o,i),h.a.I.za(t,function(){t.detachEvent(o,i)})}else t.addEventListener(e,r,!1);else b||(b="function"==typeof f(t).on?"on":"bind"),f(t)[b](e,r)},Fb:function(t,e){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if("input"===h.a.P(t)&&t.type&&"click"==e.toLowerCase()?(n=t.type,n="checkbox"==n||"radio"==n):n=!1,h.options.useOnlyNativeEvents||!f||n)if("function"==typeof c.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");n=c.createEvent(v[e]||"HTMLEvents"),n.initEvent(e,!0,!0,u,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(n)}else if(n&&t.click)t.click();else{if("undefined"==typeof t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+e)}else f(t).trigger(e)},c:function(t){return h.N(t)?t():t},$b:function(t){return h.N(t)?t.w():t},Eb:function(t,e,n){var i;e&&("object"==typeof t.classList?(i=t.classList[n?"add":"remove"],h.a.C(e.match(g),function(e){i.call(t.classList,e)})):"string"==typeof t.className.baseVal?r(t.className,"baseVal",e,n):r(t,"className",e,n))},Ab:function(t,e){var n=h.a.c(e);null!==n&&n!==a||(n="");var r=h.h.firstChild(t);!r||3!=r.nodeType||h.h.nextSibling(r)?h.h.ua(t,[t.ownerDocument.createTextNode(n)]):r.data=n,h.a.zd(t)},Xc:function(t,e){if(t.name=e,7>=m)try{var n=t.name.replace(/[&<>'"]/g,function(t){return"&#"+t.charCodeAt(0)+";"});t.mergeAttributes(c.createElement("<input name='"+n+"'/>"),!1)}catch(t){}},zd:function(t){9<=m&&(t=1==t.nodeType?t:t.parentNode,t.style&&(t.style.zoom=t.style.zoom))},vd:function(t){if(m){var e=t.style.width;t.style.width=0,t.style.width=e}},Od:function(t,e){t=h.a.c(t),e=h.a.c(e);for(var n=[],r=t;r<=e;r++)n.push(r);return n},la:function(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e},Da:function(t){return d?Symbol(t):t},Xd:6===m,Yd:7===m,W:m,Kc:function(t,e){for(var n=h.a.la(t.getElementsByTagName("input")).concat(h.a.la(t.getElementsByTagName("textarea"))),r="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},i=[],o=n.length-1;0<=o;o--)r(n[o])&&i.push(n[o]);return i},Md:function(t){return"string"==typeof t&&(t=h.a.Cb(t))?l&&l.parse?l.parse(t):new Function("return "+t)():null},fc:function(t,e,n){if(!l||!l.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return l.stringify(h.a.c(t),e,n)},Nd:function(e,n,r){r=r||{};var i=r.params||{},o=r.includeFields||this.Ic,a=e;if("object"==typeof e&&"form"===h.a.P(e))for(var a=e.action,u=o.length-1;0<=u;u--)for(var s=h.a.Kc(e,o[u]),f=s.length-1;0<=f;f--)i[s[f].name]=s[f].value;n=h.a.c(n);var l=c.createElement("form");l.style.display="none",l.action=a,l.method="post";for(var d in n)e=c.createElement("input"),e.type="hidden",e.name=d,e.value=h.a.fc(h.a.c(n[d])),l.appendChild(e);t(i,function(t,e){var n=c.createElement("input");n.type="hidden",n.name=t,n.value=e,l.appendChild(n)}),c.body.appendChild(l),r.submitter?r.submitter(l):l.submit(),setTimeout(function(){l.parentNode.removeChild(l)},0)}}}(),h.b("utils",h.a),h.b("utils.arrayForEach",h.a.C),h.b("utils.arrayFirst",h.a.Lb),h.b("utils.arrayFilter",h.a.fb),h.b("utils.arrayGetDistinctValues",h.a.vc),h.b("utils.arrayIndexOf",h.a.A),h.b("utils.arrayMap",h.a.Mb),h.b("utils.arrayPushAll",h.a.gb),h.b("utils.arrayRemoveItem",h.a.hb),h.b("utils.cloneNodes",h.a.Ca),h.b("utils.createSymbolOrString",h.a.Da),h.b("utils.extend",h.a.extend),h.b("utils.fieldsIncludedWithJsonPost",h.a.Ic),h.b("utils.getFormFields",h.a.Kc),h.b("utils.objectMap",h.a.Ha),h.b("utils.peekObservable",h.a.$b),h.b("utils.postJson",h.a.Nd),h.b("utils.parseJson",h.a.Md),h.b("utils.registerEventHandler",h.a.H),h.b("utils.stringifyJson",h.a.fc),h.b("utils.range",h.a.Od),h.b("utils.toggleDomNodeCssClass",h.a.Eb),h.b("utils.triggerEvent",h.a.Fb),h.b("utils.unwrapObservable",h.a.c),h.b("utils.objectForEach",h.a.O),h.b("utils.addOrRemoveItem",h.a.Oa),h.b("utils.setTextContent",h.a.Ab),h.b("unwrap",h.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if(1===arguments.length)return function(){return e.apply(t,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),e.apply(t,r)}}),h.a.g=new function(){var t,e,n=0,r="__ko__"+(new Date).getTime(),i={};return h.a.W?(t=function(t,e){var o=t[r];if(!o||"null"===o||!i[o]){if(!e)return a;o=t[r]="ko"+n++,i[o]={}}return i[o]},e=function(t){var e=t[r];return!!e&&(delete i[e],t[r]=null,!0)}):(t=function(t,e){var n=t[r];return!n&&e&&(n=t[r]={}),n},e=function(t){return!!t[r]&&(delete t[r],!0)}),{get:function(e,n){var r=t(e,!1);return r&&r[n]},set:function(e,n,r){(e=t(e,r!==a))&&(e[n]=r)},Tb:function(e,n,r){return e=t(e,!0),e[n]||(e[n]=r)},clear:e,Z:function(){return n++ +r}}},h.b("utils.domData",h.a.g),h.b("utils.domData.clear",h.a.g.clear),h.a.I=new function(){function t(t,e){var n=h.a.g.get(t,r);return n===a&&e&&(n=[],h.a.g.set(t,r,n)),n}function e(e){var r=t(e,!1);if(r)for(var r=r.slice(0),i=0;i<r.length;i++)r[i](e);h.a.g.clear(e),h.a.I.cleanExternalData(e),o[e.nodeType]&&n(e.childNodes,!0)}function n(t,n){for(var r,i=[],o=0;o<t.length;o++)if((!n||8===t[o].nodeType)&&(e(i[i.length]=r=t[o]),t[o]!==r))for(;o--&&-1==h.a.A(i,t[o]););}var r=h.a.g.Z(),i={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{za:function(e,n){if("function"!=typeof n)throw Error("Callback must be a function");t(e,!0).push(n)},xb:function(e,n){var i=t(e,!1);i&&(h.a.hb(i,n),0==i.length&&h.a.g.set(e,r,a))},na:function(t){return i[t.nodeType]&&(e(t),o[t.nodeType]&&n(t.getElementsByTagName("*"))),t},removeNode:function(t){h.na(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){f&&"function"==typeof f.cleanData&&f.cleanData([t])}}},h.na=h.a.I.na,h.removeNode=h.a.I.removeNode,h.b("cleanNode",h.na),h.b("removeNode",h.removeNode),h.b("utils.domNodeDisposal",h.a.I),h.b("utils.domNodeDisposal.addDisposeCallback",h.a.I.za),h.b("utils.domNodeDisposal.removeDisposeCallback",h.a.I.xb),function(){var t=[0,"",""],e=[1,"<table>","</table>"],n=[3,"<table><tbody><tr>","</tr></tbody></table>"],r=[1,"<select multiple='multiple'>","</select>"],i={thead:e,tbody:e,tfoot:e,tr:[2,"<table><tbody>","</tbody></table>"],td:n,th:n,option:r,optgroup:r},o=8>=h.a.W;h.a.ta=function(e,n){var r;if(f){if(f.parseHTML)r=f.parseHTML(e,n)||[];else if((r=f.clean([e],n))&&r[0]){for(var a=r[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{(r=n)||(r=c);var s,a=r.parentWindow||r.defaultView||u,l=h.a.Cb(e).toLowerCase(),d=r.createElement("div");for(s=(l=l.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&i[l[1]]||t,l=s[0],s="ignored<div>"+s[1]+e+s[2]+"</div>","function"==typeof a.innerShiv?d.appendChild(a.innerShiv(s)):(o&&r.body.appendChild(d),d.innerHTML=s,o&&d.parentNode.removeChild(d));l--;)d=d.lastChild;r=h.a.la(d.lastChild.childNodes)}return r},h.a.Ld=function(t,e){var n=h.a.ta(t,e);return n.length&&n[0].parentElement||h.a.Xb(n)},h.a.dc=function(t,e){if(h.a.Sb(t),e=h.a.c(e),null!==e&&e!==a)if("string"!=typeof e&&(e=e.toString()),f)f(t).html(e);else for(var n=h.a.ta(e,t.ownerDocument),r=0;r<n.length;r++)t.appendChild(n[r])}}(),h.b("utils.parseHtmlFragment",h.a.ta),h.b("utils.setHtml",h.a.dc),h.aa=function(){function t(e,n){if(e)if(8==e.nodeType){var r=h.aa.Tc(e.nodeValue);null!=r&&n.push({sd:e,Jd:r})}else if(1==e.nodeType)for(var r=0,i=e.childNodes,o=i.length;r<o;r++)t(i[r],n)}var e={};return{Wb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return e[n]=t,"<!--[ko_memo:"+n+"]-->"},ad:function(t,n){var r=e[t];if(r===a)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete e[t]}},bd:function(e,n){var r=[];t(e,r);for(var i=0,o=r.length;i<o;i++){var a=r[i].sd,u=[a];n&&h.a.gb(u,n),h.aa.ad(r[i].Jd,u),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},Tc:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}}(),h.b("memoization",h.aa),h.b("memoization.memoize",h.aa.Wb),h.b("memoization.unmemoize",h.aa.ad),h.b("memoization.parseMemoText",h.aa.Tc),h.b("memoization.unmemoizeDomNodeAndDescendants",h.aa.bd),h.ma=function(){function t(){if(i)for(var t,e=i,n=0;a<i;)if(t=r[a++]){if(a>e){if(5e3<=++n){a=i,h.a.Fc(Error("'Too much recursion' after processing "+n+" task groups."));break}e=i}try{t()}catch(t){h.a.Fc(t)}}}function e(){t(),a=i=r.length=0}var n,r=[],i=0,o=1,a=0;return n=u.MutationObserver?function(t){var e=c.createElement("div");return new MutationObserver(t).observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}}(e):c&&"onreadystatechange"in c.createElement("script")?function(t){var e=c.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,c.documentElement.removeChild(e),e=null,t()},c.documentElement.appendChild(e)}:function(t){setTimeout(t,0)},{scheduler:n,yb:function(t){return i||h.ma.scheduler(e),r[i++]=t,o++},cancel:function(t){t-=o-i,t>=a&&t<i&&(r[t]=null)},resetForTesting:function(){var t=i-a;return a=i=r.length=0,t},Rd:t}}(),h.b("tasks",h.ma),h.b("tasks.schedule",h.ma.yb),h.b("tasks.runEarly",h.ma.Rd),h.Ta={throttle:function(t,e){t.throttleEvaluation=e;var n=null;return h.$({read:t,write:function(r){clearTimeout(n),n=h.a.setTimeout(function(){t(r)},e)}})},rateLimit:function(t,e){var n,o,a;"number"==typeof e?n=e:(n=e.timeout,o=e.method),t.Hb=!1,a="function"==typeof o?o:"notifyWhenChangesStop"==o?i:r,t.tb(function(t){return a(t,n,e)})},deferred:function(t,e){if(!0!==e)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t.Hb||(t.Hb=!0,t.tb(function(e){var n,r=!1;return function(){if(!r){h.ma.cancel(n),n=h.ma.yb(e);try{r=!0,t.notifySubscribers(a,"dirty")}finally{r=!1}}}}))},notify:function(t,e){t.equalityComparer="always"==e?null:n}};var v={undefined:1,boolean:1,number:1,string:1};h.b("extenders",h.Ta),h.gc=function(t,e,n){this.da=t,this.kc=e,this.lc=n,this.Ib=!1,this.ab=this.Jb=null,h.J(this,"dispose",this.s),h.J(this,"disposeWhenNodeIsRemoved",this.l)},h.gc.prototype.s=function(){this.Ib||(this.ab&&h.a.I.xb(this.Jb,this.ab),this.Ib=!0,this.lc(),this.da=this.kc=this.lc=this.Jb=this.ab=null)},h.gc.prototype.l=function(t){this.Jb=t,h.a.I.za(t,this.ab=this.s.bind(this))},h.R=function(){h.a.zb(this,b),b.ob(this)};var b={ob:function(t){t.S={change:[]},t.rc=1},subscribe:function(t,e,n){var r=this;n=n||"change";var i=new h.gc(r,e?t.bind(e):t,function(){h.a.hb(r.S[n],i),r.cb&&r.cb(n)});return r.Qa&&r.Qa(n),r.S[n]||(r.S[n]=[]),r.S[n].push(i),i},notifySubscribers:function(t,e){if(e=e||"change","change"===e&&this.Gb(),this.Wa(e)){var n="change"===e&&this.dd||this.S[e].slice(0);try{h.v.wc();for(var r,i=0;r=n[i];++i)r.Ib||r.kc(t)}finally{h.v.end()}}},mb:function(){return this.rc},Cd:function(t){return this.mb()!==t},Gb:function(){++this.rc},tb:function(t){var e,n,r,i,a,u=this,c=h.N(u);u.bb||(u.bb=u.notifySubscribers,u.notifySubscribers=o);var s=t(function(){u.Ka=!1,c&&i===u&&(i=u.mc?u.mc():u());var t=n||a&&u.qb(r,i);a=n=e=!1,t&&u.bb(r=i)});u.pc=function(t,n){n&&u.Ka||(a=!n),u.dd=u.S.change.slice(0),u.Ka=e=!0,i=t,s()},u.oc=function(t){e||(r=t,u.bb(t,"beforeChange"))},u.qc=function(){a=!0},u.fd=function(){u.qb(r,u.w(!0))&&(n=!0)}},Wa:function(t){return this.S[t]&&this.S[t].length},Ad:function(t){if(t)return this.S[t]&&this.S[t].length||0;var e=0;return h.a.O(this.S,function(t,n){"dirty"!==t&&(e+=n.length)}),e},qb:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},toString:function(){return"[object Object]"},extend:function(t){var e=this;return t&&h.a.O(t,function(t,n){var r=h.Ta[t];"function"==typeof r&&(e=r(e,n)||e)}),e}};h.J(b,"init",b.ob),h.J(b,"subscribe",b.subscribe),h.J(b,"extend",b.extend),h.J(b,"getSubscriptionsCount",b.Ad),h.a.Ba&&h.a.setPrototypeOf(b,Function.prototype),h.R.fn=b,h.Pc=function(t){return null!=t&&"function"==typeof t.subscribe&&"function"==typeof t.notifySubscribers},h.b("subscribable",h.R),h.b("isSubscribable",h.Pc),h.U=h.v=function(){function t(t){r.push(n),n=t}function e(){n=r.pop()}var n,r=[],i=0;return{wc:t,end:e,ac:function(t){if(n){if(!h.Pc(t))throw Error("Only subscribable things can act as dependencies");n.nd.call(n.od,t,t.ed||(t.ed=++i))}},K:function(n,r,i){try{return t(),n.apply(r,i||[])}finally{e()}},pa:function(){if(n)return n.o.pa()},Va:function(){if(n)return n.o.Va()},rb:function(){if(n)return n.rb},o:function(){if(n)return n.o}}}(),h.b("computedContext",h.U),h.b("computedContext.getDependenciesCount",h.U.pa),h.b("computedContext.getDependencies",h.U.Va),h.b("computedContext.isInitial",h.U.rb),h.b("computedContext.registerDependency",h.U.ac),h.b("ignoreDependencies",h.Wd=h.v.K);var y=h.a.Da("_latestValue");h.sa=function(t){function e(){return 0<arguments.length?(e.qb(e[y],arguments[0])&&(e.xa(),e[y]=arguments[0],e.wa()),this):(h.v.ac(e),e[y])}return e[y]=t,h.a.Ba||h.a.extend(e,h.R.fn),h.R.fn.ob(e),h.a.zb(e,m),h.options.deferUpdates&&h.Ta.deferred(e,!0),e};var m={equalityComparer:n,w:function(){return this[y]},wa:function(){this.notifySubscribers(this[y],"spectate"),this.notifySubscribers(this[y])},xa:function(){this.notifySubscribers(this[y],"beforeChange")}};h.a.Ba&&h.a.setPrototypeOf(m,h.R.fn);var g=h.sa.Na="__ko_proto__";m[g]=h.sa,h.N=function(t){if((t="function"==typeof t&&t[g])&&t!==m[g]&&t!==h.o.fn[g])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!t},h.Ya=function(t){return"function"==typeof t&&(t[g]===m[g]||t[g]===h.o.fn[g]&&t.Mc)},h.b("observable",h.sa),h.b("isObservable",h.N),h.b("isWriteableObservable",h.Ya),h.b("isWritableObservable",h.Ya),h.b("observable.fn",m),h.J(m,"peek",m.w),h.J(m,"valueHasMutated",m.wa),h.J(m,"valueWillMutate",m.xa),h.Ia=function(t){if(t=t||[],"object"!=typeof t||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=h.sa(t),h.a.zb(t,h.Ia.fn),t.extend({trackArrayChanges:!0})},h.Ia.fn={remove:function(t){for(var e=this.w(),n=[],r="function"!=typeof t||h.N(t)?function(e){return e===t}:t,i=0;i<e.length;i++){var o=e[i];if(r(o)){if(0===n.length&&this.xa(),e[i]!==o)throw Error("Array modified during remove; cannot remove item");n.push(o),e.splice(i,1),i--}}return n.length&&this.wa(),n},removeAll:function(t){if(t===a){var e=this.w(),n=e.slice(0);return this.xa(),e.splice(0,e.length),this.wa(),n}return t?this.remove(function(e){return 0<=h.a.A(t,e)}):[]},destroy:function(t){var e=this.w(),n="function"!=typeof t||h.N(t)?function(e){return e===t}:t;this.xa();for(var r=e.length-1;0<=r;r--){var i=e[r];n(i)&&(i._destroy=!0)}this.wa()},destroyAll:function(t){return t===a?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=h.a.A(t,e)}):[]},indexOf:function(t){var e=this();return h.a.A(e,t)},replace:function(t,e){var n=this.indexOf(t);0<=n&&(this.xa(),this.w()[n]=e,this.wa())},sorted:function(t){var e=this().slice(0);return t?e.sort(t):e.sort()},reversed:function(){return this().slice(0).reverse()}},h.a.Ba&&h.a.setPrototypeOf(h.Ia.fn,h.sa.fn),h.a.C("pop push reverse shift sort splice unshift".split(" "),function(t){h.Ia.fn[t]=function(){var e=this.w();this.xa(),this.yc(e,t,arguments);var n=e[t].apply(e,arguments);return this.wa(),n===e?this:n}}),h.a.C(["slice"],function(t){h.Ia.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),h.Oc=function(t){return h.N(t)&&"function"==typeof t.remove&&"function"==typeof t.push},h.b("observableArray",h.Ia),h.b("isObservableArray",h.Oc),h.Ta.trackArrayChanges=function(t,e){function n(){function e(){if(s){var e=[].concat(t.w()||[]);if(t.Wa("arrayChange")){var n;(!c||1<s)&&(c=h.a.Ob(i,e,t.Nb)),n=c}i=e,c=null,s=0,n&&n.length&&t.notifySubscribers(n,"arrayChange")}}u?e():(u=!0,o=t.notifySubscribers,t.notifySubscribers=function(t,e){return e&&"change"!==e||++s,o.apply(this,arguments)},i=[].concat(t.w()||[]),c=null,r=t.subscribe(e))}if(t.Nb={},e&&"object"==typeof e&&h.a.extend(t.Nb,e),t.Nb.sparse=!0,!t.yc){var r,i,o,u=!1,c=null,s=0,f=t.Qa,l=t.cb;t.Qa=function(e){f&&f.call(t,e),"arrayChange"===e&&n()},t.cb=function(e){l&&l.call(t,e),"arrayChange"!==e||t.Wa("arrayChange")||(o&&(t.notifySubscribers=o,o=a),r&&r.s(),r=null,u=!1,i=a)},t.yc=function(t,e,n){function r(t,e,n){return i[i.length]={status:t,value:e,index:n}}if(u&&!s){var i=[],o=t.length,a=n.length,f=0;switch(e){case"push":f=o;case"unshift":for(e=0;e<a;e++)r("added",n[e],f+e);break;case"pop":f=o-1;case"shift":o&&r("deleted",t[f],f);break;case"splice":e=Math.min(Math.max(0,0>n[0]?o+n[0]:n[0]),o);for(var o=1===a?o:Math.min(e+(n[1]||0),o),a=e+a-2,f=Math.max(o,a),l=[],d=[],p=2;e<f;++e,++p)e<o&&d.push(r("deleted",t[e],e)),e<a&&l.push(r("added",n[p],e));h.a.Jc(d,l);break;default:return}c=i}}}};var _=h.a.Da("_state");h.o=h.$=function(t,e,n){function r(){if(0<arguments.length){if("function"!=typeof i)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(o.lb,arguments),this}return o.qa||h.v.ac(r),(o.ka||o.G&&r.Xa())&&r.ha(),o.X}if("object"==typeof t?n=t:(n=n||{},t&&(n.read=t)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var i=n.write,o={X:a,ra:!0,ka:!0,pb:!1,hc:!1,qa:!1,vb:!1,G:!1,Vc:n.read,lb:e||n.owner,l:n.disposeWhenNodeIsRemoved||n.l||null,Sa:n.disposeWhen||n.Sa,Qb:null,F:{},V:0,Hc:null};return r[_]=o,r.Mc="function"==typeof i,h.a.Ba||h.a.extend(r,h.R.fn),h.R.fn.ob(r),h.a.zb(r,x),n.pure?(o.vb=!0,o.G=!0,h.a.extend(r,w)):n.deferEvaluation&&h.a.extend(r,k),h.options.deferUpdates&&h.Ta.deferred(r,!0),o.l&&(o.hc=!0,o.l.nodeType||(o.l=null)),o.G||n.deferEvaluation||r.ha(),o.l&&r.ja()&&h.a.I.za(o.l,o.Qb=function(){r.s()}),r};var x={equalityComparer:n,pa:function(){return this[_].V},Va:function(){var t=[];return h.a.O(this[_].F,function(e,n){t[n.La]=n.da}),t},Ub:function(t){if(!this[_].V)return!1;var e=this.Va();return-1!==h.a.A(e,t)||!!h.a.Lb(e,function(e){return e.Ub&&e.Ub(t)})},tc:function(t,e,n){if(this[_].vb&&e===this)throw Error("A 'pure' computed must not be called recursively");this[_].F[t]=n,n.La=this[_].V++,n.Ma=e.mb()},Xa:function(){var t,e,n=this[_].F;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&(e=n[t],this.Ja&&e.da.Ka||e.da.Cd(e.Ma)))return!0},Id:function(){this.Ja&&!this[_].pb&&this.Ja(!1)},ja:function(){var t=this[_];return t.ka||0<t.V},Qd:function(){this.Ka?this[_].ka&&(this[_].ra=!0):this.Gc()},Zc:function(t){if(t.Hb){var e=t.subscribe(this.Id,this,"dirty"),n=t.subscribe(this.Qd,this);return{da:t,s:function(){e.s(),n.s()}}}return t.subscribe(this.Gc,this)},Gc:function(){var t=this,e=t.throttleEvaluation;e&&0<=e?(clearTimeout(this[_].Hc),this[_].Hc=h.a.setTimeout(function(){t.ha(!0)},e)):t.Ja?t.Ja(!0):t.ha(!0)},ha:function(t){var e=this[_],n=e.Sa,r=!1;if(!e.pb&&!e.qa){if(e.l&&!h.a.Rb(e.l)||n&&n()){if(!e.hc)return void this.s()}else e.hc=!1;e.pb=!0;try{r=this.yd(t)}finally{e.pb=!1}return r}},yd:function(t){var e=this[_],n=!1,r=e.vb?a:!e.V,n={pd:this,kb:e.F,Pb:e.V};h.v.wc({od:n,nd:p,o:this,rb:r}),e.F={},e.V=0;var i=this.xd(e,n);return e.V?n=this.qb(e.X,i):(this.s(),n=!0),n&&(e.G?this.Gb():this.notifySubscribers(e.X,"beforeChange"),e.X=i,this.notifySubscribers(e.X,"spectate"),!e.G&&t&&this.notifySubscribers(e.X),this.qc&&this.qc()),r&&this.notifySubscribers(e.X,"awake"),n},xd:function(t,e){try{var n=t.Vc;return t.lb?n.call(t.lb):n()}finally{h.v.end(),e.Pb&&!t.G&&h.a.O(e.kb,d),t.ra=t.ka=!1}},w:function(t){var e=this[_];return(e.ka&&(t||!e.V)||e.G&&this.Xa())&&this.ha(),e.X},tb:function(t){h.R.fn.tb.call(this,t),this.mc=function(){return this[_].G||(this[_].ra?this.ha():this[_].ka=!1),this[_].X},this.Ja=function(t){this.oc(this[_].X),this[_].ka=!0,t&&(this[_].ra=!0),this.pc(this,!t)}},s:function(){var t=this[_];!t.G&&t.F&&h.a.O(t.F,function(t,e){e.s&&e.s()}),t.l&&t.Qb&&h.a.I.xb(t.l,t.Qb),t.F=a,t.V=0,t.qa=!0,t.ra=!1,t.ka=!1,t.G=!1,t.l=a,t.Sa=a,t.Vc=a,this.Mc||(t.lb=a)}},w={Qa:function(t){var e=this,n=e[_];if(!n.qa&&n.G&&"change"==t){if(n.G=!1,n.ra||e.Xa())n.F=null,n.V=0,e.ha()&&e.Gb();else{var r=[];h.a.O(n.F,function(t,e){r[e.La]=t}),h.a.C(r,function(t,r){var i=n.F[t],o=e.Zc(i.da);o.La=r,o.Ma=i.Ma,n.F[t]=o}),e.Xa()&&e.ha()&&e.Gb()}n.qa||e.notifySubscribers(n.X,"awake")}},cb:function(t){var e=this[_];e.qa||"change"!=t||this.Wa("change")||(h.a.O(e.F,function(t,n){n.s&&(e.F[t]={da:n.da,La:n.La,Ma:n.Ma},n.s())}),e.G=!0,this.notifySubscribers(a,"asleep"))},mb:function(){var t=this[_];return t.G&&(t.ra||this.Xa())&&this.ha(),h.R.fn.mb.call(this)}},k={Qa:function(t){"change"!=t&&"beforeChange"!=t||this.w()}};h.a.Ba&&h.a.setPrototypeOf(x,h.R.fn);var j=h.sa.Na;x[j]=h.o,h.Nc=function(t){return"function"==typeof t&&t[j]===x[j]},h.Ed=function(t){return h.Nc(t)&&t[_]&&t[_].vb},h.b("computed",h.o),h.b("dependentObservable",h.o),h.b("isComputed",h.Nc),h.b("isPureComputed",h.Ed),h.b("computed.fn",x),h.J(x,"peek",x.w),h.J(x,"dispose",x.s),h.J(x,"isActive",x.ja),h.J(x,"getDependenciesCount",x.pa),h.J(x,"getDependencies",x.Va),h.wb=function(t,e){return"function"==typeof t?h.o(t,e,{pure:!0}):(t=h.a.extend({},t),t.pure=!0,h.o(t,e))},h.b("pureComputed",h.wb),function(){function t(r,i,o){if(o=o||new n,r=i(r),"object"!=typeof r||null===r||r===a||r instanceof RegExp||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var u=r instanceof Array?[]:{};return o.save(r,u),e(r,function(e){var n=i(r[e]);switch(typeof n){case"boolean":case"number":case"string":case"function":u[e]=n;break;case"object":case"undefined":var c=o.get(n);u[e]=c!==a?c:t(n,i,o)}}),u}function e(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)e(n);"function"==typeof t.toJSON&&e("toJSON")}else for(n in t)e(n)}function n(){this.keys=[],this.values=[]}h.$c=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(t){for(var e=0;h.N(t)&&10>e;e++)t=t();return t})},h.toJSON=function(t,e,n){return t=h.$c(t),h.a.fc(t,e,n)},n.prototype={constructor:n,save:function(t,e){var n=h.a.A(this.keys,t);0<=n?this.values[n]=e:(this.keys.push(t),this.values.push(e))},get:function(t){return t=h.a.A(this.keys,t),0<=t?this.values[t]:a}}}(),h.b("toJS",h.$c),h.b("toJSON",h.toJSON),h.Vd=function(t,e,n){function r(e){var r=h.wb(t,n).extend({Ga:"always"}),i=r.subscribe(function(t){t&&(i.s(),e(t))});return r.notifySubscribers(r.w()),i}return"function"!=typeof Promise||e?r(e.bind(n)):new Promise(r)},h.b("when",h.Vd),function(){h.u={L:function(t){switch(h.a.P(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?h.a.g.get(t,h.f.options.Yb):7>=h.a.W?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?h.u.L(t.options[t.selectedIndex]):a;default:return t.value}},ya:function(t,e,n){switch(h.a.P(t)){case"option":"string"==typeof e?(h.a.g.set(t,h.f.options.Yb,a),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=e):(h.a.g.set(t,h.f.options.Yb,e),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof e?e:"");break;case"select":""!==e&&null!==e||(e=a);for(var r,i=-1,o=0,u=t.options.length;o<u;++o)if(r=h.u.L(t.options[o]),r==e||""===r&&e===a){i=o;break}(n||0<=i||e===a&&1<t.size)&&(t.selectedIndex=i,6===h.a.W&&h.a.setTimeout(function(){t.selectedIndex=i},0));break;default:null!==e&&e!==a||(e=""),t.value=e}}}}(),h.b("selectExtensions",h.u),h.b("selectExtensions.readValue",h.u.L),h.b("selectExtensions.writeValue",h.u.ya),h.m=function(){function t(t){t=h.a.Cb(t),123===t.charCodeAt(0)&&(t=t.slice(1,-1)),t+="\n,";var e,n=[],a=t.match(r),u=[],c=0;if(1<a.length){for(var s,f=0;s=a[f];++f){var l=s.charCodeAt(0);if(44===l){if(0>=c){n.push(e&&u.length?{key:e,value:u.join("")}:{unknown:e||u.join("")}),e=c=0,u=[];continue}}else if(58===l){if(!c&&!e&&1===u.length){e=u.pop();continue}}else{if(47===l&&1<s.length&&(47===s.charCodeAt(1)||42===s.charCodeAt(1)))continue;47===l&&f&&1<s.length?(l=a[f-1].match(i))&&!o[l[0]]&&(t=t.substr(t.indexOf(s)+1),a=t.match(r),f=-1,s="/"):40===l||123===l||91===l?++c:41===l||125===l||93===l?--c:e||u.length||34!==l&&39!==l||(s=s.slice(1,-1))}u.push(s)}if(0<c)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var e=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,o={in:1,return:1,typeof:1},a={};return{Ra:[],va:a,Zb:t,ub:function(r,i){function o(t,r){var i;if(!f){var l=h.getBindingHandler(t);if(l&&l.preprocess&&!(r=l.preprocess(r,t,o)))return;(l=a[t])&&(i=r,0<=h.a.A(e,i)?i=!1:(l=i.match(n),i=null!==l&&(l[1]?"Object("+l[1]+")"+l[2]:i)),l=i),l&&c.push("'"+("string"==typeof a[t]?a[t]:t)+"':function(_z){"+i+"=_z}")}s&&(r="function(){return "+r+" }"),u.push("'"+t+"':"+r)}i=i||{};var u=[],c=[],s=i.valueAccessors,f=i.bindingParams,l="string"==typeof r?t(r):r;return h.a.C(l,function(t){o(t.key||t.unknown,t.value)}),c.length&&o("_ko_property_writers","{"+c.join(",")+" }"),u.join(",")},Hd:function(t,e){for(var n=0;n<t.length;n++)if(t[n].key==e)return!0;return!1},$a:function(t,e,n,r,i){t&&h.N(t)?!h.Ya(t)||i&&t.w()===r||t(r):(t=e.get("_ko_property_writers"))&&t[n]&&t[n](r)}}}(),h.b("expressionRewriting",h.m),h.b("expressionRewriting.bindingRewriteValidators",h.m.Ra),h.b("expressionRewriting.parseObjectLiteral",h.m.Zb),h.b("expressionRewriting.preProcessBindings",h.m.ub),h.b("expressionRewriting._twoWayBindings",h.m.va),h.b("jsonExpressionRewriting",h.m),h.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",h.m.ub),function(){function t(t){return 8==t.nodeType&&o.test(i?t.text:t.nodeValue)}function e(t){return 8==t.nodeType&&a.test(i?t.text:t.nodeValue)}function n(n,r){for(var i=n,o=1,a=[];i=i.nextSibling;){if(e(i)&&(h.a.g.set(i,s,!0),o--,0===o))return a;a.push(i),t(i)&&o++}if(!r)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function r(t,e){var r=n(t,e);return r?0<r.length?r[r.length-1].nextSibling:t.nextSibling:null}var i=c&&"<!--test-->"===c.createComment("test").text,o=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0},s="__ko_matchedEndComment__";h.h={ea:{},childNodes:function(e){return t(e)?n(e):e.childNodes},Ea:function(e){if(t(e)){e=h.h.childNodes(e);for(var n=0,r=e.length;n<r;n++)h.removeNode(e[n]);
}else h.a.Sb(e)},ua:function(e,n){if(t(e)){h.h.Ea(e);for(var r=e.nextSibling,i=0,o=n.length;i<o;i++)r.parentNode.insertBefore(n[i],r)}else h.a.ua(e,n)},Uc:function(e,n){t(e)?e.parentNode.insertBefore(n,e.nextSibling):e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)},Vb:function(e,n,r){r?t(e)?e.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?e.insertBefore(n,r.nextSibling):e.appendChild(n):h.h.Uc(e,n)},firstChild:function(n){if(t(n))return!n.nextSibling||e(n.nextSibling)?null:n.nextSibling;if(n.firstChild&&e(n.firstChild))throw Error("Found invalid end comment, as the first child of "+n);return n.firstChild},nextSibling:function(n){if(t(n)&&(n=r(n)),n.nextSibling&&e(n.nextSibling)){var i=n.nextSibling;if(e(i)&&!h.a.g.get(i,s))throw Error("Found end comment without a matching opening comment, as child of "+n);return null}return n.nextSibling},Bd:t,Ud:function(t){return(t=(i?t.text:t.nodeValue).match(o))?t[1]:null},Rc:function(n){if(u[h.a.P(n)]){var i=n.firstChild;if(i)do if(1===i.nodeType){var o;o=i.firstChild;var a=null;if(o)do if(a)a.push(o);else if(t(o)){var c=r(o,!0);c?o=c:a=[o]}else e(o)&&(a=[o]);while(o=o.nextSibling);if(o=a)for(a=i.nextSibling,c=0;c<o.length;c++)a?n.insertBefore(o[c],a):n.appendChild(o[c])}while(i=i.nextSibling)}}}}(),h.b("virtualElements",h.h),h.b("virtualElements.allowedBindings",h.h.ea),h.b("virtualElements.emptyNode",h.h.Ea),h.b("virtualElements.insertAfter",h.h.Vb),h.b("virtualElements.prepend",h.h.Uc),h.b("virtualElements.setDomNodeChildren",h.h.ua),function(){h.ga=function(){this.md={}},h.a.extend(h.ga.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||h.i.getComponentNameForNode(t);case 8:return h.h.Bd(t);default:return!1}},getBindings:function(t,e){var n=this.getBindingsString(t,e),n=n?this.parseBindingsString(n,e,t):null;return h.i.sc(n,t,e,!1)},getBindingAccessors:function(t,e){var n=this.getBindingsString(t,e),n=n?this.parseBindingsString(n,e,t,{valueAccessors:!0}):null;return h.i.sc(n,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return h.h.Ud(t);default:return null}},parseBindingsString:function(t,e,n,r){try{var i,o=this.md,a=t+(r&&r.valueAccessors||"");if(!(i=o[a])){var u,c="with($context){with($data||{}){return{"+h.m.ub(t,r)+"}}}";u=new Function("$context","$element",c),i=o[a]=u}return i(e,n)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),h.ga.instance=new h.ga}(),h.b("bindingProvider",h.ga),function(){function t(t){var e=(t=h.a.g.get(t,w))&&t.M;e&&(t.M=null,e.Sc())}function e(e,n,r){this.node=e,this.xc=n,this.ib=[],this.T=!1,n.M||h.a.I.za(e,t),r&&r.M&&(r.M.ib.push(e),this.Kb=r)}function n(t){return function(){return t}}function r(t){return t()}function i(t){return h.a.Ha(h.v.K(t),function(e,n){return function(){return t()[n]}})}function o(t,e,r){return"function"==typeof t?i(t.bind(null,e,r)):h.a.Ha(t,n)}function s(t,e){return i(this.getBindings.bind(this,t,e))}function l(t,e){var n=h.h.firstChild(e);if(n){var r,i=h.ga.instance,o=i.preprocessNode;if(o){for(;r=n;)n=h.h.nextSibling(r),o.call(i,r);n=h.h.firstChild(e)}for(;r=n;)n=h.h.nextSibling(r),d(t,r)}h.j.Ga(e,h.j.T)}function d(t,e){var n=t,r=1===e.nodeType;r&&h.h.Rc(e),(r||h.ga.instance.nodeHasBindings(e))&&(n=v(e,null,t).bindingContextForDescendants),n&&!_[h.a.P(e)]&&l(n,e)}function p(t){var e=[],n={},r=[];return h.a.O(t,function i(o){if(!n[o]){var a=h.getBindingHandler(o);a&&(a.after&&(r.push(o),h.a.C(a.after,function(e){if(t[e]){if(-1!==h.a.A(r,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(e)}}),r.length--),e.push({key:o,Lc:a})),n[o]=!0}}),e}function v(t,e,n){var i=h.a.g.Tb(t,w,{}),o=i.gd;if(!e){if(o)throw Error("You cannot apply bindings multiple times to the same element.");i.gd=!0}o||(i.context=n);var u;if(e&&"function"!=typeof e)u=e;else{var c=h.ga.instance,f=c.getBindingAccessors||s,l=h.$(function(){return(u=e?e(n,t):f.call(c,t,n))&&(n[y]&&n[y](),n[g]&&n[g]()),u},null,{l:t});u&&l.ja()||(l=null)}var d,v=n;if(u){var b=function(){return h.a.Ha(l?l():u,r)},m=l?function(t){return function(){return r(l()[t])}}:function(t){return u[t]};b.get=function(t){return u[t]&&r(m(t))},b.has=function(t){return t in u},h.j.T in u&&h.j.subscribe(t,h.j.T,function(){var e=(0,u[h.j.T])();if(e){var n=h.h.childNodes(t);n.length&&e(n,h.Dc(n[0]))}}),h.j.oa in u&&(v=h.j.Bb(t,n),h.j.subscribe(t,h.j.oa,function(){var e=(0,u[h.j.oa])();e&&h.h.firstChild(t)&&e(t)})),i=p(u),h.a.C(i,function(e){var n=e.Lc.init,r=e.Lc.update,i=e.key;if(8===t.nodeType&&!h.h.ea[i])throw Error("The binding '"+i+"' cannot be used with virtual elements");try{"function"==typeof n&&h.v.K(function(){var e=n(t,m(i),b,v.$data,v);if(e&&e.controlsDescendantBindings){if(d!==a)throw Error("Multiple bindings ("+d+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=i}}),"function"==typeof r&&h.$(function(){r(t,m(i),b,v.$data,v)},null,{l:t})}catch(t){throw t.message='Unable to process binding "'+i+": "+u[i]+'"\nMessage: '+t.message,t}})}return i=d===a,{shouldBindDescendants:i,bindingContextForDescendants:i&&v}}function b(t,e){return t&&t instanceof h.fa?t:new h.fa(t,a,a,e)}var y=h.a.Da("_subscribable"),m=h.a.Da("_ancestorBindingInfo"),g=h.a.Da("_dataDependency");h.f={};var _={script:!0,textarea:!0,template:!0};h.getBindingHandler=function(t){return h.f[t]};var x={};h.fa=function(t,e,n,r,i){function o(){var t=l?f():f,i=h.a.c(t);return e?(h.a.extend(c,e),m in e&&(c[m]=e[m])):(c.$parents=[],c.$root=i,c.ko=h),c[y]=u,s?i=c.$data:(c.$rawData=t,c.$data=i),n&&(c[n]=i),r&&r(c,e,i),e&&e[y]&&!h.U.o().Ub(e[y])&&e[y](),d&&(c[g]=d),c.$data}var u,c=this,s=t===x,f=s?a:t,l="function"==typeof f&&!h.N(f),d=i&&i.dataDependency;i&&i.exportDependencies?o():(u=h.wb(o),u.w(),u.ja()?u.equalityComparer=null:c[y]=a)},h.fa.prototype.createChildContext=function(t,e,n,r){if(!r&&e&&"object"==typeof e&&(r=e,e=r.as,n=r.extend),e&&r&&r.noChildContext){var i="function"==typeof t&&!h.N(t);return new h.fa(x,this,null,function(r){n&&n(r),r[e]=i?t():t},r)}return new h.fa(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)},r)},h.fa.prototype.extend=function(t,e){return new h.fa(x,this,null,function(e){h.a.extend(e,"function"==typeof t?t(e):t)},e)};var w=h.a.g.Z();e.prototype.Sc=function(){this.Kb&&this.Kb.M&&this.Kb.M.rd(this.node)},e.prototype.rd=function(t){h.a.hb(this.ib,t),!this.ib.length&&this.T&&this.Bc()},e.prototype.Bc=function(){this.T=!0,this.xc.M&&!this.ib.length&&(this.xc.M=null,h.a.I.xb(this.node,t),h.j.Ga(this.node,h.j.oa),this.Sc())},h.j={T:"childrenComplete",oa:"descendantsComplete",subscribe:function(t,e,n,r){return t=h.a.g.Tb(t,w,{}),t.Fa||(t.Fa=new h.R),t.Fa.subscribe(n,r,e)},Ga:function(t,e){var n=h.a.g.get(t,w);if(n&&(n.Fa&&n.Fa.notifySubscribers(t,e),e==h.j.T))if(n.M)n.M.Bc();else if(n.M===a&&n.Fa&&n.Fa.Wa(h.j.oa))throw Error("descendantsComplete event not supported for bindings on this node")},Bb:function(t,n){var r=h.a.g.Tb(t,w,{});return r.M||(r.M=new e(t,r,n[m])),n[m]==r?n:n.extend(function(t){t[m]=r})}},h.Sd=function(t){return(t=h.a.g.get(t,w))&&t.context},h.eb=function(t,e,n){return 1===t.nodeType&&h.h.Rc(t),v(t,e,b(n))},h.kd=function(t,e,n){return n=b(n),h.eb(t,o(e,n,t),n)},h.Pa=function(t,e){1!==e.nodeType&&8!==e.nodeType||l(b(t),e)},h.uc=function(t,e,n){if(!f&&u.jQuery&&(f=u.jQuery),2>arguments.length){if(e=c.body,!e)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!e||1!==e.nodeType&&8!==e.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d(b(t,n),e)},h.Cc=function(t){return!t||1!==t.nodeType&&8!==t.nodeType?a:h.Sd(t)},h.Dc=function(t){return(t=h.Cc(t))?t.$data:a},h.b("bindingHandlers",h.f),h.b("bindingEvent",h.j),h.b("bindingEvent.subscribe",h.j.subscribe),h.b("bindingEvent.startPossiblyAsyncContentBinding",h.j.Bb),h.b("applyBindings",h.uc),h.b("applyBindingsToDescendants",h.Pa),h.b("applyBindingAccessorsToNode",h.eb),h.b("applyBindingsToNode",h.kd),h.b("contextFor",h.Cc),h.b("dataFor",h.Dc)}(),function(t){function e(e,r){var a,u=Object.prototype.hasOwnProperty.call(i,e)?i[e]:t;u?u.subscribe(r):(u=i[e]=new h.R,u.subscribe(r),n(e,function(t,n){var r=!(!n||!n.synchronous);o[e]={definition:t,Fd:r},delete i[e],a||r?u.notifySubscribers(t):h.ma.yb(function(){u.notifySubscribers(t)})}),a=!0)}function n(t,e){r("getConfig",[t],function(n){n?r("loadComponent",[t,n],function(t){e(t,n)}):e(null,null)})}function r(e,n,i,o){o||(o=h.i.loaders.slice(0));var a=o.shift();if(a){var u=a[e];if(u){var c=!1;if(u.apply(a,n.concat(function(t){c?i(null):null!==t?i(t):r(e,n,i,o)}))!==t&&(c=!0,!a.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(e,n,i,o)}else i(null)}var i={},o={};h.i={get:function(n,r){var i=Object.prototype.hasOwnProperty.call(o,n)?o[n]:t;i?i.Fd?h.v.K(function(){r(i.definition)}):h.ma.yb(function(){r(i.definition)}):e(n,r)},Ac:function(t){delete o[t]},nc:r},h.i.loaders=[],h.b("components",h.i),h.b("components.get",h.i.get),h.b("components.clearCachedDefinition",h.i.Ac)}(),function(){function t(t,e,n,r){function i(){0===--u&&r(a)}var a={},u=2,c=n.template;n=n.viewModel,c?o(e,c,function(e){h.i.nc("loadTemplate",[t,e],function(t){a.template=t,i()})}):i(),n?o(e,n,function(e){h.i.nc("loadViewModel",[t,e],function(t){a[f]=t,i()})}):i()}function n(t,e,r){if("function"==typeof e)r(function(t){return new e(t)});else if("function"==typeof e[f])r(e[f]);else if("instance"in e){var i=e.instance;r(function(){return i})}else"viewModel"in e?n(t,e.viewModel,r):t("Unknown viewModel value: "+e)}function r(t){switch(h.a.P(t)){case"script":return h.a.ta(t.text);case"textarea":return h.a.ta(t.value);case"template":if(i(t.content))return h.a.Ca(t.content.childNodes)}return h.a.Ca(t.childNodes)}function i(t){return u.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function o(t,n,r){"string"==typeof n.require?e||u.require?(e||u.require)([n.require],r):t("Uses require, but no AMD loader is present"):r(n)}function a(t){return function(e){throw Error("Component '"+t+"': "+e)}}var s={};h.i.register=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(h.i.sb(t))throw Error("Component "+t+" is already registered");s[t]=e},h.i.sb=function(t){return Object.prototype.hasOwnProperty.call(s,t)},h.i.unregister=function(t){delete s[t],h.i.Ac(t)},h.i.Ec={getConfig:function(t,e){e(h.i.sb(t)?s[t]:null)},loadComponent:function(e,n,r){var i=a(e);o(i,n,function(n){t(e,i,n,r)})},loadTemplate:function(t,e,n){if(t=a(t),"string"==typeof e)n(h.a.ta(e));else if(e instanceof Array)n(e);else if(i(e))n(h.a.la(e.childNodes));else if(e.element)if(e=e.element,u.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType)n(r(e));else if("string"==typeof e){var o=c.getElementById(e);o?n(r(o)):t("Cannot find element with ID "+e)}else t("Unknown element type: "+e);else t("Unknown template value: "+e)},loadViewModel:function(t,e,r){n(a(t),e,r)}};var f="createViewModel";h.b("components.register",h.i.register),h.b("components.isRegistered",h.i.sb),h.b("components.unregister",h.i.unregister),h.b("components.defaultLoader",h.i.Ec),h.i.loaders.push(h.i.Ec),h.i.cd=s}(),function(){function t(t,n){var r=t.getAttribute("params");if(r){var r=e.parseBindingsString(r,n,t,{valueAccessors:!0,bindingParams:!0}),r=h.a.Ha(r,function(e){return h.o(e,null,{l:t})}),i=h.a.Ha(r,function(e){var n=e.w();return e.ja()?h.o({read:function(){return h.a.c(e())},write:h.Ya(n)&&function(t){e()(t)},l:t}):n});return Object.prototype.hasOwnProperty.call(i,"$raw")||(i.$raw=r),i}return{$raw:{}}}h.i.getComponentNameForNode=function(t){var e=h.a.P(t);if(h.i.sb(e)&&(-1!=e.indexOf("-")||"[object HTMLUnknownElement]"==""+t||8>=h.a.W&&t.tagName===e))return e},h.i.sc=function(e,n,r,i){if(1===n.nodeType){var o=h.i.getComponentNameForNode(n);if(o){if(e=e||{},e.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var a={name:o,params:t(n,r)};e.component=i?function(){return a}:a}}return e};var e=new h.ga;9>h.a.W&&(h.i.register=function(t){return function(e){return t.apply(this,arguments)}}(h.i.register),c.createDocumentFragment=function(t){return function(){var e,n=t(),r=h.i.cd;for(e in r);return n}}(c.createDocumentFragment))}(),function(){function t(t,e,n){if(e=e.template,!e)throw Error("Component '"+t+"' has no template");t=h.a.Ca(e),h.h.ua(n,t)}function e(t,e,n){var r=t.createViewModel;return r?r.call(t,e,n):e}var n=0;h.f.component={init:function(r,i,o,a,u){function c(){var t=s&&s.dispose;"function"==typeof t&&t.call(s),l&&l.s(),f=s=l=null}var s,f,l,d=h.a.la(h.h.childNodes(r));return h.h.Ea(r),h.a.I.za(r,c),h.o(function(){var o,a,p=h.a.c(i());if("string"==typeof p?o=p:(o=h.a.c(p.name),a=h.a.c(p.params)),!o)throw Error("No component name specified");var v=h.j.Bb(r,u),b=f=++n;h.i.get(o,function(n){if(f===b){if(c(),!n)throw Error("Unknown component '"+o+"'");t(o,n,r);var i=e(n,a,{element:r,templateNodes:d});n=v.createChildContext(i,{extend:function(t){t.$component=i,t.$componentTemplateNodes=d}}),i&&i.koDescendantsComplete&&(l=h.j.subscribe(r,h.j.oa,i.koDescendantsComplete,i)),s=i,h.Pa(n,r)}})},null,{l:r}),{controlsDescendantBindings:!0}}},h.h.ea.component=!0}();var C={class:"className",for:"htmlFor"};h.f.attr={update:function(t,e){var n=h.a.c(e())||{};h.a.O(n,function(e,n){n=h.a.c(n);var r=e.indexOf(":"),r="lookupNamespaceURI"in t&&0<r&&t.lookupNamespaceURI(e.substr(0,r)),i=!1===n||null===n||n===a;i?r?t.removeAttributeNS(r,e):t.removeAttribute(e):n=n.toString(),8>=h.a.W&&e in C?(e=C[e],i?t.removeAttribute(e):t[e]=n):i||(r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)),"name"===e&&h.a.Xc(t,i?"":n)})}},function(){h.f.checked={after:["value","attr"],init:function(t,e,n){function r(){var r=t.checked,i=o();if(!h.U.rb()&&(r||!c&&!h.U.pa())){var s=h.v.K(e);if(f){var d=l?s.w():s,v=p;p=i,v!==i?r&&(h.a.Oa(d,i,!0),h.a.Oa(d,v,!1)):h.a.Oa(d,i,r),l&&h.Ya(s)&&s(d)}else u&&(i===a?i=r:r||(i=a)),h.m.$a(s,n,"checked",i,!0)}}function i(){var n=h.a.c(e()),r=o();f?(t.checked=0<=h.a.A(n,r),p=r):t.checked=u&&r===a?!!n:o()===n}var o=h.wb(function(){return n.has("checkedValue")?h.a.c(n.get("checkedValue")):d?n.has("value")?h.a.c(n.get("value")):t.value:void 0}),u="checkbox"==t.type,c="radio"==t.type;if(u||c){var s=e(),f=u&&h.a.c(s)instanceof Array,l=!(f&&s.push&&s.splice),d=c||f,p=f?o():a;c&&!t.name&&h.f.uniqueName.init(t,function(){return!0}),h.o(r,null,{l:t}),h.a.H(t,"click",r),h.o(i,null,{l:t}),s=a}}},h.m.va.checked=!0,h.f.checkedValue={update:function(t,e){t.value=h.a.c(e())}}}(),h.f.class={update:function(t,e){var n=h.a.Cb(h.a.c(e()));h.a.Eb(t,t.__ko__cssValue,!1),t.__ko__cssValue=n,h.a.Eb(t,n,!0)}},h.f.css={update:function(t,e){var n=h.a.c(e());null!==n&&"object"==typeof n?h.a.O(n,function(e,n){n=h.a.c(n),h.a.Eb(t,e,n)}):h.f.class.update(t,e)}},h.f.enable={update:function(t,e){var n=h.a.c(e());n&&t.disabled?t.removeAttribute("disabled"):n||t.disabled||(t.disabled=!0)}},h.f.disable={update:function(t,e){h.f.enable.update(t,function(){return!h.a.c(e())})}},h.f.event={init:function(t,e,n,r,i){var o=e()||{};h.a.O(o,function(o){"string"==typeof o&&h.a.H(t,o,function(t){var a,u=e()[o];if(u){try{var c=h.a.la(arguments);r=i.$data,c.unshift(r),a=u.apply(r,c)}finally{!0!==a&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===n.get(o+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},h.f.foreach={Qc:function(t){return function(){var e=t(),n=h.a.$b(e);return n&&"number"!=typeof n.length?(h.a.c(e),{foreach:n.data,as:n.as,noChildContext:n.noChildContext,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:h.ba.Na}):{foreach:e,templateEngine:h.ba.Na}}},init:function(t,e){return h.f.template.init(t,h.f.foreach.Qc(e))},update:function(t,e,n,r,i){return h.f.template.update(t,h.f.foreach.Qc(e),n,r,i)}},h.m.Ra.foreach=!1,h.h.ea.foreach=!0,h.f.hasfocus={init:function(t,e,n){function r(r){t.__ko_hasfocusUpdating=!0;var i=t.ownerDocument;if("activeElement"in i){var o;try{o=i.activeElement}catch(t){o=i.body}r=o===t}i=e(),h.m.$a(i,n,"hasfocus",r,!0),t.__ko_hasfocusLastValue=r,t.__ko_hasfocusUpdating=!1}var i=r.bind(null,!0),o=r.bind(null,!1);h.a.H(t,"focus",i),h.a.H(t,"focusin",i),h.a.H(t,"blur",o),h.a.H(t,"focusout",o),t.__ko_hasfocusLastValue=!1},update:function(t,e){var n=!!h.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===n||(n?t.focus():t.blur(),!n&&t.__ko_hasfocusLastValue&&t.ownerDocument.body.focus(),h.v.K(h.a.Fb,null,[t,n?"focusin":"focusout"]))}},h.m.va.hasfocus=!0,h.f.hasFocus=h.f.hasfocus,h.m.va.hasFocus="hasfocus",h.f.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){h.a.dc(t,e())}},function(){function t(t,e,n){h.f[t]={init:function(t,r,i,o,a){var u,c,s,f,l,d={};if(e){o=i.get("as");var p=i.get("noChildContext");l=!(o&&p),d={as:o,noChildContext:p,exportDependencies:l}}return f=(s="render"==i.get("completeOn"))||i.has(h.j.oa),h.o(function(){var i,o=h.a.c(r()),p=!n!=!o,v=!c;(l||p!==u)&&(f&&(a=h.j.Bb(t,a)),p&&(e&&!l||(d.dataDependency=h.U.o()),i=e?a.createChildContext("function"==typeof o?o:r,d):h.U.pa()?a.extend(null,d):a),v&&h.U.pa()&&(c=h.a.Ca(h.h.childNodes(t),!0)),p?(v||h.h.ua(t,h.a.Ca(c)),h.Pa(i,t)):(h.h.Ea(t),s||h.j.Ga(t,h.j.T)),u=p)},null,{l:t}),{controlsDescendantBindings:!0}}},h.m.Ra[t]=!1,h.h.ea[t]=!0}t("if"),t("ifnot",!1,!0),t("with",!0)}(),h.f.let={init:function(t,e,n,r,i){return e=i.extend(e),h.Pa(e,t),{controlsDescendantBindings:!0}}},h.h.ea.let=!0;var O={};h.f.options={init:function(t){if("select"!==h.a.P(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(t,e,n){function r(){return h.a.fb(t.options,function(t){return t.selected})}function i(t,e,n){var r=typeof e;return"function"==r?e(t):"string"==r?t[e]:n}function o(e,r){if(v&&f)h.u.ya(t,h.a.c(n.get("value")),!0);else if(p.length){var i=0<=h.a.A(p,h.u.L(r[0]));h.a.Yc(r[0],i),v&&!i&&h.v.K(h.a.Fb,null,[t,"change"])}}var u=t.multiple,c=0!=t.length&&u?t.scrollTop:null,s=h.a.c(e()),f=n.get("valueAllowUnset")&&n.has("value"),l=n.get("optionsIncludeDestroyed");e={};var d,p=[];f||(u?p=h.a.Mb(r(),h.u.L):0<=t.selectedIndex&&p.push(h.u.L(t.options[t.selectedIndex]))),s&&("undefined"==typeof s.length&&(s=[s]),d=h.a.fb(s,function(t){return l||t===a||null===t||!h.a.c(t._destroy)}),n.has("optionsCaption")&&(s=h.a.c(n.get("optionsCaption")),null!==s&&s!==a&&d.unshift(O)));var v=!1;e.beforeRemove=function(e){t.removeChild(e)},s=o,n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(s=function(t,e){o(0,e),h.v.K(n.get("optionsAfterRender"),null,[e[0],t!==O?t:a])}),h.a.cc(t,d,function(e,r,o){return o.length&&(p=!f&&o[0].selected?[h.u.L(o[0])]:[],v=!0),r=t.ownerDocument.createElement("option"),e===O?(h.a.Ab(r,n.get("optionsCaption")),h.u.ya(r,a)):(o=i(e,n.get("optionsValue"),e),h.u.ya(r,h.a.c(o)),e=i(e,n.get("optionsText"),o),h.a.Ab(r,e)),[r]},e,s),h.v.K(function(){if(f)h.u.ya(t,h.a.c(n.get("value")),!0);else{var e;e=u?p.length&&r().length<p.length:p.length&&0<=t.selectedIndex?h.u.L(t.options[t.selectedIndex])!==p[0]:p.length||0<=t.selectedIndex,e&&h.a.Fb(t,"change")}}),h.a.vd(t),c&&20<Math.abs(c-t.scrollTop)&&(t.scrollTop=c)}},h.f.options.Yb=h.a.g.Z(),h.f.selectedOptions={after:["options","foreach"],init:function(t,e,n){h.a.H(t,"change",function(){var r=e(),i=[];h.a.C(t.getElementsByTagName("option"),function(t){t.selected&&i.push(h.u.L(t))}),h.m.$a(r,n,"selectedOptions",i)})},update:function(t,e){if("select"!=h.a.P(t))throw Error("values binding applies only to SELECT elements");var n=h.a.c(e()),r=t.scrollTop;n&&"number"==typeof n.length&&h.a.C(t.getElementsByTagName("option"),function(t){var e=0<=h.a.A(n,h.u.L(t));t.selected!=e&&h.a.Yc(t,e)}),t.scrollTop=r}},h.m.va.selectedOptions=!0,h.f.style={update:function(t,e){var n=h.a.c(e()||{});h.a.O(n,function(e,n){if(n=h.a.c(n),null!==n&&n!==a&&!1!==n||(n=""),f)f(t).css(e,n);else if(/^--/.test(e))t.style.setProperty(e,n);else{e=e.replace(/-(\w)/g,function(t,e){return e.toUpperCase()});var r=t.style[e];t.style[e]=n,n===r||t.style[e]!=r||isNaN(n)||(t.style[e]=n+"px")}})}},h.f.submit={init:function(t,e,n,r,i){if("function"!=typeof e())throw Error("The value for a submit binding must be a function");h.a.H(t,"submit",function(n){var r,o=e();try{r=o.call(i.$data,t)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},h.f.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){h.a.Ab(t,e())}},h.h.ea.text=!0,function(){if(u&&u.navigator){var t,e,n,r,i,o=function(t){if(t)return parseFloat(t[1])},c=u.navigator.userAgent;(t=u.opera&&u.opera.version&&parseInt(u.opera.version()))||(i=o(c.match(/Edge\/([^ ]+)$/)))||o(c.match(/Chrome\/([^ ]+)/))||(e=o(c.match(/Version\/([^ ]+) Safari/)))||(n=o(c.match(/Firefox\/([^ ]+)/)))||(r=h.a.W||o(c.match(/MSIE ([^ ]+)/)))||(r=o(c.match(/rv:([^ )]+)/)))}if(8<=r&&10>r)var s=h.a.g.Z(),f=h.a.g.Z(),l=function(t){var e=this.activeElement;(e=e&&h.a.g.get(e,f))&&e(t)},d=function(t,e){var n=t.ownerDocument;h.a.g.get(n,s)||(h.a.g.set(n,s,!0),h.a.H(n,"selectionchange",l)),h.a.g.set(t,f,e)};h.f.textInput={init:function(o,u,c){function s(t,e){h.a.H(o,t,e)}function f(){var t=h.a.c(u());null!==t&&t!==a||(t=""),b!==a&&t===b?h.a.setTimeout(f,4):o.value!==t&&(g=!0,o.value=t,g=!1,y=o.value)}function l(){v||(b=o.value,v=h.a.setTimeout(p,4))}function p(){clearTimeout(v),b=v=a;var t=o.value;y!==t&&(y=t,h.m.$a(u(),c,"textInput",t))}var v,b,y=o.value,m=9==h.a.W?l:p,g=!1;r&&s("keypress",p),11>r&&s("propertychange",function(t){g||"value"!==t.propertyName||m(t)}),8==r&&(s("keyup",p),s("keydown",p)),d&&(d(o,m),s("dragend",l)),(!r||9<=r)&&s("input",m),5>e&&"textarea"===h.a.P(o)?(s("keydown",l),s("paste",l),s("cut",l)):11>t?s("keydown",l):4>n?(s("DOMAutoComplete",p),s("dragdrop",p),s("drop",p)):i&&"number"===o.type&&s("keydown",l),s("change",p),s("blur",p),h.o(f,null,{l:o})}},h.m.va.textInput=!0,h.f.textinput={preprocess:function(t,e,n){n("textInput",t)}}}(),h.f.uniqueName={init:function(t,e){if(e()){var n="ko_unique_"+ ++h.f.uniqueName.qd;h.a.Xc(t,n)}}},h.f.uniqueName.qd=0,h.f.using={init:function(t,e,n,r,i){var o;return n.has("as")&&(o={as:n.get("as"),noChildContext:n.get("noChildContext")}),e=i.createChildContext(e,o),h.Pa(e,t),{controlsDescendantBindings:!0}}},h.h.ea.using=!0,h.f.value={after:["options","foreach"],init:function(t,e,n){var r=h.a.P(t),i="input"==r;if(!i||"checkbox"!=t.type&&"radio"!=t.type){var o=["change"],u=n.get("valueUpdate"),c=!1,s=null;u&&("string"==typeof u&&(u=[u]),h.a.gb(o,u),o=h.a.vc(o));var f=function(){s=null,c=!1;var r=e(),i=h.u.L(t);h.m.$a(r,n,"value",i)};!h.a.W||!i||"text"!=t.type||"off"==t.autocomplete||t.form&&"off"==t.form.autocomplete||-1!=h.a.A(o,"propertychange")||(h.a.H(t,"propertychange",function(){c=!0}),h.a.H(t,"focus",function(){c=!1}),h.a.H(t,"blur",function(){c&&f()})),h.a.C(o,function(e){var n=f;h.a.Td(e,"after")&&(n=function(){s=h.u.L(t),h.a.setTimeout(f,0)},e=e.substring(5)),h.a.H(t,e,n)});var l;l=i&&"file"==t.type?function(){var n=h.a.c(e());null===n||n===a||""===n?t.value="":h.v.K(f)}:function(){var i=h.a.c(e()),o=h.u.L(t);null!==s&&i===s?h.a.setTimeout(l,0):i===o&&o!==a||("select"===r?(o=n.get("valueAllowUnset"),h.u.ya(t,i,o),o||i===h.u.L(t)||h.v.K(f)):h.u.ya(t,i))},h.o(l,null,{l:t})}else h.eb(t,{checkedValue:e})},update:function(){}},h.m.va.value=!0,h.f.visible={update:function(t,e){var n=h.a.c(e()),r="none"!=t.style.display;n&&!r?t.style.display="":!n&&r&&(t.style.display="none")}},h.f.hidden={update:function(t,e){h.f.visible.update(t,function(){return!h.a.c(e())})}},function(t){h.f[t]={init:function(e,n,r,i,o){return h.f.event.init.call(this,e,function(){var e={};return e[t]=n(),e},r,i,o)}}}("click"),h.ca=function(){},h.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},h.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},h.ca.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||c;var n=e.getElementById(t);if(!n)throw Error("Cannot find template with ID "+t);return new h.B.D(n)}if(1==t.nodeType||8==t.nodeType)return new h.B.ia(t);throw Error("Unknown template type: "+t)},h.ca.prototype.renderTemplate=function(t,e,n,r){return t=this.makeTemplateSource(t,r),this.renderTemplateSource(t,e,n,r)},h.ca.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,e).data("isRewritten")},h.ca.prototype.rewriteTemplate=function(t,e,n){t=this.makeTemplateSource(t,n),e=e(t.text()),t.text(e),t.data("isRewritten",!0)},h.b("templateEngine",h.ca),h.ic=function(){function t(t,e,n,r){t=h.m.Zb(t);for(var i=h.m.Ra,o=0;o<t.length;o++){var a=t[o].key;if(Object.prototype.hasOwnProperty.call(i,a)){var u=i[a];if("function"==typeof u){if(a=u(t[o].value))throw Error(a)}else if(!u)throw Error("This template engine does not support the '"+a+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+h.m.ub(t,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(n)+e}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{wd:function(t,e,n){e.isTemplateRewritten(t,n)||e.rewriteTemplate(t,function(t){return h.ic.Kd(t,e)},n)},Kd:function(r,i){return r.replace(e,function(e,n,r,o,a){return t(a,n,r,i)}).replace(n,function(e,n){return t(n,"<!-- ko -->","#comment",i)})},ld:function(t,e){return h.aa.Wb(function(n,r){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===e&&h.eb(i,t,r)})}}}(),h.b("__tr_ambtns",h.ic.ld),function(){h.B={},h.B.D=function(t){if(this.D=t){var e=h.a.P(t);this.Db="script"===e?1:"textarea"===e?2:"template"==e&&t.content&&11===t.content.nodeType?3:4}},h.B.D.prototype.text=function(){var t=1===this.Db?"text":2===this.Db?"value":"innerHTML";if(0==arguments.length)return this.D[t];var e=arguments[0];"innerHTML"===t?h.a.dc(this.D,e):this.D[t]=e};var t=h.a.g.Z()+"_";h.B.D.prototype.data=function(e){return 1===arguments.length?h.a.g.get(this.D,t+e):void h.a.g.set(this.D,t+e,arguments[1])};var e=h.a.g.Z();h.B.D.prototype.nodes=function(){var t=this.D;if(0==arguments.length){var n=h.a.g.get(t,e)||{},r=n.jb||(3===this.Db?t.content:4===this.Db?t:a);return r&&!n.hd||(n=this.text())&&(r=h.a.Ld(n,t.ownerDocument),this.text(""),h.a.g.set(t,e,{jb:r,hd:!0})),r}h.a.g.set(t,e,{jb:arguments[0]})},h.B.ia=function(t){this.D=t},h.B.ia.prototype=new h.B.D,h.B.ia.prototype.constructor=h.B.ia,h.B.ia.prototype.text=function(){if(0==arguments.length){var t=h.a.g.get(this.D,e)||{};return t.jc===a&&t.jb&&(t.jc=t.jb.innerHTML),t.jc}h.a.g.set(this.D,e,{jc:arguments[0]})},h.b("templateSources",h.B),h.b("templateSources.domElement",h.B.D),h.b("templateSources.anonymousTemplate",h.B.ia)}(),function(){function t(t,e,n){var r;for(e=h.h.nextSibling(e);t&&(r=t)!==e;)t=h.h.nextSibling(r),n(r,t)}function e(e,n){if(e.length){var r=e[0],i=e[e.length-1],o=r.parentNode,a=h.ga.instance,u=a.preprocessNode;if(u){if(t(r,i,function(t,e){var n=t.previousSibling,o=u.call(a,t);o&&(t===r&&(r=o[0]||e),t===i&&(i=o[o.length-1]||n))}),e.length=0,!r)return;r===i?e.push(r):(e.push(r,i),h.a.Ua(e,o))}t(r,i,function(t){1!==t.nodeType&&8!==t.nodeType||h.uc(n,t)}),t(r,i,function(t){1!==t.nodeType&&8!==t.nodeType||h.aa.bd(t,[n])}),h.a.Ua(e,o)}}function n(t){return t.nodeType?t:0<t.length?t[0]:null}function r(t,r,i,a,u){u=u||{};var c=(t&&n(t)||i||{}).ownerDocument,s=u.templateEngine||o;if(h.ic.wd(i,s,c),i=s.renderTemplate(i,a,u,c),"number"!=typeof i.length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,r){case"replaceChildren":h.h.ua(t,i),c=!0;break;case"replaceNode":h.a.Wc(t,i),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+r)}return c&&(e(i,a),u.afterRender&&h.v.K(u.afterRender,null,[i,a[u.as||"$data"]]),"replaceChildren"==r&&h.j.Ga(t,h.j.T)),i}function i(t,e,n){return h.N(t)?t():"function"==typeof t?t(e,n):t}var o;h.ec=function(t){if(t!=a&&!(t instanceof h.ca))throw Error("templateEngine must inherit from ko.templateEngine");o=t},h.bc=function(t,e,u,c,s){if(u=u||{},(u.templateEngine||o)==a)throw Error("Set a template engine before calling renderTemplate");if(s=s||"replaceChildren",c){var f=n(c);return h.$(function(){var o=e&&e instanceof h.fa?e:new h.fa(e,null,null,null,{exportDependencies:!0}),a=i(t,o.$data,o),o=r(c,s,a,o,u);"replaceNode"==s&&(c=o,f=n(c))},null,{Sa:function(){return!f||!h.a.Rb(f)},l:f&&"replaceNode"==s?f.parentNode:f})}return h.aa.Wb(function(n){h.bc(t,e,u,n,"replaceNode")})},h.Pd=function(t,n,o,u,c){function s(t,e){h.v.K(h.a.cc,null,[u,t,l,o,f,e]),h.j.Ga(u,h.j.T)}function f(t,n){e(n,d),o.afterRender&&o.afterRender(n,t),d=null}function l(e,n){d=c.createChildContext(e,{as:p,noChildContext:o.noChildContext,extend:function(t){t.$index=n,p&&(t[p+"Index"]=n)}});var a=i(t,e,d);return r(u,"ignoreTargetNode",a,d,o)}var d,p=o.as,v=!1===o.includeDestroyed||h.options.foreachHidesDestroyed&&!o.includeDestroyed;if(v||o.beforeRemove||!h.Oc(n))return h.$(function(){var t=h.a.c(n)||[];"undefined"==typeof t.length&&(t=[t]),v&&(t=h.a.fb(t,function(t){return t===a||null===t||!h.a.c(t._destroy)})),s(t)},null,{l:u});s(n.w());var b=n.subscribe(function(t){s(n(),t)},null,"arrayChange");return b.l(u),b};var u=h.a.g.Z(),c=h.a.g.Z();h.f.template={init:function(t,e){var n=h.a.c(e());if("string"==typeof n||n.name)h.h.Ea(t);else if("nodes"in n){if(n=n.nodes||[],h.N(n))throw Error('The "nodes" option must be a plain, non-observable array.');var r=n[0]&&n[0].parentNode;r&&h.a.g.get(r,c)||(r=h.a.Xb(n),h.a.g.set(r,c,!0)),new h.B.ia(t).nodes(r)}else{if(n=h.h.childNodes(t),!(0<n.length))throw Error("Anonymous template defined, but no template content was provided");r=h.a.Xb(n),new h.B.ia(t).nodes(r)}return{controlsDescendantBindings:!0}},update:function(t,e,n,r,i){var o=e();e=h.a.c(o),n=!0,r=null,"string"==typeof e?e={}:(o=e.name,"if"in e&&(n=h.a.c(e.if)),n&&"ifnot"in e&&(n=!h.a.c(e.ifnot))),"foreach"in e?r=h.Pd(o||t,n&&e.foreach||[],e,t,i):n?(n=i,"data"in e&&(n=i.createChildContext(e.data,{as:e.as,noChildContext:e.noChildContext,exportDependencies:!0})),r=h.bc(o||t,n,e,t)):h.h.Ea(t),i=r,(e=h.a.g.get(t,u))&&"function"==typeof e.s&&e.s(),h.a.g.set(t,u,!i||i.ja&&!i.ja()?a:i)}},h.m.Ra.template=function(t){return t=h.m.Zb(t),1==t.length&&t[0].unknown||h.m.Hd(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},h.h.ea.template=!0}(),h.b("setTemplateEngine",h.ec),h.b("renderTemplate",h.bc),h.a.Jc=function(t,e,n){if(t.length&&e.length){var r,i,o,a,u;for(r=i=0;(!n||r<n)&&(a=t[i]);++i){for(o=0;u=e[o];++o)if(a.value===u.value){a.moved=u.index,u.moved=a.index,e.splice(o,1),r=o=0;break}r+=o}}},h.a.Ob=function(){function t(t,e,n,r,i){var o,a,u,c,s,f=Math.min,l=Math.max,d=[],p=t.length,v=e.length,b=v-p||1,y=p+v+1;for(o=0;o<=p;o++)for(c=u,d.push(u=[]),s=f(v,o+b),a=l(0,o-1);a<=s;a++)u[a]=a?o?t[o-1]===e[a-1]?c[a-1]:f(c[a]||y,u[a-1]||y)+1:a+1:o+1;for(f=[],l=[],b=[],o=p,a=v;o||a;)v=d[o][a]-1,a&&v===d[o][a-1]?l.push(f[f.length]={status:n,value:e[--a],index:a}):o&&v===d[o-1][a]?b.push(f[f.length]={status:r,value:t[--o],index:o}):(--a,--o,i.sparse||f.push({status:"retained",value:e[a]}));return h.a.Jc(b,l,!i.dontLimitMoves&&10*p),f.reverse()}return function(e,n,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},e=e||[],n=n||[],e.length<n.length?t(e,n,"added","deleted",r):t(n,e,"deleted","added",r);
}}(),h.b("utils.compareArrays",h.a.Ob),function(){function t(t,e,n,r,i){var o=[],u=h.$(function(){var a=e(n,i,h.a.Ua(o,t))||[];0<o.length&&(h.a.Wc(o,a),r&&h.v.K(r,null,[n,a,i])),o.length=0,h.a.gb(o,a)},null,{l:t,Sa:function(){return!h.a.jd(o)}});return{Y:o,$:u.ja()?u:a}}var e=h.a.g.Z(),n=h.a.g.Z();h.a.cc=function(r,i,o,u,c,s){function f(t){p={Aa:t,nb:h.sa(g++)},y.push(p),b||j.push(p)}function l(t){p=v[t],g!==p.nb.w()&&k.push(p),p.nb(g++),h.a.Ua(p.Y,r),y.push(p)}function d(t,e){if(t)for(var n=0,r=e.length;n<r;n++)h.a.C(e[n].Y,function(r){t(r,n,e[n].Aa)})}i=i||[],"undefined"==typeof i.length&&(i=[i]),u=u||{};var p,v=h.a.g.get(r,e),b=!v,y=[],m=0,g=0,_=[],x=[],w=[],k=[],j=[],C=0;if(b)h.a.C(i,f);else{if(!s||v&&v._countWaitingForRemove){var O=h.a.Mb(v,function(t){return t.Aa});s=h.a.Ob(O,i,{dontLimitMoves:u.dontLimitMoves,sparse:!0})}for(var T,E,S,O=0;T=s[O];O++)switch(E=T.moved,S=T.index,T.status){case"deleted":for(;m<S;)l(m++);E===a&&(p=v[m],p.$&&(p.$.s(),p.$=a),h.a.Ua(p.Y,r).length&&(u.beforeRemove&&(y.push(p),C++,p.Aa===n?p=null:w.push(p)),p&&_.push.apply(_,p.Y))),m++;break;case"added":for(;g<S;)l(m++);E!==a?(x.push(y.length),l(E)):f(T.value)}for(;g<i.length;)l(m++);y._countWaitingForRemove=C}h.a.g.set(r,e,y),d(u.beforeMove,k),h.a.C(_,u.beforeRemove?h.na:h.removeNode);var M,D,A;try{A=r.ownerDocument.activeElement}catch(t){}if(x.length)for(;(O=x.shift())!=a;){for(p=y[O],M=a;O;)if((D=y[--O].Y)&&D.length){M=D[D.length-1];break}for(i=0;m=p.Y[i];M=m,i++)h.h.Vb(r,m,M)}for(O=0,x=h.h.firstChild(r);p=y[O];O++){for(p.Y||h.a.extend(p,t(r,o,p.Aa,c,p.nb)),i=0;m=p.Y[i];x=m.nextSibling,M=m,i++)m!==x&&h.h.Vb(r,m,M);!p.Dd&&c&&(c(p.Aa,p.Y,p.nb),p.Dd=!0,M=p.Y[p.Y.length-1])}for(A&&r.ownerDocument.activeElement!=A&&A.focus(),d(u.beforeRemove,w),O=0;O<w.length;++O)w[O].Aa=n;d(u.afterMove,k),d(u.afterAdd,j)}}(),h.b("utils.setDomNodeChildrenFromArrayMapping",h.a.cc),h.ba=function(){this.allowTemplateRewriting=!1},h.ba.prototype=new h.ca,h.ba.prototype.constructor=h.ba,h.ba.prototype.renderTemplateSource=function(t,e,n,r){return(e=(9>h.a.W?0:t.nodes)?t.nodes():null)?h.a.la(e.cloneNode(!0).childNodes):(t=t.text(),h.a.ta(t,r))},h.ba.Na=new h.ba,h.ec(h.ba.Na),h.b("nativeTemplateEngine",h.ba),function(){h.Za=function(){var t=this.Gd=function(){if(!f||!f.tmpl)return 0;try{if(0<=f.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(e,n,r,i){if(i=i||c,r=r||{},2>t)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=e.data("precompiled");return o||(o=e.text()||"",o=f.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),e.data("precompiled",o)),e=[n.$data],n=f.extend({koBindingContext:n},r.templateOptions),n=f.tmpl(o,e,n),n.appendTo(i.createElement("div")),f.fragments={},n},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){c.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},0<t&&(f.tmpl.tag.ko_code={open:"__.push($1 || '');"},f.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},h.Za.prototype=new h.ca,h.Za.prototype.constructor=h.Za;var t=new h.Za;0<t.Gd&&h.ec(t),h.b("jqueryTmplTemplateEngine",h.Za)}()})}()}()},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./box-content/index":143,"./box-filter/index":144,"./box-sticky/index":145,"./box-tabs/index":146,"./box/index":147,"./cascader/index":148,"./casitem/index":149,"./datepicker/index":30,"./datepicker/util/index":121,"./datetimepicker/index":136,"./dropdown/index":138,"./form-ctn/index":150,"./form-group/index":152,"./form-text/index":153,"./form-title/index":154,"./pagination/index":155,"./query-tabs/index":158,"./state-item/index":159,"./state-tabs/index":160,"./step-legend/index":161,"./step/index":162,"./submit/index":163,"./u-checkbox/index":166,"./u-currency/index":168,"./u-datepicker/index":169,"./u-input/index":170,"./u-month/index":171,"./u-pagination/index":172,"./u-radio/index":173,"./u-select/index":174,"./u-switch/index":175,"./u-tooltip/index":176,"./u-tree/index":177,"./u-year/index":178,"./u-yearmonth/index":179};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=142},function(t,e){"use strict";function n(t){this.title=t.title,this.model=t.model}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){this.title=t.title,this.q=t.q,this.query=t.query,this.placeholder=t.placeholder,t.query?this.qhidden=!0:this.qhidden=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){this.title=t.title;var e=$("#box-sticky"),n=e.parent();i.stickyElement=e,i.stickyWrapper=n,i=$.extend({},i,t),window.addEventListener?window.addEventListener("scroll",r,!1):window.attachEvent&&window.attachEvent("onscroll",r),setTimeout(r,0);var o=null;e.delegate(".sticky-anchor","click",function(){if(window.location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&window.location.hostname===this.hostname){var t=$(this.hash);if($(".sticky-anchor").removeClass("active"),$(this).addClass("active"),window.isRecomputeActiveAnchor=!1,o&&clearTimeout(o),o=setTimeout(function(){window.isRecomputeActiveAnchor=!0},2e3),t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top-50},1e3),!1}})}function r(){o||(o=$(".sticky-anchor"),o.each(function(){a.push($(this).attr("href"))})),window.isRecomputeActiveAnchor&&a.forEach(function(t){var e=$(t).offset().top-$("body").scrollTop();e-document.body.clientHeight/2<50&&($('.sticky-anchor[href="'+t+'"]').hasClass("active")||($(".sticky-anchor").removeClass("active"),$('.sticky-anchor[href="'+t+'"]').addClass("active")))}),i.stickyWrapper.css("height",i.stickyElement.outerHeight());var t=$(window).scrollTop(),e=$(document).height(),n=$(window).height(),r=e-n,u=t>r?r-t:0,c=i.stickyWrapper.offset().top,s=c-i.topSpacing-u;if(i.stickyWrapper.css("height",i.stickyElement.outerHeight()),t<=s)null!==i.currentTop&&(i.stickyElement.css({width:"",position:"",top:"","z-index":""}),i.stickyElement.parent().removeClass(i.className),i.currentTop=null);else{var f=e-i.stickyElement.outerHeight()-i.topSpacing-i.bottomSpacing-t-u;if(f<0?f+=i.topSpacing:f=i.topSpacing,i.currentTop!==f){var l;null==l&&(l=i.stickyElement.outerWidth()),i.stickyElement.css("width",l).css("position","fixed").css("top",f).css("z-index",i.zIndex),i.stickyElement.parent().addClass(i.className),i.currentTop=f}var d=i.stickyWrapper.parent(),p=i.stickyElement.offset().top+i.stickyElement.outerHeight()>=d.offset().top+d.outerHeight()&&i.stickyElement.offset().top<=i.topSpacing;p?i.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):i.stickyElement.css("position","fixed").css("top",f).css("bottom","").css("z-index",i.zIndex)}}Object.defineProperty(e,"__esModule",{value:!0});var i={currentTop:null,topSpacing:0,className:"is-sticky"};window.isRecomputeActiveAnchor=!0;var o=null,a=[];e.default=n},function(t,e){"use strict";function n(t){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t,e){var n=this;this.data=t.data,this.selectedValue=t.selectedValue,this.casitmevisible=window.ko.observable(!1),this.handleVisible=function(){return n.casitmevisible(!0)},this.handleClose=function(){return n.casitmevisible(!1)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t,e){this.subList=window.ko.observableArray([]),this.data=t.data,this.activeIndex=window.ko.observable(-1),this.selectedValue=t.selectedValue,this.expandChild=function(t,e){this.activeIndex(e),t.children?this.subList(t.children):this.subList([]),this.selectedValue(t)}.bind(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";function r(t,e){var n=e.element.children[0];(0,i.addLayoutClass)(n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(151);e.default=r},function(t,e){"use strict";function n(t,e){e.xs&&t.classList.add("u-col-xs-"+e.xs),e.sm&&t.classList.add("u-col-sm-"+e.sm),e.md&&(t.classList.add("u-col-md-"+e.md),e["md-offset"]&&t.classList.add("u-col-md-offset-"+e["md-offset"])),e.lg&&t.classList.add("u-col-lg-"+e.lg)}Object.defineProperty(e,"__esModule",{value:!0}),Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},e.addLayoutClass=n},function(t,e,n){"use strict";function r(t,e){var n=e.element.children[0];(0,i.addLayoutClass)(n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(151);e.default=r},function(t,e,n){"use strict";function r(t,e){var n=e.element.children[0];return(0,i.addLayoutClass)(n,t),{text:t.text}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(151);e.default=r},function(t,e,n){"use strict";function r(t,e){var n=e.element.children[0];t.text&&(n.innerHTML=t.text),(0,i.addLayoutClass)(n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(151);e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){var i=document.createElement("div");i.className="u-pagination",i.setAttribute("options",(0,a.default)({type:"pagination",data:"pagination"}));var o=document.createElement("div");o.className="text-center",o.appendChild(i),t.parentElement.appendChild(o);var s=new c.pagination({el:i,showState:!1});if(s.on("pageChange",function(t){n.load({pageIndex:t}),window.global.hash("page",t)}),u.on("pagination."+n._config.name,function(t){s.update({totalPages:t.totalPage,pageSize:t.pageSize,currentPage:t.pageIndex+1,totalCount:t.totalCount})}),n.data){var f=n.data;s.update({totalPages:f.totalPage,pageSize:f.pageSize,currentPage:f.pageIndex+1,totalCount:f.totalCount})}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(156),a=r(o),u={},c=window.u;e.default=i},function(t,e,n){t.exports={default:n(157),__esModule:!0}},function(t,e,n){var r=n(44),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e){"use strict";function n(t){this.items=t.items;var e=t.items()[t.index()||0].state;this.curState=e,this.handler=function(e){var n=document.getElementById("query_tabs"+e.state);n.checked="checked",t.handler(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){this.title=t.title,this.count=t.count,this.active=!!t.active&&t.active,this.click=t.click,this.state=t.state}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){var e=this;this.items=t.items,this.index=t.index,this.handler=function(n,r){e.index(r),t.handler(n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){var e=this,n=t.list,r=t.currentId,i=t.currentIndex,o=t.type,a=void 0===o?"md":o;this.list=n,this.currentId=r,this.type=a,i&&i.subscribe?this.currentIndex=i:this.currentIndex=window.ko.observable(i||0),this.currentId&&this.currentId.subscribe&&this.currentId.subscribe(function(t){var n=e.list().filter(function(t,e){return r()===t.id});e.currentIndex(n[0].id)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){var e=t.list,n=t.current,r=void 0===n?0:n;this.list=e,this.current=r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=!0;this.text=ko.observable(t.text||""),this.click=a.default.debounce(function(){e&&(t.click(),e=!1,setTimeout(function(){e=!0},4e3))},t.debounce||300,{maxWait:t.maxWait||2e3})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(164),a=r(o);e.default=i},function(t,e,n){var r;(function(t,i){(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function l(t,e){var n=null==t?0:t.length;return!!n&&w(t,e,0)>-1}function d(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function p(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function h(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function b(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function y(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function m(t){return t.split("")}function g(t){return t.match(ze)||[]}function _(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function x(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?G(t,e,n):x(t,j,n)}function k(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function j(t){return t!==t}function C(t,e){var n=null==t?0:t.length;return n?M(t,e)/n:It}function O(t){return function(e){return null==e?nt:e[t]}}function T(t){return function(e){return null==t?nt:t[e]}}function E(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function S(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function M(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function D(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function A(t,e){return p(e,function(e){return[e,t[e]]})}function N(t){return function(e){return t(e)}}function $(t,e){return p(e,function(e){return t[e]})}function I(t,e){return t.has(e)}function P(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function R(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function L(t){return"\\"+Qn[t]}function z(t,e){return null==t?nt:t[e]}function F(t){return Hn.test(t)}function V(t){return Un.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function U(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==st||(t[n]=st,o[i++]=n)}return o}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function G(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function K(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Z(t){return F(t)?Q(t):br(t)}function X(t){return F(t)?tt(t):m(t)}function Q(t){for(var e=Vn.lastIndex=0;Vn.test(t);)++e;return e}function tt(t){return t.match(Vn)||[]}function et(t){return t.match(Wn)||[]}var nt,rt="4.17.11",it=200,ot="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",at="Expected a function",ut="__lodash_hash_undefined__",ct=500,st="__lodash_placeholder__",ft=1,lt=2,dt=4,pt=1,ht=2,vt=1,bt=2,yt=4,mt=8,gt=16,_t=32,xt=64,wt=128,kt=256,jt=512,Ct=30,Ot="...",Tt=800,Et=16,St=1,Mt=2,Dt=3,At=1/0,Nt=9007199254740991,$t=1.7976931348623157e308,It=NaN,Pt=4294967295,Rt=Pt-1,Bt=Pt>>>1,Lt=[["ary",wt],["bind",vt],["bindKey",bt],["curry",mt],["curryRight",gt],["flip",jt],["partial",_t],["partialRight",xt],["rearg",kt]],zt="[object Arguments]",Ft="[object Array]",Vt="[object AsyncFunction]",Wt="[object Boolean]",Ht="[object Date]",Ut="[object DOMException]",qt="[object Error]",Jt="[object Function]",Yt="[object GeneratorFunction]",Gt="[object Map]",Kt="[object Number]",Zt="[object Null]",Xt="[object Object]",Qt="[object Promise]",te="[object Proxy]",ee="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",ue="[object WeakSet]",ce="[object ArrayBuffer]",se="[object DataView]",fe="[object Float32Array]",le="[object Float64Array]",de="[object Int8Array]",pe="[object Int16Array]",he="[object Int32Array]",ve="[object Uint8Array]",be="[object Uint8ClampedArray]",ye="[object Uint16Array]",me="[object Uint32Array]",ge=/\b__p \+= '';/g,_e=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,ke=/[&<>"']/g,je=RegExp(we.source),Ce=RegExp(ke.source),Oe=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/,De=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(Ae.source),$e=/^\s+|\s+$/g,Ie=/^\s+/,Pe=/\s+$/,Re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Je=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Xe="\\ud800-\\udfff",Qe="\\u0300-\\u036f",tn="\\ufe20-\\ufe2f",en="\\u20d0-\\u20ff",nn=Qe+tn+en,rn="\\u2700-\\u27bf",on="a-z\\xdf-\\xf6\\xf8-\\xff",an="\\xac\\xb1\\xd7\\xf7",un="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cn="\\u2000-\\u206f",sn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fn="A-Z\\xc0-\\xd6\\xd8-\\xde",ln="\\ufe0e\\ufe0f",dn=an+un+cn+sn,pn="['’]",hn="["+Xe+"]",vn="["+dn+"]",bn="["+nn+"]",yn="\\d+",mn="["+rn+"]",gn="["+on+"]",_n="[^"+Xe+dn+yn+rn+on+fn+"]",xn="\\ud83c[\\udffb-\\udfff]",wn="(?:"+bn+"|"+xn+")",kn="[^"+Xe+"]",jn="(?:\\ud83c[\\udde6-\\uddff]){2}",Cn="[\\ud800-\\udbff][\\udc00-\\udfff]",On="["+fn+"]",Tn="\\u200d",En="(?:"+gn+"|"+_n+")",Sn="(?:"+On+"|"+_n+")",Mn="(?:"+pn+"(?:d|ll|m|re|s|t|ve))?",Dn="(?:"+pn+"(?:D|LL|M|RE|S|T|VE))?",An=wn+"?",Nn="["+ln+"]?",$n="(?:"+Tn+"(?:"+[kn,jn,Cn].join("|")+")"+Nn+An+")*",In="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rn=Nn+An+$n,Bn="(?:"+[mn,jn,Cn].join("|")+")"+Rn,Ln="(?:"+[kn+bn+"?",bn,jn,Cn,hn].join("|")+")",zn=RegExp(pn,"g"),Fn=RegExp(bn,"g"),Vn=RegExp(xn+"(?="+xn+")|"+Ln+Rn,"g"),Wn=RegExp([On+"?"+gn+"+"+Mn+"(?="+[vn,On,"$"].join("|")+")",Sn+"+"+Dn+"(?="+[vn,On+En,"$"].join("|")+")",On+"?"+En+"+"+Mn,On+"+"+Dn,Pn,In,yn,Bn].join("|"),"g"),Hn=RegExp("["+Tn+Xe+nn+ln+"]"),Un=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jn=-1,Yn={};Yn[fe]=Yn[le]=Yn[de]=Yn[pe]=Yn[he]=Yn[ve]=Yn[be]=Yn[ye]=Yn[me]=!0,Yn[zt]=Yn[Ft]=Yn[ce]=Yn[Wt]=Yn[se]=Yn[Ht]=Yn[qt]=Yn[Jt]=Yn[Gt]=Yn[Kt]=Yn[Xt]=Yn[ee]=Yn[ne]=Yn[re]=Yn[ae]=!1;var Gn={};Gn[zt]=Gn[Ft]=Gn[ce]=Gn[se]=Gn[Wt]=Gn[Ht]=Gn[fe]=Gn[le]=Gn[de]=Gn[pe]=Gn[he]=Gn[Gt]=Gn[Kt]=Gn[Xt]=Gn[ee]=Gn[ne]=Gn[re]=Gn[ie]=Gn[ve]=Gn[be]=Gn[ye]=Gn[me]=!0,Gn[qt]=Gn[Jt]=Gn[ae]=!1;var Kn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Zn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tr=parseFloat,er=parseInt,nr="object"==typeof t&&t&&t.Object===Object&&t,rr="object"==typeof self&&self&&self.Object===Object&&self,ir=nr||rr||Function("return this")(),or="object"==typeof e&&e&&!e.nodeType&&e,ar=or&&"object"==typeof i&&i&&!i.nodeType&&i,ur=ar&&ar.exports===or,cr=ur&&nr.process,sr=function(){try{var t=ar&&ar.require&&ar.require("util").types;return t?t:cr&&cr.binding&&cr.binding("util")}catch(t){}}(),fr=sr&&sr.isArrayBuffer,lr=sr&&sr.isDate,dr=sr&&sr.isMap,pr=sr&&sr.isRegExp,hr=sr&&sr.isSet,vr=sr&&sr.isTypedArray,br=O("length"),yr=T(Kn),mr=T(Zn),gr=T(Xn),_r=function t(e){function n(t){if(oc(t)&&!yd(t)&&!(t instanceof m)){if(t instanceof i)return t;if(yf.call(t,"__wrapped__"))return na(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function m(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pt,this.__views__=[]}function T(){var t=new m(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t}function G(){if(this.__filtered__){var t=new m(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Q(){var t=this.__wrapped__.value(),e=this.__dir__,n=yd(t),r=e<0,i=n?t.length:0,o=Co(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,f=this.__iteratees__,l=f.length,d=0,p=Jf(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return mi(t,this.__actions__);var h=[];t:for(;c--&&d<p;){s+=e;for(var v=-1,b=t[s];++v<l;){var y=f[v],m=y.iteratee,g=y.type,_=m(b);if(g==Mt)b=_;else if(!_){if(g==St)continue t;break t}}h[d++]=b}return h}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ze(){this.__data__=rl?rl(null):{},this.size=0}function Xe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Qe(t){var e=this.__data__;if(rl){var n=e[t];return n===ut?nt:n}return yf.call(e,t)?e[t]:nt}function tn(t){var e=this.__data__;return rl?e[t]!==nt:yf.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rl&&e===nt?ut:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=Mn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Df.call(e,n,1),--this.size,!0}function an(t){var e=this.__data__,n=Mn(e,t);return n<0?nt:e[n][1]}function un(t){return Mn(this.__data__,t)>-1}function cn(t,e){var n=this.__data__,r=Mn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function fn(){this.size=0,this.__data__={hash:new tt,map:new(Qf||nn),string:new tt}}function ln(t){var e=xo(this,t).delete(t);return this.size-=e?1:0,e}function dn(t){return xo(this,t).get(t)}function pn(t){return xo(this,t).has(t)}function hn(t,e){var n=xo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function vn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new sn;++e<n;)this.add(t[e])}function bn(t){return this.__data__.set(t,ut),this}function yn(t){return this.__data__.has(t)}function mn(t){var e=this.__data__=new nn(t);this.size=e.size}function gn(){this.__data__=new nn,this.size=0}function _n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function xn(t){return this.__data__.get(t)}function wn(t){return this.__data__.has(t)}function kn(t,e){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Qf||r.length<it-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sn(r)}return n.set(t,e),this.size=n.size,this}function jn(t,e){var n=yd(t),r=!n&&bd(t),i=!n&&!r&&gd(t),o=!n&&!r&&!i&&jd(t),a=n||r||i||o,u=a?D(t.length,ff):[],c=u.length;for(var s in t)!e&&!yf.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||No(s,c))||u.push(s);return u}function Cn(t){var e=t.length;return e?t[Qr(0,e-1)]:nt}function On(t,e){return Xo(Ii(t),Pn(e,0,t.length))}function Tn(t){return Xo(Ii(t))}function En(t,e,n){(n===nt||Uu(t[e],n))&&(n!==nt||e in t)||$n(t,e,n)}function Sn(t,e,n){var r=t[e];yf.call(t,e)&&Uu(r,n)&&(n!==nt||e in t)||$n(t,e,n)}function Mn(t,e){for(var n=t.length;n--;)if(Uu(t[n][0],e))return n;return-1}function Dn(t,e,n,r){return vl(t,function(t,i,o){e(r,t,n(t),o)}),r}function An(t,e){return t&&Pi(e,zc(e),t)}function Nn(t,e){return t&&Pi(e,Fc(e),t)}function $n(t,e,n){"__proto__"==e&&If?If(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function In(t,e){for(var n=-1,r=e.length,i=nf(r),o=null==t;++n<r;)i[n]=o?nt:Rc(t,e[n]);return i}function Pn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function Rn(t,e,n,r,i,o){var a,c=e&ft,s=e&lt,f=e&dt;if(n&&(a=i?n(t,r,i,o):n(t)),a!==nt)return a;if(!ic(t))return t;var l=yd(t);if(l){if(a=Eo(t),!c)return Ii(t,a)}else{var d=Tl(t),p=d==Jt||d==Yt;if(gd(t))return Ci(t,c);if(d==Xt||d==zt||p&&!i){if(a=s||p?{}:So(t),!c)return s?Bi(t,Nn(a,t)):Ri(t,An(a,t))}else{if(!Gn[d])return i?t:{};a=Mo(t,d,c)}}o||(o=new mn);var h=o.get(t);if(h)return h;if(o.set(t,a),kd(t))return t.forEach(function(r){a.add(Rn(r,e,n,r,t,o))}),a;if(xd(t))return t.forEach(function(r,i){a.set(i,Rn(r,e,n,i,t,o))}),a;var v=f?s?yo:bo:s?Fc:zc,b=l?nt:v(t);return u(b||t,function(r,i){b&&(i=r,r=t[i]),Sn(a,i,Rn(r,e,n,i,t,o))}),a}function Bn(t){var e=zc(t);return function(n){return Ln(n,t,e)}}function Ln(t,e,n){var r=n.length;if(null==t)return!r;for(t=cf(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function Vn(t,e,n){if("function"!=typeof t)throw new lf(at);return Ml(function(){t.apply(nt,n)},e)}function Wn(t,e,n,r){var i=-1,o=l,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=p(e,N(n))),r?(o=d,a=!1):e.length>=it&&(o=I,a=!1,e=new vn(e));t:for(;++i<u;){var f=t[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,a&&h===h){for(var v=s;v--;)if(e[v]===h)continue t;c.push(f)}else o(e,h,r)||c.push(f)}return c}function Hn(t,e){var n=!0;return vl(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Un(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(u===nt?a===a&&!bc(a):n(a,u)))var u=a,c=o}return c}function Kn(t,e,n,r){var i=t.length;for(n=wc(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:wc(r),r<0&&(r+=i),r=n>r?0:kc(r);n<r;)t[n++]=e;return t}function Zn(t,e){var n=[];return vl(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Xn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ao),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?Xn(u,e-1,n,r,i):h(i,u):r||(i[i.length]=u)}return i}function Qn(t,e){return t&&yl(t,e,zc)}function nr(t,e){return t&&ml(t,e,zc)}function rr(t,e){return f(e,function(e){return ec(t[e])})}function or(t,e){e=ki(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Qo(e[n++])];return n&&n==r?t:nt}function ar(t,e,n){var r=e(t);return yd(t)?r:h(r,n(t))}function cr(t){return null==t?t===nt?oe:Zt:$f&&$f in cf(t)?jo(t):Uo(t)}function sr(t,e){return t>e}function br(t,e){return null!=t&&yf.call(t,e)}function _r(t,e){return null!=t&&e in cf(t)}function wr(t,e,n){return t>=Jf(e,n)&&t<qf(e,n)}function kr(t,e,n){for(var r=n?d:l,i=t[0].length,o=t.length,a=o,u=nf(o),c=1/0,s=[];a--;){var f=t[a];a&&e&&(f=p(f,N(e))),c=Jf(f.length,c),u[a]=!n&&(e||i>=120&&f.length>=120)?new vn(a&&f):nt}f=t[0];var h=-1,v=u[0];t:for(;++h<i&&s.length<c;){var b=f[h],y=e?e(b):b;if(b=n||0!==b?b:0,!(v?I(v,y):r(s,y,n))){for(a=o;--a;){var m=u[a];if(!(m?I(m,y):r(t[a],y,n)))continue t}v&&v.push(y),s.push(b)}}return s}function jr(t,e,n,r){return Qn(t,function(t,i,o){e(r,n(t),i,o)}),r}function Cr(t,e,n){e=ki(e,t),t=Jo(t,e);var r=null==t?t:t[Qo(xa(e))];return null==r?nt:o(r,t,n)}function Or(t){return oc(t)&&cr(t)==zt}function Tr(t){return oc(t)&&cr(t)==ce}function Er(t){return oc(t)&&cr(t)==Ht}function Sr(t,e,n,r,i){return t===e||(null==t||null==e||!oc(t)&&!oc(e)?t!==t&&e!==e:Mr(t,e,n,r,Sr,i))}function Mr(t,e,n,r,i,o){var a=yd(t),u=yd(e),c=a?Ft:Tl(t),s=u?Ft:Tl(e);c=c==zt?Xt:c,s=s==zt?Xt:s;var f=c==Xt,l=s==Xt,d=c==s;if(d&&gd(t)){if(!gd(e))return!1;a=!0,f=!1}if(d&&!f)return o||(o=new mn),a||jd(t)?lo(t,e,n,r,i,o):po(t,e,c,n,r,i,o);if(!(n&pt)){var p=f&&yf.call(t,"__wrapped__"),h=l&&yf.call(e,"__wrapped__");if(p||h){var v=p?t.value():t,b=h?e.value():e;return o||(o=new mn),i(v,b,n,r,o)}}return!!d&&(o||(o=new mn),ho(t,e,n,r,i,o))}function Dr(t){return oc(t)&&Tl(t)==Gt}function Ar(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=cf(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){u=n[i];var c=u[0],s=t[c],f=u[1];if(a&&u[2]){if(s===nt&&!(c in t))return!1}else{var l=new mn;if(r)var d=r(s,f,c,t,e,l);if(!(d===nt?Sr(f,s,pt|ht,r,l):d))return!1}}return!0}function Nr(t){if(!ic(t)||Bo(t))return!1;var e=ec(t)?kf:qe;return e.test(ta(t))}function $r(t){return oc(t)&&cr(t)==ee}function Ir(t){return oc(t)&&Tl(t)==ne}function Pr(t){return oc(t)&&rc(t.length)&&!!Yn[cr(t)]}function Rr(t){return"function"==typeof t?t:null==t?Ms:"object"==typeof t?yd(t)?Wr(t[0],t[1]):Vr(t):Bs(t)}function Br(t){if(!Lo(t))return Uf(t);var e=[];for(var n in cf(t))yf.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t){if(!ic(t))return Ho(t);var e=Lo(t),n=[];for(var r in t)("constructor"!=r||!e&&yf.call(t,r))&&n.push(r);return n}function zr(t,e){return t<e}function Fr(t,e){var n=-1,r=qu(t)?nf(t.length):[];return vl(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Vr(t){var e=wo(t);return 1==e.length&&e[0][2]?Fo(e[0][0],e[0][1]):function(n){return n===t||Ar(n,t,e)}}function Wr(t,e){return Io(t)&&zo(e)?Fo(Qo(t),e):function(n){var r=Rc(n,t);return r===nt&&r===e?Lc(n,t):Sr(e,r,pt|ht)}}function Hr(t,e,n,r,i){t!==e&&yl(e,function(o,a){if(ic(o))i||(i=new mn),Ur(t,e,a,n,Hr,r,i);else{var u=r?r(Go(t,a),o,a+"",t,e,i):nt;
u===nt&&(u=o),En(t,a,u)}},Fc)}function Ur(t,e,n,r,i,o,a){var u=Go(t,n),c=Go(e,n),s=a.get(c);if(s)return void En(t,n,s);var f=o?o(u,c,n+"",t,e,a):nt,l=f===nt;if(l){var d=yd(c),p=!d&&gd(c),h=!d&&!p&&jd(c);f=c,d||p||h?yd(u)?f=u:Ju(u)?f=Ii(u):p?(l=!1,f=Ci(c,!0)):h?(l=!1,f=Mi(c,!0)):f=[]:pc(c)||bd(c)?(f=u,bd(u)?f=Cc(u):ic(u)&&!ec(u)||(f=So(c))):l=!1}l&&(a.set(c,f),i(f,c,r,o,a),a.delete(c)),En(t,n,f)}function qr(t,e){var n=t.length;if(n)return e+=e<0?n:0,No(e,n)?t[e]:nt}function Jr(t,e,n){var r=-1;e=p(e.length?e:[Ms],N(_o()));var i=Fr(t,function(t,n,i){var o=p(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return S(i,function(t,e){return Ai(t,e,n)})}function Yr(t,e){return Gr(t,e,function(e,n){return Lc(t,n)})}function Gr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=or(t,a);n(u,a)&&oi(o,ki(a,t),u)}return o}function Kr(t){return function(e){return or(e,t)}}function Zr(t,e,n,r){var i=r?k:w,o=-1,a=e.length,u=t;for(t===e&&(e=Ii(e)),n&&(u=p(t,N(n)));++o<a;)for(var c=0,s=e[o],f=n?n(s):s;(c=i(u,f,c,r))>-1;)u!==t&&Df.call(u,c,1),Df.call(t,c,1);return t}function Xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;No(i)?Df.call(t,i,1):vi(t,i)}}return t}function Qr(t,e){return t+zf(Kf()*(e-t+1))}function ti(t,e,n,r){for(var i=-1,o=qf(Lf((e-t)/(n||1)),0),a=nf(o);o--;)a[r?o:++i]=t,t+=n;return a}function ei(t,e){var n="";if(!t||e<1||e>Nt)return n;do e%2&&(n+=t),e=zf(e/2),e&&(t+=t);while(e);return n}function ni(t,e){return Dl(qo(t,e,Ms),t+"")}function ri(t){return Cn(Qc(t))}function ii(t,e){var n=Qc(t);return Xo(n,Pn(e,0,n.length))}function oi(t,e,n,r){if(!ic(t))return t;e=ki(e,t);for(var i=-1,o=e.length,a=o-1,u=t;null!=u&&++i<o;){var c=Qo(e[i]),s=n;if(i!=a){var f=u[c];s=r?r(f,c,u):nt,s===nt&&(s=ic(f)?f:No(e[i+1])?[]:{})}Sn(u,c,s),u=u[c]}return t}function ai(t){return Xo(Qc(t))}function ui(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=nf(i);++r<i;)o[r]=t[r+e];return o}function ci(t,e){var n;return vl(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Bt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!bc(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return fi(t,e,Ms,n)}function fi(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,u=null===e,c=bc(e),s=e===nt;i<o;){var f=zf((i+o)/2),l=n(t[f]),d=l!==nt,p=null===l,h=l===l,v=bc(l);if(a)var b=r||h;else b=s?h&&(r||d):u?h&&d&&(r||!p):c?h&&d&&!p&&(r||!v):!p&&!v&&(r?l<=e:l<e);b?i=f+1:o=f}return Jf(o,Rt)}function li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Uu(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function di(t){return"number"==typeof t?t:bc(t)?It:+t}function pi(t){if("string"==typeof t)return t;if(yd(t))return p(t,pi)+"";if(bc(t))return pl?pl.call(t):"";var e=t+"";return"0"==e&&1/t==-At?"-0":e}function hi(t,e,n){var r=-1,i=l,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=d;else if(o>=it){var s=e?null:kl(t);if(s)return J(s);a=!1,i=I,c=new vn}else c=e?[]:u;t:for(;++r<o;){var f=t[r],p=e?e(f):f;if(f=n||0!==f?f:0,a&&p===p){for(var h=c.length;h--;)if(c[h]===p)continue t;e&&c.push(p),u.push(f)}else i(c,p,n)||(c!==u&&c.push(p),u.push(f))}return u}function vi(t,e){return e=ki(e,t),t=Jo(t,e),null==t||delete t[Qo(xa(e))]}function bi(t,e,n,r){return oi(t,e,n(or(t,e)),r)}function yi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ui(t,r?0:o,r?o+1:i):ui(t,r?o+1:0,r?i:o)}function mi(t,e){var n=t;return n instanceof m&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function gi(t,e,n){var r=t.length;if(r<2)return r?hi(t[0]):[];for(var i=-1,o=nf(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Wn(o[i]||a,t[u],e,n));return hi(Xn(o,1),e,n)}function _i(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:nt;n(a,t[r],u)}return a}function xi(t){return Ju(t)?t:[]}function wi(t){return"function"==typeof t?t:Ms}function ki(t,e){return yd(t)?t:Io(t,e)?[t]:Al(Tc(t))}function ji(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:ui(t,e,n)}function Ci(t,e){if(e)return t.slice();var n=t.length,r=Tf?Tf(n):new t.constructor(n);return t.copy(r),r}function Oi(t){var e=new t.constructor(t.byteLength);return new Of(e).set(new Of(t)),e}function Ti(t,e){var n=e?Oi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ei(t){var e=new t.constructor(t.source,We.exec(t));return e.lastIndex=t.lastIndex,e}function Si(t){return dl?cf(dl.call(t)):{}}function Mi(t,e){var n=e?Oi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Di(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=bc(t),a=e!==nt,u=null===e,c=e===e,s=bc(e);if(!u&&!s&&!o&&t>e||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&t<e||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0}function Ai(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var c=Di(i[r],o[r]);if(c){if(r>=u)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}function Ni(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,c=e.length,s=qf(o-a,0),f=nf(c+s),l=!r;++u<c;)f[u]=e[u];for(;++i<a;)(l||i<o)&&(f[n[i]]=t[i]);for(;s--;)f[u++]=t[i++];return f}function $i(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,c=-1,s=e.length,f=qf(o-u,0),l=nf(f+s),d=!r;++i<f;)l[i]=t[i];for(var p=i;++c<s;)l[p+c]=e[c];for(;++a<u;)(d||i<o)&&(l[p+n[a]]=t[i++]);return l}function Ii(t,e){var n=-1,r=t.length;for(e||(e=nf(r));++n<r;)e[n]=t[n];return e}function Pi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):nt;c===nt&&(c=t[u]),i?$n(n,u,c):Sn(n,u,c)}return n}function Ri(t,e){return Pi(t,Cl(t),e)}function Bi(t,e){return Pi(t,Ol(t),e)}function Li(t,e){return function(n,r){var i=yd(n)?a:Dn,o=e?e():{};return i(n,t,_o(r,2),o)}}function zi(t){return ni(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&$o(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=cf(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e})}function Fi(t,e){return function(n,r){if(null==n)return n;if(!qu(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=cf(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Vi(t){return function(e,n,r){for(var i=-1,o=cf(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(n(o[c],c,o)===!1)break}return e}}function Wi(t,e,n){function r(){var e=this&&this!==ir&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&vt,o=qi(t);return r}function Hi(t){return function(e){e=Tc(e);var n=F(e)?X(e):nt,r=n?n[0]:e.charAt(0),i=n?ji(n,1).join(""):e.slice(1);return r[t]()+i}}function Ui(t){return function(e){return v(Cs(os(e).replace(zn,"")),t,"")}}function qi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=hl(t.prototype),r=t.apply(n,e);return ic(r)?r:n}}function Ji(t,e,n){function r(){for(var a=arguments.length,u=nf(a),c=a,s=go(r);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==s&&u[a-1]!==s?[]:q(u,s);if(a-=f.length,a<n)return io(t,e,Ki,r.placeholder,nt,u,f,nt,nt,n-a);var l=this&&this!==ir&&this instanceof r?i:t;return o(l,this,u)}var i=qi(t);return r}function Yi(t){return function(e,n,r){var i=cf(e);if(!qu(e)){var o=_o(n,3);e=zc(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function Gi(t){return vo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new lf(at);if(o&&!u&&"wrapper"==mo(a))var u=new i([],!0)}for(r=u?r:n;++r<n;){a=e[r];var c=mo(a),s="wrapper"==c?jl(a):nt;u=s&&Ro(s[0])&&s[1]==(wt|mt|_t|kt)&&!s[4].length&&1==s[9]?u[mo(s[0])].apply(u,s[3]):1==a.length&&Ro(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&yd(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ki(t,e,n,r,i,o,a,u,c,s){function f(){for(var y=arguments.length,m=nf(y),g=y;g--;)m[g]=arguments[g];if(h)var _=go(f),x=B(m,_);if(r&&(m=Ni(m,r,i,h)),o&&(m=$i(m,o,a,h)),y-=x,h&&y<s){var w=q(m,_);return io(t,e,Ki,f.placeholder,n,m,w,u,c,s-y)}var k=d?n:this,j=p?k[t]:t;return y=m.length,u?m=Yo(m,u):v&&y>1&&m.reverse(),l&&c<y&&(m.length=c),this&&this!==ir&&this instanceof f&&(j=b||qi(j)),j.apply(k,m)}var l=e&wt,d=e&vt,p=e&bt,h=e&(mt|gt),v=e&jt,b=p?nt:qi(t);return f}function Zi(t,e){return function(n,r){return jr(n,t,e(r),{})}}function Xi(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=pi(n),r=pi(r)):(n=di(n),r=di(r)),i=t(n,r)}return i}}function Qi(t){return vo(function(e){return e=p(e,N(_o())),ni(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function to(t,e){e=e===nt?" ":pi(e);var n=e.length;if(n<2)return n?ei(e,t):e;var r=ei(e,Lf(t/Z(e)));return F(e)?ji(X(r),0,t).join(""):r.slice(0,t)}function eo(t,e,n,r){function i(){for(var e=-1,c=arguments.length,s=-1,f=r.length,l=nf(f+c),d=this&&this!==ir&&this instanceof i?u:t;++s<f;)l[s]=r[s];for(;c--;)l[s++]=arguments[++e];return o(d,a?n:this,l)}var a=e&vt,u=qi(t);return i}function no(t){return function(e,n,r){return r&&"number"!=typeof r&&$o(e,n,r)&&(n=r=nt),e=xc(e),n===nt?(n=e,e=0):n=xc(n),r=r===nt?e<n?1:-1:xc(r),ti(e,n,r,t)}}function ro(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=jc(e),n=jc(n)),t(e,n)}}function io(t,e,n,r,i,o,a,u,c,s){var f=e&mt,l=f?a:nt,d=f?nt:a,p=f?o:nt,h=f?nt:o;e|=f?_t:xt,e&=~(f?xt:_t),e&yt||(e&=~(vt|bt));var v=[t,e,i,p,l,h,d,u,c,s],b=n.apply(nt,v);return Ro(t)&&Sl(b,v),b.placeholder=r,Ko(b,t,e)}function oo(t){var e=uf[t];return function(t,n){if(t=jc(t),n=null==n?0:Jf(wc(n),292)){var r=(Tc(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Tc(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ao(t){return function(e){var n=Tl(e);return n==Gt?H(e):n==ne?Y(e):A(e,t(e))}}function uo(t,e,n,r,i,o,a,u){var c=e&bt;if(!c&&"function"!=typeof t)throw new lf(at);var s=r?r.length:0;if(s||(e&=~(_t|xt),r=i=nt),a=a===nt?a:qf(wc(a),0),u=u===nt?u:wc(u),s-=i?i.length:0,e&xt){var f=r,l=i;r=i=nt}var d=c?nt:jl(t),p=[t,e,n,r,i,f,l,o,a,u];if(d&&Wo(p,d),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],u=p[9]=p[9]===nt?c?0:t.length:qf(p[9]-s,0),!u&&e&(mt|gt)&&(e&=~(mt|gt)),e&&e!=vt)h=e==mt||e==gt?Ji(t,e,u):e!=_t&&e!=(vt|_t)||i.length?Ki.apply(nt,p):eo(t,e,n,r);else var h=Wi(t,e,n);var v=d?gl:Sl;return Ko(v(h,p),t,e)}function co(t,e,n,r){return t===nt||Uu(t,hf[n])&&!yf.call(r,n)?e:t}function so(t,e,n,r,i,o){return ic(t)&&ic(e)&&(o.set(e,t),Hr(t,e,nt,so,o),o.delete(e)),t}function fo(t){return pc(t)?nt:t}function lo(t,e,n,r,i,o){var a=n&pt,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t);if(s&&o.get(e))return s==e;var f=-1,l=!0,d=n&ht?new vn:nt;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],h=e[f];if(r)var v=a?r(h,p,f,e,t,o):r(p,h,f,t,e,o);if(v!==nt){if(v)continue;l=!1;break}if(d){if(!y(e,function(t,e){if(!I(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)})){l=!1;break}}else if(p!==h&&!i(p,h,n,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function po(t,e,n,r,i,o,a){switch(n){case se:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ce:return!(t.byteLength!=e.byteLength||!o(new Of(t),new Of(e)));case Wt:case Ht:case Kt:return Uu(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case ee:case re:return t==e+"";case Gt:var u=H;case ne:var c=r&pt;if(u||(u=J),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=ht,a.set(t,e);var f=lo(u(t),u(e),r,i,o,a);return a.delete(t),f;case ie:if(dl)return dl.call(t)==dl.call(e)}return!1}function ho(t,e,n,r,i,o){var a=n&pt,u=bo(t),c=u.length,s=bo(e),f=s.length;if(c!=f&&!a)return!1;for(var l=c;l--;){var d=u[l];if(!(a?d in e:yf.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var h=!0;o.set(t,e),o.set(e,t);for(var v=a;++l<c;){d=u[l];var b=t[d],y=e[d];if(r)var m=a?r(y,b,d,e,t,o):r(b,y,d,t,e,o);if(!(m===nt?b===y||i(b,y,n,r,o):m)){h=!1;break}v||(v="constructor"==d)}if(h&&!v){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return o.delete(t),o.delete(e),h}function vo(t){return Dl(qo(t,nt,pa),t+"")}function bo(t){return ar(t,zc,Cl)}function yo(t){return ar(t,Fc,Ol)}function mo(t){for(var e=t.name+"",n=ol[e],r=yf.call(ol,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function go(t){var e=yf.call(n,"placeholder")?n:t;return e.placeholder}function _o(){var t=n.iteratee||Ds;return t=t===Ds?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function xo(t,e){var n=t.__data__;return Po(e)?n["string"==typeof e?"string":"hash"]:n.map}function wo(t){for(var e=zc(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zo(i)]}return e}function ko(t,e){var n=z(t,e);return Nr(n)?n:nt}function jo(t){var e=yf.call(t,$f),n=t[$f];try{t[$f]=nt;var r=!0}catch(t){}var i=_f.call(t);return r&&(e?t[$f]=n:delete t[$f]),i}function Co(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Jf(e,t+a);break;case"takeRight":t=qf(t,e-a)}}return{start:t,end:e}}function Oo(t){var e=t.match(Be);return e?e[1].split(Le):[]}function To(t,e,n){e=ki(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Qo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&rc(i)&&No(a,i)&&(yd(t)||bd(t)))}function Eo(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&yf.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function So(t){return"function"!=typeof t.constructor||Lo(t)?{}:hl(Ef(t))}function Mo(t,e,n){var r=t.constructor;switch(e){case ce:return Oi(t);case Wt:case Ht:return new r(+t);case se:return Ti(t,n);case fe:case le:case de:case pe:case he:case ve:case be:case ye:case me:return Mi(t,n);case Gt:return new r;case Kt:case re:return new r(t);case ee:return Ei(t);case ne:return new r;case ie:return Si(t)}}function Do(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Re,"{\n/* [wrapped with "+e+"] */\n")}function Ao(t){return yd(t)||bd(t)||!!(Af&&t&&t[Af])}function No(t,e){var n=typeof t;return e=null==e?Nt:e,!!e&&("number"==n||"symbol"!=n&&Ye.test(t))&&t>-1&&t%1==0&&t<e}function $o(t,e,n){if(!ic(n))return!1;var r=typeof e;return!!("number"==r?qu(n)&&No(e,n.length):"string"==r&&e in n)&&Uu(n[e],t)}function Io(t,e){if(yd(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!bc(t))||(Me.test(t)||!Se.test(t)||null!=e&&t in cf(e))}function Po(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ro(t){var e=mo(t),r=n[e];if("function"!=typeof r||!(e in m.prototype))return!1;if(t===r)return!0;var i=jl(r);return!!i&&t===i[0]}function Bo(t){return!!gf&&gf in t}function Lo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||hf;return t===n}function zo(t){return t===t&&!ic(t)}function Fo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in cf(n)))}}function Vo(t){var e=Du(t,function(t){return n.size===ct&&n.clear(),t}),n=e.cache;return e}function Wo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(vt|bt|wt),a=r==wt&&n==mt||r==wt&&n==kt&&t[7].length<=e[8]||r==(wt|kt)&&e[7].length<=e[8]&&n==mt;if(!o&&!a)return t;r&vt&&(t[2]=e[2],i|=n&vt?0:yt);var u=e[3];if(u){var c=t[3];t[3]=c?Ni(c,u,e[4]):u,t[4]=c?q(t[3],st):e[4]}return u=e[5],u&&(c=t[5],t[5]=c?$i(c,u,e[6]):u,t[6]=c?q(t[5],st):e[6]),u=e[7],u&&(t[7]=u),r&wt&&(t[8]=null==t[8]?e[8]:Jf(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Ho(t){var e=[];if(null!=t)for(var n in cf(t))e.push(n);return e}function Uo(t){return _f.call(t)}function qo(t,e,n){return e=qf(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=qf(r.length-e,0),u=nf(a);++i<a;)u[i]=r[e+i];i=-1;for(var c=nf(e+1);++i<e;)c[i]=r[i];return c[e]=n(u),o(t,this,c)}}function Jo(t,e){return e.length<2?t:or(t,ui(e,0,-1))}function Yo(t,e){for(var n=t.length,r=Jf(e.length,n),i=Ii(t);r--;){var o=e[r];t[r]=No(o,n)?i[o]:nt}return t}function Go(t,e){if("__proto__"!=e)return t[e]}function Ko(t,e,n){var r=e+"";return Dl(t,Do(r,ea(Oo(r),n)))}function Zo(t){var e=0,n=0;return function(){var r=Yf(),i=Et-(r-n);if(n=r,i>0){if(++e>=Tt)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Xo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=Qr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Qo(t){if("string"==typeof t||bc(t))return t;var e=t+"";return"0"==e&&1/t==-At?"-0":e}function ta(t){if(null!=t){try{return bf.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ea(t,e){return u(Lt,function(n){var r="_."+n[0];e&n[1]&&!l(t,r)&&t.push(r)}),t.sort()}function na(t){if(t instanceof m)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ra(t,e,n){e=(n?$o(t,e,n):e===nt)?1:qf(wc(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=nf(Lf(r/e));i<r;)a[o++]=ui(t,i,i+=e);return a}function ia(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function oa(){var t=arguments.length;if(!t)return[];for(var e=nf(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return h(yd(n)?Ii(n):[n],Xn(e,1))}function aa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:wc(e),ui(t,e<0?0:e,r)):[]}function ua(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:wc(e),e=r-e,ui(t,0,e<0?0:e)):[]}function ca(t,e){return t&&t.length?yi(t,_o(e,3),!0,!0):[]}function sa(t,e){return t&&t.length?yi(t,_o(e,3),!0):[]}function fa(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&$o(t,e,n)&&(n=0,r=i),Kn(t,e,n,r)):[]}function la(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:wc(n);return i<0&&(i=qf(r+i,0)),x(t,_o(e,3),i)}function da(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=wc(n),i=n<0?qf(r+i,0):Jf(i,r-1)),x(t,_o(e,3),i,!0)}function pa(t){var e=null==t?0:t.length;return e?Xn(t,1):[]}function ha(t){var e=null==t?0:t.length;return e?Xn(t,At):[]}function va(t,e){var n=null==t?0:t.length;return n?(e=e===nt?1:wc(e),Xn(t,e)):[]}function ba(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ya(t){return t&&t.length?t[0]:nt}function ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:wc(n);return i<0&&(i=qf(r+i,0)),w(t,e,i)}function ga(t){var e=null==t?0:t.length;return e?ui(t,0,-1):[]}function _a(t,e){return null==t?"":Hf.call(t,e)}function xa(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function wa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=wc(n),i=i<0?qf(r+i,0):Jf(i,r-1)),e===e?K(t,e,i):x(t,j,i,!0)}function ka(t,e){return t&&t.length?qr(t,wc(e)):nt}function ja(t,e){return t&&t.length&&e&&e.length?Zr(t,e):t}function Ca(t,e,n){return t&&t.length&&e&&e.length?Zr(t,e,_o(n,2)):t}function Oa(t,e,n){return t&&t.length&&e&&e.length?Zr(t,e,nt,n):t}function Ta(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=_o(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Xr(t,i),n}function Ea(t){return null==t?t:Zf.call(t)}function Sa(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&$o(t,e,n)?(e=0,n=r):(e=null==e?0:wc(e),n=n===nt?r:wc(n)),ui(t,e,n)):[]}function Ma(t,e){return si(t,e)}function Da(t,e,n){return fi(t,e,_o(n,2))}function Aa(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&Uu(t[r],e))return r}return-1}function Na(t,e){return si(t,e,!0)}function $a(t,e,n){return fi(t,e,_o(n,2),!0)}function Ia(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e,!0)-1;if(Uu(t[r],e))return r}return-1}function Pa(t){return t&&t.length?li(t):[]}function Ra(t,e){return t&&t.length?li(t,_o(e,2)):[]}function Ba(t){var e=null==t?0:t.length;return e?ui(t,1,e):[]}function La(t,e,n){return t&&t.length?(e=n||e===nt?1:wc(e),ui(t,0,e<0?0:e)):[]}function za(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:wc(e),e=r-e,ui(t,e<0?0:e,r)):[]}function Fa(t,e){return t&&t.length?yi(t,_o(e,3),!1,!0):[]}function Va(t,e){return t&&t.length?yi(t,_o(e,3)):[]}function Wa(t){return t&&t.length?hi(t):[]}function Ha(t,e){return t&&t.length?hi(t,_o(e,2)):[]}function Ua(t,e){return e="function"==typeof e?e:nt,t&&t.length?hi(t,nt,e):[]}function qa(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Ju(t))return e=qf(t.length,e),!0}),D(e,function(e){return p(t,O(e))})}function Ja(t,e){if(!t||!t.length)return[];var n=qa(t);return null==e?n:p(n,function(t){return o(e,nt,t)})}function Ya(t,e){return _i(t||[],e||[],Sn)}function Ga(t,e){return _i(t||[],e||[],oi)}function Ka(t){var e=n(t);return e.__chain__=!0,e}function Za(t,e){return e(t),t}function Xa(t,e){return e(t)}function Qa(){return Ka(this)}function tu(){return new i(this.value(),this.__chain__)}function eu(){this.__values__===nt&&(this.__values__=_c(this.value()));var t=this.__index__>=this.__values__.length,e=t?nt:this.__values__[this.__index__++];return{done:t,value:e}}function nu(){return this}function ru(t){for(var e,n=this;n instanceof r;){var i=na(n);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function iu(){var t=this.__wrapped__;if(t instanceof m){var e=t;return this.__actions__.length&&(e=new m(this)),e=e.reverse(),e.__actions__.push({func:Xa,args:[Ea],thisArg:nt}),new i(e,this.__chain__)}return this.thru(Ea)}function ou(){return mi(this.__wrapped__,this.__actions__)}function au(t,e,n){var r=yd(t)?s:Hn;return n&&$o(t,e,n)&&(e=nt),r(t,_o(e,3))}function uu(t,e){var n=yd(t)?f:Zn;return n(t,_o(e,3))}function cu(t,e){return Xn(hu(t,e),1)}function su(t,e){return Xn(hu(t,e),At)}function fu(t,e,n){return n=n===nt?1:wc(n),Xn(hu(t,e),n)}function lu(t,e){var n=yd(t)?u:vl;return n(t,_o(e,3))}function du(t,e){var n=yd(t)?c:bl;return n(t,_o(e,3))}function pu(t,e,n,r){t=qu(t)?t:Qc(t),n=n&&!r?wc(n):0;var i=t.length;return n<0&&(n=qf(i+n,0)),vc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1}function hu(t,e){var n=yd(t)?p:Fr;return n(t,_o(e,3))}function vu(t,e,n,r){return null==t?[]:(yd(e)||(e=null==e?[]:[e]),n=r?nt:n,yd(n)||(n=null==n?[]:[n]),Jr(t,e,n))}function bu(t,e,n){var r=yd(t)?v:E,i=arguments.length<3;return r(t,_o(e,4),n,i,vl)}function yu(t,e,n){var r=yd(t)?b:E,i=arguments.length<3;return r(t,_o(e,4),n,i,bl)}function mu(t,e){var n=yd(t)?f:Zn;return n(t,Au(_o(e,3)))}function gu(t){var e=yd(t)?Cn:ri;return e(t)}function _u(t,e,n){e=(n?$o(t,e,n):e===nt)?1:wc(e);var r=yd(t)?On:ii;return r(t,e)}function xu(t){var e=yd(t)?Tn:ai;return e(t)}function wu(t){if(null==t)return 0;if(qu(t))return vc(t)?Z(t):t.length;var e=Tl(t);return e==Gt||e==ne?t.size:Br(t).length}function ku(t,e,n){var r=yd(t)?y:ci;return n&&$o(t,e,n)&&(e=nt),r(t,_o(e,3))}function ju(t,e){if("function"!=typeof e)throw new lf(at);return t=wc(t),function(){if(--t<1)return e.apply(this,arguments)}}function Cu(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,uo(t,wt,nt,nt,nt,nt,e)}function Ou(t,e){var n;if("function"!=typeof e)throw new lf(at);return t=wc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Tu(t,e,n){e=n?nt:e;var r=uo(t,mt,nt,nt,nt,nt,nt,e);return r.placeholder=Tu.placeholder,r}function Eu(t,e,n){e=n?nt:e;var r=uo(t,gt,nt,nt,nt,nt,nt,e);return r.placeholder=Eu.placeholder,r}function Su(t,e,n){function r(e){var n=d,r=p;return d=p=nt,m=e,v=t.apply(r,n)}function i(t){return m=t,b=Ml(u,e),g?r(t):v}function o(t){var n=t-y,r=t-m,i=e-n;return _?Jf(i,h-r):i}function a(t){var n=t-y,r=t-m;return y===nt||n>=e||n<0||_&&r>=h}function u(){var t=od();return a(t)?c(t):void(b=Ml(u,o(t)))}function c(t){return b=nt,x&&d?r(t):(d=p=nt,v)}function s(){b!==nt&&wl(b),m=0,d=y=p=b=nt}function f(){return b===nt?v:c(od())}function l(){var t=od(),n=a(t);if(d=arguments,p=this,y=t,n){if(b===nt)return i(y);if(_)return b=Ml(u,e),r(y)}return b===nt&&(b=Ml(u,e)),v}var d,p,h,v,b,y,m=0,g=!1,_=!1,x=!0;if("function"!=typeof t)throw new lf(at);return e=jc(e)||0,ic(n)&&(g=!!n.leading,_="maxWait"in n,h=_?qf(jc(n.maxWait)||0,e):h,x="trailing"in n?!!n.trailing:x),l.cancel=s,l.flush=f,l}function Mu(t){return uo(t,jt)}function Du(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new lf(at);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Du.Cache||sn),n}function Au(t){if("function"!=typeof t)throw new lf(at);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Nu(t){return Ou(2,t)}function $u(t,e){if("function"!=typeof t)throw new lf(at);return e=e===nt?e:wc(e),ni(t,e)}function Iu(t,e){if("function"!=typeof t)throw new lf(at);return e=null==e?0:qf(wc(e),0),ni(function(n){var r=n[e],i=ji(n,0,e);return r&&h(i,r),o(t,this,i)})}function Pu(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new lf(at);return ic(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Su(t,e,{leading:r,maxWait:e,trailing:i})}function Ru(t){return Cu(t,1)}function Bu(t,e){return ld(wi(e),t)}function Lu(){if(!arguments.length)return[];var t=arguments[0];return yd(t)?t:[t]}function zu(t){return Rn(t,dt)}function Fu(t,e){return e="function"==typeof e?e:nt,Rn(t,dt,e)}function Vu(t){return Rn(t,ft|dt)}function Wu(t,e){return e="function"==typeof e?e:nt,Rn(t,ft|dt,e)}function Hu(t,e){return null==e||Ln(t,e,zc(e))}function Uu(t,e){return t===e||t!==t&&e!==e}function qu(t){return null!=t&&rc(t.length)&&!ec(t)}function Ju(t){return oc(t)&&qu(t)}function Yu(t){return t===!0||t===!1||oc(t)&&cr(t)==Wt}function Gu(t){return oc(t)&&1===t.nodeType&&!pc(t)}function Ku(t){if(null==t)return!0;if(qu(t)&&(yd(t)||"string"==typeof t||"function"==typeof t.splice||gd(t)||jd(t)||bd(t)))return!t.length;var e=Tl(t);if(e==Gt||e==ne)return!t.size;if(Lo(t))return!Br(t).length;for(var n in t)if(yf.call(t,n))return!1;return!0}function Zu(t,e){return Sr(t,e)}function Xu(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?Sr(t,e,nt,n):!!r}function Qu(t){if(!oc(t))return!1;var e=cr(t);return e==qt||e==Ut||"string"==typeof t.message&&"string"==typeof t.name&&!pc(t)}function tc(t){return"number"==typeof t&&Wf(t)}function ec(t){if(!ic(t))return!1;var e=cr(t);return e==Jt||e==Yt||e==Vt||e==te}function nc(t){return"number"==typeof t&&t==wc(t)}function rc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Nt}function ic(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function oc(t){return null!=t&&"object"==typeof t}function ac(t,e){return t===e||Ar(t,e,wo(e))}function uc(t,e,n){return n="function"==typeof n?n:nt,Ar(t,e,wo(e),n)}function cc(t){return dc(t)&&t!=+t}function sc(t){if(El(t))throw new of(ot);return Nr(t)}function fc(t){return null===t}function lc(t){return null==t}function dc(t){return"number"==typeof t||oc(t)&&cr(t)==Kt}function pc(t){if(!oc(t)||cr(t)!=Xt)return!1;var e=Ef(t);if(null===e)return!0;var n=yf.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bf.call(n)==xf}function hc(t){return nc(t)&&t>=-Nt&&t<=Nt}function vc(t){return"string"==typeof t||!yd(t)&&oc(t)&&cr(t)==re}function bc(t){return"symbol"==typeof t||oc(t)&&cr(t)==ie}function yc(t){return t===nt}function mc(t){return oc(t)&&Tl(t)==ae}function gc(t){return oc(t)&&cr(t)==ue}function _c(t){if(!t)return[];if(qu(t))return vc(t)?X(t):Ii(t);if(Nf&&t[Nf])return W(t[Nf]());var e=Tl(t),n=e==Gt?H:e==ne?J:Qc;return n(t)}function xc(t){if(!t)return 0===t?t:0;if(t=jc(t),t===At||t===-At){var e=t<0?-1:1;return e*$t}return t===t?t:0}function wc(t){var e=xc(t),n=e%1;return e===e?n?e-n:e:0}function kc(t){return t?Pn(wc(t),0,Pt):0}function jc(t){if("number"==typeof t)return t;if(bc(t))return It;if(ic(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ic(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($e,"");var n=Ue.test(t);return n||Je.test(t)?er(t.slice(2),n?2:8):He.test(t)?It:+t}function Cc(t){return Pi(t,Fc(t))}function Oc(t){return t?Pn(wc(t),-Nt,Nt):0===t?t:0}function Tc(t){return null==t?"":pi(t)}function Ec(t,e){var n=hl(t);return null==e?n:An(n,e)}function Sc(t,e){return _(t,_o(e,3),Qn)}function Mc(t,e){return _(t,_o(e,3),nr)}function Dc(t,e){return null==t?t:yl(t,_o(e,3),Fc)}function Ac(t,e){return null==t?t:ml(t,_o(e,3),Fc)}function Nc(t,e){return t&&Qn(t,_o(e,3))}function $c(t,e){return t&&nr(t,_o(e,3))}function Ic(t){return null==t?[]:rr(t,zc(t))}function Pc(t){return null==t?[]:rr(t,Fc(t))}function Rc(t,e,n){var r=null==t?nt:or(t,e);return r===nt?n:r}function Bc(t,e){return null!=t&&To(t,e,br)}function Lc(t,e){return null!=t&&To(t,e,_r)}function zc(t){return qu(t)?jn(t):Br(t)}function Fc(t){return qu(t)?jn(t,!0):Lr(t)}function Vc(t,e){var n={};return e=_o(e,3),Qn(t,function(t,r,i){$n(n,e(t,r,i),t)}),n}function Wc(t,e){var n={};return e=_o(e,3),Qn(t,function(t,r,i){$n(n,r,e(t,r,i))}),n}function Hc(t,e){return Uc(t,Au(_o(e)))}function Uc(t,e){if(null==t)return{};var n=p(yo(t),function(t){return[t]});return e=_o(e),Gr(t,n,function(t,n){return e(t,n[0])})}function qc(t,e,n){e=ki(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[Qo(e[r])];o===nt&&(r=i,o=n),t=ec(o)?o.call(t):o}return t}function Jc(t,e,n){return null==t?t:oi(t,e,n)}function Yc(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:oi(t,e,n,r)}function Gc(t,e,n){var r=yd(t),i=r||gd(t)||jd(t);if(e=_o(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ic(t)&&ec(o)?hl(Ef(t)):{}}return(i?u:Qn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Kc(t,e){return null==t||vi(t,e)}function Zc(t,e,n){return null==t?t:bi(t,e,wi(n))}function Xc(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:bi(t,e,wi(n),r)}function Qc(t){return null==t?[]:$(t,zc(t))}function ts(t){return null==t?[]:$(t,Fc(t))}function es(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=jc(n),n=n===n?n:0),e!==nt&&(e=jc(e),e=e===e?e:0),Pn(jc(t),e,n)}function ns(t,e,n){return e=xc(e),n===nt?(n=e,e=0):n=xc(n),t=jc(t),wr(t,e,n)}function rs(t,e,n){if(n&&"boolean"!=typeof n&&$o(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=xc(t),e===nt?(e=t,t=0):e=xc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Kf();return Jf(t+i*(e-t+tr("1e-"+((i+"").length-1))),e)}return Qr(t,e)}function is(t){return Kd(Tc(t).toLowerCase())}function os(t){return t=Tc(t),t&&t.replace(Ge,yr).replace(Fn,"")}function as(t,e,n){t=Tc(t),e=pi(e);var r=t.length;n=n===nt?r:Pn(wc(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function us(t){return t=Tc(t),t&&Ce.test(t)?t.replace(ke,mr):t}function cs(t){return t=Tc(t),t&&Ne.test(t)?t.replace(Ae,"\\$&"):t}function ss(t,e,n){t=Tc(t),e=wc(e);var r=e?Z(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return to(zf(i),n)+t+to(Lf(i),n)}function fs(t,e,n){t=Tc(t),e=wc(e);var r=e?Z(t):0;return e&&r<e?t+to(e-r,n):t}function ls(t,e,n){t=Tc(t),e=wc(e);var r=e?Z(t):0;return e&&r<e?to(e-r,n)+t:t}function ds(t,e,n){return n||null==e?e=0:e&&(e=+e),Gf(Tc(t).replace(Ie,""),e||0)}function ps(t,e,n){return e=(n?$o(t,e,n):e===nt)?1:wc(e),ei(Tc(t),e)}function hs(){var t=arguments,e=Tc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function vs(t,e,n){return n&&"number"!=typeof n&&$o(t,e,n)&&(e=n=nt),(n=n===nt?Pt:n>>>0)?(t=Tc(t),t&&("string"==typeof e||null!=e&&!wd(e))&&(e=pi(e),!e&&F(t))?ji(X(t),0,n):t.split(e,n)):[]}function bs(t,e,n){return t=Tc(t),n=null==n?0:Pn(wc(n),0,t.length),e=pi(e),t.slice(n,n+e.length)==e}function ys(t,e,r){var i=n.templateSettings;r&&$o(t,e,r)&&(e=nt),
t=Tc(t),e=Sd({},e,i,co);var o,a,u=Sd({},e.imports,i.imports,co),c=zc(u),s=$(u,c),f=0,l=e.interpolate||Ke,d="__p += '",p=sf((e.escape||Ke).source+"|"+l.source+"|"+(l===Ee?Ve:Ke).source+"|"+(e.evaluate||Ke).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Jn+"]")+"\n";t.replace(p,function(e,n,r,i,u,c){return r||(r=i),d+=t.slice(f,c).replace(Ze,L),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=c+e.length,e}),d+="';\n";var v=e.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(ge,""):d).replace(_e,"$1").replace(xe,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var b=Zd(function(){return af(c,h+"return "+d).apply(nt,s)});if(b.source=d,Qu(b))throw b;return b}function ms(t){return Tc(t).toLowerCase()}function gs(t){return Tc(t).toUpperCase()}function _s(t,e,n){if(t=Tc(t),t&&(n||e===nt))return t.replace($e,"");if(!t||!(e=pi(e)))return t;var r=X(t),i=X(e),o=P(r,i),a=R(r,i)+1;return ji(r,o,a).join("")}function xs(t,e,n){if(t=Tc(t),t&&(n||e===nt))return t.replace(Pe,"");if(!t||!(e=pi(e)))return t;var r=X(t),i=R(r,X(e))+1;return ji(r,0,i).join("")}function ws(t,e,n){if(t=Tc(t),t&&(n||e===nt))return t.replace(Ie,"");if(!t||!(e=pi(e)))return t;var r=X(t),i=P(r,X(e));return ji(r,i).join("")}function ks(t,e){var n=Ct,r=Ot;if(ic(e)){var i="separator"in e?e.separator:i;n="length"in e?wc(e.length):n,r="omission"in e?pi(e.omission):r}t=Tc(t);var o=t.length;if(F(t)){var a=X(t);o=a.length}if(n>=o)return t;var u=n-Z(r);if(u<1)return r;var c=a?ji(a,0,u).join(""):t.slice(0,u);if(i===nt)return c+r;if(a&&(u+=c.length-u),wd(i)){if(t.slice(u).search(i)){var s,f=c;for(i.global||(i=sf(i.source,Tc(We.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var l=s.index;c=c.slice(0,l===nt?u:l)}}else if(t.indexOf(pi(i),u)!=u){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r}function js(t){return t=Tc(t),t&&je.test(t)?t.replace(we,gr):t}function Cs(t,e,n){return t=Tc(t),e=n?nt:e,e===nt?V(t)?et(t):g(t):t.match(e)||[]}function Os(t){var e=null==t?0:t.length,n=_o();return t=e?p(t,function(t){if("function"!=typeof t[1])throw new lf(at);return[n(t[0]),t[1]]}):[],ni(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Ts(t){return Bn(Rn(t,ft))}function Es(t){return function(){return t}}function Ss(t,e){return null==t||t!==t?e:t}function Ms(t){return t}function Ds(t){return Rr("function"==typeof t?t:Rn(t,ft))}function As(t){return Vr(Rn(t,ft))}function Ns(t,e){return Wr(t,Rn(e,ft))}function $s(t,e,n){var r=zc(e),i=rr(e,r);null!=n||ic(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=rr(e,zc(e)));var o=!(ic(n)&&"chain"in n&&!n.chain),a=ec(t);return u(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ii(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,h([this.value()],arguments))})}),t}function Is(){return ir._===this&&(ir._=wf),this}function Ps(){}function Rs(t){return t=wc(t),ni(function(e){return qr(e,t)})}function Bs(t){return Io(t)?O(Qo(t)):Kr(t)}function Ls(t){return function(e){return null==t?nt:or(t,e)}}function zs(){return[]}function Fs(){return!1}function Vs(){return{}}function Ws(){return""}function Hs(){return!0}function Us(t,e){if(t=wc(t),t<1||t>Nt)return[];var n=Pt,r=Jf(t,Pt);e=_o(e),t-=Pt;for(var i=D(r,e);++n<t;)e(n);return i}function qs(t){return yd(t)?p(t,Qo):bc(t)?[t]:Ii(Al(Tc(t)))}function Js(t){var e=++mf;return Tc(t)+e}function Ys(t){return t&&t.length?Un(t,Ms,sr):nt}function Gs(t,e){return t&&t.length?Un(t,_o(e,2),sr):nt}function Ks(t){return C(t,Ms)}function Zs(t,e){return C(t,_o(e,2))}function Xs(t){return t&&t.length?Un(t,Ms,zr):nt}function Qs(t,e){return t&&t.length?Un(t,_o(e,2),zr):nt}function tf(t){return t&&t.length?M(t,Ms):0}function ef(t,e){return t&&t.length?M(t,_o(e,2)):0}e=null==e?ir:xr.defaults(ir.Object(),e,xr.pick(ir,qn));var nf=e.Array,rf=e.Date,of=e.Error,af=e.Function,uf=e.Math,cf=e.Object,sf=e.RegExp,ff=e.String,lf=e.TypeError,df=nf.prototype,pf=af.prototype,hf=cf.prototype,vf=e["__core-js_shared__"],bf=pf.toString,yf=hf.hasOwnProperty,mf=0,gf=function(){var t=/[^.]+$/.exec(vf&&vf.keys&&vf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_f=hf.toString,xf=bf.call(cf),wf=ir._,kf=sf("^"+bf.call(yf).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jf=ur?e.Buffer:nt,Cf=e.Symbol,Of=e.Uint8Array,Tf=jf?jf.allocUnsafe:nt,Ef=U(cf.getPrototypeOf,cf),Sf=cf.create,Mf=hf.propertyIsEnumerable,Df=df.splice,Af=Cf?Cf.isConcatSpreadable:nt,Nf=Cf?Cf.iterator:nt,$f=Cf?Cf.toStringTag:nt,If=function(){try{var t=ko(cf,"defineProperty");return t({},"",{}),t}catch(t){}}(),Pf=e.clearTimeout!==ir.clearTimeout&&e.clearTimeout,Rf=rf&&rf.now!==ir.Date.now&&rf.now,Bf=e.setTimeout!==ir.setTimeout&&e.setTimeout,Lf=uf.ceil,zf=uf.floor,Ff=cf.getOwnPropertySymbols,Vf=jf?jf.isBuffer:nt,Wf=e.isFinite,Hf=df.join,Uf=U(cf.keys,cf),qf=uf.max,Jf=uf.min,Yf=rf.now,Gf=e.parseInt,Kf=uf.random,Zf=df.reverse,Xf=ko(e,"DataView"),Qf=ko(e,"Map"),tl=ko(e,"Promise"),el=ko(e,"Set"),nl=ko(e,"WeakMap"),rl=ko(cf,"create"),il=nl&&new nl,ol={},al=ta(Xf),ul=ta(Qf),cl=ta(tl),sl=ta(el),fl=ta(nl),ll=Cf?Cf.prototype:nt,dl=ll?ll.valueOf:nt,pl=ll?ll.toString:nt,hl=function(){function t(){}return function(e){if(!ic(e))return{};if(Sf)return Sf(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:Oe,evaluate:Te,interpolate:Ee,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=hl(r.prototype),i.prototype.constructor=i,m.prototype=hl(r.prototype),m.prototype.constructor=m,tt.prototype.clear=ze,tt.prototype.delete=Xe,tt.prototype.get=Qe,tt.prototype.has=tn,tt.prototype.set=en,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=un,nn.prototype.set=cn,sn.prototype.clear=fn,sn.prototype.delete=ln,sn.prototype.get=dn,sn.prototype.has=pn,sn.prototype.set=hn,vn.prototype.add=vn.prototype.push=bn,vn.prototype.has=yn,mn.prototype.clear=gn,mn.prototype.delete=_n,mn.prototype.get=xn,mn.prototype.has=wn,mn.prototype.set=kn;var vl=Fi(Qn),bl=Fi(nr,!0),yl=Vi(),ml=Vi(!0),gl=il?function(t,e){return il.set(t,e),t}:Ms,_l=If?function(t,e){return If(t,"toString",{configurable:!0,enumerable:!1,value:Es(e),writable:!0})}:Ms,xl=ni,wl=Pf||function(t){return ir.clearTimeout(t)},kl=el&&1/J(new el([,-0]))[1]==At?function(t){return new el(t)}:Ps,jl=il?function(t){return il.get(t)}:Ps,Cl=Ff?function(t){return null==t?[]:(t=cf(t),f(Ff(t),function(e){return Mf.call(t,e)}))}:zs,Ol=Ff?function(t){for(var e=[];t;)h(e,Cl(t)),t=Ef(t);return e}:zs,Tl=cr;(Xf&&Tl(new Xf(new ArrayBuffer(1)))!=se||Qf&&Tl(new Qf)!=Gt||tl&&Tl(tl.resolve())!=Qt||el&&Tl(new el)!=ne||nl&&Tl(new nl)!=ae)&&(Tl=function(t){var e=cr(t),n=e==Xt?t.constructor:nt,r=n?ta(n):"";if(r)switch(r){case al:return se;case ul:return Gt;case cl:return Qt;case sl:return ne;case fl:return ae}return e});var El=vf?ec:Fs,Sl=Zo(gl),Ml=Bf||function(t,e){return ir.setTimeout(t,e)},Dl=Zo(_l),Al=Vo(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(De,function(t,n,r,i){e.push(r?i.replace(Fe,"$1"):n||t)}),e}),Nl=ni(function(t,e){return Ju(t)?Wn(t,Xn(e,1,Ju,!0)):[]}),$l=ni(function(t,e){var n=xa(e);return Ju(n)&&(n=nt),Ju(t)?Wn(t,Xn(e,1,Ju,!0),_o(n,2)):[]}),Il=ni(function(t,e){var n=xa(e);return Ju(n)&&(n=nt),Ju(t)?Wn(t,Xn(e,1,Ju,!0),nt,n):[]}),Pl=ni(function(t){var e=p(t,xi);return e.length&&e[0]===t[0]?kr(e):[]}),Rl=ni(function(t){var e=xa(t),n=p(t,xi);return e===xa(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?kr(n,_o(e,2)):[]}),Bl=ni(function(t){var e=xa(t),n=p(t,xi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?kr(n,nt,e):[]}),Ll=ni(ja),zl=vo(function(t,e){var n=null==t?0:t.length,r=In(t,e);return Xr(t,p(e,function(t){return No(t,n)?+t:t}).sort(Di)),r}),Fl=ni(function(t){return hi(Xn(t,1,Ju,!0))}),Vl=ni(function(t){var e=xa(t);return Ju(e)&&(e=nt),hi(Xn(t,1,Ju,!0),_o(e,2))}),Wl=ni(function(t){var e=xa(t);return e="function"==typeof e?e:nt,hi(Xn(t,1,Ju,!0),nt,e)}),Hl=ni(function(t,e){return Ju(t)?Wn(t,e):[]}),Ul=ni(function(t){return gi(f(t,Ju))}),ql=ni(function(t){var e=xa(t);return Ju(e)&&(e=nt),gi(f(t,Ju),_o(e,2))}),Jl=ni(function(t){var e=xa(t);return e="function"==typeof e?e:nt,gi(f(t,Ju),nt,e)}),Yl=ni(qa),Gl=ni(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Ja(t,n)}),Kl=vo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return In(e,t)};return!(e>1||this.__actions__.length)&&r instanceof m&&No(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Xa,args:[o],thisArg:nt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(o)}),Zl=Li(function(t,e,n){yf.call(t,n)?++t[n]:$n(t,n,1)}),Xl=Yi(la),Ql=Yi(da),td=Li(function(t,e,n){yf.call(t,n)?t[n].push(e):$n(t,n,[e])}),ed=ni(function(t,e,n){var r=-1,i="function"==typeof e,a=qu(t)?nf(t.length):[];return vl(t,function(t){a[++r]=i?o(e,t,n):Cr(t,e,n)}),a}),nd=Li(function(t,e,n){$n(t,n,e)}),rd=Li(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),id=ni(function(t,e){if(null==t)return[];var n=e.length;return n>1&&$o(t,e[0],e[1])?e=[]:n>2&&$o(e[0],e[1],e[2])&&(e=[e[0]]),Jr(t,Xn(e,1),[])}),od=Rf||function(){return ir.Date.now()},ad=ni(function(t,e,n){var r=vt;if(n.length){var i=q(n,go(ad));r|=_t}return uo(t,r,e,n,i)}),ud=ni(function(t,e,n){var r=vt|bt;if(n.length){var i=q(n,go(ud));r|=_t}return uo(e,r,t,n,i)}),cd=ni(function(t,e){return Vn(t,1,e)}),sd=ni(function(t,e,n){return Vn(t,jc(e)||0,n)});Du.Cache=sn;var fd=xl(function(t,e){e=1==e.length&&yd(e[0])?p(e[0],N(_o())):p(Xn(e,1),N(_o()));var n=e.length;return ni(function(r){for(var i=-1,a=Jf(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),ld=ni(function(t,e){var n=q(e,go(ld));return uo(t,_t,nt,e,n)}),dd=ni(function(t,e){var n=q(e,go(dd));return uo(t,xt,nt,e,n)}),pd=vo(function(t,e){return uo(t,kt,nt,nt,nt,e)}),hd=ro(sr),vd=ro(function(t,e){return t>=e}),bd=Or(function(){return arguments}())?Or:function(t){return oc(t)&&yf.call(t,"callee")&&!Mf.call(t,"callee")},yd=nf.isArray,md=fr?N(fr):Tr,gd=Vf||Fs,_d=lr?N(lr):Er,xd=dr?N(dr):Dr,wd=pr?N(pr):$r,kd=hr?N(hr):Ir,jd=vr?N(vr):Pr,Cd=ro(zr),Od=ro(function(t,e){return t<=e}),Td=zi(function(t,e){if(Lo(e)||qu(e))return void Pi(e,zc(e),t);for(var n in e)yf.call(e,n)&&Sn(t,n,e[n])}),Ed=zi(function(t,e){Pi(e,Fc(e),t)}),Sd=zi(function(t,e,n,r){Pi(e,Fc(e),t,r)}),Md=zi(function(t,e,n,r){Pi(e,zc(e),t,r)}),Dd=vo(In),Ad=ni(function(t,e){t=cf(t);var n=-1,r=e.length,i=r>2?e[2]:nt;for(i&&$o(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Fc(o),u=-1,c=a.length;++u<c;){var s=a[u],f=t[s];(f===nt||Uu(f,hf[s])&&!yf.call(t,s))&&(t[s]=o[s])}return t}),Nd=ni(function(t){return t.push(nt,so),o(Bd,nt,t)}),$d=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=_f.call(e)),t[e]=n},Es(Ms)),Id=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=_f.call(e)),yf.call(t,e)?t[e].push(n):t[e]=[n]},_o),Pd=ni(Cr),Rd=zi(function(t,e,n){Hr(t,e,n)}),Bd=zi(function(t,e,n,r){Hr(t,e,n,r)}),Ld=vo(function(t,e){var n={};if(null==t)return n;var r=!1;e=p(e,function(e){return e=ki(e,t),r||(r=e.length>1),e}),Pi(t,yo(t),n),r&&(n=Rn(n,ft|lt|dt,fo));for(var i=e.length;i--;)vi(n,e[i]);return n}),zd=vo(function(t,e){return null==t?{}:Yr(t,e)}),Fd=ao(zc),Vd=ao(Fc),Wd=Ui(function(t,e,n){return e=e.toLowerCase(),t+(n?is(e):e)}),Hd=Ui(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ud=Ui(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),qd=Hi("toLowerCase"),Jd=Ui(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Yd=Ui(function(t,e,n){return t+(n?" ":"")+Kd(e)}),Gd=Ui(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Kd=Hi("toUpperCase"),Zd=ni(function(t,e){try{return o(t,nt,e)}catch(t){return Qu(t)?t:new of(t)}}),Xd=vo(function(t,e){return u(e,function(e){e=Qo(e),$n(t,e,ad(t[e],t))}),t}),Qd=Gi(),tp=Gi(!0),ep=ni(function(t,e){return function(n){return Cr(n,t,e)}}),np=ni(function(t,e){return function(n){return Cr(t,n,e)}}),rp=Qi(p),ip=Qi(s),op=Qi(y),ap=no(),up=no(!0),cp=Xi(function(t,e){return t+e},0),sp=oo("ceil"),fp=Xi(function(t,e){return t/e},1),lp=oo("floor"),dp=Xi(function(t,e){return t*e},1),pp=oo("round"),hp=Xi(function(t,e){return t-e},0);return n.after=ju,n.ary=Cu,n.assign=Td,n.assignIn=Ed,n.assignInWith=Sd,n.assignWith=Md,n.at=Dd,n.before=Ou,n.bind=ad,n.bindAll=Xd,n.bindKey=ud,n.castArray=Lu,n.chain=Ka,n.chunk=ra,n.compact=ia,n.concat=oa,n.cond=Os,n.conforms=Ts,n.constant=Es,n.countBy=Zl,n.create=Ec,n.curry=Tu,n.curryRight=Eu,n.debounce=Su,n.defaults=Ad,n.defaultsDeep=Nd,n.defer=cd,n.delay=sd,n.difference=Nl,n.differenceBy=$l,n.differenceWith=Il,n.drop=aa,n.dropRight=ua,n.dropRightWhile=ca,n.dropWhile=sa,n.fill=fa,n.filter=uu,n.flatMap=cu,n.flatMapDeep=su,n.flatMapDepth=fu,n.flatten=pa,n.flattenDeep=ha,n.flattenDepth=va,n.flip=Mu,n.flow=Qd,n.flowRight=tp,n.fromPairs=ba,n.functions=Ic,n.functionsIn=Pc,n.groupBy=td,n.initial=ga,n.intersection=Pl,n.intersectionBy=Rl,n.intersectionWith=Bl,n.invert=$d,n.invertBy=Id,n.invokeMap=ed,n.iteratee=Ds,n.keyBy=nd,n.keys=zc,n.keysIn=Fc,n.map=hu,n.mapKeys=Vc,n.mapValues=Wc,n.matches=As,n.matchesProperty=Ns,n.memoize=Du,n.merge=Rd,n.mergeWith=Bd,n.method=ep,n.methodOf=np,n.mixin=$s,n.negate=Au,n.nthArg=Rs,n.omit=Ld,n.omitBy=Hc,n.once=Nu,n.orderBy=vu,n.over=rp,n.overArgs=fd,n.overEvery=ip,n.overSome=op,n.partial=ld,n.partialRight=dd,n.partition=rd,n.pick=zd,n.pickBy=Uc,n.property=Bs,n.propertyOf=Ls,n.pull=Ll,n.pullAll=ja,n.pullAllBy=Ca,n.pullAllWith=Oa,n.pullAt=zl,n.range=ap,n.rangeRight=up,n.rearg=pd,n.reject=mu,n.remove=Ta,n.rest=$u,n.reverse=Ea,n.sampleSize=_u,n.set=Jc,n.setWith=Yc,n.shuffle=xu,n.slice=Sa,n.sortBy=id,n.sortedUniq=Pa,n.sortedUniqBy=Ra,n.split=vs,n.spread=Iu,n.tail=Ba,n.take=La,n.takeRight=za,n.takeRightWhile=Fa,n.takeWhile=Va,n.tap=Za,n.throttle=Pu,n.thru=Xa,n.toArray=_c,n.toPairs=Fd,n.toPairsIn=Vd,n.toPath=qs,n.toPlainObject=Cc,n.transform=Gc,n.unary=Ru,n.union=Fl,n.unionBy=Vl,n.unionWith=Wl,n.uniq=Wa,n.uniqBy=Ha,n.uniqWith=Ua,n.unset=Kc,n.unzip=qa,n.unzipWith=Ja,n.update=Zc,n.updateWith=Xc,n.values=Qc,n.valuesIn=ts,n.without=Hl,n.words=Cs,n.wrap=Bu,n.xor=Ul,n.xorBy=ql,n.xorWith=Jl,n.zip=Yl,n.zipObject=Ya,n.zipObjectDeep=Ga,n.zipWith=Gl,n.entries=Fd,n.entriesIn=Vd,n.extend=Ed,n.extendWith=Sd,$s(n,n),n.add=cp,n.attempt=Zd,n.camelCase=Wd,n.capitalize=is,n.ceil=sp,n.clamp=es,n.clone=zu,n.cloneDeep=Vu,n.cloneDeepWith=Wu,n.cloneWith=Fu,n.conformsTo=Hu,n.deburr=os,n.defaultTo=Ss,n.divide=fp,n.endsWith=as,n.eq=Uu,n.escape=us,n.escapeRegExp=cs,n.every=au,n.find=Xl,n.findIndex=la,n.findKey=Sc,n.findLast=Ql,n.findLastIndex=da,n.findLastKey=Mc,n.floor=lp,n.forEach=lu,n.forEachRight=du,n.forIn=Dc,n.forInRight=Ac,n.forOwn=Nc,n.forOwnRight=$c,n.get=Rc,n.gt=hd,n.gte=vd,n.has=Bc,n.hasIn=Lc,n.head=ya,n.identity=Ms,n.includes=pu,n.indexOf=ma,n.inRange=ns,n.invoke=Pd,n.isArguments=bd,n.isArray=yd,n.isArrayBuffer=md,n.isArrayLike=qu,n.isArrayLikeObject=Ju,n.isBoolean=Yu,n.isBuffer=gd,n.isDate=_d,n.isElement=Gu,n.isEmpty=Ku,n.isEqual=Zu,n.isEqualWith=Xu,n.isError=Qu,n.isFinite=tc,n.isFunction=ec,n.isInteger=nc,n.isLength=rc,n.isMap=xd,n.isMatch=ac,n.isMatchWith=uc,n.isNaN=cc,n.isNative=sc,n.isNil=lc,n.isNull=fc,n.isNumber=dc,n.isObject=ic,n.isObjectLike=oc,n.isPlainObject=pc,n.isRegExp=wd,n.isSafeInteger=hc,n.isSet=kd,n.isString=vc,n.isSymbol=bc,n.isTypedArray=jd,n.isUndefined=yc,n.isWeakMap=mc,n.isWeakSet=gc,n.join=_a,n.kebabCase=Hd,n.last=xa,n.lastIndexOf=wa,n.lowerCase=Ud,n.lowerFirst=qd,n.lt=Cd,n.lte=Od,n.max=Ys,n.maxBy=Gs,n.mean=Ks,n.meanBy=Zs,n.min=Xs,n.minBy=Qs,n.stubArray=zs,n.stubFalse=Fs,n.stubObject=Vs,n.stubString=Ws,n.stubTrue=Hs,n.multiply=dp,n.nth=ka,n.noConflict=Is,n.noop=Ps,n.now=od,n.pad=ss,n.padEnd=fs,n.padStart=ls,n.parseInt=ds,n.random=rs,n.reduce=bu,n.reduceRight=yu,n.repeat=ps,n.replace=hs,n.result=qc,n.round=pp,n.runInContext=t,n.sample=gu,n.size=wu,n.snakeCase=Jd,n.some=ku,n.sortedIndex=Ma,n.sortedIndexBy=Da,n.sortedIndexOf=Aa,n.sortedLastIndex=Na,n.sortedLastIndexBy=$a,n.sortedLastIndexOf=Ia,n.startCase=Yd,n.startsWith=bs,n.subtract=hp,n.sum=tf,n.sumBy=ef,n.template=ys,n.times=Us,n.toFinite=xc,n.toInteger=wc,n.toLength=kc,n.toLower=ms,n.toNumber=jc,n.toSafeInteger=Oc,n.toString=Tc,n.toUpper=gs,n.trim=_s,n.trimEnd=xs,n.trimStart=ws,n.truncate=ks,n.unescape=js,n.uniqueId=Js,n.upperCase=Gd,n.upperFirst=Kd,n.each=lu,n.eachRight=du,n.first=ya,$s(n,function(){var t={};return Qn(n,function(e,r){yf.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=rt,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),u(["drop","take"],function(t,e){m.prototype[t]=function(n){n=n===nt?1:qf(wc(n),0);var r=this.__filtered__&&!e?new m(this):this.clone();return r.__filtered__?r.__takeCount__=Jf(n,r.__takeCount__):r.__views__.push({size:Jf(n,Pt),type:t+(r.__dir__<0?"Right":"")}),r},m.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==St||n==Dt;m.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:_o(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");m.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");m.prototype[t]=function(){return this.__filtered__?new m(this):this[n](1)}}),m.prototype.compact=function(){return this.filter(Ms)},m.prototype.find=function(t){return this.filter(t).head()},m.prototype.findLast=function(t){return this.reverse().find(t)},m.prototype.invokeMap=ni(function(t,e){return"function"==typeof t?new m(this):this.map(function(n){return Cr(n,t,e)})}),m.prototype.reject=function(t){return this.filter(Au(_o(t)))},m.prototype.slice=function(t,e){t=wc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new m(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=wc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},m.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},m.prototype.toArray=function(){return this.take(Pt)},Qn(m.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],u=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,c=o?[1]:arguments,s=e instanceof m,f=c[0],l=s||yd(e),d=function(t){var e=a.apply(n,h([t],c));return o&&p?e[0]:e};l&&r&&"function"==typeof f&&1!=f.length&&(s=l=!1);var p=this.__chain__,v=!!this.__actions__.length,b=u&&!p,y=s&&!v;if(!u&&l){e=y?e:new m(this);var g=t.apply(e,c);return g.__actions__.push({func:Xa,args:[d],thisArg:nt}),new i(g,p)}return b&&y?t.apply(this,c):(g=this.thru(d),b?o?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var e=df[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(yd(n)?n:[],t)}return this[r](function(n){return e.apply(yd(n)?n:[],t)})}}),Qn(m.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"",o=ol[i]||(ol[i]=[]);o.push({name:e,func:r})}}),ol[Ki(nt,bt).name]=[{name:"wrapper",func:nt}],m.prototype.clone=T,m.prototype.reverse=G,m.prototype.value=Q,n.prototype.at=Kl,n.prototype.chain=Qa,n.prototype.commit=tu,n.prototype.next=eu,n.prototype.plant=ru,n.prototype.reverse=iu,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=ou,n.prototype.first=n.prototype.head,Nf&&(n.prototype[Nf]=nu),n},xr=_r();ir._=xr,r=function(){return xr}.call(e,n,e,i),!(r!==nt&&(i.exports=r))}).call(this)}).call(e,function(){return this}(),n(165)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e){var n={type:"u-checkbox"};(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=t.element.children[0],i=s.default.extend(e,n.umeta);if(i.data||(i.data="data"),n.vm&&n.vm.placeholder){var o=r.getElementsByTagName("input")[0];o.attributes.placeholder.nodeValue=n.vm.placeholder}n.vm&&n.vm.datasource&&(i.datasource="datasource"),r.setAttribute("u-meta",(0,u.default)(i));var a={};n.data&&(a=s.default.extend(a,n.data)),n.vm&&(a=s.default.extend(a,n.vm)),window.app.createComp(r,a)}function o(t,e,n){if(t.vm&&t.vm.iconCls){var r=e.element.children[0],i=r.getElementsByTagName(n)[0],o=t.vm.iconCls.indexOf("uf")>=0?t.vm.iconCls+" u-form-control-feedback":t.vm.iconCls;i.attributes.class.nodeValue=o}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(156),u=r(a);e.CreatApp=i,e.CustomIconCls=o;var c=n(164),s=r(c)},function(t,e,n){"use strict";function r(t,e){var n={type:"currency"};(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"u-date",format:"YYYY-MM-DD"};(0,i.CustomIconCls)(t,e,"span"),(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"string"};(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"u-month"};(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"pagination"};t.vm&&t.vm.sizeChange&&(n.sizeChange="sizeChange"),t.vm&&t.vm.pageChange&&(n.pageChange="pageChange"),(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"u-radio"},r=e.element.children[0];r.children[0].childNodes[0].setAttribute("name",Math.random()),(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"u-combobox"};(0,i.CustomIconCls)(t,e,"span"),(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"u-switch",checkedValue:"1",unCheckedValue:"0"};(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e){"use strict";function n(t,e){var n=e.element.children[0],r=t.option;r&&r.title&&"function"==typeof r.title&&(r.title=r.title()),new window.u.Tooltip(n,t.option)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";function r(t,e){var n={type:"tree"};t.vm&&t.vm.setting&&(n.setting="setting"),(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"u-year"};(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){"use strict";function r(t,e){var n={type:"u-yearmonth"};(0,i.CreatApp)(e,n,t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(167);e.default=r},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./box-content/index.html":181,"./box-filter/index.html":182,"./box-sticky/index.html":183,"./box-tabs/index.html":184,"./box/index.html":185,"./cascader/index.html":186,"./casitem/index.html":187,"./datepicker/index.html":119,"./datetimepicker/index.html":137,"./dropdown/index.html":139,"./form-ctn/index.html":188,"./form-group/index.html":189,"./form-text/index.html":190,"./form-title/index.html":191,"./query-tabs/index.html":192,"./state-item/index.html":193,"./state-tabs/index.html":194,"./step-legend/index.html":195,"./step/index.html":196,"./submit/index.html":197,"./u-checkbox/index.html":198,"./u-currency/index.html":199,"./u-datepicker/index.html":200,"./u-input/index.html":201,"./u-month/index.html":202,"./u-pagination/index.html":203,"./u-radio/index.html":204,"./u-select/index.html":205,"./u-switch/index.html":206,"./u-tooltip/index.html":207,"./u-tree/index.html":208,"./u-year/index.html":209,"./u-yearmonth/index.html":210};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=180},function(t,e){t.exports="<div class=box-content> <!-- ko if: title --> <div class=box-content-title data-bind=text:title></div> <!-- /ko --> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </div> "},function(t,e){t.exports='<div class=box-filter> <div class="pull-left box-filter-title"> <span data-bind=text:title></span> </div> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> <!-- ko if: qhidden --> <div class=pull-right> <form class="form-search u-input-group" data-bind=submit:query> <input type=text class="u-form-control input_search" name=search_LIKE_productName data-bind=value:q,attr:{placeholder:placeholder}> <span class=u-input-group-btn> <button type=submit class="btn btn-white no-btn-outline" data-bind="click: query"> <i class="fa fa-search"></i> </button> </span> </form> </div> <!-- /ko --> </div> '},function(t,e){t.exports='<div class=box-sticky-ctn> <div class=box-sticky id=box-sticky> <div class=u-row> <div class="u-col-2 box-sticky-title"> <span data-bind=text:title></span> </div> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </div> </div> </div> '},function(t,e){t.exports="<div class=box-tabs> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </div> "},function(t,e){t.exports="<div class=box> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </div> "},function(t,e){t.exports='<div class=cascader data-bind="clickoutside: handleClose"> <div class="u-form-control cascader-display" style=line-height:24px data-bind="click: handleVisible"> <span data-bind=text:selectedValue().name></span> <i class="fa fa-angle-down" style=position:absolute;right:10px;top:13px></i> </div> <div class=select-dropdown data-bind="visible: casitmevisible"> <casitem params="data: data,selectedValue:selectedValue"></casitem> </div> </div> '},function(t,e){t.exports='<ul data-bind="foreach: { data: data(), as: \'row\' }" class=casitem> <li data-bind="click: function(){ return $parent.expandChild($data, $index())}, css:{active:$index() == $parent.activeIndex()}" class=casitem-item> <span data-bind=text:row.name></span> <!-- ko if: row.children && row.children.length > 0 --> <i class="fa fa-angle-right"></i> <!-- /ko --> </li> </ul> <!-- ko if: subList().length > 0 --> <casitem params="data: subList, selectedValue: selectedValue"></casitem> <!-- /ko --> '},function(t,e){t.exports="<div class=form-ctn> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </div> "},function(t,e){t.exports="<div class=u-form-group> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </div> "},function(t,e){t.exports='<label class="text-left label-text" data-bind="text: text"></label> '},function(t,e){t.exports='<label class="text-right form-title"> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </label> '},function(t,e){t.exports="<div class=query-tabs data-bind=\"foreach: items\"> <input name=query-tabs type=radio data-bind=\"checked: $parent.curState,value:state,attr:{id:'query_tabs'+state}\"> <div class=query-tab data-bind=click:$parent.handler> <label data-bind=\"text:title,attr:{for:'query_tabs'+state}\"></label> <span data-bind=\"text:'(' + num + ')'\"></span> </div> </div> "},function(t,e){t.exports='<div class=state-item> <label for="" data-bind="css:{\'active\': active},click:click"> <span class=item-title data-bind=text:title></span> <span class=item-count data-bind=text:count></span> </label> </div> '},function(t,e){t.exports="<div class=state-tabs data-bind=foreach:items> <div class=state-tab data-bind=\"click:function(){$parent.handler($data,$index())},css:$parent.index()==$index()?'active':''\"> <label data-bind=text:title></label> <span data-bind=\"text:'(' + num + ')'\"></span> </div> </div> "},function(t,e){t.exports="<div class=step-legend data-bind=\"css:{'step-sm':type=='sm'}\"> <ul> <!-- ko foreach: list --> <li data-bind=\"css:{'currentstep': $parent.currentIndex() == $index(), 'finishedstep': $parent.currentIndex() >= $index()}\"> <div class=step-legend-name> <div class=legend-arrow> <span>&#9670;</span> </div> <div class=legend-content data-bind=text:name> </div> </div> <div class=step-legend-step> <div class=step-outter> <div class=step-inner data-bind=\"text: $index() +1\"> </div> <div class=step-tooltip></div> </div> <div class=step-left></div> <div class=step-right></div> </div> </li> <!-- /ko --> </ul> </div> "},function(t,e){t.exports="<div> <ul> <!-- ko foreach: list --> <li data-bind=\"css:{'active': $parent.current == $index},text:name\"></li> <!-- /ko --> </ul> </div> "},function(t,e){t.exports='<button class="btn btn-primary" data-bind=click:click,text:text> </button> '},function(t,e){t.exports="<div> <label class=u-checkbox> <input type=checkbox class=u-checkbox-input> <span class=u-checkbox-label data-role=name></span> </label> </div> "},function(t,e){t.exports='<div class="p-relative inline-block"> <input class=u-form-control /> </div> '},function(t,e){t.exports='<div class="u-datepicker w100"> <input class=u-form-control type=text placeholder=""> <span class="u-form-control-feedback uf uf-calendarpageempty"></span> </div> '},function(t,e){t.exports="<input type=text class=u-form-control> "},function(t,e){t.exports='<div class="p-relative inline-block"> <input class=u-form-control /> </div> '},function(t,e){t.exports="<div class=u-pagination> </div> "},function(t,e){t.exports="<div> <label class=u-radio><input type=radio class=u-radio-button> <span class=u-radio-label></span> </label> </div> "},function(t,e){t.exports='<div class="u-input-group u-has-feedback"> <input class=u-form-control placeholder=请选择 /> <span class="u-form-control-feedback uf uf-anglearrowdown" data-role=combo-button></span> </div> '},function(t,e){t.exports="<label class=u-switch> <input type=checkbox class=u-switch-input /> <span class=u-switch-label></span> </label> "},function(t,e){t.exports="<span> <!-- ko template: { nodes: $componentTemplateNodes } --><!-- /ko --> </span> "},function(t,e){t.exports="<div class=ztree> </div> "},function(t,e){t.exports='<div class="p-relative inline-block"> <input class=u-form-control placeholder=""/> </div> '},function(t,e){t.exports='<div class="p-relative inline-block"> <input class=u-form-control placeholder=""/> </div> '},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./clickoutside/index":212,"./hideInNewWindow/index":213,"./ko-currency/index":214,"./repeatClick/index":215,"./repeatSubmit/index":216};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=211},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t,e,n,r,i){function o(n){return!t.contains(n.target)&&void(e()&&e()(n))}document.addEventListener("click",o)}};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t,e,n,r,i){window.history.length<=1&&(t.style.display="none")}};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={update:function(t,e,n,r,i){t.innerHTML="$:"+e()()}};e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(164),i={init:function(t,e,n,i,o){var a=!0,u=(0,r.debounce)(function(t,e){
a&&(e(t),a=!1,setTimeout(function(){a=!0},2500))},300);t.addEventListener("click",function(t){u(t,e())})}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(164),i={init:function(t,e,n,i,o){var a=!0,u=(0,r.debounce)(function(t,e){a&&(e(t),a=!1,setTimeout(function(){a=!0},2500))},300);t.addEventListener("submit",function(t){return u(t,e()),t.preventDefault(),!1})}};e.default=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDZjZTUzOTFlZTAxYjdhMTU5M2ZlIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kYXRlcGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb3JlL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci91dGlsL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS95ZWFyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS95ZWFyLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9iYXNlL21vbnRoLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS9tb250aC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS9kYXkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9iYXNlL2RheS5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS90aW1lci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kYXRlcGlja2VyL2Jhc2UvdGltZXIuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kYXRldGltZXBpY2tlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kYXRldGltZXBpY2tlci9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vfi9rby1iaW5kaW5naGFuZGxlci9kaXN0L2xpYnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9rbm9ja291dC9idWlsZC9vdXRwdXQva25vY2tvdXQtbGF0ZXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzIF5cXC5cXC8uKlxcL2luZGV4JCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ib3gtY29udGVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ib3gtZmlsdGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2JveC1zdGlja3kvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYm94LXRhYnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYm94L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Nhc2NhZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Nhc2l0ZW0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9ybS1jdG4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9mb3JtLWdyb3VwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Zvcm0tdGV4dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9mb3JtLXRpdGxlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3BhZ2luYXRpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcXVlcnktdGFicy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zdGF0ZS1pdGVtL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3N0YXRlLXRhYnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RlcC1sZWdlbmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RlcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zdWJtaXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvbG9kYXNoLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1jaGVja2JveC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3UtY3VycmVuY3kvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1kYXRlcGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3UtaW5wdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1tb250aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXBhZ2luYXRpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1yYWRpby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXNlbGVjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXN3aXRjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXRvb2x0aXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS10cmVlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3UteWVhci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXllYXJtb250aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cyBeXFwuXFwvLipcXC9pbmRleFxcLmh0bWwkIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2JveC1jb250ZW50L2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYm94LWZpbHRlci9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2JveC1zdGlja3kvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ib3gtdGFicy9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2JveC9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Nhc2NhZGVyL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY2FzaXRlbS9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Zvcm0tY3RuL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9ybS1ncm91cC9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Zvcm0tdGV4dC9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Zvcm0tdGl0bGUvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9xdWVyeS10YWJzL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhdGUtaXRlbS9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3N0YXRlLXRhYnMvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zdGVwLWxlZ2VuZC9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3N0ZXAvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zdWJtaXQvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LWNoZWNrYm94L2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1jdXJyZW5jeS9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3UtZGF0ZXBpY2tlci9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3UtaW5wdXQvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LW1vbnRoL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1wYWdpbmF0aW9uL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1yYWRpby9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Utc2VsZWN0L2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdS1zd2l0Y2gvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXRvb2x0aXAvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXRyZWUvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXllYXIvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy91LXllYXJtb250aC9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9iaW5kaW5nSGFuZGxlcnMgXlxcLlxcLy4qXFwvaW5kZXgkIiwid2VicGFjazovLy8uL3NyYy9iaW5kaW5nSGFuZGxlcnMvY2xpY2tvdXRzaWRlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iaW5kaW5nSGFuZGxlcnMvaGlkZUluTmV3V2luZG93L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iaW5kaW5nSGFuZGxlcnMva28tY3VycmVuY3kvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JpbmRpbmdIYW5kbGVycy9yZXBlYXRDbGljay9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmluZGluZ0hhbmRsZXJzL3JlcGVhdFN1Ym1pdC9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyZWdpc3RlckNvbXBvbmVudCIsIm5hbWUiLCJrbyIsImNvbXBvbmVudHMiLCJyZWdpc3RlciIsInZpZXdNb2RlbCIsInRlbXBsYXRlIiwicmVnaXN0ZXJDcmVhdGVDb21wb25lbnQiLCJjcmVhdGVWaWV3TW9kZWwiLCJyZWdpc3RlckJpbmRpbmdIYW5kbGVycyIsImJpbmRpbmciLCJiaW5kaW5nSGFuZGxlcnMiLCJtb2RlbCIsImluaXQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX2RhdGVwaWNrZXIiLCJfZGF0ZXBpY2tlcjIiLCJfZGF0ZXRpbWVwaWNrZXIiLCJfZGF0ZXRpbWVwaWNrZXIyIiwiX2Ryb3Bkb3duIiwiX2Ryb3Bkb3duMiIsIkRhdGUiLCJwcm90b3R5cGUiLCJfZm9ybWF0IiwiZm10IiwibyIsIk0rIiwidGhpcyIsImdldE1vbnRoIiwiZCsiLCJnZXREYXRlIiwiaCsiLCJnZXRIb3VycyIsIm0rIiwiZ2V0TWludXRlcyIsInMrIiwiZ2V0U2Vjb25kcyIsInErIiwiTWF0aCIsImZsb29yIiwiUyIsImdldE1pbGxpc2Vjb25kcyIsInRlc3QiLCJyZXBsYWNlIiwiUmVnRXhwIiwiJDEiLCJnZXRGdWxsWWVhciIsInN1YnN0ciIsImxlbmd0aCIsImsiLCJub3JtYWxjb21wbGlzdCIsImNyZWF0ZWNvbXBsaXN0IiwiZm9yRWFjaCIsIml0ZW0iLCJfZ2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyIsIl9pbmhlcml0czIiLCJfaW5oZXJpdHMzIiwiX2luZGV4IiwiX2luZGV4MiIsIl9iYXNlIiwiX2Jhc2UyIiwiX3V0aWwiLCJ3aW5kb3ciLCJQUkVJRlgiLCJEQVRFRk9STUFUIiwiREFURVRJTUVGT1JNQVQiLCJnZXRFbGVtZW50TGVmdCIsImVsZW1lbnQiLCJhY3R1YWxMZWZ0Iiwib2Zmc2V0TGVmdCIsImN1cnJlbnQiLCJvZmZzZXRQYXJlbnQiLCJEYXRlUGlja2VyIiwiX0Jhc2UiLCJfX3Byb3RvX18iLCJhcHBseSIsImFyZ3VtZW50cyIsImtleSIsIl9yZWYiLCJfdGhpczIiLCJwbGFjZWhvbGRlciIsImRhdGEiLCJfcmVmJGlzVGltZXIiLCJpc1RpbWVyIiwidW5kZWZpbmVkIiwiX3JlZiRsYW5nIiwibGFuZyIsIm1pbkRhdGUiLCJtYXhEYXRlIiwiX3JlZiRudW1iZXJpY1ZhbHVlIiwibnVtYmVyaWNWYWx1ZSIsImRyb3BTdHlsZSIsImdyaWRSZWYiLCJpc051bWJlcmljVmFsdWUiLCJ5ZWFyIiwib2JzZXJ2YWJsZSIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiaXNQb3B1cCIsImluaXRGbGFnIiwic2hvd3llYXIiLCJzaG93bW9udGgiLCJzaG93ZGF5Iiwic2hvd3RpbWVyIiwiYWxpZ25yaWdodCIsImkxOG5Db25maXJtIiwic2V0Rm9jdXMiLCIkZWwiLCJxdWVyeVNlbGVjdG9yIiwiY2xpY2siLCJmb2N1cyIsInNldFVuRm91Y3MiLCJwYXJhbXMiLCJfdGhpczMiLCJjb21wdXRlZERhdGEiLCJwdXJlQ29tcHV0ZWQiLCJyZWFkIiwiX2RhdGUiLCJ3cml0ZSIsInZhbCIsInNldERhdGEiLCJfdGhpczQiLCJzdWJzY3JpYmUiLCJnZW5lcmF0ZURhdGUiLCJiaW5kTW9kZWxWYWx1ZSIsIl90aGlzNSIsIm9uTWFza0hvdmVyIiwidiIsImlzTmFOIiwiZXZlbnQiLCJsZWZ0UG9zaXRpb24iLCJ0YXJnZXQiLCJzY3JlZW5XaWR0aCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJlIiwiY29uc29sZSIsImVycm9yIiwibWFza0NsaWNrIiwiY2xvc2VNb2RhbCIsIm9sZERhdGEiLCJjb25maXJtIiwidGltZXJwYW5lbCIsImNob29zZW5vdyIsImdldFByb3RvdHlwZU9mIiwidG9PYmplY3QiLCIkZ2V0UHJvdG90eXBlT2YiLCJpdCIsImRlZmluZWQiLCJUeXBlRXJyb3IiLCJoYXMiLCJJRV9QUk9UTyIsIk9iamVjdFByb3RvIiwiTyIsImNvbnN0cnVjdG9yIiwiaGFzT3duUHJvcGVydHkiLCJzaGFyZWQiLCJ1aWQiLCJnbG9iYWwiLCJTSEFSRUQiLCJzdG9yZSIsInNlbGYiLCJGdW5jdGlvbiIsIl9fZyIsInB4IiwicmFuZG9tIiwiY29uY2F0IiwidG9TdHJpbmciLCIkZXhwb3J0IiwiY29yZSIsImZhaWxzIiwiS0VZIiwiZXhlYyIsImZuIiwiZXhwIiwiRiIsImN0eCIsImhpZGUiLCJQUk9UT1RZUEUiLCJ0eXBlIiwic291cmNlIiwib3duIiwib3V0IiwiSVNfRk9SQ0VEIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIklTX1BST1RPIiwiUCIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsIkMiLCJhIiwiYiIsInZpcnR1YWwiLCJSIiwiVSIsInZlcnNpb24iLCJfX2UiLCJhRnVuY3Rpb24iLCJ0aGF0IiwiZFAiLCJjcmVhdGVEZXNjIiwib2JqZWN0IiwiZiIsImFuT2JqZWN0IiwiSUU4X0RPTV9ERUZJTkUiLCJ0b1ByaW1pdGl2ZSIsIkF0dHJpYnV0ZXMiLCJpc09iamVjdCIsImdldCIsImlzIiwiY3JlYXRlRWxlbWVudCIsInZhbHVlT2YiLCJiaXRtYXAiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnR5IiwiX2RlZmluZVByb3BlcnR5MiIsImRlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImkiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiJE9iamVjdCIsImRlc2MiLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiUmVmZXJlbmNlRXJyb3IiLCJfaXRlcmF0b3IiLCJfaXRlcmF0b3IyIiwiX3N5bWJvbCIsIl9zeW1ib2wyIiwiX3R5cGVvZiIsIiRhdCIsIlN0cmluZyIsIml0ZXJhdGVkIiwiX3QiLCJfaSIsInBvaW50IiwiaW5kZXgiLCJkb25lIiwidG9JbnRlZ2VyIiwiVE9fU1RSSU5HIiwicG9zIiwicyIsImwiLCJjaGFyQ29kZUF0IiwiY2hhckF0Iiwic2xpY2UiLCJjZWlsIiwiTElCUkFSWSIsInJlZGVmaW5lIiwiSXRlcmF0b3JzIiwiJGl0ZXJDcmVhdGUiLCJzZXRUb1N0cmluZ1RhZyIsIklURVJBVE9SIiwiQlVHR1kiLCJrZXlzIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwibmV4dCIsIkRFRkFVTFQiLCJJU19TRVQiLCJGT1JDRUQiLCJtZXRob2RzIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRNZXRob2QiLCJraW5kIiwicHJvdG8iLCJUQUciLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsIiRlbnRyaWVzIiwiJGFueU5hdGl2ZSIsImVudHJpZXMiLCJ2YWx1ZXMiLCJjcmVhdGUiLCJkUHMiLCJlbnVtQnVnS2V5cyIsIkVtcHR5IiwiY3JlYXRlRGljdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwibHQiLCJndCIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwic3JjIiwiY29udGVudFdpbmRvdyIsIm9wZW4iLCJjbG9zZSIsIlByb3BlcnRpZXMiLCJyZXN1bHQiLCJnZXRLZXlzIiwiJGtleXMiLCJ0b0lPYmplY3QiLCJhcnJheUluZGV4T2YiLCJuYW1lcyIsInB1c2giLCJJT2JqZWN0IiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcGxpdCIsInRvTGVuZ3RoIiwidG9JbmRleCIsIklTX0lOQ0xVREVTIiwiJHRoaXMiLCJlbCIsImZyb21JbmRleCIsIm1pbiIsIm1heCIsImRlZiIsInRhZyIsInN0YXQiLCJTeW1ib2wiLCJVU0VfU1lNQk9MIiwiJGV4cG9ydHMiLCJUT19TVFJJTkdfVEFHIiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9uIiwiQXJyYXkiLCJhZGRUb1Vuc2NvcGFibGVzIiwic3RlcCIsIl9rIiwiQXJndW1lbnRzIiwiREVTQ1JJUFRPUlMiLCJNRVRBIiwiJGZhaWxzIiwid2tzIiwid2tzRXh0Iiwid2tzRGVmaW5lIiwia2V5T2YiLCJlbnVtS2V5cyIsImlzQXJyYXkiLCJfY3JlYXRlIiwiZ09QTkV4dCIsIiRHT1BEIiwiJERQIiwiZ09QRCIsImdPUE4iLCIkU3ltYm9sIiwiJEpTT04iLCJKU09OIiwiX3N0cmluZ2lmeSIsInN0cmluZ2lmeSIsIkhJRERFTiIsIlRPX1BSSU1JVElWRSIsImlzRW51bSIsIlN5bWJvbFJlZ2lzdHJ5IiwiQWxsU3ltYm9scyIsIk9QU3ltYm9scyIsIlVTRV9OQVRJVkUiLCJRT2JqZWN0Iiwic2V0dGVyIiwiZmluZENoaWxkIiwic2V0U3ltYm9sRGVzYyIsIkQiLCJwcm90b0Rlc2MiLCJ3cmFwIiwic3ltIiwiaXNTeW1ib2wiLCJpdGVyYXRvciIsIiRkZWZpbmVQcm9wZXJ0eSIsIiRkZWZpbmVQcm9wZXJ0aWVzIiwiJGNyZWF0ZSIsIiRwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkUiLCIkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiJGdldE93blByb3BlcnR5TmFtZXMiLCIkZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiSVNfT1AiLCIkc2V0Iiwic2V0Iiwic3ltYm9scyIsImZvciIsImtleUZvciIsInVzZVNldHRlciIsInVzZVNpbXBsZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJyZXBsYWNlciIsIiRyZXBsYWNlciIsImFyZ3MiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwidyIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJtZXRhIiwiTkVFRCIsImdPUFMiLCJwSUUiLCJnZXRTeW1ib2xzIiwiYXJnIiwid2luZG93TmFtZXMiLCJnZXRXaW5kb3dOYW1lcyIsImhpZGRlbktleXMiLCJfc2V0UHJvdG90eXBlT2YiLCJfc2V0UHJvdG90eXBlT2YyIiwiX2NyZWF0ZTIiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJzZXRQcm90b3R5cGVPZiIsImNoZWNrIiwiYnVnZ3kiLCIkdGVtcGxhdGVOb2RlcyIsImluaXRpYWxpemUiLCJjb21wdXRlZCIsImNyZWF0ZWQiLCJDb21wb25lbnQiLCJjb21wb25lbnRJbmZvIiwidGVtcGxhdGVOb2RlcyIsImdldFRpbWUiLCJnZXRGaXJzdERheU9mTW9udGgiLCJkYXRlIiwidGVtcCIsInNldERhdGUiLCJnZXREYXkiLCJnZXREYXlDb3VudE9mTW9udGgiLCJnZXRXZWVrTnVtYmVyIiwic2V0SG91cnMiLCJ3ZWVrMSIsInJvdW5kIiwiZ2V0U3RhcnREYXRlT2ZNb250aCIsInNldFRpbWUiLCJEQVlfRFVSQVRJT04iLCJfdGhpcyIsIl95ZWFyIiwic3RhcnR5ZWFyIiwiaGFuZGxlWWVhckNsaWNrIiwibGFzdDEweWVhciIsIm5leHQxMHllYXIiLCJoYW5kbGVNb250aENsaWNrIiwibGFzdHllYXIiLCJuZXh0eWVhciIsImNob29zZXllYXIiLCJtb250aDEiLCJtb250aDIiLCJtb250aDMiLCJtb250aDQiLCJtb250aDUiLCJtb250aDYiLCJtb250aDciLCJtb250aDgiLCJtb250aDkiLCJtb250aDEwIiwibW9udGgxMSIsIm1vbnRoMTIiLCJzaG93WWVhciIsImJpbmQiLCJzaG93TW9udGgiLCJ0YWJsZVJvd3MiLCJvYnNlcnZhYmxlQXJyYXkiLCJmaXJzdERheU9mV2VlayIsInN0YXJ0RGF0ZSIsImRpc2FibGVkRGF0ZSIsInRpbWUiLCJjbGVhckhvdXJzIiwic2hvd1dlZWtOdW1iZXIiLCJvZmZzZXREYXkiLCJ3ZWVrIiwiaGFuZGxlRGF5Q2xpY2siLCJjZWxsIiwiZGlzYWJsZWQiLCJ0ZXh0IiwiaXNTZWxlY3RlZERheSIsImNlbGxUeXBlIiwiY2VsbERheSIsImNob29zZW1vbnRoIiwibGFzdG1vbnRoIiwiY3VybW9udGgiLCJuZXh0bW9udGgiLCJyb3dzIiwiZGF0ZUNvdW50T2ZNb250aCIsImRhdGVDb3VudE9mTGFzdE1vbnRoIiwib2Zmc2V0IiwiY291bnQiLCJmaXJzdERheVBvc2l0aW9uIiwibm93Iiwicm93IiwiaiIsImNvbHVtbiIsImlzVG9kYXkiLCJjbG9uZURhdGUiLCJvbklucHV0IiwicGFyc2VGbG9hdCIsIm5leHRob3VyIiwiX2hvdXIiLCJsYXN0aG91ciIsImJsdXJIb3VyIiwidGltZXJUaW1lb3V0IiwiaW5uZXJJbnRlcnZhbCIsIm5leHRob3VyaG9sZGRvd24iLCJzZXRUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJsYXN0aG91cmhvbGRkb3duIiwibmV4dG1pbmhvbGRkb3duIiwibmV4dG1pbnV0ZXMiLCJsYXN0bWluaG9sZGRvd24iLCJsYXN0bWludXRlcyIsIm5leHRzZWNob2xkZG93biIsIm5leHRzZWNvbmRzIiwibGFzdHNlY2hvbGRkb3duIiwibGFzdHNlY29uZHMiLCJob2xkdXAiLCJjbGVhckludGVydmFsIiwiY2xlYXJUaW1lb3V0IiwiYmx1ciIsIl9taW51dGVzIiwiYmx1ck1pbnV0ZXMiLCJfc2Vjb25kcyIsImJsdXJTZWNvbmRzIiwiX2luaXQiLCJpc1Nob3ciLCJzY3JvbGxUb3AiLCJfZWwiLCJjaGlsZHJlbiIsImlzVHJhbnNmZXJEb20iLCJpc1N0b3BUcmFuc2ZlckRvbSIsInRhcmdldEVsIiwidG9wIiwibGVmdCIsInRvcEFkanVzdCIsIndpZHRoIiwic2Nyb2xsRXZlbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvbkVudGVyIiwib25MZWF2ZSIsInBvc2l0aW9uIiwicmlnaHQiLCJkcm9wV2lkdGgiLCJvZmZzZXRXaWR0aCIsIiQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm1heEhlaWdodCIsIm92ZXJmbG93IiwiTnVtYmVyIiwiYW5pbWF0ZWQiLCJ0IiwibiIsInIiLCJkIiwiZ2V0TmF0aXZlIiwiYmFzZUdldFRhZyIsInUiLCJ0b1N0cmluZ1RhZyIsImlzT2JqZWN0TGlrZSIsIkxpc3RDYWNoZSIsImNsZWFyIiwiZGVsZXRlIiwiYXNzb2NJbmRleE9mIiwiZ2V0TWFwRGF0YSIsIl9fZGF0YV9fIiwibWFwIiwidG9LZXkiLCJpc0xlbmd0aCIsIk1hcENhY2hlIiwiaXNLZXkiLCJkZWJvdW5jZSIsImZpbHRlciIsImFycmF5RmlsdGVyIiwibm9kZVR5cGUiLCJCdWZmZXIiLCJpc0J1ZmZlciIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiaXNJbmRleCIsImlzVHlwZWRBcnJheSIsImlzQXJyYXlMaWtlIiwiaXNGdW5jdGlvbiIsIlN0YWNrIiwic2l6ZSIsImVxIiwidG9Tb3VyY2UiLCJiYXNlSXNFcXVhbCIsImVxdWFsQXJyYXlzIiwiaCIsInkiLCJfIiwiZyIsImlzU3RyaWN0Q29tcGFyYWJsZSIsIm1hdGNoZXNTdHJpY3RDb21wYXJhYmxlIiwiYmFzZUdldCIsImNhc3RQYXRoIiwiZ2V0Q3VzdG9tVmFsdWUiLCJnZXRDcm9zc1RlbmFudEN1c3RvbUNvbmZpZyIsInJlcGVhdENsaWNrIiwicmVwZWF0U3VibWl0IiwicHJldmVudERlZmF1bHQiLCJpbnZva2VGdW5jIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJyZW1haW5pbmdXYWl0Iiwic2hvdWxkSW52b2tlIiwidHJhaWxpbmdFZGdlIiwiY2FuY2VsIiwiZmx1c2giLCJkZWJvdW5jZWQiLCJsZWFkaW5nIiwibWF4V2FpdCIsInRyYWlsaW5nIiwiZXZhbCIsInRvTnVtYmVyIiwiTmFOIiwicGFyc2VJbnQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VGaWx0ZXIiLCJiYXNlRm9yT3duIiwiY3JlYXRlQmFzZUZvciIsImFycmF5TGlrZUtleXMiLCJiYXNlVGltZXMiLCJiYXNlSXNBcmd1bWVudHMiLCJzdHViRmFsc2UiLCJiYXNlSXNUeXBlZEFycmF5IiwiYmFzZVVuYXJ5IiwicHJvY2VzcyIsImJhc2VLZXlzIiwiaXNQcm90b3R5cGUiLCJvdmVyQXJnIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlSXRlcmF0ZWUiLCJiYXNlTWF0Y2hlcyIsImJhc2VJc01hdGNoIiwibGlzdENhY2hlQ2xlYXIiLCJsaXN0Q2FjaGVEZWxldGUiLCJwb3AiLCJzcGxpY2UiLCJsaXN0Q2FjaGVHZXQiLCJsaXN0Q2FjaGVIYXMiLCJsaXN0Q2FjaGVTZXQiLCJzdGFja0NsZWFyIiwic3RhY2tEZWxldGUiLCJzdGFja0dldCIsInN0YWNrSGFzIiwic3RhY2tTZXQiLCJiYXNlSXNOYXRpdmUiLCJpc01hc2tlZCIsImdldFZhbHVlIiwibWFwQ2FjaGVDbGVhciIsImhhc2giLCJzdHJpbmciLCJIYXNoIiwiaGFzaENsZWFyIiwiaGFzaERlbGV0ZSIsImhhc2hHZXQiLCJoYXNoSGFzIiwiaGFzaFNldCIsIm1hcENhY2hlRGVsZXRlIiwiaXNLZXlhYmxlIiwibWFwQ2FjaGVHZXQiLCJtYXBDYWNoZUhhcyIsIm1hcENhY2hlU2V0IiwiYmFzZUlzRXF1YWxEZWVwIiwieCIsIlQiLCJJIiwiU2V0Q2FjaGUiLCJhZGQiLCJzZXRDYWNoZUFkZCIsInNldENhY2hlSGFzIiwiYXJyYXlTb21lIiwiY2FjaGVIYXMiLCJlcXVhbEJ5VGFnIiwiYnl0ZUxlbmd0aCIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJtZXNzYWdlIiwiVWludDhBcnJheSIsIm1hcFRvQXJyYXkiLCJzZXRUb0FycmF5IiwiZXF1YWxPYmplY3RzIiwiZ2V0QWxsS2V5cyIsImJhc2VHZXRBbGxLZXlzIiwiYXJyYXlQdXNoIiwic3R1YkFycmF5IiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiZ2V0TWF0Y2hEYXRhIiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsIm1lbW9pemVDYXBwZWQiLCJjYWNoZSIsIm1lbW9pemUiLCJDYWNoZSIsImJhc2VUb1N0cmluZyIsImFycmF5TWFwIiwiaGFzSW4iLCJiYXNlSGFzSW4iLCJoYXNQYXRoIiwiaWRlbnRpdHkiLCJwcm9wZXJ0eSIsImJhc2VQcm9wZXJ0eSIsImJhc2VQcm9wZXJ0eURlZXAiLCJiYWNrYnRuIiwib2ZmIiwib24iLCJoaXN0b3J5Iiwib3BlbmVyIiwiZ28iLCJjbGlja291dHNpZGUiLCJkb2N1bWVudEhhbmRsZXIiLCJjb250YWlucyIsImhpZGRlbmlubmV3d2luZG93IiwiZ2V0VGFyZ2V0IiwiYm9keSIsInRyYW5zZmVyZG9tIiwiY2xhc3NOYW1lIiwicGFyZW50Tm9kZSIsImNyZWF0ZUNvbW1lbnQiLCJyZXBsYWNlQ2hpbGQiLCJfX3RyYW5zZmVyRG9tRGF0YSIsImhvbWUiLCJoYXNNb3ZlZE91dCIsInVwZGF0ZSIsImRhdGFzZXQiLCJ0cmFuc2ZlciIsImFzc2lnbiIsImxldCIsImV4dGVuZCIsImFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzIiwiY29udHJvbHNEZXNjZW5kYW50QmluZGluZ3MiLCJ2aXJ0dWFsRWxlbWVudHMiLCJhbGxvd2VkQmluZGluZ3MiLCJfcmVtb3ZlWmVybyIsIl9hbW91bnRGb3JtYXQiLCJ0b0ZpeGVkIiwiX2ZpbmFuY2lhbEZvcm1hdCIsImFicyIsIl9maW5hbmNpYWxBbW91bnRGb3JtYXQiLCJyZW1vdmVaZXJvIiwidXRpbHMiLCJzZXRUZXh0Q29udGVudCIsInVud3JhcE9ic2VydmFibGUiLCJhbW91bnQiLCJmaW5hbmNpYWwiLCJmaW5hbmNpYWxBbW91bnQiLCJmaW5hbmNpYWxBbW91bnRXaXRoU3ltYm9sIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImRpZFRpbWVvdXQiLCJ0aW1lUmVtYWluaW5nIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwibGF6eUZvcmVhY2giLCJtYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yIiwibWluTGVuZ3RoIiwibG9vcHRpbWUiLCJkZWZlcnJlZCIsImZvcmVhY2giLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwiYWpheCIsInVybCIsImFzeW5jIiwic3VjY2VzcyIsInBhcnNlIiwic3RhdHVzIiwic2V0SXRlbSIsIm1zZyIsImdldEN1c3RvbUNvbmZpZyIsInRhcmdldEVudGVycHJpc2VJZCIsImJpbGxUeXBlIiwiZGF0YUluZm8iLCJmaWVsZCIsImN1c3RvbVR5cGUiLCJjdXN0b21WYWx1ZSIsImxvY2FsU3RvcmFnZSIsImN1c3RvbUZlYXR1cmVSZW5kZXIiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwic2hvdyIsImh0bWwiLCJhdHRyIiwiY2hhbmdlIiwiY3VzdG9tZmVhdHVyZSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInoiLCJuYXZpZ2F0b3IiLCJqUXVlcnkiLCJIIiwiSyIsIlgiLCJZIiwiWiIsIm9jIiwiYmIiLCJwYyIsImFhIiwiYmEiLCJwZCIsInFhIiwiUGIiLCJrYiIsInRjIiwiZGEiLCJaYyIsIkthIiwiZmQiLCJKIiwib3B0aW9ucyIsImRlZmVyVXBkYXRlcyIsInVzZU9ubHlOYXRpdmVFdmVudHMiLCJmb3JlYWNoSGlkZXNEZXN0cm95ZWQiLCJtYXRjaCIsIk9hIiwiam9pbiIsInVzZXJBZ2VudCIsIk1vdXNlRXZlbnRzIiwicHJvcGVydHljaGFuZ2UiLCJxIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbm5lckhUTUwiLCJJYyIsIkEiLCJpbmRleE9mIiwiTGIiLCJoYiIsInNoaWZ0IiwidmMiLCJNYiIsImZiIiwiZ2IiLCIkYiIsIkJhIiwiemIiLCJIYSIsIlNiIiwiZmlyc3RDaGlsZCIsInJlbW92ZU5vZGUiLCJYYiIsImxhIiwib3duZXJEb2N1bWVudCIsIm5hIiwiQ2EiLCJjbG9uZU5vZGUiLCJ1YSIsIldjIiwiaW5zZXJ0QmVmb3JlIiwiVWEiLCJuZXh0U2libGluZyIsIlljIiwic2V0QXR0cmlidXRlIiwic2VsZWN0ZWQiLCJDYiIsInRyaW0iLCJUZCIsInN1YnN0cmluZyIsInVkIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJSYiIsImpkIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiemMiLCJvbkVycm9yIiwiRmMiLCJhdHRhY2hFdmVudCIsIkVycm9yIiwiemEiLCJkZXRhY2hFdmVudCIsIkZiIiwiY3JlYXRlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiaW5pdEV2ZW50IiwiZmlyZUV2ZW50IiwidHJpZ2dlciIsIk4iLCJFYiIsImNsYXNzTGlzdCIsImJhc2VWYWwiLCJBYiIsImNyZWF0ZVRleHROb2RlIiwiemQiLCJYYyIsIm1lcmdlQXR0cmlidXRlcyIsInpvb20iLCJ2ZCIsIk9kIiwiRGEiLCJYZCIsIllkIiwiS2MiLCJNZCIsImZjIiwiTmQiLCJpbmNsdWRlRmllbGRzIiwiYWN0aW9uIiwibWV0aG9kIiwic3VibWl0dGVyIiwic3VibWl0IiwicmVtb3ZlQ2hpbGQiLCJUYiIsImNsZWFuRXh0ZXJuYWxEYXRhIiwiY2hpbGROb2RlcyIsIjEiLCI4IiwiOSIsInhiIiwiY2xlYW5EYXRhIiwidGhlYWQiLCJ0Ym9keSIsInRmb290IiwidHIiLCJ0ZCIsInRoIiwib3B0aW9uIiwib3B0Z3JvdXAiLCJ0YSIsInBhcnNlSFRNTCIsImNsZWFuIiwicGFyZW50V2luZG93IiwiZGVmYXVsdFZpZXciLCJpbm5lclNoaXYiLCJsYXN0Q2hpbGQiLCJMZCIsInBhcmVudEVsZW1lbnQiLCJkYyIsIlRjIiwibm9kZVZhbHVlIiwic2QiLCJKZCIsIldiIiwiYWQiLCJiZCIsIm1hIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwidG9nZ2xlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwic2NoZWR1bGVyIiwieWIiLCJyZXNldEZvclRlc3RpbmciLCJSZCIsIlRhIiwidGhyb3R0bGUiLCJ0aHJvdHRsZUV2YWx1YXRpb24iLCJyYXRlTGltaXQiLCJ0aW1lb3V0IiwiSGIiLCJ0YiIsIm5vdGlmeVN1YnNjcmliZXJzIiwibm90aWZ5IiwiZXF1YWxpdHlDb21wYXJlciIsImJvb2xlYW4iLCJudW1iZXIiLCJnYyIsImtjIiwibGMiLCJJYiIsImFiIiwiSmIiLCJvYiIsInJjIiwiY2IiLCJRYSIsIkdiIiwiV2EiLCJkZCIsIndjIiwiZW5kIiwibWIiLCJDZCIsIm1jIiwicWIiLCJxYyIsIkFkIiwiUGMiLCJhYyIsIm5kIiwib2QiLCJlZCIsInBhIiwiVmEiLCJyYiIsIldkIiwic2EiLCJ4YSIsIndhIiwiTmEiLCJZYSIsIk1jIiwiSWEiLCJ0cmFja0FycmF5Q2hhbmdlcyIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJfZGVzdHJveSIsImRlc3Ryb3lBbGwiLCJzb3J0ZWQiLCJzb3J0IiwicmV2ZXJzZWQiLCJyZXZlcnNlIiwieWMiLCJPYyIsIk9iIiwiTmIiLCJzcGFyc2UiLCJMIiwiSmMiLCJsYiIsImthIiwiWGEiLCJoYSIsInJhIiwicGIiLCJoYyIsInZiIiwiVmMiLCJvd25lciIsImRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZCIsIlNhIiwiZGlzcG9zZVdoZW4iLCJRYiIsIlYiLCJIYyIsInB1cmUiLCJkZWZlckV2YWx1YXRpb24iLCJlYSIsImphIiwiTGEiLCJVYiIsIk1hIiwiSmEiLCJJZCIsIlFkIiwiR2MiLCJ5ZCIsInhkIiwiTmMiLCJFZCIsIndiIiwiQm9vbGVhbiIsInNhdmUiLCJ0b0pTT04iLCIkYyIsIlZkIiwiR2EiLCJQcm9taXNlIiwiX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX18iLCJZYiIsImdldEF0dHJpYnV0ZU5vZGUiLCJzcGVjaWZpZWQiLCJzZWxlY3RlZEluZGV4IiwieWEiLCJ1bmtub3duIiwiaW4iLCJyZXR1cm4iLCJ0eXBlb2YiLCJSYSIsInZhIiwiWmIiLCJ1YiIsImdldEJpbmRpbmdIYW5kbGVyIiwicHJlcHJvY2VzcyIsInZhbHVlQWNjZXNzb3JzIiwiYmluZGluZ1BhcmFtcyIsIkhkIiwiJGEiLCJ1bCIsIm9sIiwiRWEiLCJVYyIsIlZiIiwiQmQiLCJVZCIsIlJjIiwiZ2EiLCJtZCIsIm5vZGVIYXNCaW5kaW5ncyIsImdldEF0dHJpYnV0ZSIsImdldENvbXBvbmVudE5hbWVGb3JOb2RlIiwiZ2V0QmluZGluZ3MiLCJnZXRCaW5kaW5nc1N0cmluZyIsInBhcnNlQmluZGluZ3NTdHJpbmciLCJzYyIsImdldEJpbmRpbmdBY2Nlc3NvcnMiLCJNIiwiU2MiLCJub2RlIiwieGMiLCJpYiIsIktiIiwicHJlcHJvY2Vzc05vZGUiLCJiaW5kaW5nQ29udGV4dEZvckRlc2NlbmRhbnRzIiwiY2EiLCJhZnRlciIsIkxjIiwiZ2QiLCJjb250ZXh0IiwiRGMiLCJvYSIsIkJiIiwiJGRhdGEiLCJzaG91bGRCaW5kRGVzY2VuZGFudHMiLCJmYSIsInNjcmlwdCIsInRleHRhcmVhIiwiJHBhcmVudHMiLCIkcm9vdCIsIiRyYXdEYXRhIiwiZGF0YURlcGVuZGVuY3kiLCJleHBvcnREZXBlbmRlbmNpZXMiLCJjcmVhdGVDaGlsZENvbnRleHQiLCJhcyIsIm5vQ2hpbGRDb250ZXh0IiwiJHBhcmVudENvbnRleHQiLCIkcGFyZW50IiwidW5zaGlmdCIsInJkIiwiQmMiLCJGYSIsIlNkIiwiZWIiLCJrZCIsIlBhIiwidWMiLCJDYyIsInN5bmNocm9ub3VzIiwiZGVmaW5pdGlvbiIsIkZkIiwibG9hZGVycyIsInN1cHByZXNzTG9hZGVyRXhjZXB0aW9ucyIsIkFjIiwibmMiLCJjb250ZW50IiwiRG9jdW1lbnRGcmFnbWVudCIsInJlcXVpcmUiLCJzYiIsInVucmVnaXN0ZXIiLCJFYyIsImdldENvbmZpZyIsImxvYWRDb21wb25lbnQiLCJsb2FkVGVtcGxhdGUiLCJIVE1MRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwibG9hZFZpZXdNb2RlbCIsImNkIiwiJHJhdyIsImNvbXBvbmVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJkaXNwb3NlIiwiJGNvbXBvbmVudCIsIiRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIiwia29EZXNjZW5kYW50c0NvbXBsZXRlIiwiY2xhc3MiLCJsb29rdXBOYW1lc3BhY2VVUkkiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZU5TIiwiY2hlY2tlZCIsInVuaXF1ZU5hbWUiLCJjaGVja2VkVmFsdWUiLCJfX2tvX19jc3NWYWx1ZSIsImNzcyIsImVuYWJsZSIsImRpc2FibGUiLCJyZXR1cm5WYWx1ZSIsImNhbmNlbEJ1YmJsZSIsInN0b3BQcm9wYWdhdGlvbiIsIlFjIiwiaW5jbHVkZURlc3Ryb3llZCIsImFmdGVyQWRkIiwiYmVmb3JlUmVtb3ZlIiwiYWZ0ZXJSZW5kZXIiLCJiZWZvcmVNb3ZlIiwiYWZ0ZXJNb3ZlIiwidGVtcGxhdGVFbmdpbmUiLCJoYXNmb2N1cyIsIl9fa29faGFzZm9jdXNVcGRhdGluZyIsImFjdGl2ZUVsZW1lbnQiLCJfX2tvX2hhc2ZvY3VzTGFzdFZhbHVlIiwiaGFzRm9jdXMiLCJRIiwibXVsdGlwbGUiLCJjYyIsInNlbGVjdGVkT3B0aW9ucyIsInNldFByb3BlcnR5IiwidG9VcHBlckNhc2UiLCJvcGVyYSIsInRleHRJbnB1dCIsInByb3BlcnR5TmFtZSIsInRleHRpbnB1dCIsInFkIiwidXNpbmciLCJhdXRvY29tcGxldGUiLCJmb3JtIiwidmlzaWJsZSIsImhpZGRlbiIsInJlbmRlclRlbXBsYXRlU291cmNlIiwiY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrIiwibWFrZVRlbXBsYXRlU291cmNlIiwiaWEiLCJyZW5kZXJUZW1wbGF0ZSIsImlzVGVtcGxhdGVSZXdyaXR0ZW4iLCJhbGxvd1RlbXBsYXRlUmV3cml0aW5nIiwicmV3cml0ZVRlbXBsYXRlIiwiaWMiLCJ3ZCIsIktkIiwibGQiLCJub2RlTmFtZSIsIkRiIiwibm9kZXMiLCJqYiIsImhkIiwiamMiLCJwcmV2aW91c1NpYmxpbmciLCJlYyIsImJjIiwiUGQiLCIkaW5kZXgiLCJpZm5vdCIsIm1vdmVkIiwiZG9udExpbWl0TW92ZXMiLCJBYSIsIm5iIiwiX2NvdW50V2FpdGluZ0ZvclJlbW92ZSIsIkRkIiwiWmEiLCJHZCIsInRtcGwiLCJrb0JpbmRpbmdDb250ZXh0IiwidGVtcGxhdGVPcHRpb25zIiwiYXBwZW5kVG8iLCJmcmFnbWVudHMiLCJhZGRUZW1wbGF0ZSIsImtvX2NvZGUiLCJrb193aXRoIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCIuL2JveC1jb250ZW50L2luZGV4IiwiLi9ib3gtZmlsdGVyL2luZGV4IiwiLi9ib3gtc3RpY2t5L2luZGV4IiwiLi9ib3gtdGFicy9pbmRleCIsIi4vYm94L2luZGV4IiwiLi9jYXNjYWRlci9pbmRleCIsIi4vY2FzaXRlbS9pbmRleCIsIi4vZGF0ZXBpY2tlci9pbmRleCIsIi4vZGF0ZXBpY2tlci91dGlsL2luZGV4IiwiLi9kYXRldGltZXBpY2tlci9pbmRleCIsIi4vZHJvcGRvd24vaW5kZXgiLCIuL2Zvcm0tY3RuL2luZGV4IiwiLi9mb3JtLWdyb3VwL2luZGV4IiwiLi9mb3JtLXRleHQvaW5kZXgiLCIuL2Zvcm0tdGl0bGUvaW5kZXgiLCIuL3BhZ2luYXRpb24vaW5kZXgiLCIuL3F1ZXJ5LXRhYnMvaW5kZXgiLCIuL3N0YXRlLWl0ZW0vaW5kZXgiLCIuL3N0YXRlLXRhYnMvaW5kZXgiLCIuL3N0ZXAtbGVnZW5kL2luZGV4IiwiLi9zdGVwL2luZGV4IiwiLi9zdWJtaXQvaW5kZXgiLCIuL3UtY2hlY2tib3gvaW5kZXgiLCIuL3UtY3VycmVuY3kvaW5kZXgiLCIuL3UtZGF0ZXBpY2tlci9pbmRleCIsIi4vdS1pbnB1dC9pbmRleCIsIi4vdS1tb250aC9pbmRleCIsIi4vdS1wYWdpbmF0aW9uL2luZGV4IiwiLi91LXJhZGlvL2luZGV4IiwiLi91LXNlbGVjdC9pbmRleCIsIi4vdS1zd2l0Y2gvaW5kZXgiLCIuL3UtdG9vbHRpcC9pbmRleCIsIi4vdS10cmVlL2luZGV4IiwiLi91LXllYXIvaW5kZXgiLCIuL3UteWVhcm1vbnRoL2luZGV4IiwidGl0bGUiLCJxdWVyeSIsInFoaWRkZW4iLCJzdGlja3lFbGVtZW50Iiwic3RpY2t5V3JhcHBlciIsInBhcmVudCIsInNjcm9sbGVyIiwiZGVsZWdhdGUiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiaG9zdG5hbWUiLCJpc1JlY29tcHV0ZUFjdGl2ZUFuY2hvciIsImFuaW1hdGUiLCJhbmNob3IiLCJlYWNoIiwiYW5jaG9ybGlzdCIsImNsaWVudEhlaWdodCIsImhhc0NsYXNzIiwib3V0ZXJIZWlnaHQiLCJkb2N1bWVudEhlaWdodCIsImhlaWdodCIsIndpbmRvd0hlaWdodCIsImR3aCIsImV4dHJhIiwiZWxlbWVudFRvcCIsImV0c2UiLCJ0b3BTcGFjaW5nIiwiY3VycmVudFRvcCIsInotaW5kZXgiLCJuZXdUb3AiLCJib3R0b21TcGFjaW5nIiwibmV3V2lkdGgiLCJvdXRlcldpZHRoIiwiekluZGV4Iiwic3RpY2t5V3JhcHBlckNvbnRhaW5lciIsInVuc3RpY2siLCJzZWxlY3RlZFZhbHVlIiwiY2FzaXRtZXZpc2libGUiLCJoYW5kbGVWaXNpYmxlIiwiaGFuZGxlQ2xvc2UiLCJzdWJMaXN0IiwiYWN0aXZlSW5kZXgiLCJleHBhbmRDaGlsZCIsImFkZExheW91dENsYXNzIiwieHMiLCJzbSIsImxnIiwiRm9ybWF0IiwicGFnaW5hdGlvbiIsImRvbSIsInZtIiwicGFnIiwiX3N0cmluZ2lmeTIiLCJjb250YWluZXIiLCJjb21wIiwic2hvd1N0YXRlIiwicGFnZUluZGV4IiwibG9hZCIsIkV2ZW50QnVzIiwiX2NvbmZpZyIsInRvdGFsUGFnZXMiLCJ0b3RhbFBhZ2UiLCJwYWdlU2l6ZSIsImN1cnJlbnRQYWdlIiwidG90YWxDb3VudCIsInBhZ2UiLCJpdGVtcyIsImN1cnN0YXRlIiwic3RhdGUiLCJjdXJTdGF0ZSIsImhhbmRsZXIiLCJhY3RpdmUiLCJsaXN0IiwiY3VycmVudElkIiwiY3VycmVudEluZGV4IiwiX3JlZiR0eXBlIiwiX3JlZiRjdXJyZW50IiwiZmxhZyIsIl9sb2Rhc2gyIiwiX2xvZGFzaCIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwiYXJyYXkiLCJpdGVyYXRlZSIsImFjY3VtdWxhdG9yIiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwicmVzSW5kZXgiLCJhcnJheUluY2x1ZGVzIiwiYmFzZUluZGV4T2YiLCJhcnJheUluY2x1ZGVzV2l0aCIsImNvbXBhcmF0b3IiLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhc2NpaVRvQXJyYXkiLCJhc2NpaVdvcmRzIiwicmVBc2NpaVdvcmQiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiTkFOIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiYmFzZVNvcnRCeSIsImNvbXBhcmVyIiwiYmFzZVRvUGFpcnMiLCJiYXNlVmFsdWVzIiwiY2hhcnNTdGFydEluZGV4Iiwic3RyU3ltYm9scyIsImNoclN5bWJvbHMiLCJjaGFyc0VuZEluZGV4IiwiY291bnRIb2xkZXJzIiwiZXNjYXBlU3RyaW5nQ2hhciIsImNociIsInN0cmluZ0VzY2FwZXMiLCJoYXNVbmljb2RlIiwicmVIYXNVbmljb2RlIiwiaGFzVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGVXb3JkIiwiaXRlcmF0b3JUb0FycmF5IiwidHJhbnNmb3JtIiwicmVwbGFjZUhvbGRlcnMiLCJQTEFDRUhPTERFUiIsInNldFRvUGFpcnMiLCJzdHJpY3RMYXN0SW5kZXhPZiIsInN0cmluZ1NpemUiLCJ1bmljb2RlU2l6ZSIsImFzY2lpU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsInJlVW5pY29kZSIsImxhc3RJbmRleCIsInVuaWNvZGVXb3JkcyIsInJlVW5pY29kZVdvcmQiLCJWRVJTSU9OIiwiTEFSR0VfQVJSQVlfU0laRSIsIkNPUkVfRVJST1JfVEVYVCIsIkZVTkNfRVJST1JfVEVYVCIsIkhBU0hfVU5ERUZJTkVEIiwiTUFYX01FTU9JWkVfU0laRSIsIkNMT05FX0RFRVBfRkxBRyIsIkNMT05FX0ZMQVRfRkxBRyIsIkNMT05FX1NZTUJPTFNfRkxBRyIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiQ09NUEFSRV9VTk9SREVSRURfRkxBRyIsIldSQVBfQklORF9GTEFHIiwiV1JBUF9CSU5EX0tFWV9GTEFHIiwiV1JBUF9DVVJSWV9CT1VORF9GTEFHIiwiV1JBUF9DVVJSWV9GTEFHIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJXUkFQX0ZMSVBfRkxBRyIsIkRFRkFVTFRfVFJVTkNfTEVOR1RIIiwiREVGQVVMVF9UUlVOQ19PTUlTU0lPTiIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwiTEFaWV9GSUxURVJfRkxBRyIsIkxBWllfTUFQX0ZMQUciLCJMQVpZX1dISUxFX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNQVhfSU5URUdFUiIsIk1BWF9BUlJBWV9MRU5HVEgiLCJNQVhfQVJSQVlfSU5ERVgiLCJIQUxGX01BWF9BUlJBWV9MRU5HVEgiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJhc3luY1RhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZG9tRXhjVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwibnVsbFRhZyIsIm9iamVjdFRhZyIsInByb21pc2VUYWciLCJwcm94eVRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsInVuZGVmaW5lZFRhZyIsIndlYWtNYXBUYWciLCJ3ZWFrU2V0VGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQ4Q2xhbXBlZFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltIiwicmVUcmltU3RhcnQiLCJyZVRyaW1FbmQiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVFc2NhcGVDaGFyIiwicmVFc1RlbXBsYXRlIiwicmVGbGFncyIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc0hvc3RDdG9yIiwicmVJc09jdGFsIiwicmVJc1VpbnQiLCJyZUxhdGluIiwicmVOb01hdGNoIiwicmVVbmVzY2FwZWRTdHJpbmciLCJyc0FzdHJhbFJhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyZUNvbWJvSGFsZk1hcmtzUmFuZ2UiLCJyc0NvbWJvU3ltYm9sc1JhbmdlIiwicnNDb21ib1JhbmdlIiwicnNEaW5nYmF0UmFuZ2UiLCJyc0xvd2VyUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNOb25DaGFyUmFuZ2UiLCJyc1B1bmN0dWF0aW9uUmFuZ2UiLCJyc1NwYWNlUmFuZ2UiLCJyc1VwcGVyUmFuZ2UiLCJyc1ZhclJhbmdlIiwicnNCcmVha1JhbmdlIiwicnNBcG9zIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTW9kaWZpZXIiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzWldKIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJzT3B0Q29udHJMb3dlciIsInJzT3B0Q29udHJVcHBlciIsInJlT3B0TW9kIiwicnNPcHRWYXIiLCJyc09wdEpvaW4iLCJyc09yZExvd2VyIiwicnNPcmRVcHBlciIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJjb250ZXh0UHJvcHMiLCJ0ZW1wbGF0ZUNvdW50ZXIiLCJ0eXBlZEFycmF5VGFncyIsImNsb25lYWJsZVRhZ3MiLCJkZWJ1cnJlZExldHRlcnMiLCLDgCIsIsOBIiwiw4IiLCLDgyIsIsOEIiwiw4UiLCLDoCIsIsOhIiwiw6IiLCLDoyIsIsOkIiwiw6UiLCLDhyIsIsOnIiwiw5AiLCLDsCIsIsOIIiwiw4kiLCLDiiIsIsOLIiwiw6giLCLDqSIsIsOqIiwiw6siLCLDjCIsIsONIiwiw44iLCLDjyIsIsOsIiwiw60iLCLDriIsIsOvIiwiw5EiLCLDsSIsIsOSIiwiw5MiLCLDlCIsIsOVIiwiw5YiLCLDmCIsIsOyIiwiw7MiLCLDtCIsIsO1Iiwiw7YiLCLDuCIsIsOZIiwiw5oiLCLDmyIsIsOcIiwiw7kiLCLDuiIsIsO7Iiwiw7wiLCLDnSIsIsO9Iiwiw78iLCLDhiIsIsOmIiwiw54iLCLDviIsIsOfIiwixIAiLCLEgiIsIsSEIiwixIEiLCLEgyIsIsSFIiwixIYiLCLEiCIsIsSKIiwixIwiLCLEhyIsIsSJIiwixIsiLCLEjSIsIsSOIiwixJAiLCLEjyIsIsSRIiwixJIiLCLElCIsIsSWIiwixJgiLCLEmiIsIsSTIiwixJUiLCLElyIsIsSZIiwixJsiLCLEnCIsIsSeIiwixKAiLCLEoiIsIsSdIiwixJ8iLCLEoSIsIsSjIiwixKQiLCLEpiIsIsSlIiwixKciLCLEqCIsIsSqIiwixKwiLCLEriIsIsSwIiwixKkiLCLEqyIsIsStIiwixK8iLCLEsSIsIsS0IiwixLUiLCLEtiIsIsS3IiwixLgiLCLEuSIsIsS7IiwixL0iLCLEvyIsIsWBIiwixLoiLCLEvCIsIsS+IiwixYAiLCLFgiIsIsWDIiwixYUiLCLFhyIsIsWKIiwixYQiLCLFhiIsIsWIIiwixYsiLCLFjCIsIsWOIiwixZAiLCLFjSIsIsWPIiwixZEiLCLFlCIsIsWWIiwixZgiLCLFlSIsIsWXIiwixZkiLCLFmiIsIsWcIiwixZ4iLCLFoCIsIsWbIiwixZ0iLCLFnyIsIsWhIiwixaIiLCLFpCIsIsWmIiwixaMiLCLFpSIsIsWnIiwixagiLCLFqiIsIsWsIiwixa4iLCLFsCIsIsWyIiwixakiLCLFqyIsIsWtIiwixa8iLCLFsSIsIsWzIiwixbQiLCLFtSIsIsW2IiwixbciLCLFuCIsIsW5IiwixbsiLCLFvSIsIsW6IiwixbwiLCLFviIsIsSyIiwixLMiLCLFkiIsIsWTIiwixYkiLCLFvyIsImh0bWxFc2NhcGVzIiwiJiIsIjwiLCI+IiwiXCIiLCInIiwiaHRtbFVuZXNjYXBlcyIsIiZhbXA7IiwiJmx0OyIsIiZndDsiLCImcXVvdDsiLCImIzM5OyIsIlxcIiwiXG4iLCJcciIsIuKAqCIsIuKAqSIsImZyZWVQYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwicm9vdCIsImZyZWVFeHBvcnRzIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsIm5vZGVVdGlsIiwidHlwZXMiLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImRlYnVyckxldHRlciIsImVzY2FwZUh0bWxDaGFyIiwidW5lc2NhcGVIdG1sQ2hhciIsInJ1bkluQ29udGV4dCIsImxvZGFzaCIsIkxhenlXcmFwcGVyIiwiTG9kYXNoV3JhcHBlciIsIndyYXBwZXJDbG9uZSIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwibGF6eUNsb25lIiwiY29weUFycmF5IiwibGF6eVJldmVyc2UiLCJjbG9uZSIsImxhenlWYWx1ZSIsImRpciIsImlzQXJyIiwiaXNSaWdodCIsImFyckxlbmd0aCIsInZpZXciLCJnZXRWaWV3Iiwic3RhcnQiLCJpdGVyYXRlZXMiLCJpdGVyTGVuZ3RoIiwidGFrZUNvdW50IiwibmF0aXZlTWluIiwiYmFzZVdyYXBwZXJWYWx1ZSIsIm91dGVyIiwiaXRlckluZGV4IiwiZW50cnkiLCJuYXRpdmVDcmVhdGUiLCJNYXAiLCJwYWlycyIsImluaGVyaXRlZCIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsImFycmF5U2FtcGxlIiwiYmFzZVJhbmRvbSIsImFycmF5U2FtcGxlU2l6ZSIsInNodWZmbGVTZWxmIiwiYmFzZUNsYW1wIiwiYXJyYXlTaHVmZmxlIiwiYXNzaWduTWVyZ2VWYWx1ZSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJiYXNlQXNzaWduSW4iLCJrZXlzSW4iLCJiYXNlQXQiLCJza2lwIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJpbml0Q2xvbmVBcnJheSIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiY29weVN5bWJvbHNJbiIsImNvcHlTeW1ib2xzIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJrZXlzRnVuYyIsImdldEFsbEtleXNJbiIsImJhc2VDb25mb3JtcyIsImJhc2VDb25mb3Jtc1RvIiwiYmFzZURlbGF5Iiwid2FpdCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsInZhbHVlc0luZGV4IiwiYmFzZUV2ZXJ5IiwiYmFzZUV4dHJlbXVtIiwiYmFzZUZpbGwiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImJhc2VGb3JPd25SaWdodCIsImJhc2VGb3JSaWdodCIsImJhc2VGdW5jdGlvbnMiLCJwYXRoIiwic3ltYm9sc0Z1bmMiLCJzeW1Ub1N0cmluZ1RhZyIsImJhc2VHdCIsIm90aGVyIiwiYmFzZUhhcyIsImJhc2VJblJhbmdlIiwibmF0aXZlTWF4IiwiYmFzZUludGVyc2VjdGlvbiIsImFycmF5cyIsIm90aExlbmd0aCIsIm90aEluZGV4IiwiY2FjaGVzIiwibWF4TGVuZ3RoIiwiSW5maW5pdHkiLCJzZWVuIiwiYmFzZUludmVydGVyIiwiYmFzZUludm9rZSIsImxhc3QiLCJiYXNlSXNBcnJheUJ1ZmZlciIsImJhc2VJc0RhdGUiLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsImJhc2VJc01hcCIsIm1hdGNoRGF0YSIsIm5vQ3VzdG9taXplciIsInNyY1ZhbHVlIiwicGF0dGVybiIsInJlSXNOYXRpdmUiLCJiYXNlSXNSZWdFeHAiLCJiYXNlSXNTZXQiLCJuYXRpdmVLZXlzIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJiYXNlTWVyZ2VEZWVwIiwibmV3VmFsdWUiLCJzYWZlR2V0IiwibWVyZ2VGdW5jIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwiY2xvbmVUeXBlZEFycmF5IiwiaXNQbGFpbk9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTnRoIiwiYmFzZU9yZGVyQnkiLCJvcmRlcnMiLCJnZXRJdGVyYXRlZSIsImNyaXRlcmlhIiwiY29tcGFyZU11bHRpcGxlIiwiYmFzZVBpY2siLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsIm5hdGl2ZUZsb29yIiwibmF0aXZlUmFuZG9tIiwiYmFzZVJhbmdlIiwibmF0aXZlQ2VpbCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInNldFRvU3RyaW5nIiwib3ZlclJlc3QiLCJiYXNlU2FtcGxlIiwiYmFzZVNhbXBsZVNpemUiLCJuZXN0ZWQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsInN5bWJvbFRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImFjdGlvbnMiLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RTbGljZSIsImFsbG9jVW5zYWZlIiwiY29weSIsImNsb25lQXJyYXlCdWZmZXIiLCJhcnJheUJ1ZmZlciIsImNsb25lRGF0YVZpZXciLCJkYXRhVmlldyIsImNsb25lUmVnRXhwIiwicmVnZXhwIiwiY2xvbmVTeW1ib2wiLCJzeW1ib2wiLCJzeW1ib2xWYWx1ZU9mIiwidHlwZWRBcnJheSIsImNvbXBhcmVBc2NlbmRpbmciLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsIm9iakNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJvcmRlciIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImdldFN5bWJvbHNJbiIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQmluZCIsIndyYXBwZXIiLCJDdG9yIiwiaXNCaW5kIiwiY3JlYXRlQ3RvciIsImNyZWF0ZUNhc2VGaXJzdCIsIm1ldGhvZE5hbWUiLCJjcmVhdGVDb21wb3VuZGVyIiwiY2FsbGJhY2siLCJ3b3JkcyIsImRlYnVyciIsInRoaXNCaW5kaW5nIiwiYmFzZUNyZWF0ZSIsImNyZWF0ZUN1cnJ5IiwiYXJpdHkiLCJnZXRIb2xkZXIiLCJjcmVhdGVSZWN1cnJ5IiwiY3JlYXRlSHlicmlkIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsInRocnUiLCJnZXRGdW5jTmFtZSIsImZ1bmNOYW1lIiwiZ2V0RGF0YSIsImlzTGF6aWFibGUiLCJwbGFudCIsInBhcnRpYWxzUmlnaHQiLCJob2xkZXJzUmlnaHQiLCJhcmdQb3MiLCJhcnkiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiaXNCaW5kS2V5IiwicmVvcmRlciIsImlzRmxpcCIsImlzQXJ5IiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsIm9wZXJhdG9yIiwiZGVmYXVsdFZhbHVlIiwiY3JlYXRlT3ZlciIsImFycmF5RnVuYyIsImNyZWF0ZVBhZGRpbmciLCJjaGFycyIsImNoYXJzTGVuZ3RoIiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZVJhbmdlIiwidG9GaW5pdGUiLCJjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3SG9sZGVyc1JpZ2h0IiwibmV3UGFydGlhbHMiLCJuZXdQYXJ0aWFsc1JpZ2h0IiwibmV3RGF0YSIsInNldFdyYXBUb1N0cmluZyIsImNyZWF0ZVJvdW5kIiwicHJlY2lzaW9uIiwicGFpciIsImNyZWF0ZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwibWVyZ2VEYXRhIiwiYmFzZVNldERhdGEiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwib2JqZWN0UHJvdG8iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiaXNQYXJ0aWFsIiwiYXJyVmFsdWUiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwiY29udmVydCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwib3RoUHJvcHMiLCJza2lwQ3RvciIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZmxhdHRlbiIsInJlYWxOYW1lcyIsIm90aGVyRnVuYyIsImlzT3duIiwidW5tYXNrZWQiLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsInRyYW5zZm9ybXMiLCJnZXRXcmFwRGV0YWlscyIsImhhc0Z1bmMiLCJpbnB1dCIsImdldFByb3RvdHlwZSIsImluc2VydFdyYXBEZXRhaWxzIiwiZGV0YWlscyIsInNwcmVhZGFibGVTeW1ib2wiLCJtYXNrU3JjS2V5Iiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwib3RoZXJBcmdzIiwib2xkQXJyYXkiLCJyZWZlcmVuY2UiLCJ1cGRhdGVXcmFwRGV0YWlscyIsInNob3J0T3V0IiwibGFzdENhbGxlZCIsInN0YW1wIiwibmF0aXZlTm93IiwicmVtYWluaW5nIiwicmFuZCIsImZ1bmNUb1N0cmluZyIsImNodW5rIiwiY29tcGFjdCIsImRyb3AiLCJkcm9wUmlnaHQiLCJkcm9wUmlnaHRXaGlsZSIsImRyb3BXaGlsZSIsImZpbGwiLCJmaW5kSW5kZXgiLCJmaW5kTGFzdEluZGV4IiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmcm9tUGFpcnMiLCJoZWFkIiwiaW5pdGlhbCIsInNlcGFyYXRvciIsIm5hdGl2ZUpvaW4iLCJsYXN0SW5kZXhPZiIsIm50aCIsInB1bGxBbGwiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsIm5hdGl2ZVJldmVyc2UiLCJzb3J0ZWRJbmRleCIsInNvcnRlZEluZGV4QnkiLCJzb3J0ZWRJbmRleE9mIiwic29ydGVkTGFzdEluZGV4Iiwic29ydGVkTGFzdEluZGV4QnkiLCJzb3J0ZWRMYXN0SW5kZXhPZiIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidW5pcSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW56aXAiLCJncm91cCIsInVuemlwV2l0aCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJjaGFpbiIsInRhcCIsImludGVyY2VwdG9yIiwid3JhcHBlckNoYWluIiwid3JhcHBlckNvbW1pdCIsIndyYXBwZXJOZXh0IiwidG9BcnJheSIsIndyYXBwZXJUb0l0ZXJhdG9yIiwid3JhcHBlclBsYW50Iiwid3JhcHBlclJldmVyc2UiLCJ3cmFwcGVkIiwid3JhcHBlclZhbHVlIiwiZXZlcnkiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmb3JFYWNoUmlnaHQiLCJiYXNlRWFjaFJpZ2h0IiwiaXNTdHJpbmciLCJvcmRlckJ5IiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJyZWplY3QiLCJuZWdhdGUiLCJzYW1wbGUiLCJzYW1wbGVTaXplIiwic2h1ZmZsZSIsInNvbWUiLCJiZWZvcmUiLCJjdXJyeSIsImN1cnJ5UmlnaHQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibGFzdEludm9rZVRpbWUiLCJ0aW1lcklkIiwidGltZVNpbmNlTGFzdENhbGwiLCJsYXN0Q2FsbFRpbWUiLCJ0aW1lU2luY2VMYXN0SW52b2tlIiwidGltZVdhaXRpbmciLCJtYXhpbmciLCJpc0ludm9raW5nIiwiZmxpcCIsInJlc29sdmVyIiwibWVtb2l6ZWQiLCJvbmNlIiwicmVzdCIsInNwcmVhZCIsInVuYXJ5IiwicGFydGlhbCIsImNhc3RBcnJheSIsImNsb25lV2l0aCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjb25mb3Jtc1RvIiwiaXNCb29sZWFuIiwiaXNFbGVtZW50IiwiaXNFbXB0eSIsImlzRXF1YWwiLCJpc0VxdWFsV2l0aCIsImlzRXJyb3IiLCJpc0Zpbml0ZSIsIm5hdGl2ZUlzRmluaXRlIiwiaXNJbnRlZ2VyIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOdW1iZXIiLCJpc05hdGl2ZSIsImlzTWFza2FibGUiLCJpc051bGwiLCJpc05pbCIsIm9iamVjdEN0b3JTdHJpbmciLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJzeW1JdGVyYXRvciIsInNpZ24iLCJyZW1haW5kZXIiLCJpc0JpbmFyeSIsInRvU2FmZUludGVnZXIiLCJwcm9wZXJ0aWVzIiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsIm1hcEtleXMiLCJtYXBWYWx1ZXMiLCJvbWl0QnkiLCJwaWNrQnkiLCJwcm9wIiwic2V0V2l0aCIsImlzQXJyTGlrZSIsInVuc2V0IiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwiY2xhbXAiLCJpblJhbmdlIiwiZmxvYXRpbmciLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImVuZHNXaXRoIiwiZXNjYXBlIiwiZXNjYXBlUmVnRXhwIiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicGFkU3RhcnQiLCJyYWRpeCIsIm5hdGl2ZVBhcnNlSW50IiwicmVwZWF0IiwibGltaXQiLCJzdGFydHNXaXRoIiwic2V0dGluZ3MiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiYXNzaWduSW5XaXRoIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHMiLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJpbnRlcnBvbGF0ZSIsInJlRGVsaW1pdGVycyIsImV2YWx1YXRlIiwic291cmNlVVJMIiwiZXNjYXBlVmFsdWUiLCJpbnRlcnBvbGF0ZVZhbHVlIiwiZXNUZW1wbGF0ZVZhbHVlIiwiZXZhbHVhdGVWYWx1ZSIsInZhcmlhYmxlIiwiYXR0ZW1wdCIsInRvTG93ZXIiLCJ0b1VwcGVyIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJzZWFyY2giLCJuZXdFbmQiLCJ1bmVzY2FwZSIsImNvbmQiLCJjb25mb3JtcyIsImNvbnN0YW50IiwiZGVmYXVsdFRvIiwibWF0Y2hlcyIsIm1hdGNoZXNQcm9wZXJ0eSIsIm1peGluIiwibWV0aG9kTmFtZXMiLCJub0NvbmZsaWN0Iiwib2xkRGFzaCIsIm5vb3AiLCJudGhBcmciLCJwcm9wZXJ0eU9mIiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsInRpbWVzIiwidG9QYXRoIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZENvdW50ZXIiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW5CeSIsInN1bSIsInN1bUJ5IiwiZGVmYXVsdHMiLCJwaWNrIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsImNvcmVKc0RhdGEiLCJvYmplY3RDcmVhdGUiLCJpc0NvbmNhdFNwcmVhZGFibGUiLCJjdHhDbGVhclRpbWVvdXQiLCJjdHhOb3ciLCJjdHhTZXRUaW1lb3V0IiwibmF0aXZlR2V0U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiRGF0YVZpZXciLCJTZXQiLCJXZWFrTWFwIiwibWV0YU1hcCIsImRhdGFWaWV3Q3RvclN0cmluZyIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwiYmFzZVNldFRvU3RyaW5nIiwiY2FzdFJlc3QiLCJjdG9yU3RyaW5nIiwicXVvdGUiLCJzdWJTdHJpbmciLCJkaWZmZXJlbmNlIiwiZGlmZmVyZW5jZUJ5IiwiZGlmZmVyZW5jZVdpdGgiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEF0IiwidW5pb24iLCJ1bmlvbkJ5IiwidW5pb25XaXRoIiwid2l0aG91dCIsInhvciIsInhvckJ5IiwieG9yV2l0aCIsInppcCIsInppcFdpdGgiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZCIsImZpbmRMYXN0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmluZEtleSIsImRlZmVyIiwiZGVsYXkiLCJvdmVyQXJncyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndGUiLCJsdGUiLCJhc3NpZ25JbiIsImFzc2lnbldpdGgiLCJhdCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwibWVyZ2UiLCJvbWl0IiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJrZWJhYkNhc2UiLCJsb3dlckNhc2UiLCJsb3dlckZpcnN0Iiwic25ha2VDYXNlIiwic3RhcnRDYXNlIiwidXBwZXJDYXNlIiwiYmluZEFsbCIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2RPZiIsIm92ZXIiLCJvdmVyRXZlcnkiLCJvdmVyU29tZSIsInJhbmdlIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInN1YnRyYWN0IiwibWludWVuZCIsInN1YnRyYWhlbmQiLCJlbnRyaWVzSW4iLCJleHRlbmRXaXRoIiwiZWFjaFJpZ2h0IiwiZmlyc3QiLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiY29tbWl0IiwiY3JlYXRlRGF0ZSIsInVtZXRhIiwiQ3JlYXRBcHAiLCJ1TWV0YSIsImRhdGFzb3VyY2UiLCJhcHAiLCJjcmVhdGVDb21wIiwiQ3VzdG9tSWNvbkNscyIsImN1c3RvbVRhZyIsImljb25DbHMiLCJub2RlQ2xzIiwiY3JlYXRlRHJvcGRvd24iLCJmb3JtYXQiLCJzaXplQ2hhbmdlIiwicGFnZUNoYW5nZSIsInVuQ2hlY2tlZFZhbHVlIiwiVG9vbHRpcCIsInNldHRpbmciLCIuL2JveC1jb250ZW50L2luZGV4Lmh0bWwiLCIuL2JveC1maWx0ZXIvaW5kZXguaHRtbCIsIi4vYm94LXN0aWNreS9pbmRleC5odG1sIiwiLi9ib3gtdGFicy9pbmRleC5odG1sIiwiLi9ib3gvaW5kZXguaHRtbCIsIi4vY2FzY2FkZXIvaW5kZXguaHRtbCIsIi4vY2FzaXRlbS9pbmRleC5odG1sIiwiLi9kYXRlcGlja2VyL2luZGV4Lmh0bWwiLCIuL2RhdGV0aW1lcGlja2VyL2luZGV4Lmh0bWwiLCIuL2Ryb3Bkb3duL2luZGV4Lmh0bWwiLCIuL2Zvcm0tY3RuL2luZGV4Lmh0bWwiLCIuL2Zvcm0tZ3JvdXAvaW5kZXguaHRtbCIsIi4vZm9ybS10ZXh0L2luZGV4Lmh0bWwiLCIuL2Zvcm0tdGl0bGUvaW5kZXguaHRtbCIsIi4vcXVlcnktdGFicy9pbmRleC5odG1sIiwiLi9zdGF0ZS1pdGVtL2luZGV4Lmh0bWwiLCIuL3N0YXRlLXRhYnMvaW5kZXguaHRtbCIsIi4vc3RlcC1sZWdlbmQvaW5kZXguaHRtbCIsIi4vc3RlcC9pbmRleC5odG1sIiwiLi9zdWJtaXQvaW5kZXguaHRtbCIsIi4vdS1jaGVja2JveC9pbmRleC5odG1sIiwiLi91LWN1cnJlbmN5L2luZGV4Lmh0bWwiLCIuL3UtZGF0ZXBpY2tlci9pbmRleC5odG1sIiwiLi91LWlucHV0L2luZGV4Lmh0bWwiLCIuL3UtbW9udGgvaW5kZXguaHRtbCIsIi4vdS1wYWdpbmF0aW9uL2luZGV4Lmh0bWwiLCIuL3UtcmFkaW8vaW5kZXguaHRtbCIsIi4vdS1zZWxlY3QvaW5kZXguaHRtbCIsIi4vdS1zd2l0Y2gvaW5kZXguaHRtbCIsIi4vdS10b29sdGlwL2luZGV4Lmh0bWwiLCIuL3UtdHJlZS9pbmRleC5odG1sIiwiLi91LXllYXIvaW5kZXguaHRtbCIsIi4vdS15ZWFybW9udGgvaW5kZXguaHRtbCIsIi4vY2xpY2tvdXRzaWRlL2luZGV4IiwiLi9oaWRlSW5OZXdXaW5kb3cvaW5kZXgiLCIuL2tvLWN1cnJlbmN5L2luZGV4IiwiLi9yZXBlYXRDbGljay9pbmRleCIsIi4vcmVwZWF0U3VibWl0L2luZGV4IiwidmFsdWVBY2Nlc3NvciIsImFsbEJpbmRpbmdzIiwiYmluZGluZ0NvbnRleHQiLCJjdXJyZW5jeSIsImNvbnRpbnVlVHJpZ2dlciJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUs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QUFBcUcsR0FBQW5HLElBQ0FtRyxHQUFBaEcsSUFBQWdHLEdBQUEvRixJQUNBK0YsR0FBQTlGLElBQUE4RixHQUFBN0YsSUFDQTZGLEdBQUFsRixJQUFBa0YsR0FBQWpGLElBQ0FpRixHQUFBaEYsSUFBQWdGLEdBQUEvRSxLQUFBLEVBQ0ErRSxHQUFBekcsSUFBQXlHLEdBQUF4RyxJQUNBd0csR0FBQTNGLEtBQUEsQ0FHQSxJQUFBNEYsS0FFQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxLQUFBQyxJQUFBLEtBQ0FDLElBQUEsS0FBQUMsSUFBQSxLQUNBQyxJQUFBLEtBRUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFD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QSxpUW5KbXlwQk0sU0FBU0MsRUFBUUQsR29KbnlwQnZCQyxFQUFBRCxRQUFBLHFHcEp5eXBCTSxTQUFTQyxFQUFRRCxHcUp6eXBCdkJDLEVBQUFELFFBQUEsZ0dySit5cEJNLFNBQVNDLEVBQVFELEdzSi95cEJ2QkMsRUFBQUQsUUFBQSw2YnRKcXpwQk0sU0FBU0MsRUFBUUQsR3VKcnpwQnZCQyxFQUFBRCxRQUFBLGtmdkoyenBCTSxTQUFTQyxFQUFRRCxHd0ozenBCdkJDLEVBQUFELFFBQUEscUd4SmkwcEJNLFNBQVNDLEVBQVFELEd5SmowcEJ2QkMsRUFBQUQsUUFBQSx5R3pKdTBwQk0sU0FBU0MsRUFBUUQsRzBKdjBwQnZCQyxFQUFBRCxRQUFBLHdFMUo2MHBCTSxTQUFTQyxFQUFRRCxHMko3MHBCdkJDLEVBQUFELFFBQUEsd0gzSm0xcEJNLFNBQVNDLEVBQVFELEc0Sm4xcEJ2QkMsRUFBQUQsUUFBQSx3VzVKeTFwQk0sU0FBU0MsRUFBUUQsRzZKejFwQnZCQyxFQUFBRCxRQUFBLG1ON0orMXBCTSxTQUFTQyxFQUFRRCxHOEovMXBCdkJDLEVBQUFELFFBQUEsdVI5SnEycEJNLFNBQVNDLEVBQVFELEcrSnIycEJ2QkMsRUFBQUQsUUFBQSwybUIvSjIycEJNLFNBQVNDLEVBQVFELEdnSzMycEJ2QkMsRUFBQUQsUUFBQSwrSWhLaTNwQk0sU0FBU0MsRUFBUUQsR2lLajNwQnZCQyxFQUFBRCxRQUFBLCtFakt1M3BCTSxTQUFTQyxFQUFRRCxHa0t2M3BCdkJDLEVBQUFELFFBQUEsb0psSzYzcEJNLFNBQVNDLEVBQVFELEdtSzczcEJ2QkMsRUFBQUQsUUFBQSxnRm5LbTRwQk0sU0FBU0MsRUFBUUQsR29LbjRwQnZCQyxFQUFBRCxRQUFBLHVLcEt5NHBCTSxTQUFTQyxFQUFRRCxHcUt6NHBCdkJDLEVBQUFELFFBQUEsMkNySys0cEJNLFNBQVNDLEVBQVFELEdzSy80cEJ2QkMsRUFBQUQsUUFBQSxnRnRLcTVwQk0sU0FBU0MsRUFBUUQsR3VLcjVwQnZCQyxFQUFBRCxRQUFBLG9DdksyNXBCTSxTQUFTQyxFQUFRRCxHd0szNXBCdkJDLEVBQUFELFFBQUEseUh4S2k2cEJNLFNBQVNDLEVBQVFELEd5S2o2cEJ2QkMsRUFBQUQsUUFBQSwrTHpLdTZwQk0sU0FBU0MsRUFBUUQsRzBLdjZwQnZCQyxFQUFBRCxRQUFBLG9IMUs2NnBCTSxTQUFTQyxFQUFRRCxHMks3NnBCdkJDLEVBQUFELFFBQUEsd0YzS203cEJNLFNBQVNDLEVBQVFELEc0S243cEJ2QkMsRUFBQUQsUUFBQSw2QjVLeTdwQk0sU0FBU0MsRUFBUUQsRzZLejdwQnZCQyxFQUFBRCxRQUFBLDhGN0srN3BCTSxTQUFTQyxFQUFRRCxHOEsvN3BCdkJDLEVBQUFELFFBQUEsOEY5S3E4cEJNLFNBQVNDLEVBQVFELEVBQVNILEcrSzk3cEJoQyxRQUFBZ3dDLEdBQUFDLEdBQ0EsTUFBQWp3QyxHQUFBa3dDLEVBQUFELElBRUEsUUFBQUMsR0FBQUQsR0FDQSxNQUFBdnFCLEdBQUF1cUIsSUFBQSxXQUFpQyxTQUFBclgsT0FBQSx1QkFBQXFYLEVBQUEsU0FYakMsR0FBQXZxQixJQUNBeTlELHVCQUFBLElBQ0FDLDBCQUFBLElBQ0FDLHNCQUFBLElBQ0FDLHNCQUFBLElBQ0FDLHVCQUFBLElBUUF2ekMsR0FBQTM5QixLQUFBLFdBQ0EsTUFBQXhRLFFBQUF3USxLQUFBcVQsSUFFQXNxQixFQUFBemlCLFFBQUEyaUIsRUFDQTl2QyxFQUFBRCxRQUFBNnZDLEVBQ0FBLEVBQUEzdkMsR0FBQSxLL0s0OHBCTSxTQUFTRCxFQUFRRCxHQUV0QixZQUVBMEIsUUFBT0MsZUFBZTNCLEVBQVMsY0FDN0I0QixPQUFPLEdnTGorcEJWLElBQU04c0IsSUFDSmp0QixLQUFNLFNBQVVrVSxFQUFJMHRFLEVBQWVDLEVBQWFyaUYsRUFBV3NpRixHQUN6RCxRQUFTNTBELEdBQWlCM2tCLEdBQ3hCLE9BQUkyTCxFQUFHaVosU0FBUzVrQixFQUFFTCxjQUdkMDVFLEtBQ0ZBLElBQWdCcjVFLElBR3BCSCxTQUFTcWEsaUJBQWlCLFFBQVN5SyxJaEx3K3BCdEMzdUIsR0FBUVcsUWdMcitwQk0rdEIsR2hMeStwQlQsU0FBU3p1QixFQUFRRCxHQUV0QixZQUVBMEIsUUFBT0MsZUFBZTNCLEVBQVMsY0FDN0I0QixPQUFPLEdpTDMvcEJWLElBQU1pdEIsSUFDSnB0QixLQUFNLFNBQVUrRCxFQUFTNjlFLEVBQWVDLEVBQWFyaUYsRUFBV3NpRixHQUMxRHArRSxPQUFPb3BCLFFBQVF6cUIsUUFBVSxJQUMzQjBCLEVBQVE0TyxNQUFNQyxRQUFVLFNqTG1ncUI3QnJVLEdBQVFXLFFpTC8vcEJNa3VCLEdqTG1ncUJULFNBQVM1dUIsRUFBUUQsR0FFdEIsWUFFQTBCLFFBQU9DLGVBQWUzQixFQUFTLGNBQzdCNEIsT0FBTyxHa0xqaHFCVixJQUFNNGhGLElBQ0poMEQsT0FBUSxTQUFVaHFCLEVBQVM2OUUsRUFBZUMsRUFBYXJpRixFQUFXc2lGLEdBSWhFLzlFLEVBQVFtd0IsVUFBWSxLQUFPMHRELE9sTHVocUI5QnJqRixHQUFRVyxRa0xuaHFCTTZpRixHbEx1aHFCVCxTQUFTdmpGLEVBQVFELEVBQVNILEdBRS9CLFlBRUE2QixRQUFPQyxlQUFlM0IsRUFBUyxjQUM3QjRCLE9BQU8sR21McmlxQlYsSUFBQXMxQyxHQUFBcjNDLEVBQUEsS0FFTTRuQixHQUNKaG1CLEtBQU0sU0FBVStELEVBQVM2OUUsRUFBZUMsRUFBYXJpRixFQUFXc2lGLEdBQzlELEdBQUlFLElBQWtCLEVBQ2xCLzdELEdBQWUsRUFBQXd2QixFQUFBdHhCLFVBQVMsU0FBVW5jLEVBQU9pMUI7QUFDdkMra0QsSUFDRi9rRCxFQUFHajFCLEdBQ0hnNkUsR0FBa0IsRUFDbEIvaEUsV0FBVyxXQUNUK2hFLEdBQWtCLEdBQ2pCLFFBRUosSUFDSGorRSxHQUFRMGUsaUJBQWlCLFFBQVMsU0FBVXphLEdBQzFDaWUsRUFBYWplLEVBQU80NUUsUW5MNmlxQnpCcmpGLEdBQVFXLFFtTHppcUJNOG1CLEduTDZpcUJULFNBQVN4bkIsRUFBUUQsRUFBU0gsR0FFL0IsWUFFQTZCLFFBQU9DLGVBQWUzQixFQUFTLGNBQzdCNEIsT0FBTyxHb0xya3FCVixJQUFBczFDLEdBQUFyM0MsRUFBQSxLQUVNNm5CLEdBQ0pqbUIsS0FBTSxTQUFVK0QsRUFBUzY5RSxFQUFlQyxFQUFhcmlGLEVBQVdzaUYsR0FDOUQsR0FBSUUsSUFBa0IsRUFDbEIvN0QsR0FBZSxFQUFBd3ZCLEVBQUF0eEIsVUFBUyxTQUFVbmMsRUFBT2kxQixHQUN2QytrRCxJQUNGL2tELEVBQUdqMUIsR0FDSGc2RSxHQUFrQixFQUNsQi9oRSxXQUFXLFdBQ1QraEUsR0FBa0IsR0FDakIsUUFFSixJQUNIaitFLEdBQVEwZSxpQkFBaUIsU0FBVSxTQUFVemEsR0FHM0MsTUFGQWllLEdBQWFqZSxFQUFPNDVFLEtBQ3BCNTVFLEVBQU1rZSxrQkFDQyxLcEw2a3FCWjNuQixHQUFRVyxRb0x6a3FCTSttQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX2RhdGVwaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfZGF0ZXBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlcGlja2VyKTtcblx0XG5cdHZhciBfZGF0ZXRpbWVwaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG5cdFxuXHR2YXIgX2RhdGV0aW1lcGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGV0aW1lcGlja2VyKTtcblx0XG5cdHZhciBfZHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCk7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXHREYXRlLnByb3RvdHlwZS5fZm9ybWF0ID0gZnVuY3Rpb24gKGZtdCkge1xuXHQgIC8vIGF1dGhvcjogc29uZ2hsY1xuXHQgIHZhciBvID0ge1xuXHQgICAgJ00rJzogdGhpcy5nZXRNb250aCgpICsgMSwgLy8g5pyI5Lu9XG5cdCAgICAnZCsnOiB0aGlzLmdldERhdGUoKSwgLy8g5pelXG5cdCAgICAnaCsnOiB0aGlzLmdldEhvdXJzKCksIC8vIOWwj+aXtlxuXHQgICAgJ20rJzogdGhpcy5nZXRNaW51dGVzKCksIC8vIOWIhlxuXHQgICAgJ3MrJzogdGhpcy5nZXRTZWNvbmRzKCksIC8vIOenklxuXHQgICAgJ3ErJzogTWF0aC5mbG9vcigodGhpcy5nZXRNb250aCgpICsgMykgLyAzKSwgLy8g5a2j5bqmXG5cdCAgICAnUyc6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgLy8g5q+r56eSXG5cdCAgfTtcblx0ICBpZiAoLyh5KykvLnRlc3QoZm10KSkgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAodGhpcy5nZXRGdWxsWWVhcigpICsgJycpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpO1xuXHQgIGZvciAodmFyIGsgaW4gbykge1xuXHQgICAgaWYgKG5ldyBSZWdFeHAoJygnICsgayArICcpJykudGVzdChmbXQpKSBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIFJlZ0V4cC4kMS5sZW5ndGggPT09IDEgPyBvW2tdIDogKCcwMCcgKyBvW2tdKS5zdWJzdHIoKCcnICsgb1trXSkubGVuZ3RoKSk7XG5cdCAgfVxuXHQgIHJldHVybiBmbXQ7XG5cdH07XG5cdC8qIGdsb2JhbCBrbyAqL1xuXHQvLyDnu4Tku7bliJfooahcblx0dmFyIG5vcm1hbGNvbXBsaXN0ID0gWydib3gnLCAnYm94LXRhYnMnLCAnYm94LWZpbHRlcicsICdib3gtY29udGVudCcsICdzdGF0ZS1pdGVtJywgJ3N0YXRlLXRhYnMnLCAnYm94LXN0aWNreScsICdzdWJtaXQnLCAnc3RlcC1sZWdlbmQnLCAnY2FzaXRlbScsICdjYXNjYWRlciddO1xuXHQvLyBpdWFwIOe7hOS7tlxuXHR2YXIgY3JlYXRlY29tcGxpc3QgPSBbJ3UtZGF0ZXBpY2tlcicsICd1LXNlbGVjdCcsICd1LXN3aXRjaCcsICd1LWNoZWNrYm94JywgJ3UtcmFkaW8nLCAndS15ZWFyJywgJ3UtbW9udGgnLCAndS15ZWFybW9udGgnLCAndS1jdXJyZW5jeScsICd1LXRyZWUnLCAndS1pbnB1dCcsICd1LXRvb2x0aXAnLCAndS1wYWdpbmF0aW9uJywgJ2Zvcm0tZ3JvdXAnLCAnZm9ybS10aXRsZScsICdmb3JtLXRleHQnLCAnZm9ybS1jdG4nXTtcblx0Ly8g6Ieq5a6a5LmJ5oyH5LukXG5cdHZhciBiaW5kaW5nSGFuZGxlcnMgPSBbJ2tvLWN1cnJlbmN5JywgJ2hpZGVJbk5ld1dpbmRvdycsICdyZXBlYXRTdWJtaXQnLCAncmVwZWF0Q2xpY2snLCAnY2xpY2tvdXRzaWRlJ107XG5cdC8vIOazqOWGjOaZrumAmue7hOS7tlxuXHRmdW5jdGlvbiByZWdpc3RlckNvbXBvbmVudChuYW1lKSB7XG5cdCAga28uY29tcG9uZW50cy5yZWdpc3RlcihuYW1lLCB7XG5cdCAgICB2aWV3TW9kZWw6IF9fd2VicGFja19yZXF1aXJlX18oMTQyKShcIi4vXCIgKyBuYW1lICsgJy9pbmRleCcpLmRlZmF1bHQsXG5cdCAgICAvLyB0ZW1wbGF0ZTogeyBmcm9tVXJsOiBuYW1lfSxcblx0ICAgIHRlbXBsYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MCkoXCIuL1wiICsgbmFtZSArICcvaW5kZXguaHRtbCcpXG5cdCAgfSk7XG5cdH1cblx0Ly8g5rOo5YaMaXVhcOe7hOS7tlxuXHRmdW5jdGlvbiByZWdpc3RlckNyZWF0ZUNvbXBvbmVudChuYW1lKSB7XG5cdCAga28uY29tcG9uZW50cy5yZWdpc3RlcihuYW1lLCB7XG5cdCAgICB2aWV3TW9kZWw6IHtcblx0ICAgICAgY3JlYXRlVmlld01vZGVsOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MikoXCIuL1wiICsgbmFtZSArICcvaW5kZXgnKS5kZWZhdWx0XG5cdCAgICB9LFxuXHQgICAgLy8gdGVtcGxhdGU6IHsgZnJvbVVybDogbmFtZX0sXG5cdCAgICB0ZW1wbGF0ZTogX193ZWJwYWNrX3JlcXVpcmVfXygxODApKFwiLi9cIiArIG5hbWUgKyAnL2luZGV4Lmh0bWwnKVxuXHQgIH0pO1xuXHR9XG5cdC8vIOazqOWGjOaMh+S7pFxuXHRmdW5jdGlvbiByZWdpc3RlckJpbmRpbmdIYW5kbGVycyhuYW1lKSB7XG5cdCAgdmFyIGJpbmRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMSkoXCIuL1wiICsgbmFtZSArICcvaW5kZXgnKS5kZWZhdWx0O1xuXHQgIGtvLmJpbmRpbmdIYW5kbGVyc1tuYW1lXSA9IGJpbmRpbmc7XG5cdH1cblx0Ly8g5Yid5aeL5YyW5YWs55So57uE5Lu2XG5cdG5vcm1hbGNvbXBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICByZWdpc3RlckNvbXBvbmVudChpdGVtKTtcblx0fSk7XG5cdC8vIOWIneWni+WMlml1YXDnu4Tku7blkozpnIDopoHojrflj5Zkb23nmoTnu4Tku7Zcblx0Y3JlYXRlY29tcGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgIHJlZ2lzdGVyQ3JlYXRlQ29tcG9uZW50KGl0ZW0pO1xuXHR9KTtcblx0Ly8g5Yid5aeL5YyW6Ieq5a6a5LmJ5oyH5LukXG5cdGJpbmRpbmdIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgcmVnaXN0ZXJCaW5kaW5nSGFuZGxlcnMoaXRlbSk7XG5cdH0pO1xuXHRmdW5jdGlvbiByZWdpc3Rlcihtb2RlbCkge1xuXHQgIGRlYnVnZ2VyO1xuXHQgIGtvLmNvbXBvbmVudHMucmVnaXN0ZXIobW9kZWwubmFtZSwge1xuXHQgICAgdmlld01vZGVsOiBtb2RlbC5pbml0LFxuXHQgICAgdGVtcGxhdGU6IG1vZGVsLnRlbXBsYXRlXG5cdCAgfSk7XG5cdH1cblx0cmVnaXN0ZXIoX2RhdGVwaWNrZXIyLmRlZmF1bHQpO1xuXHRyZWdpc3RlcihfZGF0ZXRpbWVwaWNrZXIyLmRlZmF1bHQpO1xuXHRyZWdpc3RlcihfZHJvcGRvd24yLmRlZmF1bHQpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBrbztcblxuLyoqKi8gfSxcbi8qIDEgKi8sXG4vKiAyICovLFxuLyogMyAqLyxcbi8qIDQgKi8sXG4vKiA1ICovLFxuLyogNiAqLyxcbi8qIDcgKi8sXG4vKiA4ICovLFxuLyogOSAqLyxcbi8qIDEwICovLFxuLyogMTEgKi8sXG4vKiAxMiAqLyxcbi8qIDEzICovLFxuLyogMTQgKi8sXG4vKiAxNSAqLyxcbi8qIDE2ICovLFxuLyogMTcgKi8sXG4vKiAxOCAqLyxcbi8qIDE5ICovLFxuLyogMjAgKi8sXG4vKiAyMSAqLyxcbi8qIDIyICovLFxuLyogMjMgKi8sXG4vKiAyNCAqLyxcbi8qIDI1ICovLFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0sXG4vKiAyNyAqLyxcbi8qIDI4ICovLFxuLyogMjkgKi8sXG4vKiAzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcblx0XG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjApO1xuXHRcblx0dmFyIF9iYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jhc2UpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBrbyA9IHdpbmRvdy5rbztcblx0XG5cdHZhciBQUkVJRlggPSAnJztcblx0Ly8g5pel5pyf57uE5Lu26KaB6aqM6K+B55qE54K5XG5cdC8vIDEu6buY6K6k5pel5pyf5rKh5pyJ5YC8XG5cdC8vIDIu6buY6K6k5pel5pyf5pyJ5YC8XG5cdC8vIDMu5Yqo5oCB5L+u5pS55pel5pyf55qE5YC8XG5cdC8vIDQu5Y+q5L+u5pS55pe26Ze055qE5YC8XG5cdC8vIDUu5pel5pyf6YCJ5oup6IyD5Zu05rWL6K+VXG5cdC8vIDYu6buY6K6k5pWw5a2X5qC85byP77yM6buY6K6k5pel5pyf5qC85byP77yM6buY6K6k5pel5pyf5pe26Ze05qC85byPXG5cdGtvLmNvbXBvbmVudHMucmVnaXN0ZXIoUFJFSUZYICsgJ2RhdGVwaWNrZXIteWVhcicsIHtcblx0ICB2aWV3TW9kZWw6IF9fd2VicGFja19yZXF1aXJlX18oMTIyKS5kZWZhdWx0LFxuXHQgIHRlbXBsYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSlcblx0fSk7XG5cdFxuXHRrby5jb21wb25lbnRzLnJlZ2lzdGVyKFBSRUlGWCArICdkYXRlcGlja2VyLW1vbnRoJywge1xuXHQgIHZpZXdNb2RlbDogX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpLmRlZmF1bHQsXG5cdCAgdGVtcGxhdGU6IF9fd2VicGFja19yZXF1aXJlX18oMTI5KVxuXHR9KTtcblx0XG5cdGtvLmNvbXBvbmVudHMucmVnaXN0ZXIoUFJFSUZYICsgJ2RhdGVwaWNrZXItZGF5Jywge1xuXHQgIHZpZXdNb2RlbDogX193ZWJwYWNrX3JlcXVpcmVfXygxMzApLmRlZmF1bHQsXG5cdCAgdGVtcGxhdGU6IF9fd2VicGFja19yZXF1aXJlX18oMTMxKVxuXHR9KTtcblx0XG5cdGtvLmNvbXBvbmVudHMucmVnaXN0ZXIoUFJFSUZYICsgJ2RhdGVwaWNrZXItdGltZXInLCB7XG5cdCAgdmlld01vZGVsOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMikuZGVmYXVsdCxcblx0ICB0ZW1wbGF0ZTogX193ZWJwYWNrX3JlcXVpcmVfXygxMzUpXG5cdH0pO1xuXHR2YXIgREFURUZPUk1BVCA9ICd5eXl5LU1NLWRkJztcblx0dmFyIERBVEVUSU1FRk9STUFUID0gJ3l5eXktTU0tZGQgaGg6bW06c3MnO1xuXHQvLyDojrflj5blhYPntKDot53nprvnqpflj6Plt6bkvqfot53nprtcblx0dmFyIGdldEVsZW1lbnRMZWZ0ID0gZnVuY3Rpb24gZ2V0RWxlbWVudExlZnQoZWxlbWVudCkge1xuXHQgIHZhciBhY3R1YWxMZWZ0ID0gZWxlbWVudC5vZmZzZXRMZWZ0O1xuXHQgIHZhciBjdXJyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG5cdCAgd2hpbGUgKGN1cnJlbnQgIT09IG51bGwpIHtcblx0ICAgIGFjdHVhbExlZnQgKz0gY3VycmVudC5vZmZzZXRMZWZ0O1xuXHQgICAgY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50O1xuXHQgIH1cblx0ICByZXR1cm4gYWN0dWFsTGVmdDtcblx0fTtcblx0XG5cdHZhciBEYXRlUGlja2VyID0gZnVuY3Rpb24gKF9CYXNlKSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoRGF0ZVBpY2tlciwgX0Jhc2UpO1xuXHRcblx0ICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF0ZVBpY2tlcik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoRGF0ZVBpY2tlci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoRGF0ZVBpY2tlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF0ZVBpY2tlciwgW3tcblx0ICAgIGtleTogJ2luaXRpYWxpemUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemUoX3JlZikge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBwbGFjZWhvbGRlciA9IF9yZWYucGxhY2Vob2xkZXIsXG5cdCAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLFxuXHQgICAgICAgICAgX3JlZiRpc1RpbWVyID0gX3JlZi5pc1RpbWVyLFxuXHQgICAgICAgICAgaXNUaW1lciA9IF9yZWYkaXNUaW1lciA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGlzVGltZXIsXG5cdCAgICAgICAgICBfcmVmJGxhbmcgPSBfcmVmLmxhbmcsXG5cdCAgICAgICAgICBsYW5nID0gX3JlZiRsYW5nID09PSB1bmRlZmluZWQgPyAnemgnIDogX3JlZiRsYW5nLFxuXHQgICAgICAgICAgbWluRGF0ZSA9IF9yZWYubWluRGF0ZSxcblx0ICAgICAgICAgIG1heERhdGUgPSBfcmVmLm1heERhdGUsXG5cdCAgICAgICAgICBfcmVmJG51bWJlcmljVmFsdWUgPSBfcmVmLm51bWJlcmljVmFsdWUsXG5cdCAgICAgICAgICBudW1iZXJpY1ZhbHVlID0gX3JlZiRudW1iZXJpY1ZhbHVlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkbnVtYmVyaWNWYWx1ZSxcblx0ICAgICAgICAgIGRyb3BTdHlsZSA9IF9yZWYuZHJvcFN0eWxlLFxuXHQgICAgICAgICAgX3JlZiRncmlkUmVmID0gX3JlZi5ncmlkUmVmLFxuXHQgICAgICAgICAgZ3JpZFJlZiA9IF9yZWYkZ3JpZFJlZiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGdyaWRSZWY7XG5cdFxuXHQgICAgICB0aGlzLmxhbmcgPSBsYW5nO1xuXHQgICAgICB0aGlzLmRyb3BTdHlsZSA9IGRyb3BTdHlsZTtcblx0ICAgICAgdGhpcy5pc1RpbWVyID0gaXNUaW1lcjtcblx0ICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuXHQgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXHQgICAgICB0aGlzLmlzTnVtYmVyaWNWYWx1ZSA9IG51bWJlcmljVmFsdWU7XG5cdCAgICAgIHRoaXMueWVhciA9IGtvLm9ic2VydmFibGUoKTtcblx0ICAgICAgdGhpcy5tb250aCA9IGtvLm9ic2VydmFibGUoKTtcblx0ICAgICAgdGhpcy5kYXkgPSBrby5vYnNlcnZhYmxlKCk7XG5cdCAgICAgIHRoaXMuaG91ciA9IGtvLm9ic2VydmFibGUoMCk7XG5cdCAgICAgIHRoaXMubWludXRlcyA9IGtvLm9ic2VydmFibGUoMCk7XG5cdCAgICAgIHRoaXMuc2Vjb25kcyA9IGtvLm9ic2VydmFibGUoMCk7XG5cdCAgICAgIHRoaXMubWluRGF0ZSA9IG1pbkRhdGUgfHwga28ub2JzZXJ2YWJsZSgnMTYwMC0wMS0wMScpO1xuXHQgICAgICB0aGlzLm1heERhdGUgPSBtYXhEYXRlIHx8IGtvLm9ic2VydmFibGUoJzIwOTktMTItMzEnKTtcblx0ICAgICAgZGVidWdnZXI7XG5cdCAgICAgIHRoaXMuaXNQb3B1cCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuXHQgICAgICB0aGlzLmluaXRGbGFnID0gdHJ1ZTtcblx0ICAgICAgLy8g5pi+56S65a+55bqU6L6T5YWl5qGGXG5cdCAgICAgIHRoaXMuc2hvd3llYXIgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcblx0ICAgICAgdGhpcy5zaG93bW9udGggPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcblx0ICAgICAgdGhpcy5zaG93ZGF5ID0ga28ub2JzZXJ2YWJsZSh0cnVlKTtcblx0ICAgICAgdGhpcy5zaG93dGltZXIgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcblx0ICAgICAgdGhpcy5hbGlnbnJpZ2h0ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG5cdCAgICAgIHRoaXMuaTE4bkNvbmZpcm0gPSAn56Gu5a6aJztcblx0ICAgICAgdGhpcy5zZXRGb2N1cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfdGhpczIuJGVsLnF1ZXJ5U2VsZWN0b3IoJy55LWlucHV0JykuY2xpY2soKTtcblx0ICAgICAgICBfdGhpczIuJGVsLnF1ZXJ5U2VsZWN0b3IoJy55LWlucHV0JykuZm9jdXMoKTtcblx0ICAgICAgfTtcblx0ICAgICAgdGhpcy5zZXRVbkZvdWNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzMi5pc1BvcHVwKGZhbHNlKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wdXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZWQocGFyYW1zKSB7XG5cdCAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgLy8g5pyA57uI5pi+56S655qE5YC85Li66K6h566X5bGe5oCnIGNsb3NlICM4OFxuXHQgICAgICB0aGlzLmNvbXB1dGVkRGF0YSA9IGtvLnB1cmVDb21wdXRlZCh7XG5cdCAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHtcblx0ICAgICAgICAgIHZhciBfZGF0ZTtcblx0ICAgICAgICAgIGlmIChfdGhpczMuaXNUaW1lcikge1xuXHQgICAgICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKF90aGlzMy55ZWFyKCksIF90aGlzMy5tb250aCgpIC0gMSwgX3RoaXMzLmRheSgpLCBfdGhpczMuaG91cigpLCBfdGhpczMubWludXRlcygpLCBfdGhpczMuc2Vjb25kcygpKS5fZm9ybWF0KERBVEVUSU1FRk9STUFUKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIF9kYXRlID0gbmV3IERhdGUoX3RoaXMzLnllYXIoKSwgX3RoaXMzLm1vbnRoKCkgLSAxLCBfdGhpczMuZGF5KCkpLl9mb3JtYXQoREFURUZPUk1BVCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoX3RoaXMzLmRhdGEoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gX2RhdGU7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gJyc7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUodmFsKSB7XG5cdCAgICAgICAgICBfdGhpczMuc2V0RGF0YSh2YWwsIF90aGlzMy5kYXRhLCBfdGhpczMuaXNOdW1iZXJpY1ZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3N1YnNjcmliZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaWJlKHBhcmFtcykge1xuXHQgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICAgIHRoaXMuZGF0YS5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgX3RoaXM0LmdlbmVyYXRlRGF0ZSh2YWx1ZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLnllYXIuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIF90aGlzNC5zaG93eWVhcihmYWxzZSk7XG5cdCAgICAgICAgX3RoaXM0LnNob3dtb250aCh0cnVlKTtcblx0ICAgICAgICAvLyDnm5HlkKzlubTpgInkuK1cblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMubW9udGguc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIF90aGlzNC5zaG93bW9udGgoZmFsc2UpO1xuXHQgICAgICAgIF90aGlzNC5zaG93ZGF5KHRydWUpO1xuXHQgICAgICB9KTtcblx0ICAgICAgdGhpcy5kYXkuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIGlmICghX3RoaXM0LmlzVGltZXIpIHtcblx0ICAgICAgICAgIF90aGlzNC5iaW5kTW9kZWxWYWx1ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMuaG91ci5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgaWYgKF90aGlzNC5pc1RpbWVyKSB7XG5cdCAgICAgICAgICBfdGhpczQuYmluZE1vZGVsVmFsdWUoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLm1pbnV0ZXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIGlmIChfdGhpczQuaXNUaW1lcikge1xuXHQgICAgICAgICAgX3RoaXM0LmJpbmRNb2RlbFZhbHVlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgdGhpcy5zZWNvbmRzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICBpZiAoX3RoaXM0LmlzVGltZXIpIHtcblx0ICAgICAgICAgIF90aGlzNC5iaW5kTW9kZWxWYWx1ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWV0aG9kcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWV0aG9kcyhwYXJhbXMpIHtcblx0ICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgICB0aGlzLnNldERhdGEgPSBfdXRpbC5zZXREYXRhO1xuXHQgICAgICB0aGlzLm9uTWFza0hvdmVyID0gZnVuY3Rpb24gKCkge307XG5cdCAgICAgIC8vIOeUn+aIkOWIneWni+WMlueahOWAvFxuXHQgICAgICB0aGlzLmdlbmVyYXRlRGF0ZSA9IGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgdmFyIF9kYXRlO1xuXHQgICAgICAgIGlmICh2KSB7XG5cdCAgICAgICAgICAvLyDmlK/mjIHmlbDlrZdcblx0ICAgICAgICAgIF9kYXRlID0gaXNOYU4odiAtIDApID8gbmV3IERhdGUodi5yZXBsYWNlKC8tL2csICcvJykpIDogbmV3IERhdGUodiAtIDApO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKCk7XG5cdCAgICAgICAgICAvLyDlpoLmnpzmsqHmnInpu5jorqTlgLwg6ZyA6KaB5LyY5YWI6K6+572u6buY6K6k5YC877yM6Ziy5q2i5ZCO57ut6Kem5Y+R5YiwYmluZE1vZGVsVmFsdWVcblx0ICAgICAgICAgIF90aGlzNS5pbml0RmxhZyA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpczUueWVhcihfZGF0ZS5nZXRGdWxsWWVhcigpKTtcblx0ICAgICAgICBfdGhpczUubW9udGgoX2RhdGUuZ2V0TW9udGgoKSArIDEpO1xuXHQgICAgICAgIF90aGlzNS5kYXkoX2RhdGUuZ2V0RGF0ZSgpKTtcblx0ICAgICAgICBpZiAoX3RoaXM1LmlzVGltZXIpIHtcblx0ICAgICAgICAgIF90aGlzNS5ob3VyKF9kYXRlLmdldEhvdXJzKCkpO1xuXHQgICAgICAgICAgX3RoaXM1Lm1pbnV0ZXMoX2RhdGUuZ2V0TWludXRlcygpKTtcblx0ICAgICAgICAgIF90aGlzNS5zZWNvbmRzKF9kYXRlLmdldFNlY29uZHMoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIOesrOS4gOasoeWIneWni+WMluWujOS5i+WQjuiuvue9rmZsYWdcblx0ICAgICAgICBfdGhpczUuaW5pdEZsYWcgPSBmYWxzZTtcblx0ICAgICAgfTtcblx0ICAgICAgLy8g6YCJ5Lit6L6T5YWl5qGGXG5cdCAgICAgIHRoaXMuZm9jdXMgPSBmdW5jdGlvbiAoZGF0YSwgZXZlbnQpIHtcblx0ICAgICAgICB2YXIgbGVmdFBvc2l0aW9uID0gZ2V0RWxlbWVudExlZnQoZXZlbnQudGFyZ2V0KTtcblx0ICAgICAgICAvLyDojrflj5Z2aWV3cG9ydCDlrr3luqZcblx0ICAgICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIC8vIOWmguaenOWFg+e0oOi3neemu+WPs+S+p+eahOi3neemu+Wwj+S6jjI4MCDliJnlsIblvLnlh7rmta7liqjmrL7lt6bnp7vvvIzorr7nva5yaWdodO+8mjBcblx0ICAgICAgICAgIGlmIChzY3JlZW5XaWR0aCAtIGxlZnRQb3NpdGlvbiA8IDI4MCkge1xuXHQgICAgICAgICAgICBfdGhpczUuYWxpZ25yaWdodCh0cnVlKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIF90aGlzNS5hbGlnbnJpZ2h0KGZhbHNlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpczUuaXNQb3B1cCh0cnVlKTtcblx0ICAgICAgICBfdGhpczUuc2hvd3llYXIoZmFsc2UpO1xuXHQgICAgICAgIF90aGlzNS5zaG93bW9udGgoZmFsc2UpO1xuXHQgICAgICAgIF90aGlzNS5zaG93ZGF5KHRydWUpO1xuXHQgICAgICB9O1xuXHQgICAgICAvLyDpga7nvanngrnlh7tcblx0ICAgICAgdGhpcy5tYXNrQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXM1LmlzUG9wdXAoZmFsc2UpO1xuXHQgICAgICB9O1xuXHQgICAgICAvLyDnu5HlrprmnIDnu4jpgInmi6nnmoTmqKHlnotcblx0ICAgICAgdGhpcy5iaW5kTW9kZWxWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAvLyDlpoLmnpzkuI3mmK/ml7bpl7TpgInmi6ks5YiZ55u05o6l5YWz6Zet56qX5Y+jXG5cdCAgICAgICAgaWYgKCFfdGhpczUuaXNUaW1lcikge1xuXHQgICAgICAgICAgX3RoaXM1LmNsb3NlTW9kYWwoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIF9kYXRlID0gdm9pZCAwO1xuXHQgICAgICAgIGlmIChfdGhpczUuaXNUaW1lcikge1xuXHQgICAgICAgICAgX2RhdGUgPSBuZXcgRGF0ZShfdGhpczUueWVhcigpLCBfdGhpczUubW9udGgoKSAtIDEsIF90aGlzNS5kYXkoKSwgX3RoaXM1LmhvdXIoKSwgX3RoaXM1Lm1pbnV0ZXMoKSwgX3RoaXM1LnNlY29uZHMoKSkuX2Zvcm1hdChEQVRFVElNRUZPUk1BVCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF9kYXRlID0gbmV3IERhdGUoX3RoaXM1LnllYXIoKSwgX3RoaXM1Lm1vbnRoKCkgLSAxLCBfdGhpczUuZGF5KCkpLl9mb3JtYXQoREFURUZPUk1BVCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIOWmguaenOi/mOWkhOS6juWIneWni+WMluWImeS4jemHjeaWsOi1i+WAvCwg5pWw5o2u5Yid5aeL5YyW55qE5pe25YCZ5pyJ6buY6K6k5YC877yM5YiZ5Lya6YeN5paw6K6+572u5LiA5LiL5pel5pyf5qC85byPXG5cdCAgICAgICAgaWYgKF90aGlzNS5pbml0RmxhZykge1xuXHQgICAgICAgICAgX3RoaXM1LnNldERhdGEoX2RhdGUsIF90aGlzNS5kYXRhLCBfdGhpczUuaXNOdW1iZXJpY1ZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8g5aaC5p6c5pyJ5pen5YC877yM5YiZ5a2Y5Zyo5Y+q5L+u5pS55LqG5pe26Ze05rKh5pyJ5L+u5pS55pel5pyf55qE5pON5L2c77yM6ZyA6KaB5Yqo5oCB5pu05paw5YC8XG5cdCAgICAgICAgdmFyIG9sZERhdGEgPSBfdGhpczUuZGF0YSgpO1xuXHQgICAgICAgIGlmIChvbGREYXRhICE9PSB1bmRlZmluZWQgJiYgb2xkRGF0YSAhPT0gJycgJiYgb2xkRGF0YSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgX3RoaXM1LnNldERhdGEoX2RhdGUsIF90aGlzNS5kYXRhLCBfdGhpczUuaXNOdW1iZXJpY1ZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICAgIC8vXG5cdCAgICAgIHRoaXMuY29uZmlybSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfdGhpczUuYmluZE1vZGVsVmFsdWUoKTtcblx0ICAgICAgICBfdGhpczUuY2xvc2VNb2RhbCgpO1xuXHQgICAgICB9O1xuXHQgICAgICB0aGlzLnRpbWVycGFuZWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXM1LnNob3d0aW1lcighX3RoaXM1LnNob3d0aW1lcigpKTtcblx0ICAgICAgfTtcblx0ICAgICAgdGhpcy5jaG9vc2Vub3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIF9kYXRlID0gdm9pZCAwO1xuXHQgICAgICAgIGlmIChfdGhpczUuaXNUaW1lcikge1xuXHQgICAgICAgICAgX2RhdGUgPSBuZXcgRGF0ZSgpLl9mb3JtYXQoREFURVRJTUVGT1JNQVQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKCkuX2Zvcm1hdChEQVRFRk9STUFUKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX3RoaXM1LnNldERhdGEoX2RhdGUsIF90aGlzNS5kYXRhLCBfdGhpczUuaXNOdW1iZXJpY1ZhbHVlKTtcblx0ICAgICAgICBfdGhpczUuY2xvc2VNb2RhbCgpO1xuXHQgICAgICB9O1xuXHQgICAgICAvLyDlhbPpl63lvLnmoYZcblx0ICAgICAgdGhpcy5jbG9zZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzNS5zaG93eWVhcihmYWxzZSk7XG5cdCAgICAgICAgX3RoaXM1LnNob3dtb250aChmYWxzZSk7XG5cdCAgICAgICAgX3RoaXM1LnNob3dkYXkoZmFsc2UpO1xuXHQgICAgICAgIF90aGlzNS5pc1BvcHVwKGZhbHNlKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKHBhcmFtcykge1xuXHQgICAgICAvLyDliJ3lp4vljJblgLxcblx0ICAgICAgdGhpcy5nZW5lcmF0ZURhdGUodGhpcy5kYXRhKCkpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRGF0ZVBpY2tlcjtcblx0fShfYmFzZTIuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgbmFtZTogJ2RhdGVwaWNrZXInLFxuXHQgIGluaXQ6IF9iYXNlMi5kZWZhdWx0LmNyZWF0ZVZpZXdNb2RlbChEYXRlUGlja2VyKSxcblx0ICB0ZW1wbGF0ZTogX2luZGV4Mi5kZWZhdWx0XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcblx0dmFyIHRvT2JqZWN0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpXG5cdCAgLCAkZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDIpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKGl0KXtcblx0ICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcblx0ICB9O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cdHZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG5cdHZhciBoYXMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpXG5cdCAgLCB0b09iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpKCdJRV9QUk9UTycpXG5cdCAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcblx0ICBPID0gdG9PYmplY3QoTyk7XG5cdCAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG5cdCAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG5cdCAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSkoJ2tleXMnKVxuXHQgICwgdWlkICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcblx0ICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5cdHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuXHQgID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0aWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaWQgPSAwXG5cdCAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdCAgLCBjb3JlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NClcblx0ICAsIGZhaWxzICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuXHQgIHZhciBmbiAgPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV1cblx0ICAgICwgZXhwID0ge307XG5cdCAgZXhwW0tFWV0gPSBleGVjKGZuKTtcblx0ICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDApXG5cdCAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0ICAsIGhpZGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0XG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG5cdCAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cblx0ICAgICwga2V5LCBvd24sIG91dDtcblx0ICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcblx0ICBmb3Ioa2V5IGluIHNvdXJjZSl7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcblx0ICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuXHQgICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuXHQgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcblx0ICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG5cdCAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuXHQgICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuXHQgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG5cdCAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuXHQgICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG5cdCAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG5cdCAgICAgIHJldHVybiBGO1xuXHQgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG5cdCAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG5cdCAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcblx0ICAgIGlmKElTX1BST1RPKXtcblx0ICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuXHQgICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuXHQgICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG5cdCRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG5cdCRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cblx0JGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG5cdCRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuXHQkZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcblx0JGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcblx0aWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5cdHZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcblx0ICBhRnVuY3Rpb24oZm4pO1xuXHQgIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG5cdCAgc3dpdGNoKGxlbmd0aCl7XG5cdCAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG5cdCAgICB9O1xuXHQgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcblx0ICAgIH07XG5cdCAgfVxuXHQgIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KVxuXHQgICwgY3JlYXRlRGVzYyA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHR9IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuXHQgIHJldHVybiBvYmplY3Q7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSlcblx0ICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSlcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSlcblx0ICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXHRcblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MikgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcblx0ICBhbk9iamVjdChPKTtcblx0ICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG5cdCAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG5cdCAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcblx0ICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgaWYoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKXRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG5cdCAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDUxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXyg1MykoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19yZXF1aXJlX18oNTQpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiAhIWV4ZWMoKTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTApXG5cdCAgLCBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApLmRvY3VtZW50XG5cdCAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG5cdCAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG5cdC8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG5cdC8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuXHQgIHZhciBmbiwgdmFsO1xuXHQgIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcblx0ICByZXR1cm4ge1xuXHQgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuXHQgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuXHQgICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuXHQgICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG5cdCAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcblx0ICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuXHQgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHQgICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuXHQgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cdCAgICByZXR1cm4gQ29uc3RydWN0b3I7XG5cdCAgfTtcblx0fSgpO1xuXG4vKioqLyB9LFxuLyogNTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg2MCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG5cdCAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0Ly8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXyg1MiksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oNDgpLmZ9KTtcblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG5cdCAgaWYgKCFzZWxmKSB7XG5cdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblx0XG5cdHZhciBfc3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcblx0ICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG5cdH0gOiBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg2NSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MikuZignaXRlcmF0b3InKTtcblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciAkYXQgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NykodHJ1ZSk7XG5cdFxuXHQvLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdF9fd2VicGFja19yZXF1aXJlX18oNjkpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcblx0ICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0Ly8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxuXHR9LCBmdW5jdGlvbigpe1xuXHQgIHZhciBPICAgICA9IHRoaXMuX3Rcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pXG5cdCAgICAsIHBvaW50O1xuXHQgIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG5cdCAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuXHQgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuXHQgIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KVxuXHQgICwgZGVmaW5lZCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdC8vIHRydWUgIC0+IFN0cmluZyNhdFxuXHQvLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuXHQgIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuXHQgICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcblx0ICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcblx0ICAgICAgLCBsID0gcy5sZW5ndGhcblx0ICAgICAgLCBhLCBiO1xuXHQgICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcblx0ICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG5cdCAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuXHQgICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuXHQgICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIDcuMS40IFRvSW50ZWdlclxuXHR2YXIgY2VpbCAgPSBNYXRoLmNlaWxcblx0ICAsIGZsb29yID0gTWF0aC5mbG9vcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKVxuXHQgICwgaGlkZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KVxuXHQgICwgSXRlcmF0b3JzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKVxuXHQgICwgJGl0ZXJDcmVhdGUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKVxuXHQgICwgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KVxuXHQgICwgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KVxuXHQgICwgSVRFUkFUT1IgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSgnaXRlcmF0b3InKVxuXHQgICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuXHQgICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcblx0ICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG5cdCAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXHRcblx0dmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcblx0ICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG5cdCAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuXHQgICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuXHQgICAgc3dpdGNoKGtpbmQpe1xuXHQgICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgfTtcblx0ICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuXHQgICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcblx0ICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG5cdCAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuXHQgICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG5cdCAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuXHQgICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuXHQgICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuXHQgICAgLCBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuXHQgIC8vIEZpeCBuYXRpdmVcblx0ICBpZigkYW55TmF0aXZlKXtcblx0ICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKSk7XG5cdCAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG5cdCAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcblx0ICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG5cdCAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuXHQgICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuXHQgICAgfVxuXHQgIH1cblx0ICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG5cdCAgaWYoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcblx0ICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuXHQgICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcblx0ICB9XG5cdCAgLy8gRGVmaW5lIGl0ZXJhdG9yXG5cdCAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuXHQgICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcblx0ICB9XG5cdCAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuXHQgIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuXHQgIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG5cdCAgaWYoREVGQVVMVCl7XG5cdCAgICBtZXRob2RzID0ge1xuXHQgICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcblx0ICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuXHQgICAgICBlbnRyaWVzOiAkZW50cmllc1xuXHQgICAgfTtcblx0ICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuXHQgICAgICBpZighKGtleSBpbiBwcm90bykpcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcblx0ICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG5cdCAgfVxuXHQgIHJldHVybiBtZXRob2RzO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXG4vKioqLyB9LFxuLyogNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKiovIH0sXG4vKiA3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgY3JlYXRlICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KVxuXHQgICwgZGVzY3JpcHRvciAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KVxuXHQgICwgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KVxuXHQgICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblx0XG5cdC8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDcpKEl0ZXJhdG9yUHJvdG90eXBlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG5cdCAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuXHQgIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHR2YXIgYW5PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KVxuXHQgICwgZFBzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KVxuXHQgICwgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KVxuXHQgICwgSUVfUFJPVE8gICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSgnSUVfUFJPVE8nKVxuXHQgICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG5cdCAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXHRcblx0Ly8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxuXHR2YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG5cdCAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcblx0ICB2YXIgaWZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCkoJ2lmcmFtZScpXG5cdCAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuXHQgICAgLCBsdCAgICAgPSAnPCdcblx0ICAgICwgZ3QgICAgID0gJz4nXG5cdCAgICAsIGlmcmFtZURvY3VtZW50O1xuXHQgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oODUpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuXHQgIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG5cdCAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuXHQgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG5cdCAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuXHQgIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcblx0ICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuXHQgIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuXHQgIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcblx0ICByZXR1cm4gY3JlYXRlRGljdCgpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcblx0ICB2YXIgcmVzdWx0O1xuXHQgIGlmKE8gIT09IG51bGwpe1xuXHQgICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuXHQgICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuXHQgICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG5cdCAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG5cdCAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcblx0ICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuXHQgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkUCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpXG5cdCAgLCBnZXRLZXlzICA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcblx0ICBhbk9iamVjdChPKTtcblx0ICB2YXIga2V5cyAgID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKVxuXHQgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBpID0gMFxuXHQgICAgLCBQO1xuXHQgIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcblx0ICByZXR1cm4gTztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcblx0dmFyICRrZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nylcblx0ICAsIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG5cdCAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaGFzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNylcblx0ICAsIHRvSU9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpXG5cdCAgLCBhcnJheUluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKShmYWxzZSlcblx0ICAsIElFX1BST1RPICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpKCdJRV9QUk9UTycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBrZXk7XG5cdCAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuXHQgIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG5cdCAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xuXHR2YXIgSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpXG5cdCAgLCBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDgxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG5cdC8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG5cdHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KVxuXHQgICwgdG9MZW5ndGggID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Milcblx0ICAsIHRvSW5kZXggICA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcblx0ICByZXR1cm4gZnVuY3Rpb24oJHRoaXMsIGVsLCBmcm9tSW5kZXgpe1xuXHQgICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcblx0ICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcblx0ICAgICAgLCBpbmRleCAgPSB0b0luZGV4KGZyb21JbmRleCwgbGVuZ3RoKVxuXHQgICAgICAsIHZhbHVlO1xuXHQgICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuXHQgICAgaWYoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpd2hpbGUobGVuZ3RoID4gaW5kZXgpe1xuXHQgICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG5cdCAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuXHQgICAgLy8gQXJyYXkjdG9JbmRleCBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuXHQgICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG5cdCAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcblx0ICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xNSBUb0xlbmd0aFxuXHR2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OClcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuXHR9O1xuXG4vKioqLyB9LFxuLyogODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KVxuXHQgICwgbWF4ICAgICAgID0gTWF0aC5tYXhcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuXHQgIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcblx0ICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5cdG1vZHVsZS5leHBvcnRzID0gKFxuXHQgICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG5cdCkuc3BsaXQoJywnKTtcblxuLyoqKi8gfSxcbi8qIDg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZGVmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCkuZlxuXHQgICwgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNylcblx0ICAsIFRBRyA9IF9fd2VicGFja19yZXF1aXJlX18oODcpKCd0b1N0cmluZ1RhZycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcblx0ICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHN0b3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSgnd2tzJylcblx0ICAsIHVpZCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKVxuXHQgICwgU3ltYm9sICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDApLlN5bWJvbFxuXHQgICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblx0XG5cdHZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG5cdCAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xuXHR9O1xuXHRcblx0JGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxuLyoqKi8gfSxcbi8qIDg4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcblx0dmFyIGdsb2JhbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgaGlkZSAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCBJdGVyYXRvcnMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Milcblx0ICAsIFRPX1NUUklOR19UQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSgndG9TdHJpbmdUYWcnKTtcblx0XG5cdGZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuXHQgIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cblx0ICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuXHQgICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcblx0ICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xuXHR9XG5cbi8qKiovIH0sXG4vKiA4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgYWRkVG9VbnNjb3BhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTApXG5cdCAgLCBzdGVwICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSlcblx0ICAsIEl0ZXJhdG9ycyAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKVxuXHQgICwgdG9JT2JqZWN0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xuXHRcblx0Ly8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuXHQvLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuXHQvLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG5cdC8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG5cdCAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuXHQgIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG5cdCAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcblx0Ly8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBraW5kICA9IHRoaXMuX2tcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG5cdCAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuXHQgICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcblx0ICAgIHJldHVybiBzdGVwKDEpO1xuXHQgIH1cblx0ICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcblx0ICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcblx0ICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG5cdH0sICd2YWx1ZXMnKTtcblx0XG5cdC8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcblx0SXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblx0XG5cdGFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5cdGFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuLyoqKi8gfSxcbi8qIDkwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07XG5cbi8qKiovIH0sXG4vKiA5MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cbi8qKiovIH0sXG4vKiA5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpLlN5bWJvbDtcblxuLyoqKi8gfSxcbi8qIDk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cblx0dmFyIGdsb2JhbCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MClcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNylcblx0ICAsIERFU0NSSVBUT1JTICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Milcblx0ICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mylcblx0ICAsIHJlZGVmaW5lICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSlcblx0ICAsIE1FVEEgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NikuS0VZXG5cdCAgLCAkZmFpbHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpXG5cdCAgLCBzaGFyZWQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oODYpXG5cdCAgLCB1aWQgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpXG5cdCAgLCB3a3MgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODcpXG5cdCAgLCB3a3NFeHQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpXG5cdCAgLCB3a3NEZWZpbmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpXG5cdCAgLCBrZXlPZiAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpXG5cdCAgLCBlbnVtS2V5cyAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpXG5cdCAgLCBpc0FycmF5ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKVxuXHQgICwgYW5PYmplY3QgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KVxuXHQgICwgdG9JT2JqZWN0ICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KVxuXHQgICwgdG9QcmltaXRpdmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KVxuXHQgICwgY3JlYXRlRGVzYyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KVxuXHQgICwgX2NyZWF0ZSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KVxuXHQgICwgZ09QTkV4dCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMylcblx0ICAsICRHT1BEICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpXG5cdCAgLCAkRFAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpXG5cdCAgLCAka2V5cyAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpXG5cdCAgLCBnT1BEICAgICAgICAgICA9ICRHT1BELmZcblx0ICAsIGRQICAgICAgICAgICAgID0gJERQLmZcblx0ICAsIGdPUE4gICAgICAgICAgID0gZ09QTkV4dC5mXG5cdCAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcblx0ICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cblx0ICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG5cdCAgLCBQUk9UT1RZUEUgICAgICA9ICdwcm90b3R5cGUnXG5cdCAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG5cdCAgLCBUT19QUklNSVRJVkUgICA9IHdrcygndG9QcmltaXRpdmUnKVxuXHQgICwgaXNFbnVtICAgICAgICAgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZVxuXHQgICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG5cdCAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG5cdCAgLCBPUFN5bWJvbHMgICAgICA9IHNoYXJlZCgnb3Atc3ltYm9scycpXG5cdCAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdFtQUk9UT1RZUEVdXG5cdCAgLCBVU0VfTkFUSVZFICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcblx0ICAsIFFPYmplY3QgICAgICAgID0gZ2xvYmFsLlFPYmplY3Q7XG5cdC8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xuXHR2YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblx0XG5cdC8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xuXHR2YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuXHQgIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcblx0ICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGRQKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuXHQgIH0pKS5hICE9IDc7XG5cdH0pID8gZnVuY3Rpb24oaXQsIGtleSwgRCl7XG5cdCAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG5cdCAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuXHQgIGRQKGl0LCBrZXksIEQpO1xuXHQgIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcblx0fSA6IGRQO1xuXHRcblx0dmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuXHQgIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG5cdCAgc3ltLl9rID0gdGFnO1xuXHQgIHJldHVybiBzeW07XG5cdH07XG5cdFxuXHR2YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG5cdH0gOiBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcblx0fTtcblx0XG5cdHZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcblx0ICBpZihpdCA9PT0gT2JqZWN0UHJvdG8pJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcblx0ICBhbk9iamVjdChpdCk7XG5cdCAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcblx0ICBhbk9iamVjdChEKTtcblx0ICBpZihoYXMoQWxsU3ltYm9scywga2V5KSl7XG5cdCAgICBpZighRC5lbnVtZXJhYmxlKXtcblx0ICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG5cdCAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuXHQgICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcblx0ICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG5cdCAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG5cdH07XG5cdHZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuXHQgIGFuT2JqZWN0KGl0KTtcblx0ICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG5cdCAgICAsIGkgICAgPSAwXG5cdCAgICAsIGwgPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXHR2YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG5cdCAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xuXHR9O1xuXHR2YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcblx0ICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuXHQgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybiBmYWxzZTtcblx0ICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG5cdH07XG5cdHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuXHQgIGl0ICA9IHRvSU9iamVjdChpdCk7XG5cdCAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcblx0ICBpZihpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuO1xuXHQgIHZhciBEID0gZ09QRChpdCwga2V5KTtcblx0ICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcblx0ICByZXR1cm4gRDtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG5cdCAgdmFyIG5hbWVzICA9IGdPUE4odG9JT2JqZWN0KGl0KSlcblx0ICAgICwgcmVzdWx0ID0gW11cblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG5cdCAgICBpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cdHZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcblx0ICB2YXIgSVNfT1AgID0gaXQgPT09IE9iamVjdFByb3RvXG5cdCAgICAsIG5hbWVzICA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKVxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcblx0ICAgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuXHQgIH0gcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuXHRpZighVVNFX05BVElWRSl7XG5cdCAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuXHQgICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG5cdCAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcblx0ICAgIHZhciAkc2V0ID0gZnVuY3Rpb24odmFsdWUpe1xuXHQgICAgICBpZih0aGlzID09PSBPYmplY3RQcm90bykkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG5cdCAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcblx0ICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcblx0ICAgIH07XG5cdCAgICBpZihERVNDUklQVE9SUyAmJiBzZXR0ZXIpc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7Y29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXR9KTtcblx0ICAgIHJldHVybiB3cmFwKHRhZyk7XG5cdCAgfTtcblx0ICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG5cdCAgICByZXR1cm4gdGhpcy5faztcblx0ICB9KTtcblx0XG5cdCAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cdCAgJERQLmYgICA9ICRkZWZpbmVQcm9wZXJ0eTtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCkuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oMTAxKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCkuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdFxuXHQgIGlmKERFU0NSSVBUT1JTICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSl7XG5cdCAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcblx0ICB9XG5cdFxuXHQgIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuXHQgIH1cblx0fVxuXHRcblx0JGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1N5bWJvbDogJFN5bWJvbH0pO1xuXHRcblx0Zm9yKHZhciBzeW1ib2xzID0gKFxuXHQgIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG5cdCAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuXHQpLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblx0XG5cdGZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG5cdCAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG5cdCAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG5cdCAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG5cdCAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuXHQgICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG5cdCAgfSxcblx0ICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcblx0ICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuXHQgICAgaWYoaXNTeW1ib2woa2V5KSlyZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG5cdCAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG5cdCAgfSxcblx0ICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG5cdCAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxuXHR9KTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG5cdCAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHQgIGNyZWF0ZTogJGNyZWF0ZSxcblx0ICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0ICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuXHQgIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG5cdCAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG5cdCAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuXHQgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcblx0ICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuXHQgIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuXHQgIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcblx0ICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcblx0fSk7XG5cdFxuXHQvLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcblx0JEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgdmFyIFMgPSAkU3ltYm9sKCk7XG5cdCAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cblx0ICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcblx0ICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuXHQgIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG5cdH0pKSwgJ0pTT04nLCB7XG5cdCAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuXHQgICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG5cdCAgICB2YXIgYXJncyA9IFtpdF1cblx0ICAgICAgLCBpICAgID0gMVxuXHQgICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG5cdCAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuXHQgICAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuXHQgICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG5cdCAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG5cdCAgICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuXHQgICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcblx0ICAgIH07XG5cdCAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG5cdCAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdC8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcblx0JFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgX193ZWJwYWNrX3JlcXVpcmVfXyg0NykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcblx0Ly8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG5cdC8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcblx0Ly8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIE1FVEEgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSkoJ21ldGEnKVxuXHQgICwgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKVxuXHQgICwgaGFzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KVxuXHQgICwgc2V0RGVzYyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KS5mXG5cdCAgLCBpZCAgICAgICA9IDA7XG5cdHZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cdHZhciBGUkVFWkUgPSAhX193ZWJwYWNrX3JlcXVpcmVfXyg1MykoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xuXHR9KTtcblx0dmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG5cdCAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG5cdCAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcblx0ICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfX0pO1xuXHR9O1xuXHR2YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuXHQgIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcblx0ICBpZighaXNPYmplY3QoaXQpKXJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG5cdCAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuXHQgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3Rcblx0ICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiAnRic7XG5cdCAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuXHQgICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBvYmplY3QgSURcblx0ICB9IHJldHVybiBpdFtNRVRBXS5pO1xuXHR9O1xuXHR2YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuXHQgIGlmKCFoYXMoaXQsIE1FVEEpKXtcblx0ICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG5cdCAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcblx0ICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG5cdCAgICBzZXRNZXRhKGl0KTtcblx0ICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuXHQgIH0gcmV0dXJuIGl0W01FVEFdLnc7XG5cdH07XG5cdC8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xuXHR2YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKXNldE1ldGEoaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblx0dmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBLRVk6ICAgICAgTUVUQSxcblx0ICBORUVEOiAgICAgZmFsc2UsXG5cdCAgZmFzdEtleTogIGZhc3RLZXksXG5cdCAgZ2V0V2VhazogIGdldFdlYWssXG5cdCAgb25GcmVlemU6IG9uRnJlZXplXG5cdH07XG5cbi8qKiovIH0sXG4vKiA5NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MClcblx0ICAsIGNvcmUgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NClcblx0ICAsIExJQlJBUlkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MClcblx0ICAsIHdrc0V4dCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Milcblx0ICAsIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCkuZjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcblx0ICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuXHQgIGlmKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwge3ZhbHVlOiB3a3NFeHQuZihuYW1lKX0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnZXRLZXlzICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KVxuXHQgICwgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG5cdCAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG5cdCAgICAsIGtleXMgICA9IGdldEtleXMoTylcblx0ICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICwgaW5kZXggID0gMFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDk5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xuXHR2YXIgZ2V0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpXG5cdCAgLCBnT1BTICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApXG5cdCAgLCBwSUUgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG5cdCAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG5cdCAgaWYoZ2V0U3ltYm9scyl7XG5cdCAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG5cdCAgICAgICwgaXNFbnVtICA9IHBJRS5mXG5cdCAgICAgICwgaSAgICAgICA9IDBcblx0ICAgICAgLCBrZXk7XG5cdCAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbi8qKiovIH0sXG4vKiAxMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKioqLyB9LFxuLyogMTAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG5cdCAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcblx0dmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpXG5cdCAgLCBnT1BOICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCkuZlxuXHQgICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cdFxuXHR2YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuXHQgID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXHRcblx0dmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gZ09QTihpdCk7XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcblx0ICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcblx0dmFyICRrZXlzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KVxuXHQgICwgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXHRcblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBwSUUgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKVxuXHQgICwgY3JlYXRlRGVzYyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KVxuXHQgICwgdG9JT2JqZWN0ICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KVxuXHQgICwgdG9QcmltaXRpdmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KVxuXHQgICwgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKVxuXHQgICwgZ09QRCAgICAgICAgICAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXHRcblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MikgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApe1xuXHQgIE8gPSB0b0lPYmplY3QoTyk7XG5cdCAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG5cdCAgICByZXR1cm4gZ09QRChPLCBQKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgaWYoaGFzKE8sIFApKXJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9LFxuLyogMTA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KSgnYXN5bmNJdGVyYXRvcicpO1xuXG4vKioqLyB9LFxuLyogMTA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KSgnb2JzZXJ2YWJsZScpO1xuXG4vKioqLyB9LFxuLyogMTA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApO1xuXHRcblx0dmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHQgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuXHQgIH1cblx0XG5cdCAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcblx0ICAgIGNvbnN0cnVjdG9yOiB7XG5cdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0ICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgIHdyaXRhYmxlOiB0cnVlLFxuXHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0ICAgIH1cblx0ICB9KTtcblx0ICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDExMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuLyoqKi8gfSxcbi8qIDExMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0JGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IF9fd2VicGFja19yZXF1aXJlX18oMTEzKS5zZXR9KTtcblxuLyoqKi8gfSxcbi8qIDExMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTApXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHR2YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHNldCA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpKEZ1bmN0aW9uLmNhbGwsIF9fd2VicGFja19yZXF1aXJlX18oMTA1KS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuXHQgICAgICAgIHNldCh0ZXN0LCBbXSk7XG5cdCAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG5cdCAgICAgIH0gY2F0Y2goZSl7IGJ1Z2d5ID0gdHJ1ZTsgfVxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuXHQgICAgICAgIGNoZWNrKE8sIHByb3RvKTtcblx0ICAgICAgICBpZihidWdneSlPLl9fcHJvdG9fXyA9IHByb3RvO1xuXHQgICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcblx0ICAgICAgICByZXR1cm4gTztcblx0ICAgICAgfTtcblx0ICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG5cdCAgY2hlY2s6IGNoZWNrXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuXHQgIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKVxuXHQvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcblx0JGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KX0pO1xuXG4vKioqLyB9LFxuLyogMTE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9LFxuLyogMTE4ICovLFxuLyogMTE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBzdHlsZT1wb3NpdGlvbjpyZWxhdGl2ZT4gPGRpdiBjbGFzcz1cXFwieS1kYXRlcGlja2VyLWlucHV0IHotaW5kZXhQaWN0dXJlXFxcIj4gPGlucHV0IHR5cGU9dGV4dCBjbGFzcz15LWlucHV0IGRhdGEtYmluZD1cXFwidmFsdWU6Y29tcHV0ZWREYXRhLGV2ZW50Ontmb2N1czpmb2N1c30sYXR0cjp7J3BsYWNlaG9sZGVyJzogcGxhY2Vob2xkZXJ9XFxcIj4gPHNwYW4gY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L3NwYW4+IDwvZGl2PiA8ZHJvcGRvd24gcGFyYW1zPVxcXCJzdHlsZTogZHJvcFN0eWxlLHRhcmdldEVsOiRlbCxpc1Nob3c6aXNQb3B1cCwgd2lkdGg6JzI0MCcsIG1heEhlaWdodDogJzI1OCcsIG92ZXJmbG93OidoaWRkZW4nXFxcIj4gPGRpdiBjbGFzcz15LWRhdGVwaWNrZXItY3RuIGRhdGEtYmluZD1cXFwiY3NzOnsnc2VsZWN0LWRhdGUnOiAkcGFyZW50LmlzUG9wdXAsICdpc1RpbWVyJzogJHBhcmVudC5pc1RpbWVyLCAnYWxpZ25yaWdodCc6ICRwYXJlbnQuYWxpZ25yaWdodH1cXFwiPiA8ZGl2IGNsYXNzPXktZGF0ZXBpY2tlci1oZWFkZXI+IDwvZGl2PiA8ZGl2IGNsYXNzPXktZGF0ZXBpY2tlci1mb290ZXI+IDxkYXRlcGlja2VyLXllYXIgcGFyYW1zPVxcXCJcXG4gICAgICAgICAgeWVhcjogJHBhcmVudC55ZWFyLFxcbiAgICAgICAgICBzaG93bW9udGg6JHBhcmVudC5zaG93bW9udGgsXFxuICAgICAgICAgIHNob3d5ZWFyOiRwYXJlbnQuc2hvd3llYXJcXFwiIGNsYXNzPWhpZGUgZGF0YS1iaW5kPVxcXCJjc3M6eydzaG93JzokcGFyZW50LnNob3d5ZWFyfVxcXCI+IDwvZGF0ZXBpY2tlci15ZWFyPiA8ZGF0ZXBpY2tlci1tb250aCBwYXJhbXM9XFxcIlxcbiAgICAgICAgICB5ZWFyOiAkcGFyZW50LnllYXIsXFxuICAgICAgICAgIG1vbnRoOiAkcGFyZW50Lm1vbnRoLFxcbiAgICAgICAgICBzaG93ZGF5OiRwYXJlbnQuc2hvd2RheSxcXG4gICAgICAgICAgc2hvd21vbnRoOiRwYXJlbnQuc2hvd21vbnRoLFxcbiAgICAgICAgICBzaG93eWVhcjokcGFyZW50LnNob3d5ZWFyXFxcIiBjbGFzcz1oaWRlIGRhdGEtYmluZD1cXFwiY3NzOnsnc2hvdyc6JHBhcmVudC5zaG93bW9udGh9XFxcIj4gPC9kYXRlcGlja2VyLW1vbnRoPiA8ZGF0ZXBpY2tlci1kYXkgcGFyYW1zPVxcXCJcXG4gICAgICAgICAgaXNOdW1iZXJpY1ZhbHVlOiAkcGFyZW50LmlzTnVtYmVyaWNWYWx1ZSxcXG4gICAgICAgICAgbWluRGF0ZTogJHBhcmVudC5taW5EYXRlLFxcbiAgICAgICAgICBtYXhEYXRlOiRwYXJlbnQubWF4RGF0ZSxcXG4gICAgICAgICAgaG91cjokcGFyZW50LmhvdXIsXFxuICAgICAgICAgIG1pbnV0ZXM6JHBhcmVudC5taW51dGVzLFxcbiAgICAgICAgICBzZWNvbmRzOiRwYXJlbnQuc2Vjb25kcyxcXG4gICAgICAgICAgaXNUaW1lcjokcGFyZW50LmlzVGltZXIsXFxuICAgICAgICAgIGRhdGE6ICRwYXJlbnQuZGF0YSxcXG4gICAgICAgICAgeWVhcjogJHBhcmVudC55ZWFyLFxcbiAgICAgICAgICBtb250aDogJHBhcmVudC5tb250aCxcXG4gICAgICAgICAgZGF5OiAkcGFyZW50LmRheSxcXG4gICAgICAgICAgc2hvd2RheTokcGFyZW50LnNob3dkYXksXFxuICAgICAgICAgIHNob3d5ZWFyOiRwYXJlbnQuc2hvd3llYXIsXFxuICAgICAgICAgIHNob3dtb250aDokcGFyZW50LnNob3dtb250aFxcXCIgY2xhc3M9aGlkZSBkYXRhLWJpbmQ9XFxcImNzczp7J3Nob3cnOiRwYXJlbnQuc2hvd2RheX1cXFwiPiA8L2RhdGVwaWNrZXItZGF5PiA8ZGF0ZXBpY2tlci10aW1lciBwYXJhbXM9XFxcIlxcbiAgICAgICAgICBob3VyOiRwYXJlbnQuaG91cixcXG4gICAgICAgICAgbWludXRlczokcGFyZW50Lm1pbnV0ZXMsXFxuICAgICAgICAgIHNlY29uZHM6JHBhcmVudC5zZWNvbmRzLFxcbiAgICAgICAgICBzaG93dGltZXI6JHBhcmVudC5zaG93dGltZXJcXFwiPiA8L2RhdGVwaWNrZXItdGltZXI+IDxkaXYgY2xhc3M9eS1kYXRlcGlja2VyLW9wdGlvbj4gPGRpdiBjbGFzcz1jdXJkYXRlIGRhdGEtYmluZD1jbGljazokcGFyZW50LmNob29zZW5vdz4gPHNwYW4gY2xhc3M9XFxcImZhIGZhLWFycm93c1xcXCI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz10aW1lci1waWNrZXIgZGF0YS1iaW5kPWNsaWNrOiRwYXJlbnQudGltZXJwYW5lbD4gPHNwYW4gY2xhc3M9XFxcImZhIGZhLWNsb2NrLW9cXFwiIGRhdGEtYmluZD1cXFwiY3NzOnsnZmEtY2FsZW5kYXInOiRwYXJlbnQuc2hvd3RpbWVyfVxcXCI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwiY29uZmlybWJ1dHRvbiBwdWxsLXJpZ2h0XFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiRwYXJlbnQuY29uZmlybSwgdGV4dDogJHBhcmVudC5pMThuQ29uZmlybVxcXCI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz15LWRhdGVwaWNrZXItbWFzayBkYXRhLWJpbmQ9ZXZlbnQ6e21vdXNlbW92ZTokcGFyZW50Lm9uTWFza0hvdmVyfSxjbGljazokcGFyZW50Lm1hc2tDbGljaz48L2Rpdj4gPC9kaXY+IDwvZHJvcGRvd24+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDEyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBCYXNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIEJhc2UocGFyYW1zKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBCYXNlKTtcblx0XG5cdCAgICB0aGlzLiRlbCA9IHBhcmFtcy4kZWw7XG5cdCAgICB0aGlzLiR0ZW1wbGF0ZU5vZGVzID0gcGFyYW1zLiR0ZW1wbGF0ZU5vZGVzO1xuXHQgICAgdGhpcy5pbml0aWFsaXplKHBhcmFtcyk7XG5cdCAgICB0aGlzLmNvbXB1dGVkKHBhcmFtcyk7XG5cdCAgICB0aGlzLnN1YnNjcmliZShwYXJhbXMpO1xuXHQgICAgdGhpcy5tZXRob2RzKHBhcmFtcyk7XG5cdCAgICB0aGlzLmNyZWF0ZWQocGFyYW1zKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEJhc2UsIFt7XG5cdCAgICBrZXk6IFwiaW5pdGlhbGl6ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemUocGFyYW1zKSB7fVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJjb21wdXRlZFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXB1dGVkKHBhcmFtcykge31cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiY3JlYXRlZFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQocGFyYW1zKSB7fVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzdWJzY3JpYmVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmUocGFyYW1zKSB7fVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJtZXRob2RzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWV0aG9kcyhwYXJhbXMpIHt9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6IFwiY3JlYXRlVmlld01vZGVsXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVmlld01vZGVsKENvbXBvbmVudCkge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIGNyZWF0ZVZpZXdNb2RlbDogZnVuY3Rpb24gY3JlYXRlVmlld01vZGVsKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuXHQgICAgICAgICAgcGFyYW1zLiRlbCA9IGNvbXBvbmVudEluZm8uZWxlbWVudDtcblx0ICAgICAgICAgIHBhcmFtcy4kdGVtcGxhdGVOb2RlcyA9IGNvbXBvbmVudEluZm8udGVtcGxhdGVOb2Rlcztcblx0ICAgICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50KHBhcmFtcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQmFzZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQmFzZTtcblxuLyoqKi8gfSxcbi8qIDEyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5zZXREYXRhID0gc2V0RGF0YTtcblx0ZXhwb3J0cy5nZXRGaXJzdERheU9mTW9udGggPSBnZXRGaXJzdERheU9mTW9udGg7XG5cdGV4cG9ydHMuZ2V0RGF5Q291bnRPZk1vbnRoID0gZ2V0RGF5Q291bnRPZk1vbnRoO1xuXHRleHBvcnRzLmdldFdlZWtOdW1iZXIgPSBnZXRXZWVrTnVtYmVyO1xuXHRleHBvcnRzLmdldFN0YXJ0RGF0ZU9mTW9udGggPSBnZXRTdGFydERhdGVPZk1vbnRoO1xuXHR2YXIgREFZX0RVUkFUSU9OID0gODY0MDAwMDA7XG5cdC8vIOWmguaenFxuXHRmdW5jdGlvbiBzZXREYXRhKHZhbHVlLCBvYnNlcnZhYmxlLCBpc051bWJlcmljVmFsdWUpIHtcblx0ICBpZiAoaXNOdW1iZXJpY1ZhbHVlKSB7XG5cdCAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKS5nZXRUaW1lKCk7XG5cdCAgfVxuXHQgIG9ic2VydmFibGUodmFsdWUpO1xuXHR9XG5cdC8vIOiOt+WPluavj+S4quaciOeahOesrOS4gOWkqVxuXHRmdW5jdGlvbiBnZXRGaXJzdERheU9mTW9udGgoZGF0ZSkge1xuXHQgIHZhciB0ZW1wID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuXHQgIHRlbXAuc2V0RGF0ZSgxKTtcblx0ICByZXR1cm4gdGVtcC5nZXREYXkoKTtcblx0fVxuXHQvLyDojrflj5bmr4/kuKrmnIjnmoTlpKnmlbBcblx0ZnVuY3Rpb24gZ2V0RGF5Q291bnRPZk1vbnRoKHllYXIsIG1vbnRoKSB7XG5cdCAgaWYgKG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuXHQgICAgcmV0dXJuIDMwO1xuXHQgIH1cblx0ICBpZiAobW9udGggPT09IDEpIHtcblx0ICAgIC8vIOiuoeeul+mXsOW5tFxuXHQgICAgaWYgKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gMjk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gMjg7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gMzE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFdlZWtOdW1iZXIoc3JjKSB7XG5cdCAgdmFyIGRhdGUgPSBuZXcgRGF0ZShzcmMuZ2V0VGltZSgpKTtcblx0ICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXHQgIC8vIFRodXJzZGF5IGluIGN1cnJlbnQgd2VlayBkZWNpZGVzIHRoZSB5ZWFyLlxuXHQgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIDMgLSAoZGF0ZS5nZXREYXkoKSArIDYpICUgNyk7XG5cdCAgLy8gSmFudWFyeSA0IGlzIGFsd2F5cyBpbiB3ZWVrIDEuXG5cdCAgdmFyIHdlZWsxID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwLCA0KTtcblx0ICAvLyBBZGp1c3QgdG8gVGh1cnNkYXkgaW4gd2VlayAxIGFuZCBjb3VudCBudW1iZXIgb2Ygd2Vla3MgZnJvbSBkYXRlIHRvIHdlZWsgMS5cblx0ICByZXR1cm4gMSArIE1hdGgucm91bmQoKChkYXRlLmdldFRpbWUoKSAtIHdlZWsxLmdldFRpbWUoKSkgLyA4NjQwMDAwMCAtIDMgKyAod2VlazEuZ2V0RGF5KCkgKyA2KSAlIDcpIC8gNyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFN0YXJ0RGF0ZU9mTW9udGgoeWVhciwgbW9udGgpIHtcblx0ICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCAxKTtcblx0ICB2YXIgZGF5ID0gcmVzdWx0LmdldERheSgpO1xuXHRcblx0ICBpZiAoZGF5ID09PSAwKSB7XG5cdCAgICByZXN1bHQuc2V0VGltZShyZXN1bHQuZ2V0VGltZSgpIC0gREFZX0RVUkFUSU9OICogNyk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJlc3VsdC5zZXRUaW1lKHJlc3VsdC5nZXRUaW1lKCkgLSBEQVlfRFVSQVRJT04gKiBkYXkpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMjMpO1xuXHRcblx0dmFyIGtvID0gd2luZG93LmtvO1xuXHRmdW5jdGlvbiBpbml0KHBhcmFtcykge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIC8vIOWunumZhemAieaLqeeahOW5tOS7vVxuXHQgIHRoaXMueWVhciA9IHBhcmFtcy55ZWFyO1xuXHQgIHRoaXMuX3llYXIgPSBrby5vYnNlcnZhYmxlKHBhcmFtcy55ZWFyKCkpO1xuXHQgIC8vIOebkeaOp+W8gOWni+W5tOS7vVxuXHQgIHRoaXMuc3RhcnR5ZWFyID0ga28uY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5feWVhcigpIC8gMTApICogMTA7XG5cdCAgfSwgdGhpcyk7XG5cdCAgLy8g6YCJ5oup5bm05Lu9XG5cdCAgdGhpcy5oYW5kbGVZZWFyQ2xpY2sgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICBfdGhpcy55ZWFyKF90aGlzLnN0YXJ0eWVhcigpICsgdmFsKTtcblx0ICAgIHBhcmFtcy5zaG93eWVhcihmYWxzZSk7XG5cdCAgICBwYXJhbXMuc2hvd21vbnRoKHRydWUpO1xuXHQgIH07XG5cdCAgLy8g5YmN5Y2B5bm0XG5cdCAgdGhpcy5sYXN0MTB5ZWFyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgX3RoaXMuX3llYXIoX3RoaXMuX3llYXIoKSAtIDEwKTtcblx0ICB9O1xuXHQgIC8vIOWQjuWNgeW5tFxuXHQgIHRoaXMubmV4dDEweWVhciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIF90aGlzLl95ZWFyKF90aGlzLl95ZWFyKCkgKyAxMCk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5pdDtcblxuLyoqKi8gfSxcbi8qIDEyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSxcbi8qIDEyNCAqLyxcbi8qIDEyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9eS15ZWFyLWN0bj4gPGRpdiBjbGFzcz15LXllYXItaGVhZGVyPiA8ZGl2IGNsYXNzPWxhc3QxMHllYXIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdDEweWVhclxcXCI+Jmx0OyZsdDs8L2Rpdj4gPGRpdiBjbGFzcz1jdXIxMHllYXI+IDxzcGFuIGRhdGEtYmluZD10ZXh0OnN0YXJ0eWVhcj48L3NwYW4+IDxzcGFuPi08L3NwYW4+IDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDpzdGFydHllYXIoKSArIDlcXFwiPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9bmV4dDEweWVhciBkYXRhLWJpbmQ9XFxcImNsaWNrOiBuZXh0MTB5ZWFyXFxcIj4mZ3Q7Jmd0OzwvZGl2PiA8L2Rpdj4gPHRhYmxlIGNsYXNzPXkteWVhci1ib2R5PiA8dHI+IDx0ZCBjbGFzcz1hdmFpbGFibGUgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5OnllYXIoKSA9PSBzdGFydHllYXIoKSswfVxcXCI+PGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwidGV4dDogc3RhcnR5ZWFyLGNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlWWVhckNsaWNrKDApfVxcXCI+PC9kaXY+PC90ZD4gPHRkIGNsYXNzPWF2YWlsYWJsZSBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6eWVhcigpID09IHN0YXJ0eWVhcigpKzF9XFxcIj48ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzdGFydHllYXIoKSArIDEsY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVZZWFyQ2xpY2soMSl9XFxcIj48L2Rpdj48L3RkPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrMn1cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgMixjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljaygyKX1cXFwiPjwvZGl2PjwvdGQ+IDx0ZCBjbGFzcz1hdmFpbGFibGUgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5OnllYXIoKSA9PSBzdGFydHllYXIoKSszfVxcXCI+PGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwidGV4dDogc3RhcnR5ZWFyKCkgKyAzLGNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlWWVhckNsaWNrKDMpfVxcXCI+PC9kaXY+PC90ZD4gPC90cj4gPHRyPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrNH1cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgNCxjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljayg0KX1cXFwiPjwvZGl2PjwvdGQ+IDx0ZCBjbGFzcz1hdmFpbGFibGUgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5OnllYXIoKSA9PSBzdGFydHllYXIoKSs1fVxcXCI+PGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwidGV4dDogc3RhcnR5ZWFyKCkgKyA1LGNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlWWVhckNsaWNrKDUpfVxcXCI+PC9kaXY+PC90ZD4gPHRkIGNsYXNzPWF2YWlsYWJsZSBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6eWVhcigpID09IHN0YXJ0eWVhcigpKzZ9XFxcIj48ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzdGFydHllYXIoKSArIDYsY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVZZWFyQ2xpY2soNil9XFxcIj48L2Rpdj48L3RkPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrN31cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgNyxjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljayg3KX1cXFwiPjwvZGl2PjwvdGQ+IDwvdHI+IDx0cj4gPHRkIGNsYXNzPWF2YWlsYWJsZSBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6eWVhcigpID09IHN0YXJ0eWVhcigpKzh9XFxcIj48ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzdGFydHllYXIoKSArIDgsY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVZZWFyQ2xpY2soOCl9XFxcIj48L2Rpdj48L3RkPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrOX1cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgOSxjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljayg5KX1cXFwiPjwvZGl2PjwvdGQ+IDwvdHI+IDwvdGFibGU+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDEyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFxuXHRmdW5jdGlvbiBpbml0KHBhcmFtcykge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMubW9udGggPSBwYXJhbXMubW9udGg7XG5cdCAgdGhpcy55ZWFyID0gcGFyYW1zLnllYXI7XG5cdCAgLy8g6YCJ5oup5pyI5Lu9XG5cdCAgdGhpcy5oYW5kbGVNb250aENsaWNrID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgX3RoaXMubW9udGgodmFsKTtcblx0ICAgIHBhcmFtcy5zaG93ZGF5KHRydWUpO1xuXHQgICAgcGFyYW1zLnNob3dtb250aChmYWxzZSk7XG5cdCAgfTtcblx0ICAvLyDliY3ljYHlubRcblx0ICB0aGlzLmxhc3R5ZWFyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgX3RoaXMueWVhcihfdGhpcy55ZWFyKCkgLSAxKTtcblx0ICB9O1xuXHQgIC8vIOWQjuWNgeW5tFxuXHQgIHRoaXMubmV4dHllYXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBfdGhpcy55ZWFyKF90aGlzLnllYXIoKSArIDEpO1xuXHQgIH07XG5cdCAgLy8g5bm05Lu96YCJ5oupXG5cdCAgdGhpcy5jaG9vc2V5ZWFyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcGFyYW1zLnNob3d5ZWFyKHRydWUpO1xuXHQgICAgcGFyYW1zLnNob3dtb250aChmYWxzZSk7XG5cdCAgfTtcblx0ICB0aGlzLm1vbnRoMSA9ICfkuIDmnIgnO1xuXHQgIHRoaXMubW9udGgyID0gJ+S6jOaciCc7XG5cdCAgdGhpcy5tb250aDMgPSAn5LiJ5pyIJztcblx0ICB0aGlzLm1vbnRoNCA9ICflm5vmnIgnO1xuXHQgIHRoaXMubW9udGg1ID0gJ+S6lOaciCc7XG5cdCAgdGhpcy5tb250aDYgPSAn5YWt5pyIJztcblx0ICB0aGlzLm1vbnRoNyA9ICfkuIPmnIgnO1xuXHQgIHRoaXMubW9udGg4ID0gJ+WFq+aciCc7XG5cdCAgdGhpcy5tb250aDkgPSAn5Lmd5pyIJztcblx0ICB0aGlzLm1vbnRoMTAgPSAn5Y2B5pyIJztcblx0ICB0aGlzLm1vbnRoMTEgPSAn5Y2B5LiA5pyIJztcblx0ICB0aGlzLm1vbnRoMTIgPSAn5Y2B5LqM5pyIJztcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5pdDtcblxuLyoqKi8gfSxcbi8qIDEyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSxcbi8qIDEyOCAqLyxcbi8qIDEyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9eS1tb250aC1jdG4+IDxkaXYgY2xhc3M9eS1tb250aC1oZWFkZXI+IDxkaXYgY2xhc3M9bGFzdHllYXIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdHllYXJcXFwiPiZsdDsmbHQ7PC9kaXY+IDxkaXYgY2xhc3M9Y3VyeWVhcj4gPHNwYW4gZGF0YS1iaW5kPXRleHQ6eWVhcixjbGljazpjaG9vc2V5ZWFyPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9bmV4dHllYXIgZGF0YS1iaW5kPVxcXCJjbGljazogbmV4dHllYXJcXFwiPiZndDsmZ3Q7PC9kaXY+IDwvZGl2PiA8dGFibGUgY2xhc3M9eS1tb250aC1ib2R5PiA8dGJvZHk+IDx0cj4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDF9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDEpfSwgdGV4dDogbW9udGgxXFxcIj7kuIDmnIg8L2Rpdj4gPC90ZD4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDJ9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDIpfSwgdGV4dDogbW9udGgyXFxcIj7kuozmnIg8L2Rpdj4gPC90ZD4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDN9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDMpfSwgdGV4dDogbW9udGgzXFxcIj7kuInmnIg8L2Rpdj4gPC90ZD4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDR9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDQpfSwgdGV4dDogbW9udGg0XFxcIj7lm5vmnIg8L2Rpdj4gPC90ZD4gPC90cj4gPHRyPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gNX1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soNSl9LCB0ZXh0OiBtb250aDVcXFwiPuS6lOaciDwvZGl2PiA8L3RkPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gNn1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soNil9LCB0ZXh0OiBtb250aDZcXFwiPuWFreaciDwvZGl2PiA8L3RkPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gN31cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soNyl9LCB0ZXh0OiBtb250aDdcXFwiPuS4g+aciDwvZGl2PiA8L3RkPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gOH1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soOCl9LCB0ZXh0OiBtb250aDhcXFwiPuWFq+aciDwvZGl2PiA8L3RkPiA8L3RyPiA8dHI+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSA5fVxcXCI+IDxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcImNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlTW9udGhDbGljayg5KX0sIHRleHQ6IG1vbnRoOVxcXCI+5Lmd5pyIPC9kaXY+IDwvdGQ+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSAxMH1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soMTApfSwgdGV4dDogbW9udGgxMFxcXCI+5Y2B5pyIPC9kaXY+IDwvdGQ+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSAxMX1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soMTEpfSwgdGV4dDogbW9udGgxMVxcXCI+5Y2B5LiA5pyIPC9kaXY+IDwvdGQ+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSAxMn1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soMTIpfSwgdGV4dDogbW9udGgxMlxcXCI+5Y2B5LqM5pyIPC9kaXY+IDwvdGQ+IDwvdHI+IDwvdGJvZHk+IDwvdGFibGU+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDEzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG5cdFxuXHR2YXIga28gPSB3aW5kb3cua287XG5cdHZhciBEQVlfRFVSQVRJT04gPSA4NjQwMDAwMDsgLy8gMeWkqVxuXHR2YXIgY2xlYXJIb3VycyA9IGZ1bmN0aW9uIGNsZWFySG91cnModGltZSkge1xuXHQgIHZhciBjbG9uZURhdGUgPSBuZXcgRGF0ZSh0aW1lKTtcblx0ICBjbG9uZURhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cdCAgcmV0dXJuIGNsb25lRGF0ZS5nZXRUaW1lKCk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBpbml0KHBhcmFtcykge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHZhciB0aGF0ID0gdGhpcztcblx0ICB0aGlzLm1vbnRoID0gcGFyYW1zLm1vbnRoO1xuXHQgIHRoaXMueWVhciA9IHBhcmFtcy55ZWFyO1xuXHQgIHRoaXMuc2hvd1llYXIgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy55ZWFyKCkgKyAn5bm0Jztcblx0ICB9LmJpbmQodGhpcykpO1xuXHQgIHRoaXMuc2hvd01vbnRoID0ga28uY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubW9udGgoKSArICfmnIgnO1xuXHQgIH0uYmluZCh0aGlzKSk7XG5cdCAgdGhpcy5kYXkgPSBwYXJhbXMuZGF5O1xuXHQgIHRoaXMudGFibGVSb3dzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pXSk7XG5cdCAgLy8gdG9kb1xuXHQgIHRoaXMuZmlyc3REYXlPZldlZWsgPSBrby5vYnNlcnZhYmxlKDcpO1xuXHQgIC8vIOW8gOWni+aXpeacn1xuXHQgIHRoaXMuc3RhcnREYXRlID0ga28uY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICgwLCBfdXRpbC5nZXRTdGFydERhdGVPZk1vbnRoKSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcblx0ICB9LCB0aGlzKTtcblx0ICB0aGlzLmRpc2FibGVkRGF0ZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cdCAgICBpZiAocGFyYW1zLm1pbkRhdGUoKSAmJiBjbGVhckhvdXJzKHRpbWUpIDw9IGNsZWFySG91cnMobmV3IERhdGUocGFyYW1zLm1pbkRhdGUoKSkpKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIGlmIChwYXJhbXMubWF4RGF0ZSgpICYmIGNsZWFySG91cnModGltZSkgPj0gY2xlYXJIb3VycyhuZXcgRGF0ZShwYXJhbXMubWF4RGF0ZSgpKSkpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5zaG93V2Vla051bWJlciA9IGZhbHNlO1xuXHQgIHRoaXMub2Zmc2V0RGF5ID0ga28uY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHdlZWsgPSB0aGlzLmZpcnN0RGF5T2ZXZWVrKCk7XG5cdCAgICAvLyDlkajml6XkuLrnlYzpmZDvvIzlt6blj7PlgY/np7vnmoTlpKnmlbDvvIwzMjE3NjU0IOS+i+WmguWRqOS4gOWwseaYryAtMe+8jOebrueahOaYr+iwg+aVtOWJjeS4pOihjOaXpeacn+eahOS9jee9rlxuXHQgICAgcmV0dXJuIHdlZWsgPiAzID8gNyAtIHdlZWsgOiAtd2Vlaztcblx0ICB9LCB0aGlzKTtcblx0ICAvLyDpgInmi6nml6XmnJ9cblx0ICB0aGlzLmhhbmRsZURheUNsaWNrID0gZnVuY3Rpb24gKGNlbGwpIHtcblx0ICAgIGlmIChjZWxsLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB5ZWFyID0gdGhpcy55ZWFyKCk7XG5cdCAgICB2YXIgbW9udGggPSB0aGlzLm1vbnRoKCk7XG5cdCAgICB2YXIgZGF5ID0gY2VsbC50ZXh0O1xuXHQgICAgLy8g6Leo6aG16YCJ5Y+WXG5cdCAgICBpZiAoY2VsbC50eXBlID09PSAncHJldi1tb250aCcpIHtcblx0ICAgICAgaWYgKG1vbnRoID09PSAxKSB7XG5cdCAgICAgICAgeWVhci0tO1xuXHQgICAgICAgIG1vbnRoID0gMTI7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbW9udGgtLTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChjZWxsLnR5cGUgPT09ICduZXh0LW1vbnRoJykge1xuXHQgICAgICBpZiAobW9udGggPT09IDEyKSB7XG5cdCAgICAgICAgeWVhcisrO1xuXHQgICAgICAgIG1vbnRoID0gMTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBtb250aCsrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICAvLyDliIfmjaLliLDlhbbku5bmnIjku73nmoTml7blgJlcblx0ICAgICgwLCBfdXRpbC5zZXREYXRhKShuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgcGFyYW1zLmhvdXIoKSwgcGFyYW1zLm1pbnV0ZXMoKSwgcGFyYW1zLnNlY29uZHMoKSkuX2Zvcm1hdChwYXJhbXMuaXNUaW1lciA/ICd5eXl5LU1NLWRkIGhoOm1tOnNzJyA6ICd5eXl5LU1NLWRkJyksIHBhcmFtcy5kYXRhLCBwYXJhbXMuaXNOdW1iZXJpY1ZhbHVlKTtcblx0ICB9O1xuXHQgIC8vIOWIpOaWreaYr+WQpuW9k+WJjeWkqVxuXHQgIHRoaXMuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChjZWxsVHlwZSwgY2VsbERheSkge1xuXHQgICAgaWYgKGNlbGxUeXBlID09PSAnbm9ybWFsJykge1xuXHQgICAgICAvLyBmaXggaWUgYW5kIGVkZ2UgbmV3IGRhdGUgYnVnXG5cdCAgICAgIGlmIChwYXJhbXMuZGF0YSgpKSB7XG5cdCAgICAgICAgdmFyIF9kYXRlID0gbmV3IERhdGUoKHBhcmFtcy5kYXRhKCkgKyAnJykucmVwbGFjZSgvLS9nLCAnLycpKTtcblx0ICAgICAgICBpZiAoY2VsbERheSA9PT0gX3RoaXMuZGF5KCkgJiYgX3RoaXMubW9udGgoKSA9PT0gX2RhdGUuZ2V0TW9udGgoKSArIDEgJiYgX3RoaXMueWVhcigpID09PSBfZGF0ZS5nZXRGdWxsWWVhcigpKSB7XG5cdCAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0ICAvLyDlubTku73pgInmi6lcblx0ICB0aGlzLmNob29zZXllYXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBwYXJhbXMuc2hvd3llYXIodHJ1ZSk7XG5cdCAgICBwYXJhbXMuc2hvd2RheShmYWxzZSk7XG5cdCAgfTtcblx0ICAvLyDmnIjku73pgInmi6lcblx0ICB0aGlzLmNob29zZW1vbnRoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcGFyYW1zLnNob3dtb250aCh0cnVlKTtcblx0ICAgIHBhcmFtcy5zaG93ZGF5KGZhbHNlKTtcblx0ICB9O1xuXHQgIHRoaXMubGFzdHllYXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBfdGhpcy55ZWFyKF90aGlzLnllYXIoKSAtIDEpO1xuXHQgICAgX3RoaXMuc2hvd2RheSgpO1xuXHQgIH07XG5cdCAgdGhpcy5sYXN0bW9udGggPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgY3VybW9udGggPSBfdGhpcy5tb250aCgpO1xuXHQgICAgaWYgKGN1cm1vbnRoID09PSAxKSB7XG5cdCAgICAgIF90aGlzLnllYXIoX3RoaXMueWVhcigpIC0gMSk7XG5cdCAgICAgIF90aGlzLm1vbnRoKDEyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF90aGlzLm1vbnRoKF90aGlzLm1vbnRoKCkgLSAxKTtcblx0ICAgIH1cblx0ICAgIF90aGlzLnNob3dkYXkoKTtcblx0ICB9O1xuXHQgIHRoaXMubmV4dHllYXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBfdGhpcy55ZWFyKF90aGlzLnllYXIoKSArIDEpO1xuXHQgICAgX3RoaXMuc2hvd2RheSgpO1xuXHQgIH07XG5cdCAgdGhpcy5uZXh0bW9udGggPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgY3VybW9udGggPSBfdGhpcy5tb250aCgpO1xuXHQgICAgaWYgKGN1cm1vbnRoID09PSAxMikge1xuXHQgICAgICBfdGhpcy55ZWFyKF90aGlzLnllYXIoKSArIDEpO1xuXHQgICAgICBfdGhpcy5tb250aCgxKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF90aGlzLm1vbnRoKF90aGlzLm1vbnRoKCkgKyAxKTtcblx0ICAgIH1cblx0ICAgIF90aGlzLnNob3dkYXkoKTtcblx0ICB9O1xuXHQgIHRoaXMuc2hvd2RheSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHBhcmFtcy5zaG93bW9udGgoZmFsc2UpO1xuXHQgICAgcGFyYW1zLnNob3dkYXkodHJ1ZSk7XG5cdCAgfTtcblx0ICB0aGlzLnJvd3MgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSAxLCAxKTtcblx0ICAgIHZhciBkYXkgPSAoMCwgX3V0aWwuZ2V0Rmlyc3REYXlPZk1vbnRoKShkYXRlKTsgLy8gZGF5IG9mIGZpcnN0IGRheVxuXHQgICAgdmFyIGRhdGVDb3VudE9mTW9udGggPSAoMCwgX3V0aWwuZ2V0RGF5Q291bnRPZk1vbnRoKShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSk7XG5cdCAgICB2YXIgZGF0ZUNvdW50T2ZMYXN0TW9udGggPSAoMCwgX3V0aWwuZ2V0RGF5Q291bnRPZk1vbnRoKShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSA9PT0gMCA/IDExIDogZGF0ZS5nZXRNb250aCgpIC0gMSk7XG5cdCAgICBkYXkgPSBkYXkgPT09IDAgPyA3IDogZGF5O1xuXHQgICAgdmFyIG9mZnNldCA9IHRoaXMub2Zmc2V0RGF5KCk7XG5cdCAgICB2YXIgcm93cyA9IHRoaXMudGFibGVSb3dzKCk7XG5cdCAgICB2YXIgY291bnQgPSAxO1xuXHQgICAgdmFyIGZpcnN0RGF5UG9zaXRpb24gPSB2b2lkIDA7XG5cdCAgICB2YXIgc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGUoKTtcblx0ICAgIHZhciBkaXNhYmxlZERhdGUgPSB0aGlzLmRpc2FibGVkRGF0ZTtcblx0ICAgIHZhciBub3cgPSBjbGVhckhvdXJzKG5ldyBEYXRlKCkpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcblx0ICAgICAgLy8g5q+P5LiA6KGMXG5cdCAgICAgIHZhciByb3cgPSByb3dzW2ldKCk7XG5cdCAgICAgIGlmICh0aGlzLnNob3dXZWVrTnVtYmVyKSB7XG5cdCAgICAgICAgaWYgKCFyb3dbMF0pIHtcblx0ICAgICAgICAgIHJvd1swXSA9IHsgdHlwZTogJ3dlZWsnLCB0ZXh0OiAoMCwgX3V0aWwuZ2V0V2Vla051bWJlcikobmV3IERhdGUoc3RhcnREYXRlLmdldFRpbWUoKSArIERBWV9EVVJBVElPTiAqIChpICogNyArIDEpKSkgfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcblx0ICAgICAgICB2YXIgY2VsbCA9IHJvd1t0aGlzLnNob3dXZWVrTnVtYmVyID8gaiArIDEgOiBqXTtcblx0ICAgICAgICBpZiAoIWNlbGwpIHtcblx0ICAgICAgICAgIGNlbGwgPSB7IHJvdzogaSwgY29sdW1uOiBqLCB0eXBlOiAnbm9ybWFsJyB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjZWxsWyckcGFyZW50J10gPSB0aGF0O1xuXHQgICAgICAgIGNlbGwudHlwZSA9ICdub3JtYWwnO1xuXHQgICAgICAgIHZhciBpbmRleCA9IGkgKiA3ICsgajtcblx0ICAgICAgICB2YXIgdGltZSA9IHN0YXJ0RGF0ZS5nZXRUaW1lKCkgKyBEQVlfRFVSQVRJT04gKiAoaW5kZXggLSBvZmZzZXQpO1xuXHQgICAgICAgIHZhciBpc1RvZGF5ID0gdGltZSA9PT0gbm93O1xuXHQgICAgICAgIGlmIChpc1RvZGF5KSB7XG5cdCAgICAgICAgICBjZWxsLnR5cGUgPSAndG9kYXknO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaSA+PSAwICYmIGkgPD0gMSkge1xuXHQgICAgICAgICAgaWYgKGogKyBpICogNyA+PSBkYXkgKyBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgY2VsbC50ZXh0ID0gY291bnQrKztcblx0ICAgICAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7XG5cdCAgICAgICAgICAgICAgZmlyc3REYXlQb3NpdGlvbiA9IGkgKiA3ICsgajtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2VsbC50ZXh0ID0gZGF0ZUNvdW50T2ZMYXN0TW9udGggLSAoZGF5ICsgb2Zmc2V0IC0gaiAlIDcpICsgMSArIGkgKiA3O1xuXHQgICAgICAgICAgICBjZWxsLnR5cGUgPSAncHJldi1tb250aCc7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGlmIChjb3VudCA8PSBkYXRlQ291bnRPZk1vbnRoKSB7XG5cdCAgICAgICAgICAgIGNlbGwudGV4dCA9IGNvdW50Kys7XG5cdCAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMikge1xuXHQgICAgICAgICAgICAgIGZpcnN0RGF5UG9zaXRpb24gPSBpICogNyArIGo7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNlbGwudGV4dCA9IGNvdW50KysgLSBkYXRlQ291bnRPZk1vbnRoO1xuXHQgICAgICAgICAgICBjZWxsLnR5cGUgPSAnbmV4dC1tb250aCc7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNlbGwuZGlzYWJsZWQgPSB0eXBlb2YgZGlzYWJsZWREYXRlID09PSAnZnVuY3Rpb24nICYmIGRpc2FibGVkRGF0ZShuZXcgRGF0ZSh0aW1lKSk7XG5cdCAgICAgICAgaWYgKHRoaXMuc2hvd1dlZWtOdW1iZXIpIHtcblx0ICAgICAgICAgIHJvd1tqICsgMV0gPSBjZWxsO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByb3dbal0gPSBjZWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyB0aGlzLiRzZXQocm93LCB0aGlzLnNob3dXZWVrTnVtYmVyID8gaiArIDEgOiBqLCBjZWxsKVxuXHQgICAgICB9XG5cdCAgICAgIHJvd3NbaV0ocm93KTtcblx0ICAgIH1cblx0ICAgIHJvd3MuZmlyc3REYXlQb3NpdGlvbiA9IGZpcnN0RGF5UG9zaXRpb247XG5cdCAgICByZXR1cm4gcm93cztcblx0ICB9LCB0aGlzKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5pdDtcblxuLyoqKi8gfSxcbi8qIDEzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9eS1kYXktY3RuPiA8ZGl2IGNsYXNzPXktZGF5LWhlYWRlcj4gPHNwYW4gY2xhc3M9bGFzdHllYXIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdHllYXJcXFwiPiZsdDsmbHQ7PC9zcGFuPiA8c3BhbiBjbGFzcz1sYXN0bW9udGggZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdG1vbnRoXFxcIj4mbHQ7PC9zcGFuPiA8c3BhbiBjbGFzcz15ZWFyYW5kbW9udGg+IDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogc2hvd1llYXIsIGNsaWNrOiBjaG9vc2V5ZWFyXFxcIj48L3NwYW4+IDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogc2hvd01vbnRoLCBjbGljazogY2hvb3NlbW9udGhcXFwiPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz1uZXh0bW9udGggZGF0YS1iaW5kPVxcXCJjbGljazogbmV4dG1vbnRoXFxcIj4mZ3Q7PC9zcGFuPiA8c3BhbiBjbGFzcz1uZXh0eWVhciBkYXRhLWJpbmQ9XFxcImNsaWNrOiBuZXh0eWVhclxcXCI+Jmd0OyZndDs8L3NwYW4+IDwvZGl2PiA8dGFibGUgY2xhc3M9eS1kYXktYm9keT4gPHRyIHN0eWxlPWNvbG9yOiNiYmI+IDx0ZD7ml6U8L3RkPiA8dGQ+5LiAPC90ZD4gPHRkPuS6jDwvdGQ+IDx0ZD7kuIk8L3RkPiA8dGQ+5ZubPC90ZD4gPHRkPuS6lDwvdGQ+IDx0ZD7lha08L3RkPiA8L3RyPiA8IS0tIGtvIGZvcmVhY2g6IHsgZGF0YTogcm93cygpLCBhczogJ3JvdycgfSAtLT4gPHRyIGRhdGEtYmluZD1cXFwiZm9yZWFjaDogeyBkYXRhOiByb3csIGFzOiAnY2VsbCcgfVxcXCI+IDx0ZCBkYXRhLWJpbmQ9XFxcImNsaWNrOmZ1bmN0aW9uKCl7JHBhcmVudC5oYW5kbGVEYXlDbGljayhjZWxsKX0sY3NzOntkaXNhYmxlOmNlbGwuZGlzYWJsZWQsbmV4dG1vbnRoOmNlbGwudHlwZT09J25leHQtbW9udGgnLHByZXZtb250aDpjZWxsLnR5cGU9PSdwcmV2LW1vbnRoJyx0b2RheTogY2VsbC50eXBlPT0ndG9kYXknLHNlbGVjdGVkRGF5OiAkcGFyZW50LmlzU2VsZWN0ZWREYXkoY2VsbC50eXBlLCBjZWxsLnRleHQpfVxcXCI+IDxkaXYgZGF0YS1iaW5kPXRleHQ6Y2VsbC50ZXh0PjwvZGl2PiA8L3RkPiA8L3RyPiA8IS0tIC9rbyAtLT4gPC90YWJsZT4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMTMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcblx0XG5cdHZhciBrbyA9IHdpbmRvdy5rbztcblx0ZnVuY3Rpb24gaW5pdChfcmVmKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgdmFyIGhvdXIgPSBfcmVmLmhvdXIsXG5cdCAgICAgIG1pbnV0ZXMgPSBfcmVmLm1pbnV0ZXMsXG5cdCAgICAgIHNlY29uZHMgPSBfcmVmLnNlY29uZHMsXG5cdCAgICAgIHNob3d0aW1lciA9IF9yZWYuc2hvd3RpbWVyO1xuXHRcblx0ICB0aGlzLnNob3d0aW1lciA9IHNob3d0aW1lcjtcblx0ICB0aGlzLmhvdXIgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gaG91cigpID4gOSA/IGhvdXIoKSA6ICcwJyArIGhvdXIoKTtcblx0ICB9KTtcblx0ICB0aGlzLm1pbnV0ZXMgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gbWludXRlcygpID4gOSA/IG1pbnV0ZXMoKSA6ICcwJyArIG1pbnV0ZXMoKTtcblx0ICB9KTtcblx0ICB0aGlzLnNlY29uZHMgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gc2Vjb25kcygpID4gOSA/IHNlY29uZHMoKSA6ICcwJyArIHNlY29uZHMoKTtcblx0ICB9KTtcblx0ICB0aGlzLm9uSW5wdXQgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgdmFyIHZhbCA9IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpO1xuXHQgICAgaWYgKCEvXlswLTldKlsxLTldWzAtOV0qJC8udGVzdCh2YWwpKSB7XG5cdCAgICAgIGUudGFyZ2V0LnZhbHVlID0gJzAwJztcblx0ICAgIH1cblx0ICB9O1xuXHQgIHRoaXMubmV4dGhvdXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgX2hvdXIgPSBob3VyKCkgKyAxO1xuXHQgICAgaWYgKF9ob3VyID09PSAyNCkge1xuXHQgICAgICBob3VyKDApO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaG91cihfaG91cik7XG5cdCAgICB9XG5cdCAgfTtcblx0ICB0aGlzLmxhc3Rob3VyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF9ob3VyID0gaG91cigpIC0gMTtcblx0ICAgIGlmIChfaG91ciA8PSAwKSB7XG5cdCAgICAgIGhvdXIoMjMpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaG91cihfaG91cik7XG5cdCAgICB9XG5cdCAgfTtcblx0ICAvLyDlsI/ml7bmiYvliqjovpPlhaVcblx0ICB0aGlzLmJsdXJIb3VyID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgIHZhciBfaG91ciA9IGUudGFyZ2V0LnZhbHVlO1xuXHQgICAgaWYgKF9ob3VyID49IDI0IHx8IF9ob3VyIDw9IDApIHtcblx0ICAgICAgaG91cigwKTtcblx0ICAgICAgZS50YXJnZXQudmFsdWUgPSAnMDAnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaG91cihfaG91cik7XG5cdCAgICB9XG5cdCAgfTtcblx0ICB2YXIgdGltZXJUaW1lb3V0O1xuXHQgIHZhciBpbm5lckludGVydmFsO1xuXHQgIC8vIOWwj+aXtumAieaLqemVv+aMiVxuXHQgIHRoaXMubmV4dGhvdXJob2xkZG93biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICBpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzLm5leHRob3VyKCk7XG5cdCAgICAgIH0sIDEwMCk7XG5cdCAgICB9LCAyMDApO1xuXHQgIH07XG5cdCAgdGhpcy5sYXN0aG91cmhvbGRkb3duID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGltZXJUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlubmVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXMubGFzdGhvdXIoKTtcblx0ICAgICAgfSwgMTAwKTtcblx0ICAgIH0sIDIwMCk7XG5cdCAgfTtcblx0ICAvLyDliIbpkp/pgInmi6nplb/mjIlcblx0ICB0aGlzLm5leHRtaW5ob2xkZG93biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICBpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzLm5leHRtaW51dGVzKCk7XG5cdCAgICAgIH0sIDUwKTtcblx0ICAgIH0sIDIwMCk7XG5cdCAgfTtcblx0ICAvLyDliIbpkp/pgInmi6nplb/mjIlcblx0ICB0aGlzLmxhc3RtaW5ob2xkZG93biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICBpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzLmxhc3RtaW51dGVzKCk7XG5cdCAgICAgIH0sIDUwKTtcblx0ICAgIH0sIDIwMCk7XG5cdCAgfTtcblx0ICAvLyDnp5LpgInmi6nplb/mjIlcblx0ICB0aGlzLm5leHRzZWNob2xkZG93biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICBpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzLm5leHRzZWNvbmRzKCk7XG5cdCAgICAgIH0sIDUwKTtcblx0ICAgIH0sIDIwMCk7XG5cdCAgfTtcblx0ICAvLyDnp5LpgInmi6nplb/mjIlcblx0ICB0aGlzLmxhc3RzZWNob2xkZG93biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICBpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzLmxhc3RzZWNvbmRzKCk7XG5cdCAgICAgIH0sIDUwKTtcblx0ICAgIH0sIDIwMCk7XG5cdCAgfTtcblx0ICB0aGlzLmhvbGR1cCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGNsZWFySW50ZXJ2YWwoaW5uZXJJbnRlcnZhbCk7XG5cdCAgICBjbGVhclRpbWVvdXQodGltZXJUaW1lb3V0KTtcblx0ICB9O1xuXHQgIHRoaXMuYmx1ciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGNsZWFySW50ZXJ2YWwoaW5uZXJJbnRlcnZhbCk7XG5cdCAgICBjbGVhclRpbWVvdXQodGltZXJUaW1lb3V0KTtcblx0ICB9O1xuXHRcblx0ICB0aGlzLm5leHRtaW51dGVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF9taW51dGVzID0gbWludXRlcygpICsgMTtcblx0ICAgIGlmIChfbWludXRlcyA+PSA2MCkge1xuXHQgICAgICBtaW51dGVzKDApO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbWludXRlcyhfbWludXRlcyk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICB0aGlzLmxhc3RtaW51dGVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF9taW51dGVzID0gbWludXRlcygpIC0gMTtcblx0ICAgIGlmIChfbWludXRlcyA8PSAwKSB7XG5cdCAgICAgIG1pbnV0ZXMoNTkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbWludXRlcyhfbWludXRlcyk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICAvLyDliIbpkp/miYvliqjovpPlhaVcblx0ICB0aGlzLmJsdXJNaW51dGVzID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgIHZhciBfbWludXRlcyA9IGUudGFyZ2V0LnZhbHVlO1xuXHQgICAgaWYgKF9taW51dGVzID49IDYwIHx8IF9taW51dGVzIDw9IDApIHtcblx0ICAgICAgbWludXRlcygwKTtcblx0ICAgICAgZS50YXJnZXQudmFsdWUgPSAnMDAnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbWludXRlcyhfbWludXRlcyk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICB0aGlzLm5leHRzZWNvbmRzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF9zZWNvbmRzID0gc2Vjb25kcygpICsgMTtcblx0ICAgIGlmIChfc2Vjb25kcyA+PSA2MCkge1xuXHQgICAgICBzZWNvbmRzKDApO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc2Vjb25kcyhfc2Vjb25kcyk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICB0aGlzLmxhc3RzZWNvbmRzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF9zZWNvbmRzID0gc2Vjb25kcygpIC0gMTtcblx0ICAgIGlmIChfc2Vjb25kcyA8PSAwKSB7XG5cdCAgICAgIHNlY29uZHMoNTkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc2Vjb25kcyhfc2Vjb25kcyk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICAvLyDnp5LmiYvliqjovpPlhaVcblx0ICB0aGlzLmJsdXJTZWNvbmRzID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgIHZhciBfc2Vjb25kcyA9IGUudGFyZ2V0LnZhbHVlO1xuXHQgICAgaWYgKF9zZWNvbmRzID49IDYwIHx8IF9zZWNvbmRzIDw9IDApIHtcblx0ICAgICAgc2Vjb25kcygwKTtcblx0ICAgICAgZS50YXJnZXQudmFsdWUgPSAnMDAnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc2Vjb25kcyhfc2Vjb25kcyk7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9LFxuLyogMTM0ICovLFxuLyogMTM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz15LXRpbWVyLWN0biBkYXRhLWJpbmQ9XFxcImNzczp7J2hpZGRlbic6IXNob3d0aW1lcigpfVxcXCI+IDxkaXYgY2xhc3M9eS10aW1lci1oZWFkZXI+IDwvZGl2PiA8dGFibGUgY2xhc3M9eS10aW1lci1ib2R5PiA8dHI+IDx0ZD4gPGRpdj4gPGRpdiBjbGFzcz1cXFwiZmEgZmEtYW5nbGUtdXBcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IG5leHRob3VyLCBldmVudDp7bW91c2Vkb3duOm5leHRob3VyaG9sZGRvd24sbW91c2V1cDpob2xkdXAsYmx1cjpibHVyfVxcXCI+PC9kaXY+IDxpbnB1dCBjbGFzcz10aW1lciB0eXBlPXRleHQgZGF0YS1iaW5kPVxcXCJ2YWx1ZTpob3VyLCBldmVudDp7Ymx1cjpmdW5jdGlvbigpe2JsdXJIb3VyKGV2ZW50KX0saW5wdXQ6ZnVuY3Rpb24oKXtvbklucHV0KGV2ZW50KX19XFxcIj4gPGRpdiBjbGFzcz1cXFwiZmEgZmEtYW5nbGUtZG93blxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdGhvdXIsZXZlbnQ6e21vdXNlZG93bjpsYXN0aG91cmhvbGRkb3duLG1vdXNldXA6aG9sZHVwLGJsdXI6Ymx1cn1cXFwiPjwvZGl2PiA8L2Rpdj4gPC90ZD4gPHRkPjo8L3RkPiA8dGQ+IDxkaXY+IDxkaXYgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLXVwXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiBuZXh0bWludXRlcywgZXZlbnQ6e21vdXNlZG93bjpuZXh0bWluaG9sZGRvd24sbW91c2V1cDpob2xkdXAsYmx1cjpibHVyfVxcXCI+PC9kaXY+IDxpbnB1dCBjbGFzcz10aW1lciB0eXBlPXRleHQgZGF0YS1iaW5kPVxcXCJ2YWx1ZTptaW51dGVzLCBldmVudDp7Ymx1cjpmdW5jdGlvbigpe2JsdXJNaW51dGVzKGV2ZW50KX0saW5wdXQ6ZnVuY3Rpb24oKXtvbklucHV0KGV2ZW50KX19XFxcIj4gPGRpdiBjbGFzcz1cXFwiZmEgZmEtYW5nbGUtZG93blxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdG1pbnV0ZXMsIGV2ZW50Onttb3VzZWRvd246bGFzdG1pbmhvbGRkb3duLG1vdXNldXA6aG9sZHVwLGJsdXI6Ymx1cn1cXFwiPjwvZGl2PiA8L2Rpdj4gPC90ZD4gPHRkPjo8L3RkPiA8dGQ+IDxkaXY+IDxkaXYgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLXVwXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiBuZXh0c2Vjb25kcywgZXZlbnQ6e21vdXNlZG93bjpuZXh0c2VjaG9sZGRvd24sbW91c2V1cDpob2xkdXAsYmx1cjpibHVyfVxcXCI+PC9kaXY+IDxpbnB1dCBjbGFzcz10aW1lciB0eXBlPXRleHQgZGF0YS1iaW5kPVxcXCJ2YWx1ZTpzZWNvbmRzLCBldmVudDp7Ymx1cjpmdW5jdGlvbigpe2JsdXJTZWNvbmRzKGV2ZW50KX0saW5wdXQ6ZnVuY3Rpb24oKXtvbklucHV0KGV2ZW50KX19XFxcIj4gPGRpdiBjbGFzcz1cXFwiZmEgZmEtYW5nbGUtZG93blxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdHNlY29uZHMsZXZlbnQ6e21vdXNlZG93bjpsYXN0c2VjaG9sZGRvd24sbW91c2V1cDpob2xkdXAsYmx1cjpibHVyfVxcXCI+PC9kaXY+IDwvZGl2PiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM3KTtcblx0XG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBrbyA9IHdpbmRvdy5rbztcblx0ZnVuY3Rpb24gaW5pdChfcmVmKSB7XG5cdCAgdmFyIHBsYWNlaG9sZGVyID0gX3JlZi5wbGFjZWhvbGRlcixcblx0ICAgICAgZGF0YSA9IF9yZWYuZGF0YSxcblx0ICAgICAgbWluRGF0ZSA9IF9yZWYubWluRGF0ZSxcblx0ICAgICAgbWF4RGF0ZSA9IF9yZWYubWF4RGF0ZSxcblx0ICAgICAgbnVtYmVyaWNWYWx1ZSA9IF9yZWYubnVtYmVyaWNWYWx1ZTtcblx0XG5cdCAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuXHQgIHRoaXMuZGF0YSA9IGRhdGE7XG5cdCAgdGhpcy5taW5EYXRlID0gbWluRGF0ZSB8fCBrby5vYnNlcnZhYmxlKCcxNjAwLTAxLTAxJyk7XG5cdCAgdGhpcy5tYXhEYXRlID0gbWF4RGF0ZSB8fCBrby5vYnNlcnZhYmxlKCcyMDk5LTEyLTMxJyk7XG5cdCAgdGhpcy5udW1iZXJpY1ZhbHVlID0gbnVtYmVyaWNWYWx1ZTtcblx0fVxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgbmFtZTogJ2RhdGV0aW1lcGlja2VyJyxcblx0ICBpbml0OiBpbml0LFxuXHQgIHRlbXBsYXRlOiBfaW5kZXgyLmRlZmF1bHRcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkYXRlcGlja2VyIHBhcmFtcz1cXFwibnVtYmVyaWNWYWx1ZTpudW1iZXJpY1ZhbHVlLG1pbkRhdGU6bWluRGF0ZSxtYXhEYXRlOm1heERhdGUscGxhY2Vob2xkZXI6cGxhY2Vob2xkZXIsZGF0YTogZGF0YSwgaXNUaW1lcjp0cnVlXFxcIj4gPC9kYXRlcGlja2VyPiBcIjtcblxuLyoqKi8gfSxcbi8qIDEzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzkpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGtvID0gd2luZG93LmtvO1xuXHR2YXIgJCA9IHdpbmRvdy4kO1xuXHRcblx0XG5cdGZ1bmN0aW9uIF9pbml0KHBhcmFtcywgZWwpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICB0aGlzLmlzU2hvdyA9IHBhcmFtcy5pc1Nob3cgfHwga28ub2JzZXJ2YWJsZShmYWxzZSk7XG5cdCAgdGhpcy5zY3JvbGxUb3AgPSBwYXJhbXMuc2Nyb2xsVG9wIHx8IGtvLm9ic2VydmFibGUoKTtcblx0ICB2YXIgX2VsID0gZWwuZWxlbWVudDtcblx0ICB0aGlzLnNjcm9sbFRvcC5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgX2VsLmNoaWxkcmVuWzBdLnNjcm9sbFRvcCA9IHZhbDtcblx0ICB9KTtcblx0ICB0aGlzLmRyb3BTdHlsZSA9IHBhcmFtcy5zdHlsZTtcblx0ICB0aGlzLiRlbCA9IGVsO1xuXHQgIHRoaXMuaXNUcmFuc2ZlckRvbSA9ICFwYXJhbXMuaXNTdG9wVHJhbnNmZXJEb207XG5cdCAgdGhpcy50YXJnZXRFbCA9IHBhcmFtcy50YXJnZXRFbDtcblx0ICB0aGlzLnRvcCA9IGtvLm9ic2VydmFibGUoKTtcblx0ICB0aGlzLmxlZnQgPSBrby5vYnNlcnZhYmxlKCk7XG5cdCAgdGhpcy50b3BBZGp1c3QgPSBwYXJhbXMudG9wQWRqdXN0IHx8IDA7XG5cdCAgdGhpcy53aWR0aCA9IGtvLm9ic2VydmFibGUocGFyYW1zLndpZHRoIHx8ICcxMDAlJyk7XG5cdCAgdmFyIHNjcm9sbEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHRoaXMuaXNTaG93KCkpIHtcblx0ICAgICAgdGhpcy50b3AodGhpcy50YXJnZXRFbC5jaGlsZHJlblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyAzMik7XG5cdCAgICB9XG5cdCAgfS5iaW5kKHRoaXMpO1xuXHQgIHRoaXMub25FbnRlciA9IGZ1bmN0aW9uICgpIHt9O1xuXHQgIHRoaXMub25MZWF2ZSA9IGZ1bmN0aW9uICgpIHt9O1xuXHQgIC8vIOWIh+aNouaXtumHjeaWsOiuvue9ruS4i+aLieeahOacquefpVxuXHQgIHRoaXMuaXNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAvLyDlpJrpgInmg4XlhrXmr5TovoPlpI3mnYLvvIzmmoLkuI3mlK/mjIHnqb/otopvdmVyZmxvd2hpZGRlblxuXHQgICAgaWYgKHZhbCAmJiBfdGhpcy5pc1RyYW5zZmVyRG9tKSB7XG5cdCAgICAgIHZhciBfZWwyID0gX3RoaXMudGFyZ2V0RWwuY2hpbGRyZW5bMF07XG5cdCAgICAgIHZhciBwb3NpdGlvbiA9IF9lbDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICAgIHZhciBsZWZ0ID0gcG9zaXRpb24ubGVmdDtcblx0ICAgICAgdmFyIHJpZ2h0ID0gcG9zaXRpb24ucmlnaHQ7XG5cdCAgICAgIHZhciBkcm9wV2lkdGggPSBfdGhpcy53aWR0aCgpID09PSAnMTAwJScgPyBfZWwyLm9mZnNldFdpZHRoIDogX3RoaXMud2lkdGgoKS50b1N0cmluZygpLnJlcGxhY2UoJ3B4JywgJycpIC0gMDtcblx0ICAgICAgLy8g5aaC5p6c6Led56a75Y+z5L6n5bGP5bmV5a695bqm5bCP5LqOMjUwXG5cdCAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSBwb3NpdGlvbi5sZWZ0IDwgZHJvcFdpZHRoKSB7XG5cdCAgICAgICAgbGVmdCA9IHJpZ2h0IC0gZHJvcFdpZHRoO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghcGFyYW1zLndpZHRoKSB7XG5cdCAgICAgICAgX3RoaXMud2lkdGgoJChfZWwyKS53aWR0aCgpKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5sZWZ0KGxlZnQpO1xuXHQgICAgICAvLyBzZWxlY3Qg6buY6K6k6auY5bqmICsgMzJcblx0ICAgICAgX3RoaXMudG9wKHBvc2l0aW9uLnRvcCArIDMyKTtcblx0ICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsRXZlbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsRXZlbnQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHRoaXMuc3R5bGUgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgc3R5bGUgPSBwYXJhbXMuc3R5bGUgfHwge307XG5cdCAgICAvLyB3aWR0aCDmlK/mjIFrb+WSjOmdnmtv5a+56LGhXG5cdCAgICBpZiAoX3RoaXMud2lkdGggJiYgX3RoaXMud2lkdGguc3Vic2NyaWJlKSB7XG5cdCAgICAgIC8vIOWtmOWcqOS8oOWFpSAxMDAl55qE5oOF5Ya1XG5cdCAgICAgIGlmIChpc05hTihfdGhpcy53aWR0aCgpKSkge1xuXHQgICAgICAgIHN0eWxlLndpZHRoID0gX3RoaXMud2lkdGgoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzdHlsZS53aWR0aCA9IF90aGlzLndpZHRoKCkgKyAncHgnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAocGFyYW1zLm1heEhlaWdodCkge1xuXHQgICAgICBzdHlsZS5tYXhIZWlnaHQgPSBwYXJhbXMubWF4SGVpZ2h0ICsgJ3B4Jztcblx0ICAgIH1cblx0ICAgIGlmIChwYXJhbXMub3ZlcmZsb3cpIHtcblx0ICAgICAgc3R5bGUub3ZlcmZsb3cgPSBwYXJhbXMub3ZlcmZsb3c7XG5cdCAgICB9XG5cdCAgICBpZiAoX3RoaXMudG9wKCkpIHtcblx0ICAgICAgc3R5bGUudG9wID0gX3RoaXMudG9wKCkgKyBOdW1iZXIoX3RoaXMudG9wQWRqdXN0KSArICdweCc7XG5cdCAgICAgIHN0eWxlLmxlZnQgPSBfdGhpcy5sZWZ0KCkgKyAncHgnO1xuXHQgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHN0eWxlO1xuXHQgIH0pO1xuXHQgIHRoaXMuYW5pbWF0ZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcblx0ICB0aGlzLmlzU2hvdy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgX3RoaXMuYW5pbWF0ZWQodHJ1ZSk7XG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuYW5pbWF0ZWQoZmFsc2UpO1xuXHQgICAgfSwgMTUwMCk7XG5cdCAgfSk7XG5cdH1cblx0dmFyIGluaXQgPSB7XG5cdCAgY3JlYXRlVmlld01vZGVsOiBmdW5jdGlvbiBjcmVhdGVWaWV3TW9kZWwocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgICByZXR1cm4gbmV3IF9pbml0KHBhcmFtcywgY29tcG9uZW50SW5mbyk7XG5cdCAgfVxuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgbmFtZTogJ2Ryb3Bkb3duJyxcblx0ICBpbml0OiBpbml0LFxuXHQgIHRlbXBsYXRlOiBfaW5kZXgyLmRlZmF1bHRcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9eS1kcm9wZG93biBkYXRhLWJpbmQ9XFxcIlxcbiAgdHJhbnNmZXJkb206IGlzVHJhbnNmZXJEb20sXFxuICBzdHlsZTogc3R5bGUsXFxuICBldmVudDoge1xcbiAgICBtb3VzZWVudGVyOiBvbkVudGVyLFxcbiAgICBtb3VzZWxlYXZlOiBvbkxlYXZlXFxuICB9LFxcbiAgY3NzOiB7XFxuICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcXG4gICAgc2xpZGVJblVwOiBpc1Nob3cgJiYgIWRyb3BTdHlsZSxcXG4gICAgc2xpZGVPdXRVcDogIWlzU2hvdygpLFxcbiAgICBoaWRkZW46IWlzU2hvdygpXFxuICB9XFxcIj4gPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT4gPCEtLSAva28gLS0+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDE0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyohIGtvLWJpbmRpbmdIYW5kbGVycyB2MS4xLjExIGF1dGhvciBieSDlj4vkupHph4dGRUQgKi9cblx0IWZ1bmN0aW9uKHQsZSl7aWYodHJ1ZSltb2R1bGUuZXhwb3J0cz1lKF9fd2VicGFja19yZXF1aXJlX18oMTQxKSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcImtub2Nrb3V0XCJdLGUpO2Vsc2V7dmFyIG49ZShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKFwia25vY2tvdXRcIik6dC5rbyk7Zm9yKHZhciByIGluIG4pKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6dClbcl09bltyXX19KHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obil7aWYoZVtuXSlyZXR1cm4gZVtuXS5leHBvcnRzO3ZhciByPWVbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W25dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLHIubD0hMCxyLmV4cG9ydHN9dmFyIGU9e307cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ubT10LF9fd2VicGFja19yZXF1aXJlX18uYz1lLF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbih0LGUsbil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpufSl9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKGUsXCJhXCIsZSksZX0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCIuL1wiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTM4KX0oW2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIwKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixhPXJ8fG98fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlKXt2YXIgbj1BcnJheS5pc0FycmF5O3QuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZ2V0TmF0aXZlKHQsZSl7dmFyIG49byh0LGUpO3JldHVybiByKG4pP246dm9pZCAwfXZhciByPW4oNzkpLG89big4Mik7dC5leHBvcnRzPWdldE5hdGl2ZX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpc09iamVjdCh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gbnVsbCE9dCYmKFwib2JqZWN0XCI9PWV8fFwiZnVuY3Rpb25cIj09ZSl9dC5leHBvcnRzPWlzT2JqZWN0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUdldFRhZyh0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA9PT10P3U6aTpzJiZzIGluIE9iamVjdCh0KT9vKHQpOmEodCl9dmFyIHI9big4KSxvPW4oNDYpLGE9big0NyksaT1cIltvYmplY3QgTnVsbF1cIix1PVwiW29iamVjdCBVbmRlZmluZWRdXCIscz1yP3IudG9TdHJpbmdUYWc6dm9pZCAwO3QuZXhwb3J0cz1iYXNlR2V0VGFnfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGlzT2JqZWN0TGlrZSh0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9dC5leHBvcnRzPWlzT2JqZWN0TGlrZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGlzU3ltYm9sKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fHxvKHQpJiZyKHQpPT1hfXZhciByPW4oNSksbz1uKDYpLGE9XCJbb2JqZWN0IFN5bWJvbF1cIjt0LmV4cG9ydHM9aXNTeW1ib2x9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApLG89ci5TeW1ib2w7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBMaXN0Q2FjaGUodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19dmFyIHI9big2OSksbz1uKDcwKSxhPW4oNzEpLGk9big3MiksdT1uKDczKTtMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyPXIsTGlzdENhY2hlLnByb3RvdHlwZS5kZWxldGU9byxMaXN0Q2FjaGUucHJvdG90eXBlLmdldD1hLExpc3RDYWNoZS5wcm90b3R5cGUuaGFzPWksTGlzdENhY2hlLnByb3RvdHlwZS5zZXQ9dSx0LmV4cG9ydHM9TGlzdENhY2hlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYXNzb2NJbmRleE9mKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspaWYocih0W25dWzBdLGUpKXJldHVybiBuO3JldHVybi0xfXZhciByPW4oMzApO3QuZXhwb3J0cz1hc3NvY0luZGV4T2Z9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89cihPYmplY3QsXCJjcmVhdGVcIik7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBnZXRNYXBEYXRhKHQsZSl7dmFyIG49dC5fX2RhdGFfXztyZXR1cm4gcihlKT9uW1wic3RyaW5nXCI9PXR5cGVvZiBlP1wic3RyaW5nXCI6XCJoYXNoXCJdOm4ubWFwfXZhciByPW4oOTEpO3QuZXhwb3J0cz1nZXRNYXBEYXRhfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gdG9LZXkodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fHIodCkpcmV0dXJuIHQ7dmFyIGU9dCtcIlwiO3JldHVyblwiMFwiPT1lJiYxL3Q9PS1vP1wiLTBcIjplfXZhciByPW4oNyksbz0xLzA7dC5leHBvcnRzPXRvS2V5fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24ga2V5cyh0KXtyZXR1cm4gYSh0KT9yKHQpOm8odCl9dmFyIHI9big1NCksbz1uKDYxKSxhPW4oMjcpO3QuZXhwb3J0cz1rZXlzfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGlzTGVuZ3RoKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pi0xJiZ0JTE9PTAmJnQ8PW59dmFyIG49OTAwNzE5OTI1NDc0MDk5MTt0LmV4cG9ydHM9aXNMZW5ndGh9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89bigwKSxhPXIobyxcIk1hcFwiKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIE1hcENhY2hlKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgcj10W2VdO3RoaXMuc2V0KHJbMF0sclsxXSl9fXZhciByPW4oODMpLG89big5MCksYT1uKDkyKSxpPW4oOTMpLHU9big5NCk7TWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyPXIsTWFwQ2FjaGUucHJvdG90eXBlLmRlbGV0ZT1vLE1hcENhY2hlLnByb3RvdHlwZS5nZXQ9YSxNYXBDYWNoZS5wcm90b3R5cGUuaGFzPWksTWFwQ2FjaGUucHJvdG90eXBlLnNldD11LHQuZXhwb3J0cz1NYXBDYWNoZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGlzS2V5KHQsZSl7aWYocih0KSlyZXR1cm4hMTt2YXIgbj10eXBlb2YgdDtyZXR1cm4hKFwibnVtYmVyXCIhPW4mJlwic3ltYm9sXCIhPW4mJlwiYm9vbGVhblwiIT1uJiZudWxsIT10JiYhbyh0KSl8fChpLnRlc3QodCl8fCFhLnRlc3QodCl8fG51bGwhPWUmJnQgaW4gT2JqZWN0KGUpKX12YXIgcj1uKDIpLG89big3KSxhPS9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8saT0vXlxcdyokLzt0LmV4cG9ydHM9aXNLZXl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDQyKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQociksYT1uKDQ4KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksdT17ZGVib3VuY2U6by5kZWZhdWx0LGZpbHRlcjppLmRlZmF1bHR9O2UuZGVmYXVsdD11fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmV4cG9ydHM9bn0pLmNhbGwoZSxuKDQ0KSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYXJyYXlGaWx0ZXIodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGgsbz0wLGE9W107KytuPHI7KXt2YXIgaT10W25dO2UoaSxuLHQpJiYoYVtvKytdPWkpfXJldHVybiBhfXQuZXhwb3J0cz1hcnJheUZpbHRlcn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTYpLG89big2KSxhPU9iamVjdC5wcm90b3R5cGUsaT1hLmhhc093blByb3BlcnR5LHU9YS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxzPXIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKT9yOmZ1bmN0aW9uKHQpe3JldHVybiBvKHQpJiZpLmNhbGwodCxcImNhbGxlZVwiKSYmIXUuY2FsbCh0LFwiY2FsbGVlXCIpfTt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXt2YXIgcj1uKDApLG89big1NyksYT1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmIWUubm9kZVR5cGUmJmUsaT1hJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmIXQubm9kZVR5cGUmJnQsdT1pJiZpLmV4cG9ydHM9PT1hLHM9dT9yLkJ1ZmZlcjp2b2lkIDAsYz1zP3MuaXNCdWZmZXI6dm9pZCAwLGY9Y3x8bzt0LmV4cG9ydHM9Zn0pLmNhbGwoZSxuKDI0KSh0KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LndlYnBhY2tQb2x5ZmlsbHx8KHQuZGVwcmVjYXRlPWZ1bmN0aW9uKCl7fSx0LnBhdGhzPVtdLHQuY2hpbGRyZW58fCh0LmNoaWxkcmVuPVtdKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImxvYWRlZFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0Lmx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJpZFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0Lml9fSksdC53ZWJwYWNrUG9seWZpbGw9MSksdH19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaXNJbmRleCh0LGUpe3JldHVybiEhKGU9bnVsbD09ZT9uOmUpJiYoXCJudW1iZXJcIj09dHlwZW9mIHR8fHIudGVzdCh0KSkmJnQ+LTEmJnQlMT09MCYmdDxlfXZhciBuPTkwMDcxOTkyNTQ3NDA5OTEscj0vXig/OjB8WzEtOV1cXGQqKSQvO3QuZXhwb3J0cz1pc0luZGV4fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1OCksbz1uKDU5KSxhPW4oNjApLGk9YSYmYS5pc1R5cGVkQXJyYXksdT1pP28oaSk6cjt0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGlzQXJyYXlMaWtlKHQpe3JldHVybiBudWxsIT10JiZvKHQubGVuZ3RoKSYmIXIodCl9dmFyIHI9bigyOCksbz1uKDE1KTt0LmV4cG9ydHM9aXNBcnJheUxpa2V9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpc0Z1bmN0aW9uKHQpe2lmKCFvKHQpKXJldHVybiExO3ZhciBlPXIodCk7cmV0dXJuIGU9PWl8fGU9PXV8fGU9PWF8fGU9PXN9dmFyIHI9big1KSxvPW4oNCksYT1cIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIixpPVwiW29iamVjdCBGdW5jdGlvbl1cIix1PVwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIixzPVwiW29iamVjdCBQcm94eV1cIjt0LmV4cG9ydHM9aXNGdW5jdGlvbn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIFN0YWNrKHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IHIodCk7dGhpcy5zaXplPWUuc2l6ZX12YXIgcj1uKDkpLG89big3NCksYT1uKDc1KSxpPW4oNzYpLHU9big3Nykscz1uKDc4KTtTdGFjay5wcm90b3R5cGUuY2xlYXI9byxTdGFjay5wcm90b3R5cGUuZGVsZXRlPWEsU3RhY2sucHJvdG90eXBlLmdldD1pLFN0YWNrLnByb3RvdHlwZS5oYXM9dSxTdGFjay5wcm90b3R5cGUuc2V0PXMsdC5leHBvcnRzPVN0YWNrfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGVxKHQsZSl7cmV0dXJuIHQ9PT1lfHx0IT09dCYmZSE9PWV9dC5leHBvcnRzPWVxfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHRvU291cmNlKHQpe2lmKG51bGwhPXQpe3RyeXtyZXR1cm4gci5jYWxsKHQpfWNhdGNoKHQpe310cnl7cmV0dXJuIHQrXCJcIn1jYXRjaCh0KXt9fXJldHVyblwiXCJ9dmFyIG49RnVuY3Rpb24ucHJvdG90eXBlLHI9bi50b1N0cmluZzt0LmV4cG9ydHM9dG9Tb3VyY2V9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlSXNFcXVhbCh0LGUsbixhLGkpe3JldHVybiB0PT09ZXx8KG51bGw9PXR8fG51bGw9PWV8fCFvKHQpJiYhbyhlKT90IT09dCYmZSE9PWU6cih0LGUsbixhLGJhc2VJc0VxdWFsLGkpKX12YXIgcj1uKDk1KSxvPW4oNik7dC5leHBvcnRzPWJhc2VJc0VxdWFsfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZXF1YWxBcnJheXModCxlLG4scyxjLGYpe3ZhciBsPW4maSxwPXQubGVuZ3RoLGQ9ZS5sZW5ndGg7aWYocCE9ZCYmIShsJiZkPnApKXJldHVybiExO3ZhciB2PWYuZ2V0KHQpO2lmKHYmJmYuZ2V0KGUpKXJldHVybiB2PT1lO3ZhciBoPS0xLGI9ITAseT1uJnU/bmV3IHI6dm9pZCAwO2ZvcihmLnNldCh0LGUpLGYuc2V0KGUsdCk7KytoPHA7KXt2YXIgXz10W2hdLGc9ZVtoXTtpZihzKXZhciBtPWw/cyhnLF8saCxlLHQsZik6cyhfLGcsaCx0LGUsZik7aWYodm9pZCAwIT09bSl7aWYobSljb250aW51ZTtiPSExO2JyZWFrfWlmKHkpe2lmKCFvKGUsZnVuY3Rpb24odCxlKXtpZighYSh5LGUpJiYoXz09PXR8fGMoXyx0LG4scyxmKSkpcmV0dXJuIHkucHVzaChlKX0pKXtiPSExO2JyZWFrfX1lbHNlIGlmKF8hPT1nJiYhYyhfLGcsbixzLGYpKXtiPSExO2JyZWFrfX1yZXR1cm4gZi5kZWxldGUodCksZi5kZWxldGUoZSksYn12YXIgcj1uKDk2KSxvPW4oOTkpLGE9bigxMDApLGk9MSx1PTI7dC5leHBvcnRzPWVxdWFsQXJyYXlzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHQpe3JldHVybiB0PT09dCYmIXIodCl9dmFyIHI9big0KTt0LmV4cG9ydHM9aXNTdHJpY3RDb21wYXJhYmxlfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiYoblt0XT09PWUmJih2b2lkIDAhPT1lfHx0IGluIE9iamVjdChuKSkpfX10LmV4cG9ydHM9bWF0Y2hlc1N0cmljdENvbXBhcmFibGV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlR2V0KHQsZSl7ZT1yKGUsdCk7Zm9yKHZhciBuPTAsYT1lLmxlbmd0aDtudWxsIT10JiZuPGE7KXQ9dFtvKGVbbisrXSldO3JldHVybiBuJiZuPT1hP3Q6dm9pZCAwfXZhciByPW4oMzcpLG89bigxMyk7dC5leHBvcnRzPWJhc2VHZXR9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBjYXN0UGF0aCh0LGUpe3JldHVybiByKHQpP3Q6byh0LGUpP1t0XTphKGkodCkpfXZhciByPW4oMiksbz1uKDE4KSxhPW4oMTE5KSxpPW4oMTIyKTt0LmV4cG9ydHM9Y2FzdFBhdGh9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigzOSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldEN1c3RvbVZhbHVlPWUuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9dm9pZCAwO3ZhciByPW4oNDApO2UuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9ci5nZXRDcm9zc1RlbmFudEN1c3RvbUNvbmZpZyxlLmdldEN1c3RvbVZhbHVlPXIuZ2V0Q3VzdG9tVmFsdWV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldEN1c3RvbVZhbHVlPWUuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9dm9pZCAwLG4oNDEpLG4oMTMyKSxuKDEzMyksbigxMzQpLG4oMTM1KSxuKDEzNiksbigxMzcpLG4oMTM4KTt2YXIgcj1uKDEzOSk7ZS5nZXRDcm9zc1RlbmFudEN1c3RvbUNvbmZpZz1yLmdldENyb3NzVGVuYW50Q3VzdG9tQ29uZmlnLGUuZ2V0Q3VzdG9tVmFsdWU9ci5nZXRDdXN0b21WYWx1ZX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciByPW4oMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHIpLGE9bigxOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpO28uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMucmVwZWF0Q2xpY2s9e2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj0hMCxyPWkuZGVmYXVsdC5kZWJvdW5jZShmdW5jdGlvbih0LGUpe24mJihlKHQpLG49ITEsc2V0VGltZW91dChmdW5jdGlvbigpe249ITB9LDI1MDApKX0sMzAwKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3IodCxlKCkpfSl9fSxvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLnJlcGVhdFN1Ym1pdD17aW5pdDpmdW5jdGlvbih0LGUpe3ZhciBuPSEwLHI9aS5kZWZhdWx0LmRlYm91bmNlKGZ1bmN0aW9uKHQsZSl7biYmKGUodCksbj0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj0hMH0sMjUwMCkpfSwzMDApO3QuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLGZ1bmN0aW9uKHQpe3JldHVybiByKHQsZSgpKSx0LnByZXZlbnREZWZhdWx0KCksITF9KX19fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZGVib3VuY2UodCxlLG4pe2Z1bmN0aW9uIGludm9rZUZ1bmMoZSl7dmFyIG49YyxyPWY7cmV0dXJuIGM9Zj12b2lkIDAsaD1lLHA9dC5hcHBseShyLG4pfWZ1bmN0aW9uIGxlYWRpbmdFZGdlKHQpe3JldHVybiBoPXQsZD1zZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCxlKSxiP2ludm9rZUZ1bmModCk6cH1mdW5jdGlvbiByZW1haW5pbmdXYWl0KHQpe3ZhciBuPXQtdixyPXQtaCxvPWUtbjtyZXR1cm4geT9zKG8sbC1yKTpvfWZ1bmN0aW9uIHNob3VsZEludm9rZSh0KXt2YXIgbj10LXYscj10LWg7cmV0dXJuIHZvaWQgMD09PXZ8fG4+PWV8fG48MHx8eSYmcj49bH1mdW5jdGlvbiB0aW1lckV4cGlyZWQoKXt2YXIgdD1vKCk7aWYoc2hvdWxkSW52b2tlKHQpKXJldHVybiB0cmFpbGluZ0VkZ2UodCk7ZD1zZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCxyZW1haW5pbmdXYWl0KHQpKX1mdW5jdGlvbiB0cmFpbGluZ0VkZ2UodCl7cmV0dXJuIGQ9dm9pZCAwLF8mJmM/aW52b2tlRnVuYyh0KTooYz1mPXZvaWQgMCxwKX1mdW5jdGlvbiBjYW5jZWwoKXt2b2lkIDAhPT1kJiZjbGVhclRpbWVvdXQoZCksaD0wLGM9dj1mPWQ9dm9pZCAwfWZ1bmN0aW9uIGZsdXNoKCl7cmV0dXJuIHZvaWQgMD09PWQ/cDp0cmFpbGluZ0VkZ2UobygpKX1mdW5jdGlvbiBkZWJvdW5jZWQoKXt2YXIgdD1vKCksbj1zaG91bGRJbnZva2UodCk7aWYoYz1hcmd1bWVudHMsZj10aGlzLHY9dCxuKXtpZih2b2lkIDA9PT1kKXJldHVybiBsZWFkaW5nRWRnZSh2KTtpZih5KXJldHVybiBkPXNldFRpbWVvdXQodGltZXJFeHBpcmVkLGUpLGludm9rZUZ1bmModil9cmV0dXJuIHZvaWQgMD09PWQmJihkPXNldFRpbWVvdXQodGltZXJFeHBpcmVkLGUpKSxwfXZhciBjLGYsbCxwLGQsdixoPTAsYj0hMSx5PSExLF89ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKGkpO3JldHVybiBlPWEoZSl8fDAscihuKSYmKGI9ISFuLmxlYWRpbmcseT1cIm1heFdhaXRcImluIG4sbD15P3UoYShuLm1heFdhaXQpfHwwLGUpOmwsXz1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpfKSxkZWJvdW5jZWQuY2FuY2VsPWNhbmNlbCxkZWJvdW5jZWQuZmx1c2g9Zmx1c2gsZGVib3VuY2VkfXZhciByPW4oNCksbz1uKDQzKSxhPW4oNDUpLGk9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsdT1NYXRoLm1heCxzPU1hdGgubWluO3QuZXhwb3J0cz1kZWJvdW5jZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksbz1mdW5jdGlvbigpe3JldHVybiByLkRhdGUubm93KCl9O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgwLGV2YWwpKFwidGhpc1wiKX1jYXRjaCh0KXtcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gdG9OdW1iZXIodCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYobyh0KSlyZXR1cm4gYTtpZihyKHQpKXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnZhbHVlT2Y/dC52YWx1ZU9mKCk6dDt0PXIoZSk/ZStcIlwiOmV9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIDA9PT10P3Q6K3Q7dD10LnJlcGxhY2UoaSxcIlwiKTt2YXIgbj1zLnRlc3QodCk7cmV0dXJuIG58fGMudGVzdCh0KT9mKHQuc2xpY2UoMiksbj8yOjgpOnUudGVzdCh0KT9hOit0fXZhciByPW4oNCksbz1uKDcpLGE9TmFOLGk9L15cXHMrfFxccyskL2csdT0vXlstK10weFswLTlhLWZdKyQvaSxzPS9eMGJbMDFdKyQvaSxjPS9eMG9bMC03XSskL2ksZj1wYXJzZUludDt0LmV4cG9ydHM9dG9OdW1iZXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBnZXRSYXdUYWcodCl7dmFyIGU9YS5jYWxsKHQsdSksbj10W3VdO3RyeXt0W3VdPXZvaWQgMDt2YXIgcj0hMH1jYXRjaCh0KXt9dmFyIG89aS5jYWxsKHQpO3JldHVybiByJiYoZT90W3VdPW46ZGVsZXRlIHRbdV0pLG99dmFyIHI9big4KSxvPU9iamVjdC5wcm90b3R5cGUsYT1vLmhhc093blByb3BlcnR5LGk9by50b1N0cmluZyx1PXI/ci50b1N0cmluZ1RhZzp2b2lkIDA7dC5leHBvcnRzPWdldFJhd1RhZ30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh0KXtyZXR1cm4gci5jYWxsKHQpfXZhciBuPU9iamVjdC5wcm90b3R5cGUscj1uLnRvU3RyaW5nO3QuZXhwb3J0cz1vYmplY3RUb1N0cmluZ30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGZpbHRlcih0LGUpe3JldHVybihpKHQpP3I6bykodCxhKGUsMykpfXZhciByPW4oMjEpLG89big0OSksYT1uKDY2KSxpPW4oMik7dC5leHBvcnRzPWZpbHRlcn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VGaWx0ZXIodCxlKXt2YXIgbj1bXTtyZXR1cm4gcih0LGZ1bmN0aW9uKHQscixvKXtlKHQscixvKSYmbi5wdXNoKHQpfSksbn12YXIgcj1uKDUwKTt0LmV4cG9ydHM9YmFzZUZpbHRlcn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTEpLG89big2NSksYT1vKHIpO3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUZvck93bih0LGUpe3JldHVybiB0JiZyKHQsZSxvKX12YXIgcj1uKDUyKSxvPW4oMTQpO3QuZXhwb3J0cz1iYXNlRm9yT3dufSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1Myksbz1yKCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gY3JlYXRlQmFzZUZvcih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2Zvcih2YXIgbz0tMSxhPU9iamVjdChlKSxpPXIoZSksdT1pLmxlbmd0aDt1LS07KXt2YXIgcz1pW3Q/dTorK29dO2lmKCExPT09bihhW3NdLHMsYSkpYnJlYWt9cmV0dXJuIGV9fXQuZXhwb3J0cz1jcmVhdGVCYXNlRm9yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh0LGUpe3ZhciBuPWEodCksYz0hbiYmbyh0KSxsPSFuJiYhYyYmaSh0KSxwPSFuJiYhYyYmIWwmJnModCksZD1ufHxjfHxsfHxwLHY9ZD9yKHQubGVuZ3RoLFN0cmluZyk6W10saD12Lmxlbmd0aDtmb3IodmFyIGIgaW4gdCkhZSYmIWYuY2FsbCh0LGIpfHxkJiYoXCJsZW5ndGhcIj09Ynx8bCYmKFwib2Zmc2V0XCI9PWJ8fFwicGFyZW50XCI9PWIpfHxwJiYoXCJidWZmZXJcIj09Ynx8XCJieXRlTGVuZ3RoXCI9PWJ8fFwiYnl0ZU9mZnNldFwiPT1iKXx8dShiLGgpKXx8di5wdXNoKGIpO3JldHVybiB2fXZhciByPW4oNTUpLG89bigyMiksYT1uKDIpLGk9bigyMyksdT1uKDI1KSxzPW4oMjYpLGM9T2JqZWN0LnByb3RvdHlwZSxmPWMuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWFycmF5TGlrZUtleXN9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYmFzZVRpbWVzKHQsZSl7Zm9yKHZhciBuPS0xLHI9QXJyYXkodCk7KytuPHQ7KXJbbl09ZShuKTtyZXR1cm4gcn10LmV4cG9ydHM9YmFzZVRpbWVzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHQpe3JldHVybiBvKHQpJiZyKHQpPT1hfXZhciByPW4oNSksbz1uKDYpLGE9XCJbb2JqZWN0IEFyZ3VtZW50c11cIjt0LmV4cG9ydHM9YmFzZUlzQXJndW1lbnRzfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHN0dWJGYWxzZSgpe3JldHVybiExfXQuZXhwb3J0cz1zdHViRmFsc2V9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHQpe3JldHVybiBhKHQpJiZvKHQubGVuZ3RoKSYmISFpW3IodCldfXZhciByPW4oNSksbz1uKDE1KSxhPW4oNiksaT17fTtpW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPWlbXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl09aVtcIltvYmplY3QgSW50OEFycmF5XVwiXT1pW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1pW1wiW29iamVjdCBJbnQzMkFycmF5XVwiXT1pW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1pW1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09aVtcIltvYmplY3QgVWludDE2QXJyYXldXCJdPWlbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxpW1wiW29iamVjdCBBcmd1bWVudHNdXCJdPWlbXCJbb2JqZWN0IEFycmF5XVwiXT1pW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09aVtcIltvYmplY3QgQm9vbGVhbl1cIl09aVtcIltvYmplY3QgRGF0YVZpZXddXCJdPWlbXCJbb2JqZWN0IERhdGVdXCJdPWlbXCJbb2JqZWN0IEVycm9yXVwiXT1pW1wiW29iamVjdCBGdW5jdGlvbl1cIl09aVtcIltvYmplY3QgTWFwXVwiXT1pW1wiW29iamVjdCBOdW1iZXJdXCJdPWlbXCJbb2JqZWN0IE9iamVjdF1cIl09aVtcIltvYmplY3QgUmVnRXhwXVwiXT1pW1wiW29iamVjdCBTZXRdXCJdPWlbXCJbb2JqZWN0IFN0cmluZ11cIl09aVtcIltvYmplY3QgV2Vha01hcF1cIl09ITEsdC5leHBvcnRzPWJhc2VJc1R5cGVkQXJyYXl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYmFzZVVuYXJ5KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChlKX19dC5leHBvcnRzPWJhc2VVbmFyeX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXt2YXIgcj1uKDIwKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiYhZS5ub2RlVHlwZSYmZSxhPW8mJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiYhdC5ub2RlVHlwZSYmdCxpPWEmJmEuZXhwb3J0cz09PW8sdT1pJiZyLnByb2Nlc3Mscz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdSYmdS5iaW5kaW5nJiZ1LmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKHQpe319KCk7dC5leHBvcnRzPXN9KS5jYWxsKGUsbigyNCkodCkpfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUtleXModCl7aWYoIXIodCkpcmV0dXJuIG8odCk7dmFyIGU9W107Zm9yKHZhciBuIGluIE9iamVjdCh0KSlpLmNhbGwodCxuKSYmXCJjb25zdHJ1Y3RvclwiIT1uJiZlLnB1c2gobik7cmV0dXJuIGV9dmFyIHI9big2Miksbz1uKDYzKSxhPU9iamVjdC5wcm90b3R5cGUsaT1hLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1iYXNlS2V5c30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpc1Byb3RvdHlwZSh0KXt2YXIgZT10JiZ0LmNvbnN0cnVjdG9yO3JldHVybiB0PT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUucHJvdG90eXBlfHxuKX12YXIgbj1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1pc1Byb3RvdHlwZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjQpLG89cihPYmplY3Qua2V5cyxPYmplY3QpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG92ZXJBcmcodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSl9fXQuZXhwb3J0cz1vdmVyQXJnfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2godCxlKXtyZXR1cm4gZnVuY3Rpb24obixvKXtpZihudWxsPT1uKXJldHVybiBuO2lmKCFyKG4pKXJldHVybiB0KG4sbyk7Zm9yKHZhciBhPW4ubGVuZ3RoLGk9ZT9hOi0xLHU9T2JqZWN0KG4pOyhlP2ktLTorK2k8YSkmJiExIT09byh1W2ldLGksdSk7KTtyZXR1cm4gbn19dmFyIHI9bigyNyk7dC5leHBvcnRzPWNyZWF0ZUJhc2VFYWNofSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsPT10P2E6XCJvYmplY3RcIj09dHlwZW9mIHQ/aSh0KT9vKHRbMF0sdFsxXSk6cih0KTp1KHQpfXZhciByPW4oNjcpLG89bigxMTcpLGE9bigxMjgpLGk9bigyKSx1PW4oMTI5KTt0LmV4cG9ydHM9YmFzZUl0ZXJhdGVlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZU1hdGNoZXModCl7dmFyIGU9byh0KTtyZXR1cm4gMT09ZS5sZW5ndGgmJmVbMF1bMl0/YShlWzBdWzBdLGVbMF1bMV0pOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dHx8cihuLHQsZSl9fXZhciByPW4oNjgpLG89bigxMTYpLGE9bigzNSk7dC5leHBvcnRzPWJhc2VNYXRjaGVzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUlzTWF0Y2godCxlLG4sdSl7dmFyIHM9bi5sZW5ndGgsYz1zLGY9IXU7aWYobnVsbD09dClyZXR1cm4hYztmb3IodD1PYmplY3QodCk7cy0tOyl7dmFyIGw9bltzXTtpZihmJiZsWzJdP2xbMV0hPT10W2xbMF1dOiEobFswXWluIHQpKXJldHVybiExfWZvcig7KytzPGM7KXtsPW5bc107dmFyIHA9bFswXSxkPXRbcF0sdj1sWzFdO2lmKGYmJmxbMl0pe2lmKHZvaWQgMD09PWQmJiEocCBpbiB0KSlyZXR1cm4hMX1lbHNle3ZhciBoPW5ldyByO2lmKHUpdmFyIGI9dShkLHYscCx0LGUsaCk7aWYoISh2b2lkIDA9PT1iP28odixkLGF8aSx1LGgpOmIpKXJldHVybiExfX1yZXR1cm4hMH12YXIgcj1uKDI5KSxvPW4oMzIpLGE9MSxpPTI7dC5leHBvcnRzPWJhc2VJc01hdGNofSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH10LmV4cG9ydHM9bGlzdENhY2hlQ2xlYXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUodCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPXIoZSx0KTtyZXR1cm4hKG48MCkmJihuPT1lLmxlbmd0aC0xP2UucG9wKCk6YS5jYWxsKGUsbiwxKSwtLXRoaXMuc2l6ZSwhMCl9dmFyIHI9bigxMCksbz1BcnJheS5wcm90b3R5cGUsYT1vLnNwbGljZTt0LmV4cG9ydHM9bGlzdENhY2hlRGVsZXRlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbGlzdENhY2hlR2V0KHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1yKGUsdCk7cmV0dXJuIG48MD92b2lkIDA6ZVtuXVsxXX12YXIgcj1uKDEwKTt0LmV4cG9ydHM9bGlzdENhY2hlR2V0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbGlzdENhY2hlSGFzKHQpe3JldHVybiByKHRoaXMuX19kYXRhX18sdCk+LTF9dmFyIHI9bigxMCk7dC5leHBvcnRzPWxpc3RDYWNoZUhhc30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGxpc3RDYWNoZVNldCh0LGUpe3ZhciBuPXRoaXMuX19kYXRhX18sbz1yKG4sdCk7cmV0dXJuIG88MD8oKyt0aGlzLnNpemUsbi5wdXNoKFt0LGVdKSk6bltvXVsxXT1lLHRoaXN9dmFyIHI9bigxMCk7dC5leHBvcnRzPWxpc3RDYWNoZVNldH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHN0YWNrQ2xlYXIoKXt0aGlzLl9fZGF0YV9fPW5ldyByLHRoaXMuc2l6ZT0wfXZhciByPW4oOSk7dC5leHBvcnRzPXN0YWNrQ2xlYXJ9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc3RhY2tEZWxldGUodCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPWUuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemU9ZS5zaXplLG59dC5leHBvcnRzPXN0YWNrRGVsZXRlfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHN0YWNrR2V0KHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldCh0KX10LmV4cG9ydHM9c3RhY2tHZXR9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc3RhY2tIYXModCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfXQuZXhwb3J0cz1zdGFja0hhc30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHN0YWNrU2V0KHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXztpZihuIGluc3RhbmNlb2Ygcil7dmFyIHU9bi5fX2RhdGFfXztpZighb3x8dS5sZW5ndGg8aS0xKXJldHVybiB1LnB1c2goW3QsZV0pLHRoaXMuc2l6ZT0rK24uc2l6ZSx0aGlzO249dGhpcy5fX2RhdGFfXz1uZXcgYSh1KX1yZXR1cm4gbi5zZXQodCxlKSx0aGlzLnNpemU9bi5zaXplLHRoaXN9dmFyIHI9big5KSxvPW4oMTYpLGE9bigxNyksaT0yMDA7dC5leHBvcnRzPXN0YWNrU2V0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHQpe3JldHVybiEoIWEodCl8fG8odCkpJiYocih0KT9kOnMpLnRlc3QoaSh0KSl9dmFyIHI9bigyOCksbz1uKDgwKSxhPW4oNCksaT1uKDMxKSx1PS9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxzPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sYz1GdW5jdGlvbi5wcm90b3R5cGUsZj1PYmplY3QucHJvdG90eXBlLGw9Yy50b1N0cmluZyxwPWYuaGFzT3duUHJvcGVydHksZD1SZWdFeHAoXCJeXCIrbC5jYWxsKHApLnJlcGxhY2UodSxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpO3QuZXhwb3J0cz1iYXNlSXNOYXRpdmV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpc01hc2tlZCh0KXtyZXR1cm4hIW8mJm8gaW4gdH12YXIgcj1uKDgxKSxvPWZ1bmN0aW9uKCl7dmFyIHQ9L1teLl0rJC8uZXhlYyhyJiZyLmtleXMmJnIua2V5cy5JRV9QUk9UT3x8XCJcIik7cmV0dXJuIHQ/XCJTeW1ib2woc3JjKV8xLlwiK3Q6XCJcIn0oKTt0LmV4cG9ydHM9aXNNYXNrZWR9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApLG89cltcIl9fY29yZS1qc19zaGFyZWRfX1wiXTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBnZXRWYWx1ZSh0LGUpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfXQuZXhwb3J0cz1nZXRWYWx1ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyByLG1hcDpuZXcoYXx8byksc3RyaW5nOm5ldyByfX12YXIgcj1uKDg0KSxvPW4oOSksYT1uKDE2KTt0LmV4cG9ydHM9bWFwQ2FjaGVDbGVhcn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIEhhc2godCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19dmFyIHI9big4NSksbz1uKDg2KSxhPW4oODcpLGk9big4OCksdT1uKDg5KTtIYXNoLnByb3RvdHlwZS5jbGVhcj1yLEhhc2gucHJvdG90eXBlLmRlbGV0ZT1vLEhhc2gucHJvdG90eXBlLmdldD1hLEhhc2gucHJvdG90eXBlLmhhcz1pLEhhc2gucHJvdG90eXBlLnNldD11LHQuZXhwb3J0cz1IYXNofSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzaENsZWFyKCl7dGhpcy5fX2RhdGFfXz1yP3IobnVsbCk6e30sdGhpcy5zaXplPTB9dmFyIHI9bigxMSk7dC5leHBvcnRzPWhhc2hDbGVhcn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBoYXNoRGVsZXRlKHQpe3ZhciBlPXRoaXMuaGFzKHQpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1t0XTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfXQuZXhwb3J0cz1oYXNoRGVsZXRlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzaEdldCh0KXt2YXIgZT10aGlzLl9fZGF0YV9fO2lmKHIpe3ZhciBuPWVbdF07cmV0dXJuIG49PT1vP3ZvaWQgMDpufXJldHVybiBpLmNhbGwoZSx0KT9lW3RdOnZvaWQgMH12YXIgcj1uKDExKSxvPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiLGE9T2JqZWN0LnByb3RvdHlwZSxpPWEuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWhhc2hHZXR9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBoYXNoSGFzKHQpe3ZhciBlPXRoaXMuX19kYXRhX187cmV0dXJuIHI/dm9pZCAwIT09ZVt0XTphLmNhbGwoZSx0KX12YXIgcj1uKDExKSxvPU9iamVjdC5wcm90b3R5cGUsYT1vLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1oYXNoSGFzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzaFNldCh0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHRoaXMuc2l6ZSs9dGhpcy5oYXModCk/MDoxLG5bdF09ciYmdm9pZCAwPT09ZT9vOmUsdGhpc312YXIgcj1uKDExKSxvPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiO3QuZXhwb3J0cz1oYXNoU2V0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUodCl7dmFyIGU9cih0aGlzLHQpLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZURlbGV0ZX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpc0tleWFibGUodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJzdHJpbmdcIj09ZXx8XCJudW1iZXJcIj09ZXx8XCJzeW1ib2xcIj09ZXx8XCJib29sZWFuXCI9PWU/XCJfX3Byb3RvX19cIiE9PXQ6bnVsbD09PXR9dC5leHBvcnRzPWlzS2V5YWJsZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlR2V0KHQpe3JldHVybiByKHRoaXMsdCkuZ2V0KHQpfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZUdldH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlSGFzKHQpe3JldHVybiByKHRoaXMsdCkuaGFzKHQpfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZUhhc30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlU2V0KHQsZSl7dmFyIG49cih0aGlzLHQpLG89bi5zaXplO3JldHVybiBuLnNldCh0LGUpLHRoaXMuc2l6ZSs9bi5zaXplPT1vPzA6MSx0aGlzfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZVNldH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcCh0LGUsbixoLHksXyl7dmFyIGc9cyh0KSxtPXMoZSkseD1nP2Q6dSh0KSxDPW0/ZDp1KGUpO3g9eD09cD92OngsQz1DPT1wP3Y6Qzt2YXIgaj14PT12LHc9Qz09dixUPXg9PUM7aWYoVCYmYyh0KSl7aWYoIWMoZSkpcmV0dXJuITE7Zz0hMCxqPSExfWlmKFQmJiFqKXJldHVybiBffHwoXz1uZXcgciksZ3x8Zih0KT9vKHQsZSxuLGgseSxfKTphKHQsZSx4LG4saCx5LF8pO2lmKCEobiZsKSl7dmFyIE89aiYmYi5jYWxsKHQsXCJfX3dyYXBwZWRfX1wiKSxrPXcmJmIuY2FsbChlLFwiX193cmFwcGVkX19cIik7aWYoT3x8ayl7dmFyIFM9Tz90LnZhbHVlKCk6dCxJPWs/ZS52YWx1ZSgpOmU7cmV0dXJuIF98fChfPW5ldyByKSx5KFMsSSxuLGgsXyl9fXJldHVybiEhVCYmKF98fChfPW5ldyByKSxpKHQsZSxuLGgseSxfKSl9dmFyIHI9bigyOSksbz1uKDMzKSxhPW4oMTAxKSxpPW4oMTA1KSx1PW4oMTExKSxzPW4oMiksYz1uKDIzKSxmPW4oMjYpLGw9MSxwPVwiW29iamVjdCBBcmd1bWVudHNdXCIsZD1cIltvYmplY3QgQXJyYXldXCIsdj1cIltvYmplY3QgT2JqZWN0XVwiLGg9T2JqZWN0LnByb3RvdHlwZSxiPWguaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWJhc2VJc0VxdWFsRGVlcH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIFNldENhY2hlKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLl9fZGF0YV9fPW5ldyByOysrZTxuOyl0aGlzLmFkZCh0W2VdKX12YXIgcj1uKDE3KSxvPW4oOTcpLGE9big5OCk7U2V0Q2FjaGUucHJvdG90eXBlLmFkZD1TZXRDYWNoZS5wcm90b3R5cGUucHVzaD1vLFNldENhY2hlLnByb3RvdHlwZS5oYXM9YSx0LmV4cG9ydHM9U2V0Q2FjaGV9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc2V0Q2FjaGVBZGQodCl7cmV0dXJuIHRoaXMuX19kYXRhX18uc2V0KHQsbiksdGhpc312YXIgbj1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIjt0LmV4cG9ydHM9c2V0Q2FjaGVBZGR9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc2V0Q2FjaGVIYXModCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfXQuZXhwb3J0cz1zZXRDYWNoZUhhc30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBhcnJheVNvbWUodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGg7KytuPHI7KWlmKGUodFtuXSxuLHQpKXJldHVybiEwO3JldHVybiExfXQuZXhwb3J0cz1hcnJheVNvbWV9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gY2FjaGVIYXModCxlKXtyZXR1cm4gdC5oYXMoZSl9dC5leHBvcnRzPWNhY2hlSGFzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZXF1YWxCeVRhZyh0LGUsbixyLEMsdyxUKXtzd2l0Y2gobil7Y2FzZSB4OmlmKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHx0LmJ5dGVPZmZzZXQhPWUuYnl0ZU9mZnNldClyZXR1cm4hMTt0PXQuYnVmZmVyLGU9ZS5idWZmZXI7Y2FzZSBtOnJldHVybiEodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fCF3KG5ldyBvKHQpLG5ldyBvKGUpKSk7Y2FzZSBsOmNhc2UgcDpjYXNlIGg6cmV0dXJuIGEoK3QsK2UpO2Nhc2UgZDpyZXR1cm4gdC5uYW1lPT1lLm5hbWUmJnQubWVzc2FnZT09ZS5tZXNzYWdlO2Nhc2UgYjpjYXNlIF86cmV0dXJuIHQ9PWUrXCJcIjtjYXNlIHY6dmFyIE89dTtjYXNlIHk6dmFyIGs9ciZjO2lmKE98fChPPXMpLHQuc2l6ZSE9ZS5zaXplJiYhaylyZXR1cm4hMTt2YXIgUz1ULmdldCh0KTtpZihTKXJldHVybiBTPT1lO3J8PWYsVC5zZXQodCxlKTt2YXIgST1pKE8odCksTyhlKSxyLEMsdyxUKTtyZXR1cm4gVC5kZWxldGUodCksSTtjYXNlIGc6aWYoailyZXR1cm4gai5jYWxsKHQpPT1qLmNhbGwoZSl9cmV0dXJuITF9dmFyIHI9big4KSxvPW4oMTAyKSxhPW4oMzApLGk9bigzMyksdT1uKDEwMykscz1uKDEwNCksYz0xLGY9MixsPVwiW29iamVjdCBCb29sZWFuXVwiLHA9XCJbb2JqZWN0IERhdGVdXCIsZD1cIltvYmplY3QgRXJyb3JdXCIsdj1cIltvYmplY3QgTWFwXVwiLGg9XCJbb2JqZWN0IE51bWJlcl1cIixiPVwiW29iamVjdCBSZWdFeHBdXCIseT1cIltvYmplY3QgU2V0XVwiLF89XCJbb2JqZWN0IFN0cmluZ11cIixnPVwiW29iamVjdCBTeW1ib2xdXCIsbT1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIseD1cIltvYmplY3QgRGF0YVZpZXddXCIsQz1yP3IucHJvdG90eXBlOnZvaWQgMCxqPUM/Qy52YWx1ZU9mOnZvaWQgMDt0LmV4cG9ydHM9ZXF1YWxCeVRhZ30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksbz1yLlVpbnQ4QXJyYXk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbWFwVG9BcnJheSh0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LHIpe25bKytlXT1bcix0XX0pLG59dC5leHBvcnRzPW1hcFRvQXJyYXl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc2V0VG9BcnJheSh0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtuWysrZV09dH0pLG59dC5leHBvcnRzPXNldFRvQXJyYXl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBlcXVhbE9iamVjdHModCxlLG4sYSx1LHMpe3ZhciBjPW4mbyxmPXIodCksbD1mLmxlbmd0aDtpZihsIT1yKGUpLmxlbmd0aCYmIWMpcmV0dXJuITE7Zm9yKHZhciBwPWw7cC0tOyl7dmFyIGQ9ZltwXTtpZighKGM/ZCBpbiBlOmkuY2FsbChlLGQpKSlyZXR1cm4hMX12YXIgdj1zLmdldCh0KTtpZih2JiZzLmdldChlKSlyZXR1cm4gdj09ZTt2YXIgaD0hMDtzLnNldCh0LGUpLHMuc2V0KGUsdCk7Zm9yKHZhciBiPWM7KytwPGw7KXtkPWZbcF07dmFyIHk9dFtkXSxfPWVbZF07aWYoYSl2YXIgZz1jP2EoXyx5LGQsZSx0LHMpOmEoeSxfLGQsdCxlLHMpO2lmKCEodm9pZCAwPT09Zz95PT09X3x8dSh5LF8sbixhLHMpOmcpKXtoPSExO2JyZWFrfWJ8fChiPVwiY29uc3RydWN0b3JcIj09ZCl9aWYoaCYmIWIpe3ZhciBtPXQuY29uc3RydWN0b3IseD1lLmNvbnN0cnVjdG9yO20hPXgmJlwiY29uc3RydWN0b3JcImluIHQmJlwiY29uc3RydWN0b3JcImluIGUmJiEoXCJmdW5jdGlvblwiPT10eXBlb2YgbSYmbSBpbnN0YW5jZW9mIG0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHgmJnggaW5zdGFuY2VvZiB4KSYmKGg9ITEpfXJldHVybiBzLmRlbGV0ZSh0KSxzLmRlbGV0ZShlKSxofXZhciByPW4oMTA2KSxvPTEsYT1PYmplY3QucHJvdG90eXBlLGk9YS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZXF1YWxPYmplY3RzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZ2V0QWxsS2V5cyh0KXtyZXR1cm4gcih0LGEsbyl9dmFyIHI9bigxMDcpLG89bigxMDkpLGE9bigxNCk7dC5leHBvcnRzPWdldEFsbEtleXN9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyh0LGUsbil7dmFyIGE9ZSh0KTtyZXR1cm4gbyh0KT9hOnIoYSxuKHQpKX12YXIgcj1uKDEwOCksbz1uKDIpO3QuZXhwb3J0cz1iYXNlR2V0QWxsS2V5c30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBhcnJheVB1c2godCxlKXtmb3IodmFyIG49LTEscj1lLmxlbmd0aCxvPXQubGVuZ3RoOysrbjxyOyl0W28rbl09ZVtuXTtyZXR1cm4gdH10LmV4cG9ydHM9YXJyYXlQdXNofSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMSksbz1uKDExMCksYT1PYmplY3QucHJvdG90eXBlLGk9YS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscz11P2Z1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOih0PU9iamVjdCh0KSxyKHUodCksZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbCh0LGUpfSkpfTpvO3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHN0dWJBcnJheSgpe3JldHVybltdfXQuZXhwb3J0cz1zdHViQXJyYXl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExMiksbz1uKDE2KSxhPW4oMTEzKSxpPW4oMTE0KSx1PW4oMTE1KSxzPW4oNSksYz1uKDMxKSxmPWMociksbD1jKG8pLHA9YyhhKSxkPWMoaSksdj1jKHUpLGg9czsociYmXCJbb2JqZWN0IERhdGFWaWV3XVwiIT1oKG5ldyByKG5ldyBBcnJheUJ1ZmZlcigxKSkpfHxvJiZcIltvYmplY3QgTWFwXVwiIT1oKG5ldyBvKXx8YSYmXCJbb2JqZWN0IFByb21pc2VdXCIhPWgoYS5yZXNvbHZlKCkpfHxpJiZcIltvYmplY3QgU2V0XVwiIT1oKG5ldyBpKXx8dSYmXCJbb2JqZWN0IFdlYWtNYXBdXCIhPWgobmV3IHUpKSYmKGg9ZnVuY3Rpb24odCl7dmFyIGU9cyh0KSxuPVwiW29iamVjdCBPYmplY3RdXCI9PWU/dC5jb25zdHJ1Y3Rvcjp2b2lkIDAscj1uP2Mobik6XCJcIjtpZihyKXN3aXRjaChyKXtjYXNlIGY6cmV0dXJuXCJbb2JqZWN0IERhdGFWaWV3XVwiO2Nhc2UgbDpyZXR1cm5cIltvYmplY3QgTWFwXVwiO2Nhc2UgcDpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIGQ6cmV0dXJuXCJbb2JqZWN0IFNldF1cIjtjYXNlIHY6cmV0dXJuXCJbb2JqZWN0IFdlYWtNYXBdXCJ9cmV0dXJuIGV9KSx0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksbz1uKDApLGE9cihvLFwiRGF0YVZpZXdcIik7dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89bigwKSxhPXIobyxcIlByb21pc2VcIik7dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89bigwKSxhPXIobyxcIlNldFwiKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksbz1uKDApLGE9cihvLFwiV2Vha01hcFwiKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGdldE1hdGNoRGF0YSh0KXtmb3IodmFyIGU9byh0KSxuPWUubGVuZ3RoO24tLTspe3ZhciBhPWVbbl0saT10W2FdO2Vbbl09W2EsaSxyKGkpXX1yZXR1cm4gZX12YXIgcj1uKDM0KSxvPW4oMTQpO3QuZXhwb3J0cz1nZXRNYXRjaERhdGF9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHQsZSl7cmV0dXJuIGkodCkmJnUoZSk/cyhjKHQpLGUpOmZ1bmN0aW9uKG4pe3ZhciBpPW8obix0KTtyZXR1cm4gdm9pZCAwPT09aSYmaT09PWU/YShuLHQpOnIoZSxpLGZ8bCl9fXZhciByPW4oMzIpLG89bigxMTgpLGE9bigxMjUpLGk9bigxOCksdT1uKDM0KSxzPW4oMzUpLGM9bigxMyksZj0xLGw9Mjt0LmV4cG9ydHM9YmFzZU1hdGNoZXNQcm9wZXJ0eX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGdldCh0LGUsbil7dmFyIG89bnVsbD09dD92b2lkIDA6cih0LGUpO3JldHVybiB2b2lkIDA9PT1vP246b312YXIgcj1uKDM2KTt0LmV4cG9ydHM9Z2V0fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjApLG89L15cXC4vLGE9L1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nLGk9L1xcXFwoXFxcXCk/L2csdT1yKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBvLnRlc3QodCkmJmUucHVzaChcIlwiKSx0LnJlcGxhY2UoYSxmdW5jdGlvbih0LG4scixvKXtlLnB1c2gocj9vLnJlcGxhY2UoaSxcIiQxXCIpOm58fHQpfSksZX0pO3QuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZCh0KXt2YXIgZT1yKHQsZnVuY3Rpb24odCl7cmV0dXJuIG4uc2l6ZT09PW8mJm4uY2xlYXIoKSx0fSksbj1lLmNhY2hlO3JldHVybiBlfXZhciByPW4oMTIxKSxvPTUwMDt0LmV4cG9ydHM9bWVtb2l6ZUNhcHBlZH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1lbW9pemUodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHxudWxsIT1lJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3Iobyk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgcj1hcmd1bWVudHMsbz1lP2UuYXBwbHkodGhpcyxyKTpyWzBdLGE9bi5jYWNoZTtpZihhLmhhcyhvKSlyZXR1cm4gYS5nZXQobyk7dmFyIGk9dC5hcHBseSh0aGlzLHIpO3JldHVybiBuLmNhY2hlPWEuc2V0KG8saSl8fGEsaX07cmV0dXJuIG4uY2FjaGU9bmV3KG1lbW9pemUuQ2FjaGV8fHIpLG59dmFyIHI9bigxNyksbz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIjttZW1vaXplLkNhY2hlPXIsdC5leHBvcnRzPW1lbW9pemV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiB0b1N0cmluZyh0KXtyZXR1cm4gbnVsbD09dD9cIlwiOnIodCl9dmFyIHI9bigxMjMpO3QuZXhwb3J0cz10b1N0cmluZ30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VUb1N0cmluZyh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdDtpZihhKHQpKXJldHVybiBvKHQsYmFzZVRvU3RyaW5nKStcIlwiO2lmKGkodCkpcmV0dXJuIGM/Yy5jYWxsKHQpOlwiXCI7dmFyIGU9dCtcIlwiO3JldHVyblwiMFwiPT1lJiYxL3Q9PS11P1wiLTBcIjplfXZhciByPW4oOCksbz1uKDEyNCksYT1uKDIpLGk9big3KSx1PTEvMCxzPXI/ci5wcm90b3R5cGU6dm9pZCAwLGM9cz9zLnRvU3RyaW5nOnZvaWQgMDt0LmV4cG9ydHM9YmFzZVRvU3RyaW5nfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGFycmF5TWFwKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoLG89QXJyYXkocik7KytuPHI7KW9bbl09ZSh0W25dLG4sdCk7cmV0dXJuIG99dC5leHBvcnRzPWFycmF5TWFwfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzSW4odCxlKXtyZXR1cm4gbnVsbCE9dCYmbyh0LGUscil9dmFyIHI9bigxMjYpLG89bigxMjcpO3QuZXhwb3J0cz1oYXNJbn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBiYXNlSGFzSW4odCxlKXtyZXR1cm4gbnVsbCE9dCYmZSBpbiBPYmplY3QodCl9dC5leHBvcnRzPWJhc2VIYXNJbn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGhhc1BhdGgodCxlLG4pe2U9cihlLHQpO2Zvcih2YXIgYz0tMSxmPWUubGVuZ3RoLGw9ITE7KytjPGY7KXt2YXIgcD1zKGVbY10pO2lmKCEobD1udWxsIT10JiZuKHQscCkpKWJyZWFrO3Q9dFtwXX1yZXR1cm4gbHx8KytjIT1mP2w6ISEoZj1udWxsPT10PzA6dC5sZW5ndGgpJiZ1KGYpJiZpKHAsZikmJihhKHQpfHxvKHQpKX12YXIgcj1uKDM3KSxvPW4oMjIpLGE9bigyKSxpPW4oMjUpLHU9bigxNSkscz1uKDEzKTt0LmV4cG9ydHM9aGFzUGF0aH0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpZGVudGl0eSh0KXtyZXR1cm4gdH10LmV4cG9ydHM9aWRlbnRpdHl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBwcm9wZXJ0eSh0KXtyZXR1cm4gYSh0KT9yKGkodCkpOm8odCl9dmFyIHI9bigxMzApLG89bigxMzEpLGE9bigxOCksaT1uKDEzKTt0LmV4cG9ydHM9cHJvcGVydHl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYmFzZVByb3BlcnR5KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX19dC5leHBvcnRzPWJhc2VQcm9wZXJ0eX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiByKGUsdCl9fXZhciByPW4oMzYpO3QuZXhwb3J0cz1iYXNlUHJvcGVydHlEZWVwfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxKTsoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fSkocikuZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuYmFja2J0bj17aW5pdDpmdW5jdGlvbih0LGUsbixyLG8peyQodCkub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7aGlzdG9yeS5sZW5ndGg8PTE/KHdpbmRvdy5vcGVuZXI9bnVsbCx3aW5kb3cub3BlbihcIlwiLFwiX3NlbGZcIiksd2luZG93LmNsb3NlKCkpOndpbmRvdy5oaXN0b3J5LmdvKC0xKX0pfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEpOyhmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KShyKS5kZWZhdWx0LmJpbmRpbmdIYW5kbGVycy5jbGlja291dHNpZGU9e2luaXQ6ZnVuY3Rpb24odCxlLG4scixvKXtmdW5jdGlvbiBkb2N1bWVudEhhbmRsZXIobil7aWYodC5jb250YWlucyhuLnRhcmdldCkpcmV0dXJuITE7ZSgpJiZlKCkobil9ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZG9jdW1lbnRIYW5kbGVyKX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxKTsoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fSkocikuZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuaGlkZGVuaW5uZXd3aW5kb3c9e2luaXQ6ZnVuY3Rpb24odCxlLG4scixvKXtoaXN0b3J5Lmxlbmd0aDw9MSYmKHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGdldFRhcmdldCh0KXtyZXR1cm4gZG9jdW1lbnQuYm9keX12YXIgcj1uKDEpOyhmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KShyKS5kZWZhdWx0LmJpbmRpbmdIYW5kbGVycy50cmFuc2ZlcmRvbT17aW5pdDpmdW5jdGlvbih0LGUsbixyLG8pe3QuY2xhc3NOYW1lPXQuY2xhc3NOYW1lP3QuY2xhc3NOYW1lK1wiIHYtdHJhbnNmZXItZG9tXCI6XCJ2LXRyYW5zZmVyLWRvbVwiO3ZhciBhPXQucGFyZW50Tm9kZTtpZihhKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpLHU9ITE7ITEhPT1lKCkmJihhLnJlcGxhY2VDaGlsZChpLHQpLGdldFRhcmdldCgpLmFwcGVuZENoaWxkKHQpLHU9ITApLHQuX190cmFuc2ZlckRvbURhdGF8fCh0Ll9fdHJhbnNmZXJEb21EYXRhPXtwYXJlbnROb2RlOmEsaG9tZTppLHRhcmdldDpnZXRUYXJnZXQoKSxoYXNNb3ZlZE91dDp1fSl9fSx1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixvKXtpZih0LmRhdGFzZXQmJlwidHJ1ZVwiIT09dC5kYXRhc2V0LnRyYW5zZmVyKXJldHVybiExO3ZhciBhPXQuX190cmFuc2ZlckRvbURhdGE7aWYoYSl7dmFyIGk9YS5wYXJlbnROb2RlLHU9YS5ob21lLHM9YS5oYXNNb3ZlZE91dDshcyYmZSgpPyhpLnJlcGxhY2VDaGlsZCh1LHQpLGdldFRhcmdldCgpLmFwcGVuZENoaWxkKHQpLHQuX190cmFuc2ZlckRvbURhdGE9T2JqZWN0LmFzc2lnbih7fSx0Ll9fdHJhbnNmZXJEb21EYXRhLHtoYXNNb3ZlZE91dDohMCx0YXJnZXQ6Z2V0VGFyZ2V0KGUpfSkpOnMmJiExPT09ZSgpPyhpLnJlcGxhY2VDaGlsZCh0LHUpLHQuX190cmFuc2ZlckRvbURhdGE9T2JqZWN0LmFzc2lnbih7fSx0Ll9fdHJhbnNmZXJEb21EYXRhLHtoYXNNb3ZlZE91dDohMSx0YXJnZXQ6Z2V0VGFyZ2V0KGUpfSkpOmUoKSYmZ2V0VGFyZ2V0KCkuYXBwZW5kQ2hpbGQodCl9fX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShyKTtvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLmxldHx8KG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMubGV0PXtpbml0OmZ1bmN0aW9uKHQsZSxuLHIsYSl7dmFyIGk9YS5leHRlbmQoZSk7cmV0dXJuIG8uZGVmYXVsdC5hcHBseUJpbmRpbmdzVG9EZXNjZW5kYW50cyhpLHQpLHtjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fSxvLmRlZmF1bHQudmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5ncy5sZXQ9ITApfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX3JlbW92ZVplcm8odCl7cmV0dXJuIGlzTmFOKHQpP3Q6TnVtYmVyKHQpfWZ1bmN0aW9uIF9hbW91bnRGb3JtYXQodCl7cmV0dXJuIGlzTmFOKHQpP3Q6X3JlbW92ZVplcm8oTnVtYmVyKHQpLnRvRml4ZWQoMikpfWZ1bmN0aW9uIF9maW5hbmNpYWxGb3JtYXQodCl7aWYoaXNOYU4odCkpcmV0dXJuIHQ7dmFyIGU9dDt0PU1hdGguYWJzKHQpLHQ9KHR8fDApLnRvU3RyaW5nKCk7Zm9yKHZhciBuPVwiXCIscj10LnNwbGl0KFwiLlwiKSxvPXJbMF0sYT1yLmxlbmd0aD4xP3JbMV06MDtvLmxlbmd0aD4zOyluPVwiLFwiK28uc2xpY2UoLTMpK24sbz1vLnNsaWNlKDAsby5sZW5ndGgtMyk7cmV0dXJuIG8mJihuPW8rbiksTnVtYmVyKGEpJiYobis9XCIuXCIrTnVtYmVyKFwiMC5cIithKS50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSksZTwwJiYobj1cIi1cIituKSxufWZ1bmN0aW9uIF9maW5hbmNpYWxBbW91bnRGb3JtYXQodCl7cmV0dXJuIGlzTmFOKHQpP3Q6X2ZpbmFuY2lhbEZvcm1hdChfYW1vdW50Rm9ybWF0KHQpKX12YXIgcj1uKDEpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShyKTtvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLnJlbW92ZVplcm89e3VwZGF0ZTpmdW5jdGlvbih0LGUsbixyLGEpe28uZGVmYXVsdC51dGlscy5zZXRUZXh0Q29udGVudCh0LF9yZW1vdmVaZXJvKG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuYW1vdW50PXt1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixhKXtvLmRlZmF1bHQudXRpbHMuc2V0VGV4dENvbnRlbnQodCxfYW1vdW50Rm9ybWF0KG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZmluYW5jaWFsPXt1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixhKXtvLmRlZmF1bHQudXRpbHMuc2V0VGV4dENvbnRlbnQodCxfZmluYW5jaWFsRm9ybWF0KG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZmluYW5jaWFsQW1vdW50PXt1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixhKXtvLmRlZmF1bHQudXRpbHMuc2V0VGV4dENvbnRlbnQodCxfZmluYW5jaWFsQW1vdW50Rm9ybWF0KG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZmluYW5jaWFsQW1vdW50V2l0aFN5bWJvbD17dXBkYXRlOmZ1bmN0aW9uKHQsZSxuLHIsYSl7by5kZWZhdWx0LnV0aWxzLnNldFRleHRDb250ZW50KHQsXCLvv6UgXCIrX2ZpbmFuY2lhbEFtb3VudEZvcm1hdChvLmRlZmF1bHQudXRpbHMudW53cmFwT2JzZXJ2YWJsZShlKCkpKSl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMSksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KHIpO3dpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrPXdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrfHxmdW5jdGlvbih0KXt2YXIgZT1EYXRlLm5vdygpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCh7ZGlkVGltZW91dDohMSx0aW1lUmVtYWluaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KDAsNTAtKERhdGUubm93KCktZSkpfX0pfSwxKX0sd2luZG93LmNhbmNlbElkbGVDYWxsYmFjaz13aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrfHxmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodCl9LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMubGF6eUZvcmVhY2g9e21ha2VUZW1wbGF0ZVZhbHVlQWNjZXNzb3I6ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10KCkscj1uLm1pbkxlbmd0aHx8NTAsYT1uLnN0ZXB8fDIwLGk9bi5sb29wdGltZXx8MjAwLHU9bi5kYXRhLHM9dSgpLGM9by5kZWZhdWx0Lm9ic2VydmFibGVBcnJheShzLnNwbGljZSgwLHIpKS5leHRlbmQoe2RlZmVycmVkOiEwfSk7cmV0dXJuIG4uZGF0YT1jLGUmJmNsZWFySW50ZXJ2YWwoZSksZT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXtzLmxlbmd0aD4wP3Muc3BsaWNlKDAsYSkuZm9yRWFjaChmdW5jdGlvbih0KXtjLnB1c2godCl9KTpjbGVhckludGVydmFsKGUpfSl9LGkpLG59fSxpbml0OmZ1bmN0aW9uKHQsZSxuLHIsYSl7cmV0dXJuIG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZm9yZWFjaC5pbml0KHQsZSxuLHIsYSl9LHVwZGF0ZTpmdW5jdGlvbih0LGUsbixyLGEpe3JldHVybiBvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLmZvcmVhY2gudXBkYXRlKHQsby5kZWZhdWx0LmJpbmRpbmdIYW5kbGVycy5sYXp5Rm9yZWFjaC5tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKGUpLG4scixhKX19LG8uZGVmYXVsdC52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzLmxhenlGb3JlYWNoPSEwfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWcodCxlKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImNyb3NzVGVuYW50RGF0YUlkXCIpIT10Pyh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImNyb3NzVGVuYW50RGF0YUlkXCIpLHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3Jvc3NUZW5hbnREYXRhXCIpLCQuYWpheCh7dXJsOlwiL3l1bmNhaS9jdXN0b20vZ2V0T3V0c2lkZVJ1bGU/ZW50ZXJwcmlzZUlkPVwiK3QsdHlwZTpcImdldFwiLGFzeW5jOiExLHN1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIHI9SlNPTi5wYXJzZShuKTsxPT1yLnN0YXR1cz8od2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJjcm9zc1RlbmFudERhdGFcIixKU09OLnN0cmluZ2lmeShyLmRhdGEpKSx3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImNyb3NzVGVuYW50RGF0YUlkXCIsdCkpOmNvbnNvbGUuZXJyb3Ioci5tc2cpLGUoKX19KSk6ZSgpfWZ1bmN0aW9uIGdldEN1c3RvbVZhbHVlKHQpe3ZhciBlPWdldEN1c3RvbUNvbmZpZygpO3QudGFyZ2V0RW50ZXJwcmlzZUlkJiYoZT1KU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiY3Jvc3NUZW5hbnREYXRhXCIpKSk7dmFyIG49aS5kZWZhdWx0LmZpbHRlcihlLGZ1bmN0aW9uKGUpe3JldHVybih0LmJpbGxUeXBlPT1lLmJpbGxUeXBlfHx0Lm1vZGVsPT1lLmJpbGxUeXBlKSYmdC5kYXRhSW5mbz09ZS5kYXRhSW5mbyYmdC5maWVsZD09ZS5maWVsZCYmdC5jdXN0b21UeXBlPT1lLmN1c3RvbVR5cGV9KTtyZXR1cm4gbiYmbi5sZW5ndGg+MD9uWzBdLmN1c3RvbVZhbHVlOm51bGx9ZnVuY3Rpb24gZ2V0Q3VzdG9tQ29uZmlnKCl7dmFyIHQ9W10sZT13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXN0b21Db25maWdzXCIpO3JldHVybiBlP3Q9dC5jb25jYXQoSlNPTi5wYXJzZShlKSk6JC5hamF4KHt1cmw6XCIveXVuY2FpL2N1c3RvbS9nZXRSdWxlXCIsdHlwZTpcImdldFwiLGFzeW5jOiExLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIG49SlNPTi5wYXJzZShlKTsxPT1uLnN0YXR1cz8od2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3VzdG9tQ29uZmlnc1wiLEpTT04uc3RyaW5naWZ5KG4uZGF0YSkpLHQuY29uY2F0KG4uZGF0YSkpOmNvbnNvbGUuZXJyb3Iobi5tc2cpfX0pLHR9ZnVuY3Rpb24gY3VzdG9tRmVhdHVyZVJlbmRlcih0LGUsbil7dmFyIHI9W107aWYobil7dmFyIG89d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjcm9zc1RlbmFudERhdGFcIik7cj1pLmRlZmF1bHQuZmlsdGVyKG8/SlNPTi5wYXJzZShvKTpbXSxmdW5jdGlvbih0KXtyZXR1cm4oZS5iaWxsVHlwZT09dC5iaWxsVHlwZXx8ZS5tb2RlbD09dC5iaWxsVHlwZSkmJmUuZGF0YUluZm89PXQuZGF0YUluZm8mJmUuZmllbGQ9PXQuZmllbGQmJmUuY3VzdG9tVHlwZT09dC5jdXN0b21UeXBlfSl9ZWxzZSByPWkuZGVmYXVsdC5maWx0ZXIoZ2V0Q3VzdG9tQ29uZmlnKCksZnVuY3Rpb24odCl7cmV0dXJuKGUuYmlsbFR5cGU9PXQuYmlsbFR5cGV8fGUubW9kZWw9PXQuYmlsbFR5cGUpJiZlLmRhdGFJbmZvPT10LmRhdGFJbmZvJiZlLmZpZWxkPT10LmZpZWxkJiZlLmN1c3RvbVR5cGU9PXQuY3VzdG9tVHlwZX0pO3IubGVuZ3RoPjAmJihcInZpc2libGVcIj09clswXS5jdXN0b21UeXBlPzA9PXJbMF0uY3VzdG9tVmFsdWU/JCh0KS5hZGRDbGFzcyhcImhpZGRlblwiKS5oaWRlKCk6KCQodCkucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIiksJCh0KS5zaG93KCkpOlwiZWRpdGFibGVcIj09clswXS5jdXN0b21UeXBlPzE9PXJbMF0uY3VzdG9tVmFsdWUmJigkKHQpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpLCQodCkuc2hvdygpKTpcImxhYmVsdGV4dFwiPT1yWzBdLmN1c3RvbVR5cGU/JCh0KS5odG1sKHJbMF0uY3VzdG9tVmFsdWUpOlwicGxhY2Vob2xkZXJcIj09clswXS5jdXN0b21UeXBlPyQodCkuYXR0cihcInBsYWNlaG9sZGVyXCIsclswXS5jdXN0b21WYWx1ZSk6XCJkZWZhdWx0VmFsdWVcIj09clswXS5jdXN0b21UeXBlPyQodCkudmFsKCl8fCgkKHQpLnZhbChyWzBdLmN1c3RvbVZhbHVlKSwkKHQpLmNoYW5nZSgpKTpcImN1c3RvbWRhdGFcIj09clswXS5jdXN0b21UeXBlJiYkKHQpLmF0dHIoXCJkYXRhLWN1c3RvbVwiLHJbMF0uY3VzdG9tVmFsdWUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldEN1c3RvbVZhbHVlPWUuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9dm9pZCAwO3ZhciByPW4oMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHIpLGE9bigxOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpO28uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuY3VzdG9tZmVhdHVyZT17aW5pdDpmdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhPWUoKTthLnN1YnNjcmliZXx8YSYmY3VzdG9tRmVhdHVyZVJlbmRlcih0LGEsITEpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lKCk7bi5zdWJzY3JpYmUmJm4oKSYmbigpLnRhcmdldEVudGVycHJpc2VJZCYmY3VzdG9tRmVhdHVyZVJlbmRlcih0LG4oKSwhMCl9fSxlLmdldENyb3NzVGVuYW50Q3VzdG9tQ29uZmlnPWdldENyb3NzVGVuYW50Q3VzdG9tQ29uZmlnLGUuZ2V0Q3VzdG9tVmFsdWU9Z2V0Q3VzdG9tVmFsdWV9XSl9KTtcblx0Ly8jIHNvdXJjZU1hcHBpbmdVUkw9bGlicy5qcy5tYXBcblxuLyoqKi8gfSxcbi8qIDE0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohXG5cdCAqIEtub2Nrb3V0IEphdmFTY3JpcHQgbGlicmFyeSB2My41LjBcblx0ICogKGMpIFRoZSBLbm9ja291dC5qcyB0ZWFtIC0gaHR0cDovL2tub2Nrb3V0anMuY29tL1xuXHQgKiBMaWNlbnNlOiBNSVQgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKVxuXHQgKi9cblx0XG5cdChmdW5jdGlvbigpIHsoZnVuY3Rpb24ocCl7dmFyIHo9dGhpc3x8KDAsZXZhbCkoXCJ0aGlzXCIpLHc9ei5kb2N1bWVudCxSPXoubmF2aWdhdG9yLHY9ei5qUXVlcnksSD16LkpTT047dnx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBqUXVlcnl8fCh2PWpRdWVyeSk7KGZ1bmN0aW9uKHApeyB0cnVlPyEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX19dLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAocCksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTpcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PT10eXBlb2YgbW9kdWxlP3AobW9kdWxlLmV4cG9ydHN8fGV4cG9ydHMpOnAoei5rbz17fSl9KShmdW5jdGlvbihTLFQpe2Z1bmN0aW9uIEsoYSxjKXtyZXR1cm4gbnVsbD09PWF8fHR5cGVvZiBhIGluIFc/YT09PWM6ITF9ZnVuY3Rpb24gWChiLGMpe3ZhciBkO3JldHVybiBmdW5jdGlvbigpe2R8fChkPWEuYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZD1wO2IoKX0sYykpfX1mdW5jdGlvbiBZKGIsYyl7dmFyIGQ7cmV0dXJuIGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpO1xuXHRkPWEuYS5zZXRUaW1lb3V0KGIsYyl9fWZ1bmN0aW9uIFooYSxjKXtjJiZcImNoYW5nZVwiIT09Yz9cImJlZm9yZUNoYW5nZVwiPT09Yz90aGlzLm9jKGEpOnRoaXMuYmIoYSxjKTp0aGlzLnBjKGEpfWZ1bmN0aW9uIGFhKGEsYyl7bnVsbCE9PWMmJmMucyYmYy5zKCl9ZnVuY3Rpb24gYmEoYSxjKXt2YXIgZD10aGlzLnBkLGU9ZFt0XTtlLnFhfHwodGhpcy5QYiYmdGhpcy5rYltjXT8oZC50YyhjLGEsdGhpcy5rYltjXSksdGhpcy5rYltjXT1udWxsLC0tdGhpcy5QYik6ZS5GW2NdfHxkLnRjKGMsYSxlLkc/e2RhOmF9OmQuWmMoYSkpLGEuS2EmJmEuZmQoKSl9dmFyIGE9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTP1M6e307YS5iPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWIuc3BsaXQoXCIuXCIpLGU9YSxmPTA7ZjxkLmxlbmd0aC0xO2YrKyllPWVbZFtmXV07ZVtkW2QubGVuZ3RoLTFdXT1jfTthLko9ZnVuY3Rpb24oYSxjLGQpe2FbY109ZH07YS52ZXJzaW9uPVwiMy41LjBcIjthLmIoXCJ2ZXJzaW9uXCIsXG5cdGEudmVyc2lvbik7YS5vcHRpb25zPXtkZWZlclVwZGF0ZXM6ITEsdXNlT25seU5hdGl2ZUV2ZW50czohMSxmb3JlYWNoSGlkZXNEZXN0cm95ZWQ6ITF9O2EuYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiKXtmb3IodmFyIGMgaW4gYSlmLmNhbGwoYSxjKSYmYihjLGFbY10pfWZ1bmN0aW9uIGMoYSxiKXtpZihiKWZvcih2YXIgYyBpbiBiKWYuY2FsbChiLGMpJiYoYVtjXT1iW2NdKTtyZXR1cm4gYX1mdW5jdGlvbiBkKGEsYil7YS5fX3Byb3RvX189YjtyZXR1cm4gYX1mdW5jdGlvbiBlKGIsYyxkLGUpe3ZhciBrPWJbY10ubWF0Y2gobil8fFtdO2EuYS5DKGQubWF0Y2gobiksZnVuY3Rpb24oYil7YS5hLk9hKGssYixlKX0pO2JbY109ay5qb2luKFwiIFwiKX12YXIgZj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGc9e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5LGg9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCxtPXt9LGw9e307bVtSJiYvRmlyZWZveFxcLzIvaS50ZXN0KFIudXNlckFnZW50KT9cblx0XCJLZXlib2FyZEV2ZW50XCI6XCJVSUV2ZW50c1wiXT1bXCJrZXl1cFwiLFwia2V5ZG93blwiLFwia2V5cHJlc3NcIl07bS5Nb3VzZUV2ZW50cz1cImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlXCIuc3BsaXQoXCIgXCIpO2IobSxmdW5jdGlvbihhLGIpe2lmKGIubGVuZ3RoKWZvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylsW2JbY11dPWF9KTt2YXIgaz17cHJvcGVydHljaGFuZ2U6ITB9LHE9dyYmZnVuY3Rpb24oKXtmb3IodmFyIGE9MyxiPXcuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpXCIpO2IuaW5uZXJIVE1MPVwiXFx4M2MhLS1baWYgZ3QgSUUgXCIrICsrYStcIl0+PGk+PC9pPjwhW2VuZGlmXS0tXFx4M2VcIixjWzBdOyk7cmV0dXJuIDQ8YT9hOnB9KCksbj0vXFxTKy9nLHI7cmV0dXJue0ljOltcImF1dGhlbnRpY2l0eV90b2tlblwiLC9eX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4oXy4qKT8kL10sXG5cdEM6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyliLmNhbGwoYyxhW2RdLGQsYSl9LEE6XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIpfTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTGI6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGFbZF07cmV0dXJuIHB9LGhiOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLkEoYixjKTswPGQ/Yi5zcGxpY2UoZCwxKTowPT09ZCYmYi5zaGlmdCgpfSx2YzpmdW5jdGlvbihiKXt2YXIgYz1bXTtiJiZhLmEuQyhiLGZ1bmN0aW9uKGIpezA+YS5hLkEoYyxiKSYmYy5wdXNoKGIpfSk7cmV0dXJuIGN9LE1iOmZ1bmN0aW9uKGEsXG5cdGIsYyl7dmFyIGQ9W107aWYoYSlmb3IodmFyIGU9MCxrPWEubGVuZ3RoO2U8aztlKyspZC5wdXNoKGIuY2FsbChjLGFbZV0sZSkpO3JldHVybiBkfSxmYjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W107aWYoYSlmb3IodmFyIGU9MCxrPWEubGVuZ3RoO2U8aztlKyspYi5jYWxsKGMsYVtlXSxlKSYmZC5wdXNoKGFbZV0pO3JldHVybiBkfSxnYjpmdW5jdGlvbihhLGIpe2lmKGIgaW5zdGFuY2VvZiBBcnJheSlhLnB1c2guYXBwbHkoYSxiKTtlbHNlIGZvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylhLnB1c2goYltjXSk7cmV0dXJuIGF9LE9hOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuQShhLmEuJGIoYiksYyk7MD5lP2QmJmIucHVzaChjKTpkfHxiLnNwbGljZShlLDEpfSxCYTpnLGV4dGVuZDpjLHNldFByb3RvdHlwZU9mOmQsemI6Zz9kOmMsTzpiLEhhOmZ1bmN0aW9uKGEsYixjKXtpZighYSlyZXR1cm4gYTt2YXIgZD17fSxlO2ZvcihlIGluIGEpZi5jYWxsKGEsZSkmJihkW2VdPVxuXHRiLmNhbGwoYyxhW2VdLGUsYSkpO3JldHVybiBkfSxTYjpmdW5jdGlvbihiKXtmb3IoO2IuZmlyc3RDaGlsZDspYS5yZW1vdmVOb2RlKGIuZmlyc3RDaGlsZCl9LFhiOmZ1bmN0aW9uKGIpe2I9YS5hLmxhKGIpO2Zvcih2YXIgYz0oYlswXSYmYlswXS5vd25lckRvY3VtZW50fHx3KS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ9MCxlPWIubGVuZ3RoO2Q8ZTtkKyspYy5hcHBlbmRDaGlsZChhLm5hKGJbZF0pKTtyZXR1cm4gY30sQ2E6ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoLGs9W107ZDxlO2QrKyl7dmFyIGY9YltkXS5jbG9uZU5vZGUoITApO2sucHVzaChjP2EubmEoZik6Zil9cmV0dXJuIGt9LHVhOmZ1bmN0aW9uKGIsYyl7YS5hLlNiKGIpO2lmKGMpZm9yKHZhciBkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWIuYXBwZW5kQ2hpbGQoY1tkXSl9LFdjOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5ub2RlVHlwZT9bYl06YjtpZigwPGQubGVuZ3RoKXtmb3IodmFyIGU9ZFswXSxcblx0az1lLnBhcmVudE5vZGUsZj0wLGw9Yy5sZW5ndGg7ZjxsO2YrKylrLmluc2VydEJlZm9yZShjW2ZdLGUpO2Y9MDtmb3IobD1kLmxlbmd0aDtmPGw7ZisrKWEucmVtb3ZlTm9kZShkW2ZdKX19LFVhOmZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe2ZvcihiPTg9PT1iLm5vZGVUeXBlJiZiLnBhcmVudE5vZGV8fGI7YS5sZW5ndGgmJmFbMF0ucGFyZW50Tm9kZSE9PWI7KWEuc3BsaWNlKDAsMSk7Zm9yKDsxPGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdLnBhcmVudE5vZGUhPT1iOylhLmxlbmd0aC0tO2lmKDE8YS5sZW5ndGgpe3ZhciBjPWFbMF0sZD1hW2EubGVuZ3RoLTFdO2ZvcihhLmxlbmd0aD0wO2MhPT1kOylhLnB1c2goYyksYz1jLm5leHRTaWJsaW5nO2EucHVzaChkKX19cmV0dXJuIGF9LFljOmZ1bmN0aW9uKGEsYil7Nz5xP2Euc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixiKTphLnNlbGVjdGVkPWJ9LENiOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YXx8YT09PXA/XCJcIjphLnRyaW0/XG5cdGEudHJpbSgpOmEudG9TdHJpbmcoKS5yZXBsYWNlKC9eW1xcc1xceGEwXSt8W1xcc1xceGEwXSskL2csXCJcIil9LFRkOmZ1bmN0aW9uKGEsYil7YT1hfHxcIlwiO3JldHVybiBiLmxlbmd0aD5hLmxlbmd0aD8hMTphLnN1YnN0cmluZygwLGIubGVuZ3RoKT09PWJ9LHVkOmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuITA7aWYoMTE9PT1hLm5vZGVUeXBlKXJldHVybiExO2lmKGIuY29udGFpbnMpcmV0dXJuIGIuY29udGFpbnMoMSE9PWEubm9kZVR5cGU/YS5wYXJlbnROb2RlOmEpO2lmKGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24pcmV0dXJuIDE2PT0oYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKSYxNik7Zm9yKDthJiZhIT1iOylhPWEucGFyZW50Tm9kZTtyZXR1cm4hIWF9LFJiOmZ1bmN0aW9uKGIpe3JldHVybiBhLmEudWQoYixiLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KX0samQ6ZnVuY3Rpb24oYil7cmV0dXJuISFhLmEuTGIoYixhLmEuUmIpfSxQOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZcblx0YS50YWdOYW1lJiZhLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0semM6ZnVuY3Rpb24oYil7cmV0dXJuIGEub25FcnJvcj9mdW5jdGlvbigpe3RyeXtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goYyl7dGhyb3cgYS5vbkVycm9yJiZhLm9uRXJyb3IoYyksYzt9fTpifSxzZXRUaW1lb3V0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIHNldFRpbWVvdXQoYS5hLnpjKGIpLGMpfSxGYzpmdW5jdGlvbihiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5vbkVycm9yJiZhLm9uRXJyb3IoYik7dGhyb3cgYjt9LDApfSxIOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuemMoZCk7ZD1rW2NdO2lmKGEub3B0aW9ucy51c2VPbmx5TmF0aXZlRXZlbnRzfHxkfHwhdilpZihkfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBiLmFkZEV2ZW50TGlzdGVuZXIpaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuYXR0YWNoRXZlbnQpe3ZhciBmPWZ1bmN0aW9uKGEpe2UuY2FsbChiLGEpfSxsPVwib25cIitjO2IuYXR0YWNoRXZlbnQobCxcblx0Zik7YS5hLkkuemEoYixmdW5jdGlvbigpe2IuZGV0YWNoRXZlbnQobCxmKX0pfWVsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBhZGRFdmVudExpc3RlbmVyIG9yIGF0dGFjaEV2ZW50XCIpO2Vsc2UgYi5hZGRFdmVudExpc3RlbmVyKGMsZSwhMSk7ZWxzZSByfHwocj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB2KGIpLm9uP1wib25cIjpcImJpbmRcIiksdihiKVtyXShjLGUpfSxGYjpmdW5jdGlvbihiLGMpe2lmKCFifHwhYi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImVsZW1lbnQgbXVzdCBiZSBhIERPTSBub2RlIHdoZW4gY2FsbGluZyB0cmlnZ2VyRXZlbnRcIik7dmFyIGQ7XCJpbnB1dFwiPT09YS5hLlAoYikmJmIudHlwZSYmXCJjbGlja1wiPT1jLnRvTG93ZXJDYXNlKCk/KGQ9Yi50eXBlLGQ9XCJjaGVja2JveFwiPT1kfHxcInJhZGlvXCI9PWQpOmQ9ITE7aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fCF2fHxkKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHcuY3JlYXRlRXZlbnQpaWYoXCJmdW5jdGlvblwiPT1cblx0dHlwZW9mIGIuZGlzcGF0Y2hFdmVudClkPXcuY3JlYXRlRXZlbnQobFtjXXx8XCJIVE1MRXZlbnRzXCIpLGQuaW5pdEV2ZW50KGMsITAsITAseiwwLDAsMCwwLDAsITEsITEsITEsITEsMCxiKSxiLmRpc3BhdGNoRXZlbnQoZCk7ZWxzZSB0aHJvdyBFcnJvcihcIlRoZSBzdXBwbGllZCBlbGVtZW50IGRvZXNuJ3Qgc3VwcG9ydCBkaXNwYXRjaEV2ZW50XCIpO2Vsc2UgaWYoZCYmYi5jbGljayliLmNsaWNrKCk7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5maXJlRXZlbnQpYi5maXJlRXZlbnQoXCJvblwiK2MpO2Vsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB0cmlnZ2VyaW5nIGV2ZW50c1wiKTtlbHNlIHYoYikudHJpZ2dlcihjKX0sYzpmdW5jdGlvbihiKXtyZXR1cm4gYS5OKGIpP2IoKTpifSwkYjpmdW5jdGlvbihiKXtyZXR1cm4gYS5OKGIpP2IudygpOmJ9LEViOmZ1bmN0aW9uKGIsYyxkKXt2YXIgaztjJiYoXCJvYmplY3RcIj09PXR5cGVvZiBiLmNsYXNzTGlzdD9cblx0KGs9Yi5jbGFzc0xpc3RbZD9cImFkZFwiOlwicmVtb3ZlXCJdLGEuYS5DKGMubWF0Y2gobiksZnVuY3Rpb24oYSl7ay5jYWxsKGIuY2xhc3NMaXN0LGEpfSkpOlwic3RyaW5nXCI9PT10eXBlb2YgYi5jbGFzc05hbWUuYmFzZVZhbD9lKGIuY2xhc3NOYW1lLFwiYmFzZVZhbFwiLGMsZCk6ZShiLFwiY2xhc3NOYW1lXCIsYyxkKSl9LEFiOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmMoYyk7aWYobnVsbD09PWR8fGQ9PT1wKWQ9XCJcIjt2YXIgZT1hLmguZmlyc3RDaGlsZChiKTshZXx8MyE9ZS5ub2RlVHlwZXx8YS5oLm5leHRTaWJsaW5nKGUpP2EuaC51YShiLFtiLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZCldKTplLmRhdGE9ZDthLmEuemQoYil9LFhjOmZ1bmN0aW9uKGEsYil7YS5uYW1lPWI7aWYoNz49cSl0cnl7dmFyIGM9YS5uYW1lLnJlcGxhY2UoL1smPD4nXCJdL2csZnVuY3Rpb24oYSl7cmV0dXJuXCImI1wiK2EuY2hhckNvZGVBdCgwKStcIjtcIn0pO2EubWVyZ2VBdHRyaWJ1dGVzKHcuY3JlYXRlRWxlbWVudChcIjxpbnB1dCBuYW1lPSdcIitcblx0YytcIicvPlwiKSwhMSl9Y2F0Y2goZCl7fX0semQ6ZnVuY3Rpb24oYSl7OTw9cSYmKGE9MT09YS5ub2RlVHlwZT9hOmEucGFyZW50Tm9kZSxhLnN0eWxlJiYoYS5zdHlsZS56b29tPWEuc3R5bGUuem9vbSkpfSx2ZDpmdW5jdGlvbihhKXtpZihxKXt2YXIgYj1hLnN0eWxlLndpZHRoO2Euc3R5bGUud2lkdGg9MDthLnN0eWxlLndpZHRoPWJ9fSxPZDpmdW5jdGlvbihiLGMpe2I9YS5hLmMoYik7Yz1hLmEuYyhjKTtmb3IodmFyIGQ9W10sZT1iO2U8PWM7ZSsrKWQucHVzaChlKTtyZXR1cm4gZH0sbGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKGFbY10pO3JldHVybiBifSxEYTpmdW5jdGlvbihhKXtyZXR1cm4gaD9TeW1ib2woYSk6YX0sWGQ6Nj09PXEsWWQ6Nz09PXEsVzpxLEtjOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWEuYS5sYShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmNvbmNhdChhLmEubGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpKSksXG5cdGU9XCJzdHJpbmdcIj09dHlwZW9mIGM/ZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09PWN9OmZ1bmN0aW9uKGEpe3JldHVybiBjLnRlc3QoYS5uYW1lKX0saz1bXSxmPWQubGVuZ3RoLTE7MDw9ZjtmLS0pZShkW2ZdKSYmay5wdXNoKGRbZl0pO3JldHVybiBrfSxNZDpmdW5jdGlvbihiKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9YS5hLkNiKGIpKT9IJiZILnBhcnNlP0gucGFyc2UoYik6KG5ldyBGdW5jdGlvbihcInJldHVybiBcIitiKSkoKTpudWxsfSxmYzpmdW5jdGlvbihiLGMsZCl7aWYoIUh8fCFILnN0cmluZ2lmeSl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIEpTT04uc3RyaW5naWZ5KCkuIFNvbWUgYnJvd3NlcnMgKGUuZy4sIElFIDwgOCkgZG9uJ3Qgc3VwcG9ydCBpdCBuYXRpdmVseSwgYnV0IHlvdSBjYW4gb3ZlcmNvbWUgdGhpcyBieSBhZGRpbmcgYSBzY3JpcHQgcmVmZXJlbmNlIHRvIGpzb24yLmpzLCBkb3dubG9hZGFibGUgZnJvbSBodHRwOi8vd3d3Lmpzb24ub3JnL2pzb24yLmpzXCIpO1xuXHRyZXR1cm4gSC5zdHJpbmdpZnkoYS5hLmMoYiksYyxkKX0sTmQ6ZnVuY3Rpb24oYyxkLGUpe2U9ZXx8e307dmFyIGs9ZS5wYXJhbXN8fHt9LGY9ZS5pbmNsdWRlRmllbGRzfHx0aGlzLkljLGw9YztpZihcIm9iamVjdFwiPT10eXBlb2YgYyYmXCJmb3JtXCI9PT1hLmEuUChjKSlmb3IodmFyIGw9Yy5hY3Rpb24saD1mLmxlbmd0aC0xOzA8PWg7aC0tKWZvcih2YXIgZz1hLmEuS2MoYyxmW2hdKSxtPWcubGVuZ3RoLTE7MDw9bTttLS0pa1tnW21dLm5hbWVdPWdbbV0udmFsdWU7ZD1hLmEuYyhkKTt2YXIgbj13LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO24uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtuLmFjdGlvbj1sO24ubWV0aG9kPVwicG9zdFwiO2Zvcih2YXIgcSBpbiBkKWM9dy5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksYy50eXBlPVwiaGlkZGVuXCIsYy5uYW1lPXEsYy52YWx1ZT1hLmEuZmMoYS5hLmMoZFtxXSkpLG4uYXBwZW5kQ2hpbGQoYyk7YihrLGZ1bmN0aW9uKGEsYil7dmFyIGM9dy5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdGMudHlwZT1cImhpZGRlblwiO2MubmFtZT1hO2MudmFsdWU9YjtuLmFwcGVuZENoaWxkKGMpfSk7dy5ib2R5LmFwcGVuZENoaWxkKG4pO2Uuc3VibWl0dGVyP2Uuc3VibWl0dGVyKG4pOm4uc3VibWl0KCk7c2V0VGltZW91dChmdW5jdGlvbigpe24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX0sMCl9fX0oKTthLmIoXCJ1dGlsc1wiLGEuYSk7YS5iKFwidXRpbHMuYXJyYXlGb3JFYWNoXCIsYS5hLkMpO2EuYihcInV0aWxzLmFycmF5Rmlyc3RcIixhLmEuTGIpO2EuYihcInV0aWxzLmFycmF5RmlsdGVyXCIsYS5hLmZiKTthLmIoXCJ1dGlscy5hcnJheUdldERpc3RpbmN0VmFsdWVzXCIsYS5hLnZjKTthLmIoXCJ1dGlscy5hcnJheUluZGV4T2ZcIixhLmEuQSk7YS5iKFwidXRpbHMuYXJyYXlNYXBcIixhLmEuTWIpO2EuYihcInV0aWxzLmFycmF5UHVzaEFsbFwiLGEuYS5nYik7YS5iKFwidXRpbHMuYXJyYXlSZW1vdmVJdGVtXCIsYS5hLmhiKTthLmIoXCJ1dGlscy5jbG9uZU5vZGVzXCIsYS5hLkNhKTthLmIoXCJ1dGlscy5jcmVhdGVTeW1ib2xPclN0cmluZ1wiLFxuXHRhLmEuRGEpO2EuYihcInV0aWxzLmV4dGVuZFwiLGEuYS5leHRlbmQpO2EuYihcInV0aWxzLmZpZWxkc0luY2x1ZGVkV2l0aEpzb25Qb3N0XCIsYS5hLkljKTthLmIoXCJ1dGlscy5nZXRGb3JtRmllbGRzXCIsYS5hLktjKTthLmIoXCJ1dGlscy5vYmplY3RNYXBcIixhLmEuSGEpO2EuYihcInV0aWxzLnBlZWtPYnNlcnZhYmxlXCIsYS5hLiRiKTthLmIoXCJ1dGlscy5wb3N0SnNvblwiLGEuYS5OZCk7YS5iKFwidXRpbHMucGFyc2VKc29uXCIsYS5hLk1kKTthLmIoXCJ1dGlscy5yZWdpc3RlckV2ZW50SGFuZGxlclwiLGEuYS5IKTthLmIoXCJ1dGlscy5zdHJpbmdpZnlKc29uXCIsYS5hLmZjKTthLmIoXCJ1dGlscy5yYW5nZVwiLGEuYS5PZCk7YS5iKFwidXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzXCIsYS5hLkViKTthLmIoXCJ1dGlscy50cmlnZ2VyRXZlbnRcIixhLmEuRmIpO2EuYihcInV0aWxzLnVud3JhcE9ic2VydmFibGVcIixhLmEuYyk7YS5iKFwidXRpbHMub2JqZWN0Rm9yRWFjaFwiLGEuYS5PKTthLmIoXCJ1dGlscy5hZGRPclJlbW92ZUl0ZW1cIixcblx0YS5hLk9hKTthLmIoXCJ1dGlscy5zZXRUZXh0Q29udGVudFwiLGEuYS5BYik7YS5iKFwidW53cmFwXCIsYS5hLmMpO0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcztpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseShhLGFyZ3VtZW50cyl9O3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1kLnNsaWNlKDApO2UucHVzaC5hcHBseShlLGFyZ3VtZW50cyk7cmV0dXJuIGMuYXBwbHkoYSxlKX19KTthLmEuZz1uZXcgZnVuY3Rpb24oKXt2YXIgYj0wLGM9XCJfX2tvX19cIisobmV3IERhdGUpLmdldFRpbWUoKSxkPXt9LGUsZjthLmEuVz8oZT1mdW5jdGlvbihhLGUpe3ZhciBmPWFbY107aWYoIWZ8fFwibnVsbFwiPT09Znx8IWRbZl0pe2lmKCFlKXJldHVybiBwO2Y9YVtjXT1cImtvXCIrYisrO2RbZl09XG5cdHt9fXJldHVybiBkW2ZdfSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWFbY107cmV0dXJuIGI/KGRlbGV0ZSBkW2JdLGFbY109bnVsbCwhMCk6ITF9KTooZT1mdW5jdGlvbihhLGIpe3ZhciBkPWFbY107IWQmJmImJihkPWFbY109e30pO3JldHVybiBkfSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdPyhkZWxldGUgYVtjXSwhMCk6ITF9KTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZShhLCExKTtyZXR1cm4gYyYmY1tiXX0sc2V0OmZ1bmN0aW9uKGEsYixjKXsoYT1lKGEsYyE9PXApKSYmKGFbYl09Yyl9LFRiOmZ1bmN0aW9uKGEsYixjKXthPWUoYSwhMCk7cmV0dXJuIGFbYl18fChhW2JdPWMpfSxjbGVhcjpmLFo6ZnVuY3Rpb24oKXtyZXR1cm4gYisrICtjfX19O2EuYihcInV0aWxzLmRvbURhdGFcIixhLmEuZyk7YS5iKFwidXRpbHMuZG9tRGF0YS5jbGVhclwiLGEuYS5nLmNsZWFyKTthLmEuST1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIsZSk7XG5cdGQ9PT1wJiZjJiYoZD1bXSxhLmEuZy5zZXQoYixlLGQpKTtyZXR1cm4gZH1mdW5jdGlvbiBjKGMpe3ZhciBlPWIoYywhMSk7aWYoZSlmb3IodmFyIGU9ZS5zbGljZSgwKSxmPTA7ZjxlLmxlbmd0aDtmKyspZVtmXShjKTthLmEuZy5jbGVhcihjKTthLmEuSS5jbGVhbkV4dGVybmFsRGF0YShjKTtnW2Mubm9kZVR5cGVdJiZkKGMuY2hpbGROb2RlcywhMCl9ZnVuY3Rpb24gZChiLGQpe2Zvcih2YXIgZT1bXSxrLGY9MDtmPGIubGVuZ3RoO2YrKylpZighZHx8OD09PWJbZl0ubm9kZVR5cGUpaWYoYyhlW2UubGVuZ3RoXT1rPWJbZl0pLGJbZl0hPT1rKWZvcig7Zi0tJiYtMT09YS5hLkEoZSxiW2ZdKTspO312YXIgZT1hLmEuZy5aKCksZj17MTohMCw4OiEwLDk6ITB9LGc9ezE6ITAsOTohMH07cmV0dXJue3phOmZ1bmN0aW9uKGEsYyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYyl0aHJvdyBFcnJvcihcIkNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvblwiKTtiKGEsITApLnB1c2goYyl9LHhiOmZ1bmN0aW9uKGMsXG5cdGQpe3ZhciBmPWIoYywhMSk7ZiYmKGEuYS5oYihmLGQpLDA9PWYubGVuZ3RoJiZhLmEuZy5zZXQoYyxlLHApKX0sbmE6ZnVuY3Rpb24oYSl7ZlthLm5vZGVUeXBlXSYmKGMoYSksZ1thLm5vZGVUeXBlXSYmZChhLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSkpO3JldHVybiBhfSxyZW1vdmVOb2RlOmZ1bmN0aW9uKGIpe2EubmEoYik7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9LGNsZWFuRXh0ZXJuYWxEYXRhOmZ1bmN0aW9uKGEpe3YmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHYuY2xlYW5EYXRhJiZ2LmNsZWFuRGF0YShbYV0pfX19O2EubmE9YS5hLkkubmE7YS5yZW1vdmVOb2RlPWEuYS5JLnJlbW92ZU5vZGU7YS5iKFwiY2xlYW5Ob2RlXCIsYS5uYSk7YS5iKFwicmVtb3ZlTm9kZVwiLGEucmVtb3ZlTm9kZSk7YS5iKFwidXRpbHMuZG9tTm9kZURpc3Bvc2FsXCIsYS5hLkkpO2EuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2tcIixhLmEuSS56YSk7XG5cdGEuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5yZW1vdmVEaXNwb3NlQ2FsbGJhY2tcIixhLmEuSS54Yik7KGZ1bmN0aW9uKCl7dmFyIGI9WzAsXCJcIixcIlwiXSxjPVsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sZD1bMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLGU9WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sZj17dGhlYWQ6Yyx0Ym9keTpjLHRmb290OmMsdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpkLHRoOmQsb3B0aW9uOmUsb3B0Z3JvdXA6ZX0sZz04Pj1hLmEuVzthLmEudGE9ZnVuY3Rpb24oYyxkKXt2YXIgZTtpZih2KWlmKHYucGFyc2VIVE1MKWU9di5wYXJzZUhUTUwoYyxkKXx8W107ZWxzZXtpZigoZT12LmNsZWFuKFtjXSxkKSkmJmVbMF0pe2Zvcih2YXIgaz1lWzBdO2sucGFyZW50Tm9kZSYmMTEhPT1rLnBhcmVudE5vZGUubm9kZVR5cGU7KWs9ay5wYXJlbnROb2RlO1xuXHRrLnBhcmVudE5vZGUmJmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChrKX19ZWxzZXsoZT1kKXx8KGU9dyk7dmFyIGs9ZS5wYXJlbnRXaW5kb3d8fGUuZGVmYXVsdFZpZXd8fHoscT1hLmEuQ2IoYykudG9Mb3dlckNhc2UoKSxuPWUuY3JlYXRlRWxlbWVudChcImRpdlwiKSxyO3I9KHE9cS5tYXRjaCgvXig/OlxceDNjIS0tLio/LS1cXHgzZVxccyo/KSo/PChbYS16XSspW1xccz5dLykpJiZmW3FbMV1dfHxiO3E9clswXTtyPVwiaWdub3JlZDxkaXY+XCIrclsxXStjK3JbMl0rXCI8L2Rpdj5cIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBrLmlubmVyU2hpdj9uLmFwcGVuZENoaWxkKGsuaW5uZXJTaGl2KHIpKTooZyYmZS5ib2R5LmFwcGVuZENoaWxkKG4pLG4uaW5uZXJIVE1MPXIsZyYmbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKTtmb3IoO3EtLTspbj1uLmxhc3RDaGlsZDtlPWEuYS5sYShuLmxhc3RDaGlsZC5jaGlsZE5vZGVzKX1yZXR1cm4gZX07YS5hLkxkPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLnRhKGIsXG5cdGMpO3JldHVybiBkLmxlbmd0aCYmZFswXS5wYXJlbnRFbGVtZW50fHxhLmEuWGIoZCl9O2EuYS5kYz1mdW5jdGlvbihiLGMpe2EuYS5TYihiKTtjPWEuYS5jKGMpO2lmKG51bGwhPT1jJiZjIT09cClpZihcInN0cmluZ1wiIT10eXBlb2YgYyYmKGM9Yy50b1N0cmluZygpKSx2KXYoYikuaHRtbChjKTtlbHNlIGZvcih2YXIgZD1hLmEudGEoYyxiLm93bmVyRG9jdW1lbnQpLGU9MDtlPGQubGVuZ3RoO2UrKyliLmFwcGVuZENoaWxkKGRbZV0pfX0pKCk7YS5iKFwidXRpbHMucGFyc2VIdG1sRnJhZ21lbnRcIixhLmEudGEpO2EuYihcInV0aWxzLnNldEh0bWxcIixhLmEuZGMpO2EuYWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGMsZSl7aWYoYylpZig4PT1jLm5vZGVUeXBlKXt2YXIgZj1hLmFhLlRjKGMubm9kZVZhbHVlKTtudWxsIT1mJiZlLnB1c2goe3NkOmMsSmQ6Zn0pfWVsc2UgaWYoMT09Yy5ub2RlVHlwZSlmb3IodmFyIGY9MCxnPWMuY2hpbGROb2RlcyxoPWcubGVuZ3RoO2Y8aDtmKyspYihnW2ZdLFxuXHRlKX12YXIgYz17fTtyZXR1cm57V2I6ZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBFcnJvcihcIllvdSBjYW4gb25seSBwYXNzIGEgZnVuY3Rpb24gdG8ga28ubWVtb2l6YXRpb24ubWVtb2l6ZSgpXCIpO3ZhciBiPSg0Mjk0OTY3Mjk2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSkrKDQyOTQ5NjcyOTYqKDErTWF0aC5yYW5kb20oKSl8MCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtjW2JdPWE7cmV0dXJuXCJcXHgzYyEtLVtrb19tZW1vOlwiK2IrXCJdLS1cXHgzZVwifSxhZDpmdW5jdGlvbihhLGIpe3ZhciBmPWNbYV07aWYoZj09PXApdGhyb3cgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGFueSBtZW1vIHdpdGggSUQgXCIrYStcIi4gUGVyaGFwcyBpdCdzIGFscmVhZHkgYmVlbiB1bm1lbW9pemVkLlwiKTt0cnl7cmV0dXJuIGYuYXBwbHkobnVsbCxifHxbXSksITB9ZmluYWxseXtkZWxldGUgY1thXX19LGJkOmZ1bmN0aW9uKGMsZSl7dmFyIGY9XG5cdFtdO2IoYyxmKTtmb3IodmFyIGc9MCxoPWYubGVuZ3RoO2c8aDtnKyspe3ZhciBtPWZbZ10uc2QsbD1bbV07ZSYmYS5hLmdiKGwsZSk7YS5hYS5hZChmW2ddLkpkLGwpO20ubm9kZVZhbHVlPVwiXCI7bS5wYXJlbnROb2RlJiZtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobSl9fSxUYzpmdW5jdGlvbihhKXtyZXR1cm4oYT1hLm1hdGNoKC9eXFxba29fbWVtb1xcOiguKj8pXFxdJC8pKT9hWzFdOm51bGx9fX0oKTthLmIoXCJtZW1vaXphdGlvblwiLGEuYWEpO2EuYihcIm1lbW9pemF0aW9uLm1lbW9pemVcIixhLmFhLldiKTthLmIoXCJtZW1vaXphdGlvbi51bm1lbW9pemVcIixhLmFhLmFkKTthLmIoXCJtZW1vaXphdGlvbi5wYXJzZU1lbW9UZXh0XCIsYS5hYS5UYyk7YS5iKFwibWVtb2l6YXRpb24udW5tZW1vaXplRG9tTm9kZUFuZERlc2NlbmRhbnRzXCIsYS5hYS5iZCk7YS5tYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtpZihmKWZvcih2YXIgYj1mLGM9MCxkO2g8ZjspaWYoZD1lW2grK10pe2lmKGg+Yil7aWYoNUUzPD1cblx0KytjKXtoPWY7YS5hLkZjKEVycm9yKFwiJ1RvbyBtdWNoIHJlY3Vyc2lvbicgYWZ0ZXIgcHJvY2Vzc2luZyBcIitjK1wiIHRhc2sgZ3JvdXBzLlwiKSk7YnJlYWt9Yj1mfXRyeXtkKCl9Y2F0Y2goZyl7YS5hLkZjKGcpfX19ZnVuY3Rpb24gYygpe2IoKTtoPWY9ZS5sZW5ndGg9MH12YXIgZCxlPVtdLGY9MCxnPTEsaD0wO3ouTXV0YXRpb25PYnNlcnZlcj9kPWZ1bmN0aW9uKGEpe3ZhciBiPXcuY3JlYXRlRWxlbWVudChcImRpdlwiKTsobmV3IE11dGF0aW9uT2JzZXJ2ZXIoYSkpLm9ic2VydmUoYix7YXR0cmlidXRlczohMH0pO3JldHVybiBmdW5jdGlvbigpe2IuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKX19KGMpOmQ9dyYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIHcuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbihhKXt2YXIgYj13LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3cuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGIpO1xuXHRiPW51bGw7YSgpfTt3LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfTtyZXR1cm57c2NoZWR1bGVyOmQseWI6ZnVuY3Rpb24oYil7Znx8YS5tYS5zY2hlZHVsZXIoYyk7ZVtmKytdPWI7cmV0dXJuIGcrK30sY2FuY2VsOmZ1bmN0aW9uKGEpe2E9YS0oZy1mKTthPj1oJiZhPGYmJihlW2FdPW51bGwpfSxyZXNldEZvclRlc3Rpbmc6ZnVuY3Rpb24oKXt2YXIgYT1mLWg7aD1mPWUubGVuZ3RoPTA7cmV0dXJuIGF9LFJkOmJ9fSgpO2EuYihcInRhc2tzXCIsYS5tYSk7YS5iKFwidGFza3Muc2NoZWR1bGVcIixhLm1hLnliKTthLmIoXCJ0YXNrcy5ydW5FYXJseVwiLGEubWEuUmQpO2EuVGE9e3Rocm90dGxlOmZ1bmN0aW9uKGIsYyl7Yi50aHJvdHRsZUV2YWx1YXRpb249Yzt2YXIgZD1udWxsO3JldHVybiBhLiQoe3JlYWQ6Yix3cml0ZTpmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZCk7ZD1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IoZSl9LFxuXHRjKX19KX0scmF0ZUxpbWl0OmZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxmO1wibnVtYmVyXCI9PXR5cGVvZiBjP2Q9YzooZD1jLnRpbWVvdXQsZT1jLm1ldGhvZCk7YS5IYj0hMTtmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpcIm5vdGlmeVdoZW5DaGFuZ2VzU3RvcFwiPT1lP1k6WDthLnRiKGZ1bmN0aW9uKGEpe3JldHVybiBmKGEsZCxjKX0pfSxkZWZlcnJlZDpmdW5jdGlvbihiLGMpe2lmKCEwIT09Yyl0aHJvdyBFcnJvcihcIlRoZSAnZGVmZXJyZWQnIGV4dGVuZGVyIG9ubHkgYWNjZXB0cyB0aGUgdmFsdWUgJ3RydWUnLCBiZWNhdXNlIGl0IGlzIG5vdCBzdXBwb3J0ZWQgdG8gdHVybiBkZWZlcnJhbCBvZmYgb25jZSBlbmFibGVkLlwiKTtiLkhifHwoYi5IYj0hMCxiLnRiKGZ1bmN0aW9uKGMpe3ZhciBlLGY9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIWYpe2EubWEuY2FuY2VsKGUpO2U9YS5tYS55YihjKTt0cnl7Zj0hMCxiLm5vdGlmeVN1YnNjcmliZXJzKHAsXCJkaXJ0eVwiKX1maW5hbGx5e2Y9XG5cdCExfX19fSkpfSxub3RpZnk6ZnVuY3Rpb24oYSxjKXthLmVxdWFsaXR5Q29tcGFyZXI9XCJhbHdheXNcIj09Yz9udWxsOkt9fTt2YXIgVz17dW5kZWZpbmVkOjEsXCJib29sZWFuXCI6MSxudW1iZXI6MSxzdHJpbmc6MX07YS5iKFwiZXh0ZW5kZXJzXCIsYS5UYSk7YS5nYz1mdW5jdGlvbihiLGMsZCl7dGhpcy5kYT1iO3RoaXMua2M9Yzt0aGlzLmxjPWQ7dGhpcy5JYj0hMTt0aGlzLmFiPXRoaXMuSmI9bnVsbDthLkoodGhpcyxcImRpc3Bvc2VcIix0aGlzLnMpO2EuSih0aGlzLFwiZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkXCIsdGhpcy5sKX07YS5nYy5wcm90b3R5cGUucz1mdW5jdGlvbigpe3RoaXMuSWJ8fCh0aGlzLmFiJiZhLmEuSS54Yih0aGlzLkpiLHRoaXMuYWIpLHRoaXMuSWI9ITAsdGhpcy5sYygpLHRoaXMuZGE9dGhpcy5rYz10aGlzLmxjPXRoaXMuSmI9dGhpcy5hYj1udWxsKX07YS5nYy5wcm90b3R5cGUubD1mdW5jdGlvbihiKXt0aGlzLkpiPWI7YS5hLkkuemEoYix0aGlzLmFiPXRoaXMucy5iaW5kKHRoaXMpKX07XG5cdGEuUj1mdW5jdGlvbigpe2EuYS56Yih0aGlzLEQpO0Qub2IodGhpcyl9O3ZhciBEPXtvYjpmdW5jdGlvbihhKXthLlM9e2NoYW5nZTpbXX07YS5yYz0xfSxzdWJzY3JpYmU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7ZD1kfHxcImNoYW5nZVwiO3ZhciBmPW5ldyBhLmdjKGUsYz9iLmJpbmQoYyk6YixmdW5jdGlvbigpe2EuYS5oYihlLlNbZF0sZik7ZS5jYiYmZS5jYihkKX0pO2UuUWEmJmUuUWEoZCk7ZS5TW2RdfHwoZS5TW2RdPVtdKTtlLlNbZF0ucHVzaChmKTtyZXR1cm4gZn0sbm90aWZ5U3Vic2NyaWJlcnM6ZnVuY3Rpb24oYixjKXtjPWN8fFwiY2hhbmdlXCI7XCJjaGFuZ2VcIj09PWMmJnRoaXMuR2IoKTtpZih0aGlzLldhKGMpKXt2YXIgZD1cImNoYW5nZVwiPT09YyYmdGhpcy5kZHx8dGhpcy5TW2NdLnNsaWNlKDApO3RyeXthLnYud2MoKTtmb3IodmFyIGU9MCxmO2Y9ZFtlXTsrK2UpZi5JYnx8Zi5rYyhiKX1maW5hbGx5e2Eudi5lbmQoKX19fSxtYjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJjfSxcblx0Q2Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWIoKSE9PWF9LEdiOmZ1bmN0aW9uKCl7Kyt0aGlzLnJjfSx0YjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9YS5OKGMpLGUsZixnLGgsbTtjLmJifHwoYy5iYj1jLm5vdGlmeVN1YnNjcmliZXJzLGMubm90aWZ5U3Vic2NyaWJlcnM9Wik7dmFyIGw9YihmdW5jdGlvbigpe2MuS2E9ITE7ZCYmaD09PWMmJihoPWMubWM/Yy5tYygpOmMoKSk7dmFyIGE9Znx8bSYmYy5xYihnLGgpO209Zj1lPSExO2EmJmMuYmIoZz1oKX0pO2MucGM9ZnVuY3Rpb24oYSxiKXtiJiZjLkthfHwobT0hYik7Yy5kZD1jLlMuY2hhbmdlLnNsaWNlKDApO2MuS2E9ZT0hMDtoPWE7bCgpfTtjLm9jPWZ1bmN0aW9uKGEpe2V8fChnPWEsYy5iYihhLFwiYmVmb3JlQ2hhbmdlXCIpKX07Yy5xYz1mdW5jdGlvbigpe209ITB9O2MuZmQ9ZnVuY3Rpb24oKXtjLnFiKGcsYy53KCEwKSkmJihmPSEwKX19LFdhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlNbYV0mJnRoaXMuU1thXS5sZW5ndGh9LFxuXHRBZDpmdW5jdGlvbihiKXtpZihiKXJldHVybiB0aGlzLlNbYl0mJnRoaXMuU1tiXS5sZW5ndGh8fDA7dmFyIGM9MDthLmEuTyh0aGlzLlMsZnVuY3Rpb24oYSxiKXtcImRpcnR5XCIhPT1hJiYoYys9Yi5sZW5ndGgpfSk7cmV0dXJuIGN9LHFiOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIXRoaXMuZXF1YWxpdHlDb21wYXJlcnx8IXRoaXMuZXF1YWxpdHlDb21wYXJlcihhLGMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCJ9LGV4dGVuZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2ImJmEuYS5PKGIsZnVuY3Rpb24oYixlKXt2YXIgZj1hLlRhW2JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGYmJihjPWYoYyxlKXx8Yyl9KTtyZXR1cm4gY319O2EuSihELFwiaW5pdFwiLEQub2IpO2EuSihELFwic3Vic2NyaWJlXCIsRC5zdWJzY3JpYmUpO2EuSihELFwiZXh0ZW5kXCIsRC5leHRlbmQpO2EuSihELFwiZ2V0U3Vic2NyaXB0aW9uc0NvdW50XCIsRC5BZCk7YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRCxcblx0RnVuY3Rpb24ucHJvdG90eXBlKTthLlIuZm49RDthLlBjPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnN1YnNjcmliZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5ub3RpZnlTdWJzY3JpYmVyc307YS5iKFwic3Vic2NyaWJhYmxlXCIsYS5SKTthLmIoXCJpc1N1YnNjcmliYWJsZVwiLGEuUGMpO2EuVT1hLnY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe2QucHVzaChlKTtlPWF9ZnVuY3Rpb24gYygpe2U9ZC5wb3AoKX12YXIgZD1bXSxlLGY9MDtyZXR1cm57d2M6YixlbmQ6YyxhYzpmdW5jdGlvbihiKXtpZihlKXtpZighYS5QYyhiKSl0aHJvdyBFcnJvcihcIk9ubHkgc3Vic2NyaWJhYmxlIHRoaW5ncyBjYW4gYWN0IGFzIGRlcGVuZGVuY2llc1wiKTtlLm5kLmNhbGwoZS5vZCxiLGIuZWR8fChiLmVkPSsrZikpfX0sSzpmdW5jdGlvbihhLGQsZSl7dHJ5e3JldHVybiBiKCksYS5hcHBseShkLGV8fFtdKX1maW5hbGx5e2MoKX19LHBhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vLnBhKCl9LFxuXHRWYTpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUuby5WYSgpfSxyYjpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUucmJ9LG86ZnVuY3Rpb24oKXtpZihlKXJldHVybiBlLm99fX0oKTthLmIoXCJjb21wdXRlZENvbnRleHRcIixhLlUpO2EuYihcImNvbXB1dGVkQ29udGV4dC5nZXREZXBlbmRlbmNpZXNDb3VudFwiLGEuVS5wYSk7YS5iKFwiY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc1wiLGEuVS5WYSk7YS5iKFwiY29tcHV0ZWRDb250ZXh0LmlzSW5pdGlhbFwiLGEuVS5yYik7YS5iKFwiY29tcHV0ZWRDb250ZXh0LnJlZ2lzdGVyRGVwZW5kZW5jeVwiLGEuVS5hYyk7YS5iKFwiaWdub3JlRGVwZW5kZW5jaWVzXCIsYS5XZD1hLnYuSyk7dmFyIEk9YS5hLkRhKFwiX2xhdGVzdFZhbHVlXCIpO2Euc2E9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe2lmKDA8YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYy5xYihjW0ldLGFyZ3VtZW50c1swXSkmJihjLnhhKCksY1tJXT1hcmd1bWVudHNbMF0sYy53YSgpKSx0aGlzO1xuXHRhLnYuYWMoYyk7cmV0dXJuIGNbSV19Y1tJXT1iO2EuYS5CYXx8YS5hLmV4dGVuZChjLGEuUi5mbik7YS5SLmZuLm9iKGMpO2EuYS56YihjLEYpO2Eub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEuVGEuZGVmZXJyZWQoYywhMCk7cmV0dXJuIGN9O3ZhciBGPXtlcXVhbGl0eUNvbXBhcmVyOkssdzpmdW5jdGlvbigpe3JldHVybiB0aGlzW0ldfSx3YTpmdW5jdGlvbigpe3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSxcInNwZWN0YXRlXCIpO3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSl9LHhhOmZ1bmN0aW9uKCl7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldLFwiYmVmb3JlQ2hhbmdlXCIpfX07YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRixhLlIuZm4pO3ZhciBHPWEuc2EuTmE9XCJfX2tvX3Byb3RvX19cIjtGW0ddPWEuc2E7YS5OPWZ1bmN0aW9uKGIpe2lmKChiPVwiZnVuY3Rpb25cIj09dHlwZW9mIGImJmJbR10pJiZiIT09RltHXSYmYiE9PWEuby5mbltHXSl0aHJvdyBFcnJvcihcIkludmFsaWQgb2JqZWN0IHRoYXQgbG9va3MgbGlrZSBhbiBvYnNlcnZhYmxlOyBwb3NzaWJseSBmcm9tIGFub3RoZXIgS25vY2tvdXQgaW5zdGFuY2VcIik7XG5cdHJldHVybiEhYn07YS5ZYT1mdW5jdGlvbihiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoYltHXT09PUZbR118fGJbR109PT1hLm8uZm5bR10mJmIuTWMpfTthLmIoXCJvYnNlcnZhYmxlXCIsYS5zYSk7YS5iKFwiaXNPYnNlcnZhYmxlXCIsYS5OKTthLmIoXCJpc1dyaXRlYWJsZU9ic2VydmFibGVcIixhLllhKTthLmIoXCJpc1dyaXRhYmxlT2JzZXJ2YWJsZVwiLGEuWWEpO2EuYihcIm9ic2VydmFibGUuZm5cIixGKTthLkooRixcInBlZWtcIixGLncpO2EuSihGLFwidmFsdWVIYXNNdXRhdGVkXCIsRi53YSk7YS5KKEYsXCJ2YWx1ZVdpbGxNdXRhdGVcIixGLnhhKTthLklhPWZ1bmN0aW9uKGIpe2I9Ynx8W107aWYoXCJvYmplY3RcIiE9dHlwZW9mIGJ8fCEoXCJsZW5ndGhcImluIGIpKXRocm93IEVycm9yKFwiVGhlIGFyZ3VtZW50IHBhc3NlZCB3aGVuIGluaXRpYWxpemluZyBhbiBvYnNlcnZhYmxlIGFycmF5IG11c3QgYmUgYW4gYXJyYXksIG9yIG51bGwsIG9yIHVuZGVmaW5lZC5cIik7Yj1hLnNhKGIpO2EuYS56YihiLFxuXHRhLklhLmZuKTtyZXR1cm4gYi5leHRlbmQoe3RyYWNrQXJyYXlDaGFuZ2VzOiEwfSl9O2EuSWEuZm49e3JlbW92ZTpmdW5jdGlvbihiKXtmb3IodmFyIGM9dGhpcy53KCksZD1bXSxlPVwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fGEuTihiKT9mdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9OmIsZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZz1jW2ZdO2lmKGUoZykpezA9PT1kLmxlbmd0aCYmdGhpcy54YSgpO2lmKGNbZl0hPT1nKXRocm93IEVycm9yKFwiQXJyYXkgbW9kaWZpZWQgZHVyaW5nIHJlbW92ZTsgY2Fubm90IHJlbW92ZSBpdGVtXCIpO2QucHVzaChnKTtjLnNwbGljZShmLDEpO2YtLX19ZC5sZW5ndGgmJnRoaXMud2EoKTtyZXR1cm4gZH0scmVtb3ZlQWxsOmZ1bmN0aW9uKGIpe2lmKGI9PT1wKXt2YXIgYz10aGlzLncoKSxkPWMuc2xpY2UoMCk7dGhpcy54YSgpO2Muc3BsaWNlKDAsYy5sZW5ndGgpO3RoaXMud2EoKTtyZXR1cm4gZH1yZXR1cm4gYj90aGlzLnJlbW92ZShmdW5jdGlvbihjKXtyZXR1cm4gMDw9XG5cdGEuYS5BKGIsYyl9KTpbXX0sZGVzdHJveTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLncoKSxkPVwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fGEuTihiKT9mdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9OmI7dGhpcy54YSgpO2Zvcih2YXIgZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgZj1jW2VdO2QoZikmJihmLl9kZXN0cm95PSEwKX10aGlzLndhKCl9LGRlc3Ryb3lBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1wP3RoaXMuZGVzdHJveShmdW5jdGlvbigpe3JldHVybiEwfSk6Yj90aGlzLmRlc3Ryb3koZnVuY3Rpb24oYyl7cmV0dXJuIDA8PWEuYS5BKGIsYyl9KTpbXX0saW5kZXhPZjpmdW5jdGlvbihiKXt2YXIgYz10aGlzKCk7cmV0dXJuIGEuYS5BKGMsYil9LHJlcGxhY2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmluZGV4T2YoYSk7MDw9ZCYmKHRoaXMueGEoKSx0aGlzLncoKVtkXT1jLHRoaXMud2EoKSl9LHNvcnRlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzKCkuc2xpY2UoMCk7XG5cdHJldHVybiBhP2Muc29ydChhKTpjLnNvcnQoKX0scmV2ZXJzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpLnNsaWNlKDApLnJldmVyc2UoKX19O2EuYS5CYSYmYS5hLnNldFByb3RvdHlwZU9mKGEuSWEuZm4sYS5zYS5mbik7YS5hLkMoXCJwb3AgcHVzaCByZXZlcnNlIHNoaWZ0IHNvcnQgc3BsaWNlIHVuc2hpZnRcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYil7YS5JYS5mbltiXT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudygpO3RoaXMueGEoKTt0aGlzLnljKGEsYixhcmd1bWVudHMpO3ZhciBkPWFbYl0uYXBwbHkoYSxhcmd1bWVudHMpO3RoaXMud2EoKTtyZXR1cm4gZD09PWE/dGhpczpkfX0pO2EuYS5DKFtcInNsaWNlXCJdLGZ1bmN0aW9uKGIpe2EuSWEuZm5bYl09ZnVuY3Rpb24oKXt2YXIgYT10aGlzKCk7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0pO2EuT2M9ZnVuY3Rpb24oYil7cmV0dXJuIGEuTihiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYi5yZW1vdmUmJlwiZnVuY3Rpb25cIj09XG5cdHR5cGVvZiBiLnB1c2h9O2EuYihcIm9ic2VydmFibGVBcnJheVwiLGEuSWEpO2EuYihcImlzT2JzZXJ2YWJsZUFycmF5XCIsYS5PYyk7YS5UYS50cmFja0FycmF5Q2hhbmdlcz1mdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXtmdW5jdGlvbiBjKCl7aWYoaCl7dmFyIGQ9W10uY29uY2F0KGIudygpfHxbXSk7aWYoYi5XYShcImFycmF5Q2hhbmdlXCIpKXt2YXIgZTtpZighZnx8MTxoKWY9YS5hLk9iKG0sZCxiLk5iKTtlPWZ9bT1kO2Y9bnVsbDtoPTA7ZSYmZS5sZW5ndGgmJmIubm90aWZ5U3Vic2NyaWJlcnMoZSxcImFycmF5Q2hhbmdlXCIpfX1lP2MoKTooZT0hMCxsPWIubm90aWZ5U3Vic2NyaWJlcnMsYi5ub3RpZnlTdWJzY3JpYmVycz1mdW5jdGlvbihhLGIpe2ImJlwiY2hhbmdlXCIhPT1ifHwrK2g7cmV0dXJuIGwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxtPVtdLmNvbmNhdChiLncoKXx8W10pLGY9bnVsbCxnPWIuc3Vic2NyaWJlKGMpKX1iLk5iPXt9O2MmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiZhLmEuZXh0ZW5kKGIuTmIsXG5cdGMpO2IuTmIuc3BhcnNlPSEwO2lmKCFiLnljKXt2YXIgZT0hMSxmPW51bGwsZyxoPTAsbSxsLGs9Yi5RYSxxPWIuY2I7Yi5RYT1mdW5jdGlvbihhKXtrJiZrLmNhbGwoYixhKTtcImFycmF5Q2hhbmdlXCI9PT1hJiZkKCl9O2IuY2I9ZnVuY3Rpb24oYSl7cSYmcS5jYWxsKGIsYSk7XCJhcnJheUNoYW5nZVwiIT09YXx8Yi5XYShcImFycmF5Q2hhbmdlXCIpfHwobCYmKGIubm90aWZ5U3Vic2NyaWJlcnM9bCxsPXApLGcmJmcucygpLGc9bnVsbCxlPSExLG09cCl9O2IueWM9ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGsoYSxiLGMpe3JldHVybiBsW2wubGVuZ3RoXT17c3RhdHVzOmEsdmFsdWU6YixpbmRleDpjfX1pZihlJiYhaCl7dmFyIGw9W10sZz1iLmxlbmd0aCxxPWQubGVuZ3RoLG09MDtzd2l0Y2goYyl7Y2FzZSBcInB1c2hcIjptPWc7Y2FzZSBcInVuc2hpZnRcIjpmb3IoYz0wO2M8cTtjKyspayhcImFkZGVkXCIsZFtjXSxtK2MpO2JyZWFrO2Nhc2UgXCJwb3BcIjptPWctMTtjYXNlIFwic2hpZnRcIjpnJiZcblx0ayhcImRlbGV0ZWRcIixiW21dLG0pO2JyZWFrO2Nhc2UgXCJzcGxpY2VcIjpjPU1hdGgubWluKE1hdGgubWF4KDAsMD5kWzBdP2crZFswXTpkWzBdKSxnKTtmb3IodmFyIGc9MT09PXE/ZzpNYXRoLm1pbihjKyhkWzFdfHwwKSxnKSxxPWMrcS0yLG09TWF0aC5tYXgoZyxxKSxVPVtdLEw9W10scD0yO2M8bTsrK2MsKytwKWM8ZyYmTC5wdXNoKGsoXCJkZWxldGVkXCIsYltjXSxjKSksYzxxJiZVLnB1c2goayhcImFkZGVkXCIsZFtwXSxjKSk7YS5hLkpjKEwsVSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59Zj1sfX19fTt2YXIgdD1hLmEuRGEoXCJfc3RhdGVcIik7YS5vPWEuJD1mdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZSgpe2lmKDA8YXJndW1lbnRzLmxlbmd0aCl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGYpZi5hcHBseShnLmxiLGFyZ3VtZW50cyk7ZWxzZSB0aHJvdyBFcnJvcihcIkNhbm5vdCB3cml0ZSBhIHZhbHVlIHRvIGEga28uY29tcHV0ZWQgdW5sZXNzIHlvdSBzcGVjaWZ5IGEgJ3dyaXRlJyBvcHRpb24uIElmIHlvdSB3aXNoIHRvIHJlYWQgdGhlIGN1cnJlbnQgdmFsdWUsIGRvbid0IHBhc3MgYW55IHBhcmFtZXRlcnMuXCIpO1xuXHRyZXR1cm4gdGhpc31nLnFhfHxhLnYuYWMoZSk7KGcua2F8fGcuRyYmZS5YYSgpKSYmZS5oYSgpO3JldHVybiBnLlh9XCJvYmplY3RcIj09PXR5cGVvZiBiP2Q9YjooZD1kfHx7fSxiJiYoZC5yZWFkPWIpKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBkLnJlYWQpdGhyb3cgRXJyb3IoXCJQYXNzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUga28uY29tcHV0ZWRcIik7dmFyIGY9ZC53cml0ZSxnPXtYOnAscmE6ITAsa2E6ITAscGI6ITEsaGM6ITEscWE6ITEsdmI6ITEsRzohMSxWYzpkLnJlYWQsbGI6Y3x8ZC5vd25lcixsOmQuZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkfHxkLmx8fG51bGwsU2E6ZC5kaXNwb3NlV2hlbnx8ZC5TYSxRYjpudWxsLEY6e30sVjowLEhjOm51bGx9O2VbdF09ZztlLk1jPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmO2EuYS5CYXx8YS5hLmV4dGVuZChlLGEuUi5mbik7YS5SLmZuLm9iKGUpO2EuYS56YihlLEMpO2QucHVyZT8oZy52Yj0hMCxnLkc9ITAsXG5cdGEuYS5leHRlbmQoZSxkYSkpOmQuZGVmZXJFdmFsdWF0aW9uJiZhLmEuZXh0ZW5kKGUsZWEpO2Eub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEuVGEuZGVmZXJyZWQoZSwhMCk7Zy5sJiYoZy5oYz0hMCxnLmwubm9kZVR5cGV8fChnLmw9bnVsbCkpO2cuR3x8ZC5kZWZlckV2YWx1YXRpb258fGUuaGEoKTtnLmwmJmUuamEoKSYmYS5hLkkuemEoZy5sLGcuUWI9ZnVuY3Rpb24oKXtlLnMoKX0pO3JldHVybiBlfTt2YXIgQz17ZXF1YWxpdHlDb21wYXJlcjpLLHBhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF0uVn0sVmE6ZnVuY3Rpb24oKXt2YXIgYj1bXTthLmEuTyh0aGlzW3RdLkYsZnVuY3Rpb24oYSxkKXtiW2QuTGFdPWQuZGF9KTtyZXR1cm4gYn0sVWI6ZnVuY3Rpb24oYil7aWYoIXRoaXNbdF0uVilyZXR1cm4hMTt2YXIgYz10aGlzLlZhKCk7cmV0dXJuLTEhPT1hLmEuQShjLGIpPyEwOiEhYS5hLkxiKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuVWImJmEuVWIoYil9KX0sdGM6ZnVuY3Rpb24oYSxcblx0YyxkKXtpZih0aGlzW3RdLnZiJiZjPT09dGhpcyl0aHJvdyBFcnJvcihcIkEgJ3B1cmUnIGNvbXB1dGVkIG11c3Qgbm90IGJlIGNhbGxlZCByZWN1cnNpdmVseVwiKTt0aGlzW3RdLkZbYV09ZDtkLkxhPXRoaXNbdF0uVisrO2QuTWE9Yy5tYigpfSxYYTpmdW5jdGlvbigpe3ZhciBhLGMsZD10aGlzW3RdLkY7Zm9yKGEgaW4gZClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxhKSYmKGM9ZFthXSx0aGlzLkphJiZjLmRhLkthfHxjLmRhLkNkKGMuTWEpKSlyZXR1cm4hMH0sSWQ6ZnVuY3Rpb24oKXt0aGlzLkphJiYhdGhpc1t0XS5wYiYmdGhpcy5KYSghMSl9LGphOmZ1bmN0aW9uKCl7dmFyIGE9dGhpc1t0XTtyZXR1cm4gYS5rYXx8MDxhLlZ9LFFkOmZ1bmN0aW9uKCl7dGhpcy5LYT90aGlzW3RdLmthJiYodGhpc1t0XS5yYT0hMCk6dGhpcy5HYygpfSxaYzpmdW5jdGlvbihhKXtpZihhLkhiKXt2YXIgYz1hLnN1YnNjcmliZSh0aGlzLklkLHRoaXMsXCJkaXJ0eVwiKSxcblx0ZD1hLnN1YnNjcmliZSh0aGlzLlFkLHRoaXMpO3JldHVybntkYTphLHM6ZnVuY3Rpb24oKXtjLnMoKTtkLnMoKX19fXJldHVybiBhLnN1YnNjcmliZSh0aGlzLkdjLHRoaXMpfSxHYzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLnRocm90dGxlRXZhbHVhdGlvbjtjJiYwPD1jPyhjbGVhclRpbWVvdXQodGhpc1t0XS5IYyksdGhpc1t0XS5IYz1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IuaGEoITApfSxjKSk6Yi5KYT9iLkphKCEwKTpiLmhhKCEwKX0saGE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1t0XSxkPWMuU2EsZT0hMTtpZighYy5wYiYmIWMucWEpe2lmKGMubCYmIWEuYS5SYihjLmwpfHxkJiZkKCkpe2lmKCFjLmhjKXt0aGlzLnMoKTtyZXR1cm59fWVsc2UgYy5oYz0hMTtjLnBiPSEwO3RyeXtlPXRoaXMueWQoYil9ZmluYWxseXtjLnBiPSExfXJldHVybiBlfX0seWQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1t0XSxkPSExLGU9Yy52Yj9wOiFjLlYsZD17cGQ6dGhpcyxrYjpjLkYsXG5cdFBiOmMuVn07YS52LndjKHtvZDpkLG5kOmJhLG86dGhpcyxyYjplfSk7Yy5GPXt9O2MuVj0wO3ZhciBmPXRoaXMueGQoYyxkKTtjLlY/ZD10aGlzLnFiKGMuWCxmKToodGhpcy5zKCksZD0hMCk7ZCYmKGMuRz90aGlzLkdiKCk6dGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJiZWZvcmVDaGFuZ2VcIiksYy5YPWYsdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJzcGVjdGF0ZVwiKSwhYy5HJiZiJiZ0aGlzLm5vdGlmeVN1YnNjcmliZXJzKGMuWCksdGhpcy5xYyYmdGhpcy5xYygpKTtlJiZ0aGlzLm5vdGlmeVN1YnNjcmliZXJzKGMuWCxcImF3YWtlXCIpO3JldHVybiBkfSx4ZDpmdW5jdGlvbihiLGMpe3RyeXt2YXIgZD1iLlZjO3JldHVybiBiLmxiP2QuY2FsbChiLmxiKTpkKCl9ZmluYWxseXthLnYuZW5kKCksYy5QYiYmIWIuRyYmYS5hLk8oYy5rYixhYSksYi5yYT1iLmthPSExfX0sdzpmdW5jdGlvbihhKXt2YXIgYz10aGlzW3RdOyhjLmthJiYoYXx8IWMuVil8fGMuRyYmdGhpcy5YYSgpKSYmXG5cdHRoaXMuaGEoKTtyZXR1cm4gYy5YfSx0YjpmdW5jdGlvbihiKXthLlIuZm4udGIuY2FsbCh0aGlzLGIpO3RoaXMubWM9ZnVuY3Rpb24oKXt0aGlzW3RdLkd8fCh0aGlzW3RdLnJhP3RoaXMuaGEoKTp0aGlzW3RdLmthPSExKTtyZXR1cm4gdGhpc1t0XS5YfTt0aGlzLkphPWZ1bmN0aW9uKGEpe3RoaXMub2ModGhpc1t0XS5YKTt0aGlzW3RdLmthPSEwO2EmJih0aGlzW3RdLnJhPSEwKTt0aGlzLnBjKHRoaXMsIWEpfX0sczpmdW5jdGlvbigpe3ZhciBiPXRoaXNbdF07IWIuRyYmYi5GJiZhLmEuTyhiLkYsZnVuY3Rpb24oYSxiKXtiLnMmJmIucygpfSk7Yi5sJiZiLlFiJiZhLmEuSS54YihiLmwsYi5RYik7Yi5GPXA7Yi5WPTA7Yi5xYT0hMDtiLnJhPSExO2Iua2E9ITE7Yi5HPSExO2IubD1wO2IuU2E9cDtiLlZjPXA7dGhpcy5NY3x8KGIubGI9cCl9fSxkYT17UWE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWNbdF07aWYoIWQucWEmJmQuRyYmXCJjaGFuZ2VcIj09Yil7ZC5HPSExO2lmKGQucmF8fFxuXHRjLlhhKCkpZC5GPW51bGwsZC5WPTAsYy5oYSgpJiZjLkdiKCk7ZWxzZXt2YXIgZT1bXTthLmEuTyhkLkYsZnVuY3Rpb24oYSxiKXtlW2IuTGFdPWF9KTthLmEuQyhlLGZ1bmN0aW9uKGEsYil7dmFyIGU9ZC5GW2FdLG09Yy5aYyhlLmRhKTttLkxhPWI7bS5NYT1lLk1hO2QuRlthXT1tfSk7Yy5YYSgpJiZjLmhhKCkmJmMuR2IoKX1kLnFhfHxjLm5vdGlmeVN1YnNjcmliZXJzKGQuWCxcImF3YWtlXCIpfX0sY2I6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1t0XTtjLnFhfHxcImNoYW5nZVwiIT1ifHx0aGlzLldhKFwiY2hhbmdlXCIpfHwoYS5hLk8oYy5GLGZ1bmN0aW9uKGEsYil7Yi5zJiYoYy5GW2FdPXtkYTpiLmRhLExhOmIuTGEsTWE6Yi5NYX0sYi5zKCkpfSksYy5HPSEwLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMocCxcImFzbGVlcFwiKSl9LG1iOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1t0XTtiLkcmJihiLnJhfHx0aGlzLlhhKCkpJiZ0aGlzLmhhKCk7cmV0dXJuIGEuUi5mbi5tYi5jYWxsKHRoaXMpfX0sXG5cdGVhPXtRYTpmdW5jdGlvbihhKXtcImNoYW5nZVwiIT1hJiZcImJlZm9yZUNoYW5nZVwiIT1hfHx0aGlzLncoKX19O2EuYS5CYSYmYS5hLnNldFByb3RvdHlwZU9mKEMsYS5SLmZuKTt2YXIgTj1hLnNhLk5hO0NbTl09YS5vO2EuTmM9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYVtOXT09PUNbTl19O2EuRWQ9ZnVuY3Rpb24oYil7cmV0dXJuIGEuTmMoYikmJmJbdF0mJmJbdF0udmJ9O2EuYihcImNvbXB1dGVkXCIsYS5vKTthLmIoXCJkZXBlbmRlbnRPYnNlcnZhYmxlXCIsYS5vKTthLmIoXCJpc0NvbXB1dGVkXCIsYS5OYyk7YS5iKFwiaXNQdXJlQ29tcHV0ZWRcIixhLkVkKTthLmIoXCJjb21wdXRlZC5mblwiLEMpO2EuSihDLFwicGVla1wiLEMudyk7YS5KKEMsXCJkaXNwb3NlXCIsQy5zKTthLkooQyxcImlzQWN0aXZlXCIsQy5qYSk7YS5KKEMsXCJnZXREZXBlbmRlbmNpZXNDb3VudFwiLEMucGEpO2EuSihDLFwiZ2V0RGVwZW5kZW5jaWVzXCIsQy5WYSk7YS53Yj1mdW5jdGlvbihiLGMpe2lmKFwiZnVuY3Rpb25cIj09PVxuXHR0eXBlb2YgYilyZXR1cm4gYS5vKGIsYyx7cHVyZTohMH0pO2I9YS5hLmV4dGVuZCh7fSxiKTtiLnB1cmU9ITA7cmV0dXJuIGEubyhiLGMpfTthLmIoXCJwdXJlQ29tcHV0ZWRcIixhLndiKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsZixnKXtnPWd8fG5ldyBkO2E9ZihhKTtpZihcIm9iamVjdFwiIT10eXBlb2YgYXx8bnVsbD09PWF8fGE9PT1wfHxhIGluc3RhbmNlb2YgUmVnRXhwfHxhIGluc3RhbmNlb2YgRGF0ZXx8YSBpbnN0YW5jZW9mIFN0cmluZ3x8YSBpbnN0YW5jZW9mIE51bWJlcnx8YSBpbnN0YW5jZW9mIEJvb2xlYW4pcmV0dXJuIGE7dmFyIGg9YSBpbnN0YW5jZW9mIEFycmF5P1tdOnt9O2cuc2F2ZShhLGgpO2MoYSxmdW5jdGlvbihjKXt2YXIgZD1mKGFbY10pO3N3aXRjaCh0eXBlb2YgZCl7Y2FzZSBcImJvb2xlYW5cIjpjYXNlIFwibnVtYmVyXCI6Y2FzZSBcInN0cmluZ1wiOmNhc2UgXCJmdW5jdGlvblwiOmhbY109ZDticmVhaztjYXNlIFwib2JqZWN0XCI6Y2FzZSBcInVuZGVmaW5lZFwiOnZhciBrPVxuXHRnLmdldChkKTtoW2NdPWshPT1wP2s6YihkLGYsZyl9fSk7cmV0dXJuIGh9ZnVuY3Rpb24gYyhhLGIpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYihjKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnRvSlNPTiYmYihcInRvSlNPTlwiKX1lbHNlIGZvcihjIGluIGEpYihjKX1mdW5jdGlvbiBkKCl7dGhpcy5rZXlzPVtdO3RoaXMudmFsdWVzPVtdfWEuJGM9ZnVuY3Rpb24oYyl7aWYoMD09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBFcnJvcihcIldoZW4gY2FsbGluZyBrby50b0pTLCBwYXNzIHRoZSBvYmplY3QgeW91IHdhbnQgdG8gY29udmVydC5cIik7cmV0dXJuIGIoYyxmdW5jdGlvbihiKXtmb3IodmFyIGM9MDthLk4oYikmJjEwPmM7YysrKWI9YigpO3JldHVybiBifSl9O2EudG9KU09OPWZ1bmN0aW9uKGIsYyxkKXtiPWEuJGMoYik7cmV0dXJuIGEuYS5mYyhiLGMsZCl9O2QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkLHNhdmU6ZnVuY3Rpb24oYixcblx0Yyl7dmFyIGQ9YS5hLkEodGhpcy5rZXlzLGIpOzA8PWQ/dGhpcy52YWx1ZXNbZF09YzoodGhpcy5rZXlzLnB1c2goYiksdGhpcy52YWx1ZXMucHVzaChjKSl9LGdldDpmdW5jdGlvbihiKXtiPWEuYS5BKHRoaXMua2V5cyxiKTtyZXR1cm4gMDw9Yj90aGlzLnZhbHVlc1tiXTpwfX19KSgpO2EuYihcInRvSlNcIixhLiRjKTthLmIoXCJ0b0pTT05cIixhLnRvSlNPTik7YS5WZD1mdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShjKXt2YXIgZT1hLndiKGIsZCkuZXh0ZW5kKHtHYTpcImFsd2F5c1wifSksaD1lLnN1YnNjcmliZShmdW5jdGlvbihhKXthJiYoaC5zKCksYyhhKSl9KTtlLm5vdGlmeVN1YnNjcmliZXJzKGUudygpKTtyZXR1cm4gaH1yZXR1cm5cImZ1bmN0aW9uXCIhPT10eXBlb2YgUHJvbWlzZXx8Yz9lKGMuYmluZChkKSk6bmV3IFByb21pc2UoZSl9O2EuYihcIndoZW5cIixhLlZkKTsoZnVuY3Rpb24oKXthLnU9e0w6ZnVuY3Rpb24oYil7c3dpdGNoKGEuYS5QKGIpKXtjYXNlIFwib3B0aW9uXCI6cmV0dXJuITA9PT1cblx0Yi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXz9hLmEuZy5nZXQoYixhLmYub3B0aW9ucy5ZYik6Nz49YS5hLlc/Yi5nZXRBdHRyaWJ1dGVOb2RlKFwidmFsdWVcIikmJmIuZ2V0QXR0cmlidXRlTm9kZShcInZhbHVlXCIpLnNwZWNpZmllZD9iLnZhbHVlOmIudGV4dDpiLnZhbHVlO2Nhc2UgXCJzZWxlY3RcIjpyZXR1cm4gMDw9Yi5zZWxlY3RlZEluZGV4P2EudS5MKGIub3B0aW9uc1tiLnNlbGVjdGVkSW5kZXhdKTpwO2RlZmF1bHQ6cmV0dXJuIGIudmFsdWV9fSx5YTpmdW5jdGlvbihiLGMsZCl7c3dpdGNoKGEuYS5QKGIpKXtjYXNlIFwib3B0aW9uXCI6XCJzdHJpbmdcIj09PXR5cGVvZiBjPyhhLmEuZy5zZXQoYixhLmYub3B0aW9ucy5ZYixwKSxcIl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fXCJpbiBiJiZkZWxldGUgYi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXyxiLnZhbHVlPWMpOihhLmEuZy5zZXQoYixhLmYub3B0aW9ucy5ZYixjKSxiLl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fPVxuXHQhMCxiLnZhbHVlPVwibnVtYmVyXCI9PT10eXBlb2YgYz9jOlwiXCIpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjppZihcIlwiPT09Y3x8bnVsbD09PWMpYz1wO2Zvcih2YXIgZT0tMSxmPTAsZz1iLm9wdGlvbnMubGVuZ3RoLGg7ZjxnOysrZilpZihoPWEudS5MKGIub3B0aW9uc1tmXSksaD09Y3x8XCJcIj09PWgmJmM9PT1wKXtlPWY7YnJlYWt9aWYoZHx8MDw9ZXx8Yz09PXAmJjE8Yi5zaXplKWIuc2VsZWN0ZWRJbmRleD1lLDY9PT1hLmEuVyYmYS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNlbGVjdGVkSW5kZXg9ZX0sMCk7YnJlYWs7ZGVmYXVsdDppZihudWxsPT09Y3x8Yz09PXApYz1cIlwiO2IudmFsdWU9Y319fX0pKCk7YS5iKFwic2VsZWN0RXh0ZW5zaW9uc1wiLGEudSk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy5yZWFkVmFsdWVcIixhLnUuTCk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy53cml0ZVZhbHVlXCIsYS51LnlhKTthLm09ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIpe2I9YS5hLkNiKGIpOzEyMz09PWIuY2hhckNvZGVBdCgwKSYmXG5cdChiPWIuc2xpY2UoMSwtMSkpO2IrPVwiXFxuLFwiO3ZhciBjPVtdLGQ9Yi5tYXRjaChlKSxxLG49W10saD0wO2lmKDE8ZC5sZW5ndGgpe2Zvcih2YXIgeT0wLEE7QT1kW3ldOysreSl7dmFyIHU9QS5jaGFyQ29kZUF0KDApO2lmKDQ0PT09dSl7aWYoMD49aCl7Yy5wdXNoKHEmJm4ubGVuZ3RoP3trZXk6cSx2YWx1ZTpuLmpvaW4oXCJcIil9Ont1bmtub3duOnF8fG4uam9pbihcIlwiKX0pO3E9aD0wO249W107Y29udGludWV9fWVsc2UgaWYoNTg9PT11KXtpZighaCYmIXEmJjE9PT1uLmxlbmd0aCl7cT1uLnBvcCgpO2NvbnRpbnVlfX1lbHNlIGlmKDQ3PT09dSYmMTxBLmxlbmd0aCYmKDQ3PT09QS5jaGFyQ29kZUF0KDEpfHw0Mj09PUEuY2hhckNvZGVBdCgxKSkpY29udGludWU7ZWxzZSA0Nz09PXUmJnkmJjE8QS5sZW5ndGg/KHU9ZFt5LTFdLm1hdGNoKGYpKSYmIWdbdVswXV0mJihiPWIuc3Vic3RyKGIuaW5kZXhPZihBKSsxKSxkPWIubWF0Y2goZSkseT0tMSxBPVwiL1wiKTo0MD09PXV8fDEyMz09PVxuXHR1fHw5MT09PXU/KytoOjQxPT09dXx8MTI1PT09dXx8OTM9PT11Py0taDpxfHxuLmxlbmd0aHx8MzQhPT11JiYzOSE9PXV8fChBPUEuc2xpY2UoMSwtMSkpO24ucHVzaChBKX1pZigwPGgpdGhyb3cgRXJyb3IoXCJVbmJhbGFuY2VkIHBhcmVudGhlc2VzLCBicmFjZXMsIG9yIGJyYWNrZXRzXCIpO31yZXR1cm4gY312YXIgYz1bXCJ0cnVlXCIsXCJmYWxzZVwiLFwibnVsbFwiLFwidW5kZWZpbmVkXCJdLGQ9L14oPzpbJF9hLXpdWyRcXHddKnwoLispKFxcLlxccypbJF9hLXpdWyRcXHddKnxcXFsuK1xcXSkpJC9pLGU9UmVnRXhwKFwiXFxcIig/OlxcXFxcXFxcLnxbXlxcXCJdKSpcXFwifCcoPzpcXFxcXFxcXC58W14nXSkqJ3xgKD86XFxcXFxcXFwufFteYF0pKmB8L1xcXFwqKD86W14qXXxcXFxcKitbXiovXSkqXFxcXCorL3wvLy4qXFxufC8oPzpcXFxcXFxcXC58W14vXSkrL3cqfFteXFxcXHM6LC9dW14sXFxcIidge30oKS86W1xcXFxdXSpbXlxcXFxzLFxcXCInYHt9KCkvOltcXFxcXV18W15cXFxcc11cIixcImdcIiksZj0vW1xcXSlcIidBLVphLXowLTlfJF0rJC8sZz17XCJpblwiOjEsXCJyZXR1cm5cIjoxLFxuXHRcInR5cGVvZlwiOjF9LGg9e307cmV0dXJue1JhOltdLHZhOmgsWmI6Yix1YjpmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGsoYixlKXt2YXIgZjtpZigheSl7dmFyIGw9YS5nZXRCaW5kaW5nSGFuZGxlcihiKTtpZihsJiZsLnByZXByb2Nlc3MmJiEoZT1sLnByZXByb2Nlc3MoZSxiLGspKSlyZXR1cm47aWYobD1oW2JdKWY9ZSwwPD1hLmEuQShjLGYpP2Y9ITE6KGw9Zi5tYXRjaChkKSxmPW51bGw9PT1sPyExOmxbMV0/XCJPYmplY3QoXCIrbFsxXStcIilcIitsWzJdOmYpLGw9ZjtsJiZuLnB1c2goXCInXCIrKFwic3RyaW5nXCI9PXR5cGVvZiBoW2JdP2hbYl06YikrXCInOmZ1bmN0aW9uKF96KXtcIitmK1wiPV96fVwiKX1nJiYoZT1cImZ1bmN0aW9uKCl7cmV0dXJuIFwiK2UrXCIgfVwiKTtxLnB1c2goXCInXCIrYitcIic6XCIrZSl9Zj1mfHx7fTt2YXIgcT1bXSxuPVtdLGc9Zi52YWx1ZUFjY2Vzc29ycyx5PWYuYmluZGluZ1BhcmFtcyxBPVwic3RyaW5nXCI9PT10eXBlb2YgZT9iKGUpOmU7YS5hLkMoQSxmdW5jdGlvbihhKXtrKGEua2V5fHxcblx0YS51bmtub3duLGEudmFsdWUpfSk7bi5sZW5ndGgmJmsoXCJfa29fcHJvcGVydHlfd3JpdGVyc1wiLFwie1wiK24uam9pbihcIixcIikrXCIgfVwiKTtyZXR1cm4gcS5qb2luKFwiLFwiKX0sSGQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZihhW2NdLmtleT09YilyZXR1cm4hMDtyZXR1cm4hMX0sJGE6ZnVuY3Rpb24oYixjLGQsZSxmKXtpZihiJiZhLk4oYikpIWEuWWEoYil8fGYmJmIudygpPT09ZXx8YihlKTtlbHNlIGlmKChiPWMuZ2V0KFwiX2tvX3Byb3BlcnR5X3dyaXRlcnNcIikpJiZiW2RdKWJbZF0oZSl9fX0oKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nXCIsYS5tKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLmJpbmRpbmdSZXdyaXRlVmFsaWRhdG9yc1wiLGEubS5SYSk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5wYXJzZU9iamVjdExpdGVyYWxcIixhLm0uWmIpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcucHJlUHJvY2Vzc0JpbmRpbmdzXCIsYS5tLnViKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLl90d29XYXlCaW5kaW5nc1wiLFxuXHRhLm0udmEpO2EuYihcImpzb25FeHByZXNzaW9uUmV3cml0aW5nXCIsYS5tKTthLmIoXCJqc29uRXhwcmVzc2lvblJld3JpdGluZy5pbnNlcnRQcm9wZXJ0eUFjY2Vzc29yc0ludG9Kc29uXCIsYS5tLnViKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe3JldHVybiA4PT1hLm5vZGVUeXBlJiZnLnRlc3QoZj9hLnRleHQ6YS5ub2RlVmFsdWUpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIDg9PWEubm9kZVR5cGUmJmgudGVzdChmP2EudGV4dDphLm5vZGVWYWx1ZSl9ZnVuY3Rpb24gZChkLGUpe2Zvcih2YXIgZj1kLGc9MSxoPVtdO2Y9Zi5uZXh0U2libGluZzspe2lmKGMoZikmJihhLmEuZy5zZXQoZixsLCEwKSxnLS0sMD09PWcpKXJldHVybiBoO2gucHVzaChmKTtiKGYpJiZnKyt9aWYoIWUpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBjbG9zaW5nIGNvbW1lbnQgdGFnIHRvIG1hdGNoOiBcIitkLm5vZGVWYWx1ZSk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gZShhLGIpe3ZhciBjPWQoYSxiKTtyZXR1cm4gYz9cblx0MDxjLmxlbmd0aD9jW2MubGVuZ3RoLTFdLm5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmc6bnVsbH12YXIgZj13JiZcIlxceDNjIS0tdGVzdC0tXFx4M2VcIj09PXcuY3JlYXRlQ29tbWVudChcInRlc3RcIikudGV4dCxnPWY/L15cXHgzYyEtLVxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKi0tXFx4M2UkLzovXlxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKiQvLGg9Zj8vXlxceDNjIS0tXFxzKlxcL2tvXFxzKi0tXFx4M2UkLzovXlxccypcXC9rb1xccyokLyxtPXt1bDohMCxvbDohMH0sbD1cIl9fa29fbWF0Y2hlZEVuZENvbW1lbnRfX1wiO2EuaD17ZWE6e30sY2hpbGROb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYihhKT9kKGEpOmEuY2hpbGROb2Rlc30sRWE6ZnVuY3Rpb24oYyl7aWYoYihjKSl7Yz1hLmguY2hpbGROb2RlcyhjKTtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5yZW1vdmVOb2RlKGNbZF0pfWVsc2UgYS5hLlNiKGMpfSx1YTpmdW5jdGlvbihjLGQpe2lmKGIoYykpe2EuaC5FYShjKTtmb3IodmFyIGU9XG5cdGMubmV4dFNpYmxpbmcsZj0wLGw9ZC5sZW5ndGg7ZjxsO2YrKyllLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRbZl0sZSl9ZWxzZSBhLmEudWEoYyxkKX0sVWM6ZnVuY3Rpb24oYSxjKXtiKGEpP2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYyxhLm5leHRTaWJsaW5nKTphLmZpcnN0Q2hpbGQ/YS5pbnNlcnRCZWZvcmUoYyxhLmZpcnN0Q2hpbGQpOmEuYXBwZW5kQ2hpbGQoYyl9LFZiOmZ1bmN0aW9uKGMsZCxlKXtlP2IoYyk/Yy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkLGUubmV4dFNpYmxpbmcpOmUubmV4dFNpYmxpbmc/Yy5pbnNlcnRCZWZvcmUoZCxlLm5leHRTaWJsaW5nKTpjLmFwcGVuZENoaWxkKGQpOmEuaC5VYyhjLGQpfSxmaXJzdENoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSkpcmV0dXJuIWEubmV4dFNpYmxpbmd8fGMoYS5uZXh0U2libGluZyk/bnVsbDphLm5leHRTaWJsaW5nO2lmKGEuZmlyc3RDaGlsZCYmYyhhLmZpcnN0Q2hpbGQpKXRocm93IEVycm9yKFwiRm91bmQgaW52YWxpZCBlbmQgY29tbWVudCwgYXMgdGhlIGZpcnN0IGNoaWxkIG9mIFwiK1xuXHRhKTtyZXR1cm4gYS5maXJzdENoaWxkfSxuZXh0U2libGluZzpmdW5jdGlvbihkKXtiKGQpJiYoZD1lKGQpKTtpZihkLm5leHRTaWJsaW5nJiZjKGQubmV4dFNpYmxpbmcpKXt2YXIgZj1kLm5leHRTaWJsaW5nO2lmKGMoZikmJiFhLmEuZy5nZXQoZixsKSl0aHJvdyBFcnJvcihcIkZvdW5kIGVuZCBjb21tZW50IHdpdGhvdXQgYSBtYXRjaGluZyBvcGVuaW5nIGNvbW1lbnQsIGFzIGNoaWxkIG9mIFwiK2QpO3JldHVybiBudWxsfXJldHVybiBkLm5leHRTaWJsaW5nfSxCZDpiLFVkOmZ1bmN0aW9uKGEpe3JldHVybihhPShmP2EudGV4dDphLm5vZGVWYWx1ZSkubWF0Y2goZykpP2FbMV06bnVsbH0sUmM6ZnVuY3Rpb24oZCl7aWYobVthLmEuUChkKV0pe3ZhciBmPWQuZmlyc3RDaGlsZDtpZihmKXtkbyBpZigxPT09Zi5ub2RlVHlwZSl7dmFyIGw7bD1mLmZpcnN0Q2hpbGQ7dmFyIGc9bnVsbDtpZihsKXtkbyBpZihnKWcucHVzaChsKTtlbHNlIGlmKGIobCkpe3ZhciBoPWUobCwhMCk7aD9sPVxuXHRoOmc9W2xdfWVsc2UgYyhsKSYmKGc9W2xdKTt3aGlsZShsPWwubmV4dFNpYmxpbmcpfWlmKGw9Zylmb3IoZz1mLm5leHRTaWJsaW5nLGg9MDtoPGwubGVuZ3RoO2grKylnP2QuaW5zZXJ0QmVmb3JlKGxbaF0sZyk6ZC5hcHBlbmRDaGlsZChsW2hdKX13aGlsZShmPWYubmV4dFNpYmxpbmcpfX19fX0pKCk7YS5iKFwidmlydHVhbEVsZW1lbnRzXCIsYS5oKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzXCIsYS5oLmVhKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHMuZW1wdHlOb2RlXCIsYS5oLkVhKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHMuaW5zZXJ0QWZ0ZXJcIixhLmguVmIpO2EuYihcInZpcnR1YWxFbGVtZW50cy5wcmVwZW5kXCIsYS5oLlVjKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHMuc2V0RG9tTm9kZUNoaWxkcmVuXCIsYS5oLnVhKTsoZnVuY3Rpb24oKXthLmdhPWZ1bmN0aW9uKCl7dGhpcy5tZD17fX07YS5hLmV4dGVuZChhLmdhLnByb3RvdHlwZSx7bm9kZUhhc0JpbmRpbmdzOmZ1bmN0aW9uKGIpe3N3aXRjaChiLm5vZGVUeXBlKXtjYXNlIDE6cmV0dXJuIG51bGwhPVxuXHRiLmdldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiKXx8YS5pLmdldENvbXBvbmVudE5hbWVGb3JOb2RlKGIpO2Nhc2UgODpyZXR1cm4gYS5oLkJkKGIpO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRCaW5kaW5nczpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuZ2V0QmluZGluZ3NTdHJpbmcoYixjKSxkPWQ/dGhpcy5wYXJzZUJpbmRpbmdzU3RyaW5nKGQsYyxiKTpudWxsO3JldHVybiBhLmkuc2MoZCxiLGMsITEpfSxnZXRCaW5kaW5nQWNjZXNzb3JzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5nZXRCaW5kaW5nc1N0cmluZyhiLGMpLGQ9ZD90aGlzLnBhcnNlQmluZGluZ3NTdHJpbmcoZCxjLGIse3ZhbHVlQWNjZXNzb3JzOiEwfSk6bnVsbDtyZXR1cm4gYS5pLnNjKGQsYixjLCEwKX0sZ2V0QmluZGluZ3NTdHJpbmc6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIik7Y2FzZSA4OnJldHVybiBhLmguVWQoYik7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LFxuXHRwYXJzZUJpbmRpbmdzU3RyaW5nOmZ1bmN0aW9uKGIsYyxkLGUpe3RyeXt2YXIgZj10aGlzLm1kLGc9YisoZSYmZS52YWx1ZUFjY2Vzc29yc3x8XCJcIiksaDtpZighKGg9ZltnXSkpe3ZhciBtLGw9XCJ3aXRoKCRjb250ZXh0KXt3aXRoKCRkYXRhfHx7fSl7cmV0dXJue1wiK2EubS51YihiLGUpK1wifX19XCI7bT1uZXcgRnVuY3Rpb24oXCIkY29udGV4dFwiLFwiJGVsZW1lbnRcIixsKTtoPWZbZ109bX1yZXR1cm4gaChjLGQpfWNhdGNoKGspe3Rocm93IGsubWVzc2FnZT1cIlVuYWJsZSB0byBwYXJzZSBiaW5kaW5ncy5cXG5CaW5kaW5ncyB2YWx1ZTogXCIrYitcIlxcbk1lc3NhZ2U6IFwiK2subWVzc2FnZSxrO319fSk7YS5nYS5pbnN0YW5jZT1uZXcgYS5nYX0pKCk7YS5iKFwiYmluZGluZ1Byb3ZpZGVyXCIsYS5nYSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt2YXIgYz0oYj1hLmEuZy5nZXQoYixCKSkmJmIuTTtjJiYoYi5NPW51bGwsYy5TYygpKX1mdW5jdGlvbiBjKGMsZCxlKXt0aGlzLm5vZGU9Yzt0aGlzLnhjPVxuXHRkO3RoaXMuaWI9W107dGhpcy5UPSExO2QuTXx8YS5hLkkuemEoYyxiKTtlJiZlLk0mJihlLk0uaWIucHVzaChjKSx0aGlzLktiPWUpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEoKX1mdW5jdGlvbiBmKGIpe3JldHVybiBhLmEuSGEoYS52LksoYiksZnVuY3Rpb24oYSxjKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYigpW2NdfX0pfWZ1bmN0aW9uIGcoYixjLGUpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2YoYi5iaW5kKG51bGwsYyxlKSk6YS5hLkhhKGIsZCl9ZnVuY3Rpb24gaChhLGIpe3JldHVybiBmKHRoaXMuZ2V0QmluZGluZ3MuYmluZCh0aGlzLGEsYikpfWZ1bmN0aW9uIG0oYixjKXt2YXIgZD1hLmguZmlyc3RDaGlsZChjKTtpZihkKXt2YXIgZSxmPWEuZ2EuaW5zdGFuY2Usaz1mLnByZXByb2Nlc3NOb2RlO2lmKGspe2Zvcig7ZT1kOylkPWEuaC5uZXh0U2libGluZyhlKSxrLmNhbGwoZixlKTtcblx0ZD1hLmguZmlyc3RDaGlsZChjKX1mb3IoO2U9ZDspZD1hLmgubmV4dFNpYmxpbmcoZSksbChiLGUpfWEuai5HYShjLGEuai5UKX1mdW5jdGlvbiBsKGIsYyl7dmFyIGQ9YixlPTE9PT1jLm5vZGVUeXBlO2UmJmEuaC5SYyhjKTtpZihlfHxhLmdhLmluc3RhbmNlLm5vZGVIYXNCaW5kaW5ncyhjKSlkPXEoYyxudWxsLGIpLmJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHM7ZCYmIXVbYS5hLlAoYyldJiZtKGQsYyl9ZnVuY3Rpb24gayhiKXt2YXIgYz1bXSxkPXt9LGU9W107YS5hLk8oYixmdW5jdGlvbiBjYShmKXtpZighZFtmXSl7dmFyIGw9YS5nZXRCaW5kaW5nSGFuZGxlcihmKTtsJiYobC5hZnRlciYmKGUucHVzaChmKSxhLmEuQyhsLmFmdGVyLGZ1bmN0aW9uKGMpe2lmKGJbY10pe2lmKC0xIT09YS5hLkEoZSxjKSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjb21iaW5lIHRoZSBmb2xsb3dpbmcgYmluZGluZ3MsIGJlY2F1c2UgdGhleSBoYXZlIGEgY3ljbGljIGRlcGVuZGVuY3k6IFwiK2Uuam9pbihcIiwgXCIpKTtcblx0Y2EoYyl9fSksZS5sZW5ndGgtLSksYy5wdXNoKHtrZXk6ZixMYzpsfSkpO2RbZl09ITB9fSk7cmV0dXJuIGN9ZnVuY3Rpb24gcShiLGMsZCl7dmFyIGY9YS5hLmcuVGIoYixCLHt9KSxsPWYuZ2Q7aWYoIWMpe2lmKGwpdGhyb3cgRXJyb3IoXCJZb3UgY2Fubm90IGFwcGx5IGJpbmRpbmdzIG11bHRpcGxlIHRpbWVzIHRvIHRoZSBzYW1lIGVsZW1lbnQuXCIpO2YuZ2Q9ITB9bHx8KGYuY29udGV4dD1kKTt2YXIgZztpZihjJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYylnPWM7ZWxzZXt2YXIgcT1hLmdhLmluc3RhbmNlLG49cS5nZXRCaW5kaW5nQWNjZXNzb3JzfHxoLG09YS4kKGZ1bmN0aW9uKCl7aWYoZz1jP2MoZCxiKTpuLmNhbGwocSxiLGQpKXtpZihkW3JdKWRbcl0oKTtpZihkW0FdKWRbQV0oKX1yZXR1cm4gZ30sbnVsbCx7bDpifSk7ZyYmbS5qYSgpfHwobT1udWxsKX12YXIgeT1kLHU7aWYoZyl7dmFyIEo9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hLkhhKG0/bSgpOmcsZSl9LHQ9bT9mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZShtKClbYV0pfX06XG5cdGZ1bmN0aW9uKGEpe3JldHVybiBnW2FdfTtKLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gZ1thXSYmZSh0KGEpKX07Si5oYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gZ307YS5qLlQgaW4gZyYmYS5qLnN1YnNjcmliZShiLGEuai5ULGZ1bmN0aW9uKCl7dmFyIGM9KDAsZ1thLmouVF0pKCk7aWYoYyl7dmFyIGQ9YS5oLmNoaWxkTm9kZXMoYik7ZC5sZW5ndGgmJmMoZCxhLkRjKGRbMF0pKX19KTthLmoub2EgaW4gZyYmKHk9YS5qLkJiKGIsZCksYS5qLnN1YnNjcmliZShiLGEuai5vYSxmdW5jdGlvbigpe3ZhciBjPSgwLGdbYS5qLm9hXSkoKTtjJiZhLmguZmlyc3RDaGlsZChiKSYmYyhiKX0pKTtmPWsoZyk7YS5hLkMoZixmdW5jdGlvbihjKXt2YXIgZD1jLkxjLmluaXQsZT1jLkxjLnVwZGF0ZSxmPWMua2V5O2lmKDg9PT1iLm5vZGVUeXBlJiYhYS5oLmVhW2ZdKXRocm93IEVycm9yKFwiVGhlIGJpbmRpbmcgJ1wiK2YrXCInIGNhbm5vdCBiZSB1c2VkIHdpdGggdmlydHVhbCBlbGVtZW50c1wiKTtcblx0dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIGQmJmEudi5LKGZ1bmN0aW9uKCl7dmFyIGE9ZChiLHQoZiksSix5LiRkYXRhLHkpO2lmKGEmJmEuY29udHJvbHNEZXNjZW5kYW50QmluZGluZ3Mpe2lmKHUhPT1wKXRocm93IEVycm9yKFwiTXVsdGlwbGUgYmluZGluZ3MgKFwiK3UrXCIgYW5kIFwiK2YrXCIpIGFyZSB0cnlpbmcgdG8gY29udHJvbCBkZXNjZW5kYW50IGJpbmRpbmdzIG9mIHRoZSBzYW1lIGVsZW1lbnQuIFlvdSBjYW5ub3QgdXNlIHRoZXNlIGJpbmRpbmdzIHRvZ2V0aGVyIG9uIHRoZSBzYW1lIGVsZW1lbnQuXCIpO3U9Zn19KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZhLiQoZnVuY3Rpb24oKXtlKGIsdChmKSxKLHkuJGRhdGEseSl9LG51bGwse2w6Yn0pfWNhdGNoKGwpe3Rocm93IGwubWVzc2FnZT0nVW5hYmxlIHRvIHByb2Nlc3MgYmluZGluZyBcIicrZitcIjogXCIrZ1tmXSsnXCJcXG5NZXNzYWdlOiAnK2wubWVzc2FnZSxsO319KX1mPXU9PT1wO3JldHVybntzaG91bGRCaW5kRGVzY2VuZGFudHM6Zixcblx0YmluZGluZ0NvbnRleHRGb3JEZXNjZW5kYW50czpmJiZ5fX1mdW5jdGlvbiBuKGIsYyl7cmV0dXJuIGImJmIgaW5zdGFuY2VvZiBhLmZhP2I6bmV3IGEuZmEoYixwLHAsYyl9dmFyIHI9YS5hLkRhKFwiX3N1YnNjcmliYWJsZVwiKSx5PWEuYS5EYShcIl9hbmNlc3RvckJpbmRpbmdJbmZvXCIpLEE9YS5hLkRhKFwiX2RhdGFEZXBlbmRlbmN5XCIpO2EuZj17fTt2YXIgdT17c2NyaXB0OiEwLHRleHRhcmVhOiEwLHRlbXBsYXRlOiEwfTthLmdldEJpbmRpbmdIYW5kbGVyPWZ1bmN0aW9uKGIpe3JldHVybiBhLmZbYl19O3ZhciBKPXt9O2EuZmE9ZnVuY3Rpb24oYixjLGQsZSxmKXtmdW5jdGlvbiBsKCl7dmFyIGI9cT9oKCk6aCxmPWEuYS5jKGIpO2M/KGEuYS5leHRlbmQoayxjKSx5IGluIGMmJihrW3ldPWNbeV0pKTooay4kcGFyZW50cz1bXSxrLiRyb290PWYsay5rbz1hKTtrW3JdPW47Zz9mPWsuJGRhdGE6KGsuJHJhd0RhdGE9YixrLiRkYXRhPWYpO2QmJihrW2RdPWYpO2UmJmUoayxjLGYpO2lmKGMmJlxuXHRjW3JdJiYhYS5VLm8oKS5VYihjW3JdKSljW3JdKCk7bSYmKGtbQV09bSk7cmV0dXJuIGsuJGRhdGF9dmFyIGs9dGhpcyxnPWI9PT1KLGg9Zz9wOmIscT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiYhYS5OKGgpLG4sbT1mJiZmLmRhdGFEZXBlbmRlbmN5O2YmJmYuZXhwb3J0RGVwZW5kZW5jaWVzP2woKToobj1hLndiKGwpLG4udygpLG4uamEoKT9uLmVxdWFsaXR5Q29tcGFyZXI9bnVsbDprW3JdPXApfTthLmZhLnByb3RvdHlwZS5jcmVhdGVDaGlsZENvbnRleHQ9ZnVuY3Rpb24oYixjLGQsZSl7IWUmJmMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiYoZT1jLGM9ZS5hcyxkPWUuZXh0ZW5kKTtpZihjJiZlJiZlLm5vQ2hpbGRDb250ZXh0KXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYhYS5OKGIpO3JldHVybiBuZXcgYS5mYShKLHRoaXMsbnVsbCxmdW5jdGlvbihhKXtkJiZkKGEpO2FbY109Zj9iKCk6Yn0sZSl9cmV0dXJuIG5ldyBhLmZhKGIsdGhpcyxjLGZ1bmN0aW9uKGEsYil7YS4kcGFyZW50Q29udGV4dD1cblx0YjthLiRwYXJlbnQ9Yi4kZGF0YTthLiRwYXJlbnRzPShiLiRwYXJlbnRzfHxbXSkuc2xpY2UoMCk7YS4kcGFyZW50cy51bnNoaWZ0KGEuJHBhcmVudCk7ZCYmZChhKX0sZSl9O2EuZmEucHJvdG90eXBlLmV4dGVuZD1mdW5jdGlvbihiLGMpe3JldHVybiBuZXcgYS5mYShKLHRoaXMsbnVsbCxmdW5jdGlvbihjKXthLmEuZXh0ZW5kKGMsXCJmdW5jdGlvblwiPT10eXBlb2YgYj9iKGMpOmIpfSxjKX07dmFyIEI9YS5hLmcuWigpO2MucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7dGhpcy5LYiYmdGhpcy5LYi5NJiZ0aGlzLktiLk0ucmQodGhpcy5ub2RlKX07Yy5wcm90b3R5cGUucmQ9ZnVuY3Rpb24oYil7YS5hLmhiKHRoaXMuaWIsYik7IXRoaXMuaWIubGVuZ3RoJiZ0aGlzLlQmJnRoaXMuQmMoKX07Yy5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXt0aGlzLlQ9ITA7dGhpcy54Yy5NJiYhdGhpcy5pYi5sZW5ndGgmJih0aGlzLnhjLk09bnVsbCxhLmEuSS54Yih0aGlzLm5vZGUsYiksYS5qLkdhKHRoaXMubm9kZSxcblx0YS5qLm9hKSx0aGlzLlNjKCkpfTthLmo9e1Q6XCJjaGlsZHJlbkNvbXBsZXRlXCIsb2E6XCJkZXNjZW5kYW50c0NvbXBsZXRlXCIsc3Vic2NyaWJlOmZ1bmN0aW9uKGIsYyxkLGUpe2I9YS5hLmcuVGIoYixCLHt9KTtiLkZhfHwoYi5GYT1uZXcgYS5SKTtyZXR1cm4gYi5GYS5zdWJzY3JpYmUoZCxlLGMpfSxHYTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5nLmdldChiLEIpO2lmKGQmJihkLkZhJiZkLkZhLm5vdGlmeVN1YnNjcmliZXJzKGIsYyksYz09YS5qLlQpKWlmKGQuTSlkLk0uQmMoKTtlbHNlIGlmKGQuTT09PXAmJmQuRmEmJmQuRmEuV2EoYS5qLm9hKSl0aHJvdyBFcnJvcihcImRlc2NlbmRhbnRzQ29tcGxldGUgZXZlbnQgbm90IHN1cHBvcnRlZCBmb3IgYmluZGluZ3Mgb24gdGhpcyBub2RlXCIpO30sQmI6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLmEuZy5UYihiLEIse30pO2UuTXx8KGUuTT1uZXcgYyhiLGUsZFt5XSkpO3JldHVybiBkW3ldPT1lP2Q6ZC5leHRlbmQoZnVuY3Rpb24oYSl7YVt5XT1cblx0ZX0pfX07YS5TZD1mdW5jdGlvbihiKXtyZXR1cm4oYj1hLmEuZy5nZXQoYixCKSkmJmIuY29udGV4dH07YS5lYj1mdW5jdGlvbihiLGMsZCl7MT09PWIubm9kZVR5cGUmJmEuaC5SYyhiKTtyZXR1cm4gcShiLGMsbihkKSl9O2Eua2Q9ZnVuY3Rpb24oYixjLGQpe2Q9bihkKTtyZXR1cm4gYS5lYihiLGcoYyxkLGIpLGQpfTthLlBhPWZ1bmN0aW9uKGEsYil7MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlfHxtKG4oYSksYil9O2EudWM9ZnVuY3Rpb24oYSxiLGMpeyF2JiZ6LmpRdWVyeSYmKHY9ei5qUXVlcnkpO2lmKDI+YXJndW1lbnRzLmxlbmd0aCl7aWYoYj13LmJvZHksIWIpdGhyb3cgRXJyb3IoXCJrby5hcHBseUJpbmRpbmdzOiBjb3VsZCBub3QgZmluZCBkb2N1bWVudC5ib2R5OyBoYXMgdGhlIGRvY3VtZW50IGJlZW4gbG9hZGVkP1wiKTt9ZWxzZSBpZighYnx8MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlKXRocm93IEVycm9yKFwia28uYXBwbHlCaW5kaW5nczogZmlyc3QgcGFyYW1ldGVyIHNob3VsZCBiZSB5b3VyIHZpZXcgbW9kZWw7IHNlY29uZCBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgRE9NIG5vZGVcIik7XG5cdGwobihhLGMpLGIpfTthLkNjPWZ1bmN0aW9uKGIpe3JldHVybiFifHwxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGU/cDphLlNkKGIpfTthLkRjPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuQ2MoYikpP2IuJGRhdGE6cH07YS5iKFwiYmluZGluZ0hhbmRsZXJzXCIsYS5mKTthLmIoXCJiaW5kaW5nRXZlbnRcIixhLmopO2EuYihcImJpbmRpbmdFdmVudC5zdWJzY3JpYmVcIixhLmouc3Vic2NyaWJlKTthLmIoXCJiaW5kaW5nRXZlbnQuc3RhcnRQb3NzaWJseUFzeW5jQ29udGVudEJpbmRpbmdcIixhLmouQmIpO2EuYihcImFwcGx5QmluZGluZ3NcIixhLnVjKTthLmIoXCJhcHBseUJpbmRpbmdzVG9EZXNjZW5kYW50c1wiLGEuUGEpO2EuYihcImFwcGx5QmluZGluZ0FjY2Vzc29yc1RvTm9kZVwiLGEuZWIpO2EuYihcImFwcGx5QmluZGluZ3NUb05vZGVcIixhLmtkKTthLmIoXCJjb250ZXh0Rm9yXCIsYS5DYyk7YS5iKFwiZGF0YUZvclwiLGEuRGMpfSkoKTsoZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhjLGUpe3ZhciBsPVxuXHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZixjKT9mW2NdOmIsaztsP2wuc3Vic2NyaWJlKGUpOihsPWZbY109bmV3IGEuUixsLnN1YnNjcmliZShlKSxkKGMsZnVuY3Rpb24oYixkKXt2YXIgZT0hKCFkfHwhZC5zeW5jaHJvbm91cyk7Z1tjXT17ZGVmaW5pdGlvbjpiLEZkOmV9O2RlbGV0ZSBmW2NdO2t8fGU/bC5ub3RpZnlTdWJzY3JpYmVycyhiKTphLm1hLnliKGZ1bmN0aW9uKCl7bC5ub3RpZnlTdWJzY3JpYmVycyhiKX0pfSksaz0hMCl9ZnVuY3Rpb24gZChhLGIpe2UoXCJnZXRDb25maWdcIixbYV0sZnVuY3Rpb24oYyl7Yz9lKFwibG9hZENvbXBvbmVudFwiLFthLGNdLGZ1bmN0aW9uKGEpe2IoYSxjKX0pOmIobnVsbCxudWxsKX0pfWZ1bmN0aW9uIGUoYyxkLGYsayl7a3x8KGs9YS5pLmxvYWRlcnMuc2xpY2UoMCkpO3ZhciBnPWsuc2hpZnQoKTtpZihnKXt2YXIgbj1nW2NdO2lmKG4pe3ZhciByPSExO2lmKG4uYXBwbHkoZyxkLmNvbmNhdChmdW5jdGlvbihhKXtyP1xuXHRmKG51bGwpOm51bGwhPT1hP2YoYSk6ZShjLGQsZixrKX0pKSE9PWImJihyPSEwLCFnLnN1cHByZXNzTG9hZGVyRXhjZXB0aW9ucykpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgbG9hZGVycyBtdXN0IHN1cHBseSB2YWx1ZXMgYnkgaW52b2tpbmcgdGhlIGNhbGxiYWNrLCBub3QgYnkgcmV0dXJuaW5nIHZhbHVlcyBzeW5jaHJvbm91c2x5LlwiKTt9ZWxzZSBlKGMsZCxmLGspfWVsc2UgZihudWxsKX12YXIgZj17fSxnPXt9O2EuaT17Z2V0OmZ1bmN0aW9uKGQsZSl7dmFyIGY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGcsZCk/Z1tkXTpiO2Y/Zi5GZD9hLnYuSyhmdW5jdGlvbigpe2UoZi5kZWZpbml0aW9uKX0pOmEubWEueWIoZnVuY3Rpb24oKXtlKGYuZGVmaW5pdGlvbil9KTpjKGQsZSl9LEFjOmZ1bmN0aW9uKGEpe2RlbGV0ZSBnW2FdfSxuYzplfTthLmkubG9hZGVycz1bXTthLmIoXCJjb21wb25lbnRzXCIsYS5pKTthLmIoXCJjb21wb25lbnRzLmdldFwiLGEuaS5nZXQpO1xuXHRhLmIoXCJjb21wb25lbnRzLmNsZWFyQ2FjaGVkRGVmaW5pdGlvblwiLGEuaS5BYyl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsZSl7ZnVuY3Rpb24gZygpezA9PT0tLUEmJmUoaCl9dmFyIGg9e30sQT0yLHU9ZC50ZW1wbGF0ZTtkPWQudmlld01vZGVsO3U/ZihjLHUsZnVuY3Rpb24oYyl7YS5pLm5jKFwibG9hZFRlbXBsYXRlXCIsW2IsY10sZnVuY3Rpb24oYSl7aC50ZW1wbGF0ZT1hO2coKX0pfSk6ZygpO2Q/ZihjLGQsZnVuY3Rpb24oYyl7YS5pLm5jKFwibG9hZFZpZXdNb2RlbFwiLFtiLGNdLGZ1bmN0aW9uKGEpe2hbbV09YTtnKCl9KX0pOmcoKX1mdW5jdGlvbiBjKGEsYixkKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0pO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGJbbV0pZChiW21dKTtlbHNlIGlmKFwiaW5zdGFuY2VcImluIGIpe3ZhciBlPWIuaW5zdGFuY2U7ZChmdW5jdGlvbigpe3JldHVybiBlfSl9ZWxzZVwidmlld01vZGVsXCJpblxuXHRiP2MoYSxiLnZpZXdNb2RlbCxkKTphKFwiVW5rbm93biB2aWV3TW9kZWwgdmFsdWU6IFwiK2IpfWZ1bmN0aW9uIGQoYil7c3dpdGNoKGEuYS5QKGIpKXtjYXNlIFwic2NyaXB0XCI6cmV0dXJuIGEuYS50YShiLnRleHQpO2Nhc2UgXCJ0ZXh0YXJlYVwiOnJldHVybiBhLmEudGEoYi52YWx1ZSk7Y2FzZSBcInRlbXBsYXRlXCI6aWYoZShiLmNvbnRlbnQpKXJldHVybiBhLmEuQ2EoYi5jb250ZW50LmNoaWxkTm9kZXMpfXJldHVybiBhLmEuQ2EoYi5jaGlsZE5vZGVzKX1mdW5jdGlvbiBlKGEpe3JldHVybiB6LkRvY3VtZW50RnJhZ21lbnQ/YSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQ6YSYmMTE9PT1hLm5vZGVUeXBlfWZ1bmN0aW9uIGYoYSxiLGMpe1wic3RyaW5nXCI9PT10eXBlb2YgYi5yZXF1aXJlP1R8fHoucmVxdWlyZT8oVHx8ei5yZXF1aXJlKShbYi5yZXF1aXJlXSxjKTphKFwiVXNlcyByZXF1aXJlLCBidXQgbm8gQU1EIGxvYWRlciBpcyBwcmVzZW50XCIpOmMoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7dGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK1xuXHRhK1wiJzogXCIrYik7fX12YXIgaD17fTthLmkucmVnaXN0ZXI9ZnVuY3Rpb24oYixjKXtpZighYyl0aHJvdyBFcnJvcihcIkludmFsaWQgY29uZmlndXJhdGlvbiBmb3IgXCIrYik7aWYoYS5pLnNiKGIpKXRocm93IEVycm9yKFwiQ29tcG9uZW50IFwiK2IrXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkXCIpO2hbYl09Y307YS5pLnNiPWZ1bmN0aW9uKGEpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaCxhKX07YS5pLnVucmVnaXN0ZXI9ZnVuY3Rpb24oYil7ZGVsZXRlIGhbYl07YS5pLkFjKGIpfTthLmkuRWM9e2dldENvbmZpZzpmdW5jdGlvbihiLGMpe2MoYS5pLnNiKGIpP2hbYl06bnVsbCl9LGxvYWRDb21wb25lbnQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWcoYSk7ZihlLGMsZnVuY3Rpb24oYyl7YihhLGUsYyxkKX0pfSxsb2FkVGVtcGxhdGU6ZnVuY3Rpb24oYixjLGYpe2I9ZyhiKTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGMpZihhLmEudGEoYykpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mXG5cdEFycmF5KWYoYyk7ZWxzZSBpZihlKGMpKWYoYS5hLmxhKGMuY2hpbGROb2RlcykpO2Vsc2UgaWYoYy5lbGVtZW50KWlmKGM9Yy5lbGVtZW50LHouSFRNTEVsZW1lbnQ/YyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OmMmJmMudGFnTmFtZSYmMT09PWMubm9kZVR5cGUpZihkKGMpKTtlbHNlIGlmKFwic3RyaW5nXCI9PT10eXBlb2YgYyl7dmFyIGg9dy5nZXRFbGVtZW50QnlJZChjKTtoP2YoZChoKSk6YihcIkNhbm5vdCBmaW5kIGVsZW1lbnQgd2l0aCBJRCBcIitjKX1lbHNlIGIoXCJVbmtub3duIGVsZW1lbnQgdHlwZTogXCIrYyk7ZWxzZSBiKFwiVW5rbm93biB0ZW1wbGF0ZSB2YWx1ZTogXCIrYyl9LGxvYWRWaWV3TW9kZWw6ZnVuY3Rpb24oYSxiLGQpe2MoZyhhKSxiLGQpfX07dmFyIG09XCJjcmVhdGVWaWV3TW9kZWxcIjthLmIoXCJjb21wb25lbnRzLnJlZ2lzdGVyXCIsYS5pLnJlZ2lzdGVyKTthLmIoXCJjb21wb25lbnRzLmlzUmVnaXN0ZXJlZFwiLGEuaS5zYik7YS5iKFwiY29tcG9uZW50cy51bnJlZ2lzdGVyXCIsXG5cdGEuaS51bnJlZ2lzdGVyKTthLmIoXCJjb21wb25lbnRzLmRlZmF1bHRMb2FkZXJcIixhLmkuRWMpO2EuaS5sb2FkZXJzLnB1c2goYS5pLkVjKTthLmkuY2Q9aH0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGUpe3ZhciBmPWIuZ2V0QXR0cmlidXRlKFwicGFyYW1zXCIpO2lmKGYpe3ZhciBmPWMucGFyc2VCaW5kaW5nc1N0cmluZyhmLGUsYix7dmFsdWVBY2Nlc3NvcnM6ITAsYmluZGluZ1BhcmFtczohMH0pLGY9YS5hLkhhKGYsZnVuY3Rpb24oYyl7cmV0dXJuIGEubyhjLG51bGwse2w6Yn0pfSksZz1hLmEuSGEoZixmdW5jdGlvbihjKXt2YXIgZT1jLncoKTtyZXR1cm4gYy5qYSgpP2Eubyh7cmVhZDpmdW5jdGlvbigpe3JldHVybiBhLmEuYyhjKCkpfSx3cml0ZTphLllhKGUpJiZmdW5jdGlvbihhKXtjKCkoYSl9LGw6Yn0pOmV9KTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxcIiRyYXdcIil8fChnLiRyYXc9Zik7cmV0dXJuIGd9cmV0dXJueyRyYXc6e319fWEuaS5nZXRDb21wb25lbnROYW1lRm9yTm9kZT1cblx0ZnVuY3Rpb24oYil7dmFyIGM9YS5hLlAoYik7aWYoYS5pLnNiKGMpJiYoLTEhPWMuaW5kZXhPZihcIi1cIil8fFwiW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdXCI9PVwiXCIrYnx8OD49YS5hLlcmJmIudGFnTmFtZT09PWMpKXJldHVybiBjfTthLmkuc2M9ZnVuY3Rpb24oYyxlLGYsZyl7aWYoMT09PWUubm9kZVR5cGUpe3ZhciBoPWEuaS5nZXRDb21wb25lbnROYW1lRm9yTm9kZShlKTtpZihoKXtjPWN8fHt9O2lmKGMuY29tcG9uZW50KXRocm93IEVycm9yKCdDYW5ub3QgdXNlIHRoZSBcImNvbXBvbmVudFwiIGJpbmRpbmcgb24gYSBjdXN0b20gZWxlbWVudCBtYXRjaGluZyBhIGNvbXBvbmVudCcpO3ZhciBtPXtuYW1lOmgscGFyYW1zOmIoZSxmKX07Yy5jb21wb25lbnQ9Zz9mdW5jdGlvbigpe3JldHVybiBtfTptfX1yZXR1cm4gY307dmFyIGM9bmV3IGEuZ2E7OT5hLmEuVyYmKGEuaS5yZWdpc3Rlcj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuYXBwbHkodGhpcyxcblx0YXJndW1lbnRzKX19KGEuaS5yZWdpc3Rlciksdy5jcmVhdGVEb2N1bWVudEZyYWdtZW50PWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWIoKSxmPWEuaS5jZCxnO2ZvcihnIGluIGYpO3JldHVybiBjfX0ody5jcmVhdGVEb2N1bWVudEZyYWdtZW50KSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQpe2M9Yy50ZW1wbGF0ZTtpZighYyl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCAnXCIrYitcIicgaGFzIG5vIHRlbXBsYXRlXCIpO2I9YS5hLkNhKGMpO2EuaC51YShkLGIpfWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBkPWEuY3JlYXRlVmlld01vZGVsO3JldHVybiBkP2QuY2FsbChhLGIsYyk6Yn12YXIgZD0wO2EuZi5jb21wb25lbnQ9e2luaXQ6ZnVuY3Rpb24oZSxmLGcsaCxtKXtmdW5jdGlvbiBsKCl7dmFyIGE9ayYmay5kaXNwb3NlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhJiZhLmNhbGwoayk7biYmbi5zKCk7cT1rPW49bnVsbH12YXIgayxxLG4scj1hLmEubGEoYS5oLmNoaWxkTm9kZXMoZSkpO1xuXHRhLmguRWEoZSk7YS5hLkkuemEoZSxsKTthLm8oZnVuY3Rpb24oKXt2YXIgZz1hLmEuYyhmKCkpLGgsdTtcInN0cmluZ1wiPT09dHlwZW9mIGc/aD1nOihoPWEuYS5jKGcubmFtZSksdT1hLmEuYyhnLnBhcmFtcykpO2lmKCFoKXRocm93IEVycm9yKFwiTm8gY29tcG9uZW50IG5hbWUgc3BlY2lmaWVkXCIpO3ZhciBwPWEuai5CYihlLG0pLEI9cT0rK2Q7YS5pLmdldChoLGZ1bmN0aW9uKGQpe2lmKHE9PT1CKXtsKCk7aWYoIWQpdGhyb3cgRXJyb3IoXCJVbmtub3duIGNvbXBvbmVudCAnXCIraCtcIidcIik7YihoLGQsZSk7dmFyIGY9YyhkLHUse2VsZW1lbnQ6ZSx0ZW1wbGF0ZU5vZGVzOnJ9KTtkPXAuY3JlYXRlQ2hpbGRDb250ZXh0KGYse2V4dGVuZDpmdW5jdGlvbihhKXthLiRjb21wb25lbnQ9ZjthLiRjb21wb25lbnRUZW1wbGF0ZU5vZGVzPXJ9fSk7ZiYmZi5rb0Rlc2NlbmRhbnRzQ29tcGxldGUmJihuPWEuai5zdWJzY3JpYmUoZSxhLmoub2EsZi5rb0Rlc2NlbmRhbnRzQ29tcGxldGUsZikpO1xuXHRrPWY7YS5QYShkLGUpfX0pfSxudWxsLHtsOmV9KTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmNvbXBvbmVudD0hMH0pKCk7dmFyIFY9e1wiY2xhc3NcIjpcImNsYXNzTmFtZVwiLFwiZm9yXCI6XCJodG1sRm9yXCJ9O2EuZi5hdHRyPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuYyhjKCkpfHx7fTthLmEuTyhkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuYyhkKTt2YXIgZz1jLmluZGV4T2YoXCI6XCIpLGc9XCJsb29rdXBOYW1lc3BhY2VVUklcImluIGImJjA8ZyYmYi5sb29rdXBOYW1lc3BhY2VVUkkoYy5zdWJzdHIoMCxnKSksaD0hMT09PWR8fG51bGw9PT1kfHxkPT09cDtoP2c/Yi5yZW1vdmVBdHRyaWJ1dGVOUyhnLGMpOmIucmVtb3ZlQXR0cmlidXRlKGMpOmQ9ZC50b1N0cmluZygpOzg+PWEuYS5XJiZjIGluIFY/KGM9VltjXSxoP2IucmVtb3ZlQXR0cmlidXRlKGMpOmJbY109ZCk6aHx8KGc/Yi5zZXRBdHRyaWJ1dGVOUyhnLGMsZCk6Yi5zZXRBdHRyaWJ1dGUoYyxcblx0ZCkpO1wibmFtZVwiPT09YyYmYS5hLlhjKGIsaD9cIlwiOmQpfSl9fTsoZnVuY3Rpb24oKXthLmYuY2hlY2tlZD17YWZ0ZXI6W1widmFsdWVcIixcImF0dHJcIl0saW5pdDpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZSgpe3ZhciBlPWIuY2hlY2tlZCxmPWcoKTtpZighYS5VLnJiKCkmJihlfHwhbSYmIWEuVS5wYSgpKSl7dmFyIGw9YS52LksoYyk7aWYoayl7dmFyIG49cT9sLncoKTpsLEI9cjtyPWY7QiE9PWY/ZSYmKGEuYS5PYShuLGYsITApLGEuYS5PYShuLEIsITEpKTphLmEuT2EobixmLGUpO3EmJmEuWWEobCkmJmwobil9ZWxzZSBoJiYoZj09PXA/Zj1lOmV8fChmPXApKSxhLm0uJGEobCxkLFwiY2hlY2tlZFwiLGYsITApfX1mdW5jdGlvbiBmKCl7dmFyIGQ9YS5hLmMoYygpKSxlPWcoKTtrPyhiLmNoZWNrZWQ9MDw9YS5hLkEoZCxlKSxyPWUpOmIuY2hlY2tlZD1oJiZlPT09cD8hIWQ6ZygpPT09ZH12YXIgZz1hLndiKGZ1bmN0aW9uKCl7aWYoZC5oYXMoXCJjaGVja2VkVmFsdWVcIikpcmV0dXJuIGEuYS5jKGQuZ2V0KFwiY2hlY2tlZFZhbHVlXCIpKTtcblx0aWYobilyZXR1cm4gZC5oYXMoXCJ2YWx1ZVwiKT9hLmEuYyhkLmdldChcInZhbHVlXCIpKTpiLnZhbHVlfSksaD1cImNoZWNrYm94XCI9PWIudHlwZSxtPVwicmFkaW9cIj09Yi50eXBlO2lmKGh8fG0pe3ZhciBsPWMoKSxrPWgmJmEuYS5jKGwpaW5zdGFuY2VvZiBBcnJheSxxPSEoayYmbC5wdXNoJiZsLnNwbGljZSksbj1tfHxrLHI9az9nKCk6cDttJiYhYi5uYW1lJiZhLmYudW5pcXVlTmFtZS5pbml0KGIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pO2EubyhlLG51bGwse2w6Yn0pO2EuYS5IKGIsXCJjbGlja1wiLGUpO2EubyhmLG51bGwse2w6Yn0pO2w9cH19fTthLm0udmEuY2hlY2tlZD0hMDthLmYuY2hlY2tlZFZhbHVlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXtiLnZhbHVlPWEuYS5jKGMoKSl9fX0pKCk7YS5mW1wiY2xhc3NcIl09e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5DYihhLmEuYyhjKCkpKTthLmEuRWIoYixiLl9fa29fX2Nzc1ZhbHVlLCExKTtiLl9fa29fX2Nzc1ZhbHVlPWQ7YS5hLkViKGIsXG5cdGQsITApfX07YS5mLmNzcz17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmMoYygpKTtudWxsIT09ZCYmXCJvYmplY3RcIj09dHlwZW9mIGQ/YS5hLk8oZCxmdW5jdGlvbihjLGQpe2Q9YS5hLmMoZCk7YS5hLkViKGIsYyxkKX0pOmEuZltcImNsYXNzXCJdLnVwZGF0ZShiLGMpfX07YS5mLmVuYWJsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmMoYygpKTtkJiZiLmRpc2FibGVkP2IucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik6ZHx8Yi5kaXNhYmxlZHx8KGIuZGlzYWJsZWQ9ITApfX07YS5mLmRpc2FibGU9e3VwZGF0ZTpmdW5jdGlvbihiLGMpe2EuZi5lbmFibGUudXBkYXRlKGIsZnVuY3Rpb24oKXtyZXR1cm4hYS5hLmMoYygpKX0pfX07YS5mLmV2ZW50PXtpbml0OmZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGc9YygpfHx7fTthLmEuTyhnLGZ1bmN0aW9uKGcpe1wic3RyaW5nXCI9PXR5cGVvZiBnJiZhLmEuSChiLGcsZnVuY3Rpb24oYil7dmFyIGwsaz1jKClbZ107XG5cdGlmKGspe3RyeXt2YXIgcT1hLmEubGEoYXJndW1lbnRzKTtlPWYuJGRhdGE7cS51bnNoaWZ0KGUpO2w9ay5hcHBseShlLHEpfWZpbmFsbHl7ITAhPT1sJiYoYi5wcmV2ZW50RGVmYXVsdD9iLnByZXZlbnREZWZhdWx0KCk6Yi5yZXR1cm5WYWx1ZT0hMSl9ITE9PT1kLmdldChnK1wiQnViYmxlXCIpJiYoYi5jYW5jZWxCdWJibGU9ITAsYi5zdG9wUHJvcGFnYXRpb24mJmIuc3RvcFByb3BhZ2F0aW9uKCkpfX0pfSl9fTthLmYuZm9yZWFjaD17UWM6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9YigpLGQ9YS5hLiRiKGMpO2lmKCFkfHxcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgpcmV0dXJue2ZvcmVhY2g6Yyx0ZW1wbGF0ZUVuZ2luZTphLmJhLk5hfTthLmEuYyhjKTtyZXR1cm57Zm9yZWFjaDpkLmRhdGEsYXM6ZC5hcyxub0NoaWxkQ29udGV4dDpkLm5vQ2hpbGRDb250ZXh0LGluY2x1ZGVEZXN0cm95ZWQ6ZC5pbmNsdWRlRGVzdHJveWVkLGFmdGVyQWRkOmQuYWZ0ZXJBZGQsXG5cdGJlZm9yZVJlbW92ZTpkLmJlZm9yZVJlbW92ZSxhZnRlclJlbmRlcjpkLmFmdGVyUmVuZGVyLGJlZm9yZU1vdmU6ZC5iZWZvcmVNb3ZlLGFmdGVyTW92ZTpkLmFmdGVyTW92ZSx0ZW1wbGF0ZUVuZ2luZTphLmJhLk5hfX19LGluaXQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5mLnRlbXBsYXRlLmluaXQoYixhLmYuZm9yZWFjaC5RYyhjKSl9LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3JldHVybiBhLmYudGVtcGxhdGUudXBkYXRlKGIsYS5mLmZvcmVhY2guUWMoYyksZCxlLGYpfX07YS5tLlJhLmZvcmVhY2g9ITE7YS5oLmVhLmZvcmVhY2g9ITA7YS5mLmhhc2ZvY3VzPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKGUpe2IuX19rb19oYXNmb2N1c1VwZGF0aW5nPSEwO3ZhciBmPWIub3duZXJEb2N1bWVudDtpZihcImFjdGl2ZUVsZW1lbnRcImluIGYpe3ZhciBnO3RyeXtnPWYuYWN0aXZlRWxlbWVudH1jYXRjaChrKXtnPWYuYm9keX1lPWc9PT1ifWY9YygpO2EubS4kYShmLFxuXHRkLFwiaGFzZm9jdXNcIixlLCEwKTtiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9ZTtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMX12YXIgZj1lLmJpbmQobnVsbCwhMCksZz1lLmJpbmQobnVsbCwhMSk7YS5hLkgoYixcImZvY3VzXCIsZik7YS5hLkgoYixcImZvY3VzaW5cIixmKTthLmEuSChiLFwiYmx1clwiLGcpO2EuYS5IKGIsXCJmb2N1c291dFwiLGcpO2IuX19rb19oYXNmb2N1c0xhc3RWYWx1ZT0hMX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ISFhLmEuYyhjKCkpO2IuX19rb19oYXNmb2N1c1VwZGF0aW5nfHxiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9PT1kfHwoZD9iLmZvY3VzKCk6Yi5ibHVyKCksIWQmJmIuX19rb19oYXNmb2N1c0xhc3RWYWx1ZSYmYi5vd25lckRvY3VtZW50LmJvZHkuZm9jdXMoKSxhLnYuSyhhLmEuRmIsbnVsbCxbYixkP1wiZm9jdXNpblwiOlwiZm9jdXNvdXRcIl0pKX19O2EubS52YS5oYXNmb2N1cz0hMDthLmYuaGFzRm9jdXM9YS5mLmhhc2ZvY3VzO2EubS52YS5oYXNGb2N1cz1cblx0XCJoYXNmb2N1c1wiO2EuZi5odG1sPXtpbml0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5hLmRjKGIsYygpKX19OyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixkLGUpe2EuZltiXT17aW5pdDpmdW5jdGlvbihiLGMsaCxtLGwpe3ZhciBrLHEsbj17fSxyLHAsQTtpZihkKXttPWguZ2V0KFwiYXNcIik7dmFyIHU9aC5nZXQoXCJub0NoaWxkQ29udGV4dFwiKTtBPSEobSYmdSk7bj17YXM6bSxub0NoaWxkQ29udGV4dDp1LGV4cG9ydERlcGVuZGVuY2llczpBfX1wPShyPVwicmVuZGVyXCI9PWguZ2V0KFwiY29tcGxldGVPblwiKSl8fGguaGFzKGEuai5vYSk7YS5vKGZ1bmN0aW9uKCl7dmFyIGg9YS5hLmMoYygpKSxtPSFlIT09IWgsdT0hcSx0O2lmKEF8fG0hPT1rKXtwJiYobD1hLmouQmIoYixsKSk7aWYobSl7aWYoIWR8fEEpbi5kYXRhRGVwZW5kZW5jeT1hLlUubygpO3Q9ZD9sLmNyZWF0ZUNoaWxkQ29udGV4dChcImZ1bmN0aW9uXCI9PVxuXHR0eXBlb2YgaD9oOmMsbik6YS5VLnBhKCk/bC5leHRlbmQobnVsbCxuKTpsfXUmJmEuVS5wYSgpJiYocT1hLmEuQ2EoYS5oLmNoaWxkTm9kZXMoYiksITApKTttPyh1fHxhLmgudWEoYixhLmEuQ2EocSkpLGEuUGEodCxiKSk6KGEuaC5FYShiKSxyfHxhLmouR2EoYixhLmouVCkpO2s9bX19LG51bGwse2w6Yn0pO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLm0uUmFbYl09ITE7YS5oLmVhW2JdPSEwfWIoXCJpZlwiKTtiKFwiaWZub3RcIiwhMSwhMCk7YihcIndpdGhcIiwhMCl9KSgpO2EuZi5sZXQ9e2luaXQ6ZnVuY3Rpb24oYixjLGQsZSxmKXtjPWYuZXh0ZW5kKGMpO2EuUGEoYyxiKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmxldD0hMDt2YXIgUT17fTthLmYub3B0aW9ucz17aW5pdDpmdW5jdGlvbihiKXtpZihcInNlbGVjdFwiIT09YS5hLlAoYikpdGhyb3cgRXJyb3IoXCJvcHRpb25zIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTtcblx0Zm9yKDswPGIubGVuZ3RoOyliLnJlbW92ZSgwKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYS5hLmZiKGIub3B0aW9ucyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPXR5cGVvZiBiO3JldHVyblwiZnVuY3Rpb25cIj09ZD9iKGEpOlwic3RyaW5nXCI9PWQ/YVtiXTpjfWZ1bmN0aW9uIGcoYyxlKXtpZih5JiZrKWEudS55YShiLGEuYS5jKGQuZ2V0KFwidmFsdWVcIikpLCEwKTtlbHNlIGlmKHIubGVuZ3RoKXt2YXIgZj0wPD1hLmEuQShyLGEudS5MKGVbMF0pKTthLmEuWWMoZVswXSxmKTt5JiYhZiYmYS52LksoYS5hLkZiLG51bGwsW2IsXCJjaGFuZ2VcIl0pfX12YXIgaD1iLm11bHRpcGxlLG09MCE9Yi5sZW5ndGgmJmg/Yi5zY3JvbGxUb3A6bnVsbCxsPWEuYS5jKGMoKSksaz1kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKSYmZC5oYXMoXCJ2YWx1ZVwiKSxcblx0cT1kLmdldChcIm9wdGlvbnNJbmNsdWRlRGVzdHJveWVkXCIpO2M9e307dmFyIG4scj1bXTtrfHwoaD9yPWEuYS5NYihlKCksYS51LkwpOjA8PWIuc2VsZWN0ZWRJbmRleCYmci5wdXNoKGEudS5MKGIub3B0aW9uc1tiLnNlbGVjdGVkSW5kZXhdKSkpO2wmJihcInVuZGVmaW5lZFwiPT10eXBlb2YgbC5sZW5ndGgmJihsPVtsXSksbj1hLmEuZmIobCxmdW5jdGlvbihiKXtyZXR1cm4gcXx8Yj09PXB8fG51bGw9PT1ifHwhYS5hLmMoYi5fZGVzdHJveSl9KSxkLmhhcyhcIm9wdGlvbnNDYXB0aW9uXCIpJiYobD1hLmEuYyhkLmdldChcIm9wdGlvbnNDYXB0aW9uXCIpKSxudWxsIT09bCYmbCE9PXAmJm4udW5zaGlmdChRKSkpO3ZhciB5PSExO2MuYmVmb3JlUmVtb3ZlPWZ1bmN0aW9uKGEpe2IucmVtb3ZlQ2hpbGQoYSl9O2w9ZztkLmhhcyhcIm9wdGlvbnNBZnRlclJlbmRlclwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5nZXQoXCJvcHRpb25zQWZ0ZXJSZW5kZXJcIikmJihsPWZ1bmN0aW9uKGIsYyl7ZygwLGMpO1xuXHRhLnYuSyhkLmdldChcIm9wdGlvbnNBZnRlclJlbmRlclwiKSxudWxsLFtjWzBdLGIhPT1RP2I6cF0pfSk7YS5hLmNjKGIsbixmdW5jdGlvbihjLGUsZyl7Zy5sZW5ndGgmJihyPSFrJiZnWzBdLnNlbGVjdGVkP1thLnUuTChnWzBdKV06W10seT0hMCk7ZT1iLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtjPT09UT8oYS5hLkFiKGUsZC5nZXQoXCJvcHRpb25zQ2FwdGlvblwiKSksYS51LnlhKGUscCkpOihnPWYoYyxkLmdldChcIm9wdGlvbnNWYWx1ZVwiKSxjKSxhLnUueWEoZSxhLmEuYyhnKSksYz1mKGMsZC5nZXQoXCJvcHRpb25zVGV4dFwiKSxnKSxhLmEuQWIoZSxjKSk7cmV0dXJuW2VdfSxjLGwpO2Eudi5LKGZ1bmN0aW9uKCl7aWYoaylhLnUueWEoYixhLmEuYyhkLmdldChcInZhbHVlXCIpKSwhMCk7ZWxzZXt2YXIgYztoP2M9ci5sZW5ndGgmJmUoKS5sZW5ndGg8ci5sZW5ndGg6Yz1yLmxlbmd0aCYmMDw9Yi5zZWxlY3RlZEluZGV4P2EudS5MKGIub3B0aW9uc1tiLnNlbGVjdGVkSW5kZXhdKSE9PVxuXHRyWzBdOnIubGVuZ3RofHwwPD1iLnNlbGVjdGVkSW5kZXg7YyYmYS5hLkZiKGIsXCJjaGFuZ2VcIil9fSk7YS5hLnZkKGIpO20mJjIwPE1hdGguYWJzKG0tYi5zY3JvbGxUb3ApJiYoYi5zY3JvbGxUb3A9bSl9fTthLmYub3B0aW9ucy5ZYj1hLmEuZy5aKCk7YS5mLnNlbGVjdGVkT3B0aW9ucz17YWZ0ZXI6W1wib3B0aW9uc1wiLFwiZm9yZWFjaFwiXSxpbml0OmZ1bmN0aW9uKGIsYyxkKXthLmEuSChiLFwiY2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgZT1jKCksZj1bXTthLmEuQyhiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwib3B0aW9uXCIpLGZ1bmN0aW9uKGIpe2Iuc2VsZWN0ZWQmJmYucHVzaChhLnUuTChiKSl9KTthLm0uJGEoZSxkLFwic2VsZWN0ZWRPcHRpb25zXCIsZil9KX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7aWYoXCJzZWxlY3RcIiE9YS5hLlAoYikpdGhyb3cgRXJyb3IoXCJ2YWx1ZXMgYmluZGluZyBhcHBsaWVzIG9ubHkgdG8gU0VMRUNUIGVsZW1lbnRzXCIpO3ZhciBkPWEuYS5jKGMoKSksZT1iLnNjcm9sbFRvcDtcblx0ZCYmXCJudW1iZXJcIj09dHlwZW9mIGQubGVuZ3RoJiZhLmEuQyhiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwib3B0aW9uXCIpLGZ1bmN0aW9uKGIpe3ZhciBjPTA8PWEuYS5BKGQsYS51LkwoYikpO2Iuc2VsZWN0ZWQhPWMmJmEuYS5ZYyhiLGMpfSk7Yi5zY3JvbGxUb3A9ZX19O2EubS52YS5zZWxlY3RlZE9wdGlvbnM9ITA7YS5mLnN0eWxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuYyhjKCl8fHt9KTthLmEuTyhkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuYyhkKTtpZihudWxsPT09ZHx8ZD09PXB8fCExPT09ZClkPVwiXCI7aWYodil2KGIpLmNzcyhjLGQpO2Vsc2UgaWYoL14tLS8udGVzdChjKSliLnN0eWxlLnNldFByb3BlcnR5KGMsZCk7ZWxzZXtjPWMucmVwbGFjZSgvLShcXHcpL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSk7dmFyIGc9Yi5zdHlsZVtjXTtiLnN0eWxlW2NdPWQ7ZD09PWd8fGIuc3R5bGVbY10hPWd8fGlzTmFOKGQpfHwoYi5zdHlsZVtjXT1cblx0ZCtcInB4XCIpfX0pfX07YS5mLnN1Ym1pdD17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMoKSl0aHJvdyBFcnJvcihcIlRoZSB2YWx1ZSBmb3IgYSBzdWJtaXQgYmluZGluZyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YS5hLkgoYixcInN1Ym1pdFwiLGZ1bmN0aW9uKGEpe3ZhciBkLGU9YygpO3RyeXtkPWUuY2FsbChmLiRkYXRhLGIpfWZpbmFsbHl7ITAhPT1kJiYoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9fSl9fTthLmYudGV4dD17aW5pdDpmdW5jdGlvbigpe3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYS5BYihiLGMoKSl9fTthLmguZWEudGV4dD0hMDsoZnVuY3Rpb24oKXtpZih6JiZ6Lm5hdmlnYXRvcil7dmFyIGI9ZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gcGFyc2VGbG9hdChhWzFdKX0sYz16Lm5hdmlnYXRvci51c2VyQWdlbnQsXG5cdGQsZSxmLGcsaDsoZD16Lm9wZXJhJiZ6Lm9wZXJhLnZlcnNpb24mJnBhcnNlSW50KHoub3BlcmEudmVyc2lvbigpKSl8fChoPWIoYy5tYXRjaCgvRWRnZVxcLyhbXiBdKykkLykpKXx8YihjLm1hdGNoKC9DaHJvbWVcXC8oW14gXSspLykpfHwoZT1iKGMubWF0Y2goL1ZlcnNpb25cXC8oW14gXSspIFNhZmFyaS8pKSl8fChmPWIoYy5tYXRjaCgvRmlyZWZveFxcLyhbXiBdKykvKSkpfHwoZz1hLmEuV3x8YihjLm1hdGNoKC9NU0lFIChbXiBdKykvKSkpfHwoZz1iKGMubWF0Y2goL3J2OihbXiApXSspLykpKX1pZig4PD1nJiYxMD5nKXZhciBtPWEuYS5nLlooKSxsPWEuYS5nLlooKSxrPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuYWN0aXZlRWxlbWVudDsoYz1jJiZhLmEuZy5nZXQoYyxsKSkmJmMoYil9LHE9ZnVuY3Rpb24oYixjKXt2YXIgZD1iLm93bmVyRG9jdW1lbnQ7YS5hLmcuZ2V0KGQsbSl8fChhLmEuZy5zZXQoZCxtLCEwKSxhLmEuSChkLFwic2VsZWN0aW9uY2hhbmdlXCIsaykpO2EuYS5nLnNldChiLFxuXHRsLGMpfTthLmYudGV4dElucHV0PXtpbml0OmZ1bmN0aW9uKGIsYyxsKXtmdW5jdGlvbiBrKGMsZCl7YS5hLkgoYixjLGQpfWZ1bmN0aW9uIG0oKXt2YXIgZD1hLmEuYyhjKCkpO2lmKG51bGw9PT1kfHxkPT09cClkPVwiXCI7TCE9PXAmJmQ9PT1MP2EuYS5zZXRUaW1lb3V0KG0sNCk6Yi52YWx1ZSE9PWQmJih4PSEwLGIudmFsdWU9ZCx4PSExLHY9Yi52YWx1ZSl9ZnVuY3Rpb24gdCgpe3d8fChMPWIudmFsdWUsdz1hLmEuc2V0VGltZW91dChCLDQpKX1mdW5jdGlvbiBCKCl7Y2xlYXJUaW1lb3V0KHcpO0w9dz1wO3ZhciBkPWIudmFsdWU7diE9PWQmJih2PWQsYS5tLiRhKGMoKSxsLFwidGV4dElucHV0XCIsZCkpfXZhciB2PWIudmFsdWUsdyxMLHo9OT09YS5hLlc/dDpCLHg9ITE7ZyYmayhcImtleXByZXNzXCIsQik7MTE+ZyYmayhcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7eHx8XCJ2YWx1ZVwiIT09YS5wcm9wZXJ0eU5hbWV8fHooYSl9KTs4PT1nJiYoayhcImtleXVwXCIsQiksayhcImtleWRvd25cIixcblx0QikpO3EmJihxKGIseiksayhcImRyYWdlbmRcIix0KSk7KCFnfHw5PD1nKSYmayhcImlucHV0XCIseik7NT5lJiZcInRleHRhcmVhXCI9PT1hLmEuUChiKT8oayhcImtleWRvd25cIix0KSxrKFwicGFzdGVcIix0KSxrKFwiY3V0XCIsdCkpOjExPmQ/ayhcImtleWRvd25cIix0KTo0PmY/KGsoXCJET01BdXRvQ29tcGxldGVcIixCKSxrKFwiZHJhZ2Ryb3BcIixCKSxrKFwiZHJvcFwiLEIpKTpoJiZcIm51bWJlclwiPT09Yi50eXBlJiZrKFwia2V5ZG93blwiLHQpO2soXCJjaGFuZ2VcIixCKTtrKFwiYmx1clwiLEIpO2EubyhtLG51bGwse2w6Yn0pfX07YS5tLnZhLnRleHRJbnB1dD0hMDthLmYudGV4dGlucHV0PXtwcmVwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXtjKFwidGV4dElucHV0XCIsYSl9fX0pKCk7YS5mLnVuaXF1ZU5hbWU9e2luaXQ6ZnVuY3Rpb24oYixjKXtpZihjKCkpe3ZhciBkPVwia29fdW5pcXVlX1wiKyArK2EuZi51bmlxdWVOYW1lLnFkO2EuYS5YYyhiLGQpfX19O2EuZi51bmlxdWVOYW1lLnFkPTA7YS5mLnVzaW5nPXtpbml0OmZ1bmN0aW9uKGIsXG5cdGMsZCxlLGYpe3ZhciBnO2QuaGFzKFwiYXNcIikmJihnPXthczpkLmdldChcImFzXCIpLG5vQ2hpbGRDb250ZXh0OmQuZ2V0KFwibm9DaGlsZENvbnRleHRcIil9KTtjPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMsZyk7YS5QYShjLGIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLmguZWEudXNpbmc9ITA7YS5mLnZhbHVlPXthZnRlcjpbXCJvcHRpb25zXCIsXCJmb3JlYWNoXCJdLGluaXQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuYS5QKGIpLGY9XCJpbnB1dFwiPT1lO2lmKCFmfHxcImNoZWNrYm94XCIhPWIudHlwZSYmXCJyYWRpb1wiIT1iLnR5cGUpe3ZhciBnPVtcImNoYW5nZVwiXSxoPWQuZ2V0KFwidmFsdWVVcGRhdGVcIiksbT0hMSxsPW51bGw7aCYmKFwic3RyaW5nXCI9PXR5cGVvZiBoJiYoaD1baF0pLGEuYS5nYihnLGgpLGc9YS5hLnZjKGcpKTt2YXIgaz1mdW5jdGlvbigpe2w9bnVsbDttPSExO3ZhciBlPWMoKSxmPWEudS5MKGIpO2EubS4kYShlLGQsXCJ2YWx1ZVwiLGYpfTshYS5hLld8fFxuXHQhZnx8XCJ0ZXh0XCIhPWIudHlwZXx8XCJvZmZcIj09Yi5hdXRvY29tcGxldGV8fGIuZm9ybSYmXCJvZmZcIj09Yi5mb3JtLmF1dG9jb21wbGV0ZXx8LTEhPWEuYS5BKGcsXCJwcm9wZXJ0eWNoYW5nZVwiKXx8KGEuYS5IKGIsXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKCl7bT0hMH0pLGEuYS5IKGIsXCJmb2N1c1wiLGZ1bmN0aW9uKCl7bT0hMX0pLGEuYS5IKGIsXCJibHVyXCIsZnVuY3Rpb24oKXttJiZrKCl9KSk7YS5hLkMoZyxmdW5jdGlvbihjKXt2YXIgZD1rO2EuYS5UZChjLFwiYWZ0ZXJcIikmJihkPWZ1bmN0aW9uKCl7bD1hLnUuTChiKTthLmEuc2V0VGltZW91dChrLDApfSxjPWMuc3Vic3RyaW5nKDUpKTthLmEuSChiLGMsZCl9KTt2YXIgcTtxPWYmJlwiZmlsZVwiPT1iLnR5cGU/ZnVuY3Rpb24oKXt2YXIgZD1hLmEuYyhjKCkpO251bGw9PT1kfHxkPT09cHx8XCJcIj09PWQ/Yi52YWx1ZT1cIlwiOmEudi5LKGspfTpmdW5jdGlvbigpe3ZhciBmPWEuYS5jKGMoKSksZz1hLnUuTChiKTtpZihudWxsIT09bCYmXG5cdGY9PT1sKWEuYS5zZXRUaW1lb3V0KHEsMCk7ZWxzZSBpZihmIT09Z3x8Zz09PXApXCJzZWxlY3RcIj09PWU/KGc9ZC5nZXQoXCJ2YWx1ZUFsbG93VW5zZXRcIiksYS51LnlhKGIsZixnKSxnfHxmPT09YS51LkwoYil8fGEudi5LKGspKTphLnUueWEoYixmKX07YS5vKHEsbnVsbCx7bDpifSl9ZWxzZSBhLmViKGIse2NoZWNrZWRWYWx1ZTpjfSl9LHVwZGF0ZTpmdW5jdGlvbigpe319O2EubS52YS52YWx1ZT0hMDthLmYudmlzaWJsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmMoYygpKSxlPVwibm9uZVwiIT1iLnN0eWxlLmRpc3BsYXk7ZCYmIWU/Yi5zdHlsZS5kaXNwbGF5PVwiXCI6IWQmJmUmJihiLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfX07YS5mLmhpZGRlbj17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5mLnZpc2libGUudXBkYXRlKGIsZnVuY3Rpb24oKXtyZXR1cm4hYS5hLmMoYygpKX0pfX07KGZ1bmN0aW9uKGIpe2EuZltiXT17aW5pdDpmdW5jdGlvbihjLGQsZSxmLGcpe3JldHVybiBhLmYuZXZlbnQuaW5pdC5jYWxsKHRoaXMsXG5cdGMsZnVuY3Rpb24oKXt2YXIgYT17fTthW2JdPWQoKTtyZXR1cm4gYX0sZSxmLGcpfX19KShcImNsaWNrXCIpO2EuY2E9ZnVuY3Rpb24oKXt9O2EuY2EucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJPdmVycmlkZSByZW5kZXJUZW1wbGF0ZVNvdXJjZVwiKTt9O2EuY2EucHJvdG90eXBlLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiT3ZlcnJpZGUgY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrXCIpO307YS5jYS5wcm90b3R5cGUubWFrZVRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsYyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2M9Y3x8dzt2YXIgZD1jLmdldEVsZW1lbnRCeUlkKGIpO2lmKCFkKXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGVtcGxhdGUgd2l0aCBJRCBcIitiKTtyZXR1cm4gbmV3IGEuQi5EKGQpfWlmKDE9PWIubm9kZVR5cGV8fDg9PWIubm9kZVR5cGUpcmV0dXJuIG5ldyBhLkIuaWEoYik7XG5cdHRocm93IEVycm9yKFwiVW5rbm93biB0ZW1wbGF0ZSB0eXBlOiBcIitiKTt9O2EuY2EucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlPWZ1bmN0aW9uKGEsYyxkLGUpe2E9dGhpcy5tYWtlVGVtcGxhdGVTb3VyY2UoYSxlKTtyZXR1cm4gdGhpcy5yZW5kZXJUZW1wbGF0ZVNvdXJjZShhLGMsZCxlKX07YS5jYS5wcm90b3R5cGUuaXNUZW1wbGF0ZVJld3JpdHRlbj1mdW5jdGlvbihhLGMpe3JldHVybiExPT09dGhpcy5hbGxvd1RlbXBsYXRlUmV3cml0aW5nPyEwOnRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsYykuZGF0YShcImlzUmV3cml0dGVuXCIpfTthLmNhLnByb3RvdHlwZS5yZXdyaXRlVGVtcGxhdGU9ZnVuY3Rpb24oYSxjLGQpe2E9dGhpcy5tYWtlVGVtcGxhdGVTb3VyY2UoYSxkKTtjPWMoYS50ZXh0KCkpO2EudGV4dChjKTthLmRhdGEoXCJpc1Jld3JpdHRlblwiLCEwKX07YS5iKFwidGVtcGxhdGVFbmdpbmVcIixhLmNhKTthLmljPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCxoKXtiPWEubS5aYihiKTtcblx0Zm9yKHZhciBtPWEubS5SYSxsPTA7bDxiLmxlbmd0aDtsKyspe3ZhciBrPWJbbF0ua2V5O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtLGspKXt2YXIgcT1tW2tdO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBxKXtpZihrPXEoYltsXS52YWx1ZSkpdGhyb3cgRXJyb3Ioayk7fWVsc2UgaWYoIXEpdGhyb3cgRXJyb3IoXCJUaGlzIHRlbXBsYXRlIGVuZ2luZSBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnXCIraytcIicgYmluZGluZyB3aXRoaW4gaXRzIHRlbXBsYXRlc1wiKTt9fWQ9XCJrby5fX3RyX2FtYnRucyhmdW5jdGlvbigkY29udGV4dCwkZWxlbWVudCl7cmV0dXJuKGZ1bmN0aW9uKCl7cmV0dXJueyBcIithLm0udWIoYix7dmFsdWVBY2Nlc3NvcnM6ITB9KStcIiB9IH0pKCl9LCdcIitkLnRvTG93ZXJDYXNlKCkrXCInKVwiO3JldHVybiBoLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jayhkKStjfXZhciBjPS8oPChbYS16XStcXGQqKSg/OlxccysoPyFkYXRhLWJpbmRcXHMqPVxccyopW2EtejAtOVxcLV0rKD86PSg/OlxcXCJbXlxcXCJdKlxcXCJ8XFwnW15cXCddKlxcJ3xbXj5dKikpPykqXFxzKylkYXRhLWJpbmRcXHMqPVxccyooW1wiJ10pKFtcXHNcXFNdKj8pXFwzL2dpLFxuXHRkPS9cXHgzYyEtLVxccyprb1xcYlxccyooW1xcc1xcU10qPylcXHMqLS1cXHgzZS9nO3JldHVybnt3ZDpmdW5jdGlvbihiLGMsZCl7Yy5pc1RlbXBsYXRlUmV3cml0dGVuKGIsZCl8fGMucmV3cml0ZVRlbXBsYXRlKGIsZnVuY3Rpb24oYil7cmV0dXJuIGEuaWMuS2QoYixjKX0sZCl9LEtkOmZ1bmN0aW9uKGEsZil7cmV0dXJuIGEucmVwbGFjZShjLGZ1bmN0aW9uKGEsYyxkLGUsayl7cmV0dXJuIGIoayxjLGQsZil9KS5yZXBsYWNlKGQsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihjLFwiXFx4M2MhLS0ga28gLS1cXHgzZVwiLFwiI2NvbW1lbnRcIixmKX0pfSxsZDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmFhLldiKGZ1bmN0aW9uKGQsaCl7dmFyIG09ZC5uZXh0U2libGluZzttJiZtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1jJiZhLmViKG0sYixoKX0pfX19KCk7YS5iKFwiX190cl9hbWJ0bnNcIixhLmljLmxkKTsoZnVuY3Rpb24oKXthLkI9e307YS5CLkQ9ZnVuY3Rpb24oYil7aWYodGhpcy5EPWIpe3ZhciBjPVxuXHRhLmEuUChiKTt0aGlzLkRiPVwic2NyaXB0XCI9PT1jPzE6XCJ0ZXh0YXJlYVwiPT09Yz8yOlwidGVtcGxhdGVcIj09YyYmYi5jb250ZW50JiYxMT09PWIuY29udGVudC5ub2RlVHlwZT8zOjR9fTthLkIuRC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbigpe3ZhciBiPTE9PT10aGlzLkRiP1widGV4dFwiOjI9PT10aGlzLkRiP1widmFsdWVcIjpcImlubmVySFRNTFwiO2lmKDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuRFtiXTt2YXIgYz1hcmd1bWVudHNbMF07XCJpbm5lckhUTUxcIj09PWI/YS5hLmRjKHRoaXMuRCxjKTp0aGlzLkRbYl09Y307dmFyIGI9YS5hLmcuWigpK1wiX1wiO2EuQi5ELnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKGMpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLmEuZy5nZXQodGhpcy5ELGIrYyk7YS5hLmcuc2V0KHRoaXMuRCxiK2MsYXJndW1lbnRzWzFdKX07dmFyIGM9YS5hLmcuWigpO2EuQi5ELnByb3RvdHlwZS5ub2Rlcz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuRDtcblx0aWYoMD09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YS5hLmcuZ2V0KGIsYyl8fHt9LGY9ZS5qYnx8KDM9PT10aGlzLkRiP2IuY29udGVudDo0PT09dGhpcy5EYj9iOnApO2lmKCFmfHxlLmhkKWlmKGU9dGhpcy50ZXh0KCkpZj1hLmEuTGQoZSxiLm93bmVyRG9jdW1lbnQpLHRoaXMudGV4dChcIlwiKSxhLmEuZy5zZXQoYixjLHtqYjpmLGhkOiEwfSk7cmV0dXJuIGZ9YS5hLmcuc2V0KGIsYyx7amI6YXJndW1lbnRzWzBdfSl9O2EuQi5pYT1mdW5jdGlvbihhKXt0aGlzLkQ9YX07YS5CLmlhLnByb3RvdHlwZT1uZXcgYS5CLkQ7YS5CLmlhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLkIuaWE7YS5CLmlhLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7aWYoMD09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGI9YS5hLmcuZ2V0KHRoaXMuRCxjKXx8e307Yi5qYz09PXAmJmIuamImJihiLmpjPWIuamIuaW5uZXJIVE1MKTtyZXR1cm4gYi5qY31hLmEuZy5zZXQodGhpcy5ELGMse2pjOmFyZ3VtZW50c1swXX0pfTtcblx0YS5iKFwidGVtcGxhdGVTb3VyY2VzXCIsYS5CKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuZG9tRWxlbWVudFwiLGEuQi5EKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuYW5vbnltb3VzVGVtcGxhdGVcIixhLkIuaWEpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXt2YXIgZTtmb3IoYz1hLmgubmV4dFNpYmxpbmcoYyk7YiYmKGU9YikhPT1jOyliPWEuaC5uZXh0U2libGluZyhlKSxkKGUsYil9ZnVuY3Rpb24gYyhjLGQpe2lmKGMubGVuZ3RoKXt2YXIgZT1jWzBdLGY9Y1tjLmxlbmd0aC0xXSxnPWUucGFyZW50Tm9kZSxoPWEuZ2EuaW5zdGFuY2UsbT1oLnByZXByb2Nlc3NOb2RlO2lmKG0pe2IoZSxmLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wcmV2aW91c1NpYmxpbmcsZD1tLmNhbGwoaCxhKTtkJiYoYT09PWUmJihlPWRbMF18fGIpLGE9PT1mJiYoZj1kW2QubGVuZ3RoLTFdfHxjKSl9KTtjLmxlbmd0aD0wO2lmKCFlKXJldHVybjtlPT09Zj9jLnB1c2goZSk6KGMucHVzaChlLGYpLGEuYS5VYShjLFxuXHRnKSl9YihlLGYsZnVuY3Rpb24oYil7MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlfHxhLnVjKGQsYil9KTtiKGUsZixmdW5jdGlvbihiKXsxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGV8fGEuYWEuYmQoYixbZF0pfSk7YS5hLlVhKGMsZyl9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEubm9kZVR5cGU/YTowPGEubGVuZ3RoP2FbMF06bnVsbH1mdW5jdGlvbiBlKGIsZSxmLGgsbSl7bT1tfHx7fTt2YXIgcD0oYiYmZChiKXx8Znx8e30pLm93bmVyRG9jdW1lbnQsQT1tLnRlbXBsYXRlRW5naW5lfHxnO2EuaWMud2QoZixBLHApO2Y9QS5yZW5kZXJUZW1wbGF0ZShmLGgsbSxwKTtpZihcIm51bWJlclwiIT10eXBlb2YgZi5sZW5ndGh8fDA8Zi5sZW5ndGgmJlwibnVtYmVyXCIhPXR5cGVvZiBmWzBdLm5vZGVUeXBlKXRocm93IEVycm9yKFwiVGVtcGxhdGUgZW5naW5lIG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIERPTSBub2Rlc1wiKTtwPSExO3N3aXRjaChlKXtjYXNlIFwicmVwbGFjZUNoaWxkcmVuXCI6YS5oLnVhKGIsXG5cdGYpO3A9ITA7YnJlYWs7Y2FzZSBcInJlcGxhY2VOb2RlXCI6YS5hLldjKGIsZik7cD0hMDticmVhaztjYXNlIFwiaWdub3JlVGFyZ2V0Tm9kZVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIHJlbmRlck1vZGU6IFwiK2UpO31wJiYoYyhmLGgpLG0uYWZ0ZXJSZW5kZXImJmEudi5LKG0uYWZ0ZXJSZW5kZXIsbnVsbCxbZixoW20uYXN8fFwiJGRhdGFcIl1dKSxcInJlcGxhY2VDaGlsZHJlblwiPT1lJiZhLmouR2EoYixhLmouVCkpO3JldHVybiBmfWZ1bmN0aW9uIGYoYixjLGQpe3JldHVybiBhLk4oYik/YigpOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2IoYyxkKTpifXZhciBnO2EuZWM9ZnVuY3Rpb24oYil7aWYoYiE9cCYmIShiIGluc3RhbmNlb2YgYS5jYSkpdGhyb3cgRXJyb3IoXCJ0ZW1wbGF0ZUVuZ2luZSBtdXN0IGluaGVyaXQgZnJvbSBrby50ZW1wbGF0ZUVuZ2luZVwiKTtnPWJ9O2EuYmM9ZnVuY3Rpb24oYixjLGgsbSxyKXtoPWh8fHt9O2lmKChoLnRlbXBsYXRlRW5naW5lfHxnKT09XG5cdHApdGhyb3cgRXJyb3IoXCJTZXQgYSB0ZW1wbGF0ZSBlbmdpbmUgYmVmb3JlIGNhbGxpbmcgcmVuZGVyVGVtcGxhdGVcIik7cj1yfHxcInJlcGxhY2VDaGlsZHJlblwiO2lmKG0pe3ZhciB5PWQobSk7cmV0dXJuIGEuJChmdW5jdGlvbigpe3ZhciBnPWMmJmMgaW5zdGFuY2VvZiBhLmZhP2M6bmV3IGEuZmEoYyxudWxsLG51bGwsbnVsbCx7ZXhwb3J0RGVwZW5kZW5jaWVzOiEwfSkscD1mKGIsZy4kZGF0YSxnKSxnPWUobSxyLHAsZyxoKTtcInJlcGxhY2VOb2RlXCI9PXImJihtPWcseT1kKG0pKX0sbnVsbCx7U2E6ZnVuY3Rpb24oKXtyZXR1cm4heXx8IWEuYS5SYih5KX0sbDp5JiZcInJlcGxhY2VOb2RlXCI9PXI/eS5wYXJlbnROb2RlOnl9KX1yZXR1cm4gYS5hYS5XYihmdW5jdGlvbihkKXthLmJjKGIsYyxoLGQsXCJyZXBsYWNlTm9kZVwiKX0pfTthLlBkPWZ1bmN0aW9uKGIsZCxnLGgsbSl7ZnVuY3Rpb24geShiLGMpe2Eudi5LKGEuYS5jYyxudWxsLFtoLGIsdSxnLHQsY10pO2Euai5HYShoLGEuai5UKX1cblx0ZnVuY3Rpb24gdChhLGIpe2MoYix2KTtnLmFmdGVyUmVuZGVyJiZnLmFmdGVyUmVuZGVyKGIsYSk7dj1udWxsfWZ1bmN0aW9uIHUoYSxjKXt2PW0uY3JlYXRlQ2hpbGRDb250ZXh0KGEse2FzOkIsbm9DaGlsZENvbnRleHQ6Zy5ub0NoaWxkQ29udGV4dCxleHRlbmQ6ZnVuY3Rpb24oYSl7YS4kaW5kZXg9YztCJiYoYVtCK1wiSW5kZXhcIl09Yyl9fSk7dmFyIGQ9ZihiLGEsdik7cmV0dXJuIGUoaCxcImlnbm9yZVRhcmdldE5vZGVcIixkLHYsZyl9dmFyIHYsQj1nLmFzLHc9ITE9PT1nLmluY2x1ZGVEZXN0cm95ZWR8fGEub3B0aW9ucy5mb3JlYWNoSGlkZXNEZXN0cm95ZWQmJiFnLmluY2x1ZGVEZXN0cm95ZWQ7aWYod3x8Zy5iZWZvcmVSZW1vdmV8fCFhLk9jKGQpKXJldHVybiBhLiQoZnVuY3Rpb24oKXt2YXIgYj1hLmEuYyhkKXx8W107XCJ1bmRlZmluZWRcIj09dHlwZW9mIGIubGVuZ3RoJiYoYj1bYl0pO3cmJihiPWEuYS5mYihiLGZ1bmN0aW9uKGIpe3JldHVybiBiPT09cHx8bnVsbD09PWJ8fFxuXHQhYS5hLmMoYi5fZGVzdHJveSl9KSk7eShiKX0sbnVsbCx7bDpofSk7eShkLncoKSk7dmFyIHo9ZC5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7eShkKCksYSl9LG51bGwsXCJhcnJheUNoYW5nZVwiKTt6LmwoaCk7cmV0dXJuIHp9O3ZhciBoPWEuYS5nLlooKSxtPWEuYS5nLlooKTthLmYudGVtcGxhdGU9e2luaXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuYyhjKCkpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBkfHxkLm5hbWUpYS5oLkVhKGIpO2Vsc2UgaWYoXCJub2Rlc1wiaW4gZCl7ZD1kLm5vZGVzfHxbXTtpZihhLk4oZCkpdGhyb3cgRXJyb3IoJ1RoZSBcIm5vZGVzXCIgb3B0aW9uIG11c3QgYmUgYSBwbGFpbiwgbm9uLW9ic2VydmFibGUgYXJyYXkuJyk7dmFyIGU9ZFswXSYmZFswXS5wYXJlbnROb2RlO2UmJmEuYS5nLmdldChlLG0pfHwoZT1hLmEuWGIoZCksYS5hLmcuc2V0KGUsbSwhMCkpOyhuZXcgYS5CLmlhKGIpKS5ub2RlcyhlKX1lbHNlIGlmKGQ9YS5oLmNoaWxkTm9kZXMoYiksMDxkLmxlbmd0aCllPVxuXHRhLmEuWGIoZCksKG5ldyBhLkIuaWEoYikpLm5vZGVzKGUpO2Vsc2UgdGhyb3cgRXJyb3IoXCJBbm9ueW1vdXMgdGVtcGxhdGUgZGVmaW5lZCwgYnV0IG5vIHRlbXBsYXRlIGNvbnRlbnQgd2FzIHByb3ZpZGVkXCIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWMoKTtjPWEuYS5jKGcpO2Q9ITA7ZT1udWxsO1wic3RyaW5nXCI9PXR5cGVvZiBjP2M9e306KGc9Yy5uYW1lLFwiaWZcImluIGMmJihkPWEuYS5jKGNbXCJpZlwiXSkpLGQmJlwiaWZub3RcImluIGMmJihkPSFhLmEuYyhjLmlmbm90KSkpO1wiZm9yZWFjaFwiaW4gYz9lPWEuUGQoZ3x8YixkJiZjLmZvcmVhY2h8fFtdLGMsYixmKTpkPyhkPWYsXCJkYXRhXCJpbiBjJiYoZD1mLmNyZWF0ZUNoaWxkQ29udGV4dChjLmRhdGEse2FzOmMuYXMsbm9DaGlsZENvbnRleHQ6Yy5ub0NoaWxkQ29udGV4dCxleHBvcnREZXBlbmRlbmNpZXM6ITB9KSksZT1hLmJjKGd8fGIsZCxjLFxuXHRiKSk6YS5oLkVhKGIpO2Y9ZTsoYz1hLmEuZy5nZXQoYixoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMucyYmYy5zKCk7YS5hLmcuc2V0KGIsaCwhZnx8Zi5qYSYmIWYuamEoKT9wOmYpfX07YS5tLlJhLnRlbXBsYXRlPWZ1bmN0aW9uKGIpe2I9YS5tLlpiKGIpO3JldHVybiAxPT1iLmxlbmd0aCYmYlswXS51bmtub3dufHxhLm0uSGQoYixcIm5hbWVcIik/bnVsbDpcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgYW5vbnltb3VzIHRlbXBsYXRlcyBuZXN0ZWQgd2l0aGluIGl0cyB0ZW1wbGF0ZXNcIn07YS5oLmVhLnRlbXBsYXRlPSEwfSkoKTthLmIoXCJzZXRUZW1wbGF0ZUVuZ2luZVwiLGEuZWMpO2EuYihcInJlbmRlclRlbXBsYXRlXCIsYS5iYyk7YS5hLkpjPWZ1bmN0aW9uKGEsYyxkKXtpZihhLmxlbmd0aCYmYy5sZW5ndGgpe3ZhciBlLGYsZyxoLG07Zm9yKGU9Zj0wOyghZHx8ZTxkKSYmKGg9YVtmXSk7KytmKXtmb3IoZz0wO209Y1tnXTsrK2cpaWYoaC52YWx1ZT09PW0udmFsdWUpe2gubW92ZWQ9XG5cdG0uaW5kZXg7bS5tb3ZlZD1oLmluZGV4O2Muc3BsaWNlKGcsMSk7ZT1nPTA7YnJlYWt9ZSs9Z319fTthLmEuT2I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCxlLGYsZyl7dmFyIGg9TWF0aC5taW4sbT1NYXRoLm1heCxsPVtdLGsscD1iLmxlbmd0aCxuLHI9ZC5sZW5ndGgsdD1yLXB8fDEsQT1wK3IrMSx1LHYsdztmb3Ioaz0wO2s8PXA7aysrKWZvcih2PXUsbC5wdXNoKHU9W10pLHc9aChyLGsrdCksbj1tKDAsay0xKTtuPD13O24rKyl1W25dPW4/az9iW2stMV09PT1kW24tMV0/dltuLTFdOmgodltuXXx8QSx1W24tMV18fEEpKzE6bisxOmsrMTtoPVtdO209W107dD1bXTtrPXA7Zm9yKG49cjtrfHxuOylyPWxba11bbl0tMSxuJiZyPT09bFtrXVtuLTFdP20ucHVzaChoW2gubGVuZ3RoXT17c3RhdHVzOmUsdmFsdWU6ZFstLW5dLGluZGV4Om59KTprJiZyPT09bFtrLTFdW25dP3QucHVzaChoW2gubGVuZ3RoXT17c3RhdHVzOmYsdmFsdWU6YlstLWtdLGluZGV4Omt9KTooLS1uLC0tayxcblx0Zy5zcGFyc2V8fGgucHVzaCh7c3RhdHVzOlwicmV0YWluZWRcIix2YWx1ZTpkW25dfSkpO2EuYS5KYyh0LG0sIWcuZG9udExpbWl0TW92ZXMmJjEwKnApO3JldHVybiBoLnJldmVyc2UoKX1yZXR1cm4gZnVuY3Rpb24oYSxkLGUpe2U9XCJib29sZWFuXCI9PT10eXBlb2YgZT97ZG9udExpbWl0TW92ZXM6ZX06ZXx8e307YT1hfHxbXTtkPWR8fFtdO3JldHVybiBhLmxlbmd0aDxkLmxlbmd0aD9iKGEsZCxcImFkZGVkXCIsXCJkZWxldGVkXCIsZSk6YihkLGEsXCJkZWxldGVkXCIsXCJhZGRlZFwiLGUpfX0oKTthLmIoXCJ1dGlscy5jb21wYXJlQXJyYXlzXCIsYS5hLk9iKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkLGgsbSl7dmFyIGw9W10saz1hLiQoZnVuY3Rpb24oKXt2YXIgaz1jKGQsbSxhLmEuVWEobCxiKSl8fFtdOzA8bC5sZW5ndGgmJihhLmEuV2MobCxrKSxoJiZhLnYuSyhoLG51bGwsW2QsayxtXSkpO2wubGVuZ3RoPTA7YS5hLmdiKGwsayl9LG51bGwse2w6YixTYTpmdW5jdGlvbigpe3JldHVybiFhLmEuamQobCl9fSk7XG5cdHJldHVybntZOmwsJDprLmphKCk/azpwfX12YXIgYz1hLmEuZy5aKCksZD1hLmEuZy5aKCk7YS5hLmNjPWZ1bmN0aW9uKGUsZixnLGgsbSxsKXtmdW5jdGlvbiBrKGIpe3g9e0FhOmIsbmI6YS5zYSh3KyspfTt2LnB1c2goeCk7dHx8Ri5wdXNoKHgpfWZ1bmN0aW9uIHEoYil7eD1yW2JdO3chPT14Lm5iLncoKSYmRC5wdXNoKHgpO3gubmIodysrKTthLmEuVWEoeC5ZLGUpO3YucHVzaCh4KX1mdW5jdGlvbiBuKGIsYyl7aWYoYilmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5hLkMoY1tkXS5ZLGZ1bmN0aW9uKGEpe2IoYSxkLGNbZF0uQWEpfSl9Zj1mfHxbXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgZi5sZW5ndGgmJihmPVtmXSk7aD1ofHx7fTt2YXIgcj1hLmEuZy5nZXQoZSxjKSx0PSFyLHY9W10sdT0wLHc9MCxCPVtdLHo9W10sQz1bXSxEPVtdLEY9W10seCxJPTA7aWYodClhLmEuQyhmLGspO2Vsc2V7aWYoIWx8fHImJnIuX2NvdW50V2FpdGluZ0ZvclJlbW92ZSl7dmFyIEU9XG5cdGEuYS5NYihyLGZ1bmN0aW9uKGEpe3JldHVybiBhLkFhfSk7bD1hLmEuT2IoRSxmLHtkb250TGltaXRNb3ZlczpoLmRvbnRMaW1pdE1vdmVzLHNwYXJzZTohMH0pfWZvcih2YXIgRT0wLEcsSCxLO0c9bFtFXTtFKyspc3dpdGNoKEg9Ry5tb3ZlZCxLPUcuaW5kZXgsRy5zdGF0dXMpe2Nhc2UgXCJkZWxldGVkXCI6Zm9yKDt1PEs7KXEodSsrKTtIPT09cCYmKHg9clt1XSx4LiQmJih4LiQucygpLHguJD1wKSxhLmEuVWEoeC5ZLGUpLmxlbmd0aCYmKGguYmVmb3JlUmVtb3ZlJiYodi5wdXNoKHgpLEkrKyx4LkFhPT09ZD94PW51bGw6Qy5wdXNoKHgpKSx4JiZCLnB1c2guYXBwbHkoQix4LlkpKSk7dSsrO2JyZWFrO2Nhc2UgXCJhZGRlZFwiOmZvcig7dzxLOylxKHUrKyk7SCE9PXA/KHoucHVzaCh2Lmxlbmd0aCkscShIKSk6ayhHLnZhbHVlKX1mb3IoO3c8Zi5sZW5ndGg7KXEodSsrKTt2Ll9jb3VudFdhaXRpbmdGb3JSZW1vdmU9SX1hLmEuZy5zZXQoZSxjLHYpO24oaC5iZWZvcmVNb3ZlLEQpO2EuYS5DKEIsXG5cdGguYmVmb3JlUmVtb3ZlP2EubmE6YS5yZW1vdmVOb2RlKTt2YXIgTSxPLFA7dHJ5e1A9ZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goTil7fWlmKHoubGVuZ3RoKWZvcig7KEU9ei5zaGlmdCgpKSE9cDspe3g9dltFXTtmb3IoTT1wO0U7KWlmKChPPXZbLS1FXS5ZKSYmTy5sZW5ndGgpe009T1tPLmxlbmd0aC0xXTticmVha31mb3IoZj0wO3U9eC5ZW2ZdO009dSxmKyspYS5oLlZiKGUsdSxNKX1FPTA7Zm9yKHo9YS5oLmZpcnN0Q2hpbGQoZSk7eD12W0VdO0UrKyl7eC5ZfHxhLmEuZXh0ZW5kKHgsYihlLGcseC5BYSxtLHgubmIpKTtmb3IoZj0wO3U9eC5ZW2ZdO3o9dS5uZXh0U2libGluZyxNPXUsZisrKXUhPT16JiZhLmguVmIoZSx1LE0pOyF4LkRkJiZtJiYobSh4LkFhLHguWSx4Lm5iKSx4LkRkPSEwLE09eC5ZW3guWS5sZW5ndGgtMV0pfVAmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50IT1QJiZQLmZvY3VzKCk7bihoLmJlZm9yZVJlbW92ZSxDKTtmb3IoRT1cblx0MDtFPEMubGVuZ3RoOysrRSlDW0VdLkFhPWQ7bihoLmFmdGVyTW92ZSxEKTtuKGguYWZ0ZXJBZGQsRil9fSkoKTthLmIoXCJ1dGlscy5zZXREb21Ob2RlQ2hpbGRyZW5Gcm9tQXJyYXlNYXBwaW5nXCIsYS5hLmNjKTthLmJhPWZ1bmN0aW9uKCl7dGhpcy5hbGxvd1RlbXBsYXRlUmV3cml0aW5nPSExfTthLmJhLnByb3RvdHlwZT1uZXcgYS5jYTthLmJhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLmJhO2EuYmEucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsYyxkLGUpe2lmKGM9KDk+YS5hLlc/MDpiLm5vZGVzKT9iLm5vZGVzKCk6bnVsbClyZXR1cm4gYS5hLmxhKGMuY2xvbmVOb2RlKCEwKS5jaGlsZE5vZGVzKTtiPWIudGV4dCgpO3JldHVybiBhLmEudGEoYixlKX07YS5iYS5OYT1uZXcgYS5iYTthLmVjKGEuYmEuTmEpO2EuYihcIm5hdGl2ZVRlbXBsYXRlRW5naW5lXCIsYS5iYSk7KGZ1bmN0aW9uKCl7YS5aYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuR2Q9ZnVuY3Rpb24oKXtpZighdnx8XG5cdCF2LnRtcGwpcmV0dXJuIDA7dHJ5e2lmKDA8PXYudG1wbC50YWcudG1wbC5vcGVuLnRvU3RyaW5nKCkuaW5kZXhPZihcIl9fXCIpKXJldHVybiAyfWNhdGNoKGEpe31yZXR1cm4gMX0oKTt0aGlzLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsZSxmLGcpe2c9Z3x8dztmPWZ8fHt9O2lmKDI+YSl0aHJvdyBFcnJvcihcIllvdXIgdmVyc2lvbiBvZiBqUXVlcnkudG1wbCBpcyB0b28gb2xkLiBQbGVhc2UgdXBncmFkZSB0byBqUXVlcnkudG1wbCAxLjAuMHByZSBvciBsYXRlci5cIik7dmFyIGg9Yi5kYXRhKFwicHJlY29tcGlsZWRcIik7aHx8KGg9Yi50ZXh0KCl8fFwiXCIsaD12LnRlbXBsYXRlKG51bGwsXCJ7e2tvX3dpdGggJGl0ZW0ua29CaW5kaW5nQ29udGV4dH19XCIraCtcInt7L2tvX3dpdGh9fVwiKSxiLmRhdGEoXCJwcmVjb21waWxlZFwiLGgpKTtiPVtlLiRkYXRhXTtlPXYuZXh0ZW5kKHtrb0JpbmRpbmdDb250ZXh0OmV9LGYudGVtcGxhdGVPcHRpb25zKTtlPXYudG1wbChoLGIsZSk7ZS5hcHBlbmRUbyhnLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuXHR2LmZyYWdtZW50cz17fTtyZXR1cm4gZX07dGhpcy5jcmVhdGVKYXZhU2NyaXB0RXZhbHVhdG9yQmxvY2s9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ7e2tvX2NvZGUgKChmdW5jdGlvbigpIHsgcmV0dXJuIFwiK2ErXCIgfSkoKSkgfX1cIn07dGhpcy5hZGRUZW1wbGF0ZT1mdW5jdGlvbihhLGIpe3cud3JpdGUoXCI8c2NyaXB0IHR5cGU9J3RleHQvaHRtbCcgaWQ9J1wiK2ErXCInPlwiK2IrXCJcXHgzYy9zY3JpcHQ+XCIpfTswPGEmJih2LnRtcGwudGFnLmtvX2NvZGU9e29wZW46XCJfXy5wdXNoKCQxIHx8ICcnKTtcIn0sdi50bXBsLnRhZy5rb193aXRoPXtvcGVuOlwid2l0aCgkMSkge1wiLGNsb3NlOlwifSBcIn0pfTthLlphLnByb3RvdHlwZT1uZXcgYS5jYTthLlphLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLlphO3ZhciBiPW5ldyBhLlphOzA8Yi5HZCYmYS5lYyhiKTthLmIoXCJqcXVlcnlUbXBsVGVtcGxhdGVFbmdpbmVcIixhLlphKX0pKCl9KX0pKCk7fSkoKTtcblxuXG4vKioqLyB9LFxuLyogMTQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbWFwID0ge1xuXHRcdFwiLi9ib3gtY29udGVudC9pbmRleFwiOiAxNDMsXG5cdFx0XCIuL2JveC1maWx0ZXIvaW5kZXhcIjogMTQ0LFxuXHRcdFwiLi9ib3gtc3RpY2t5L2luZGV4XCI6IDE0NSxcblx0XHRcIi4vYm94LXRhYnMvaW5kZXhcIjogMTQ2LFxuXHRcdFwiLi9ib3gvaW5kZXhcIjogMTQ3LFxuXHRcdFwiLi9jYXNjYWRlci9pbmRleFwiOiAxNDgsXG5cdFx0XCIuL2Nhc2l0ZW0vaW5kZXhcIjogMTQ5LFxuXHRcdFwiLi9kYXRlcGlja2VyL2luZGV4XCI6IDMwLFxuXHRcdFwiLi9kYXRlcGlja2VyL3V0aWwvaW5kZXhcIjogMTIxLFxuXHRcdFwiLi9kYXRldGltZXBpY2tlci9pbmRleFwiOiAxMzYsXG5cdFx0XCIuL2Ryb3Bkb3duL2luZGV4XCI6IDEzOCxcblx0XHRcIi4vZm9ybS1jdG4vaW5kZXhcIjogMTUwLFxuXHRcdFwiLi9mb3JtLWdyb3VwL2luZGV4XCI6IDE1Mixcblx0XHRcIi4vZm9ybS10ZXh0L2luZGV4XCI6IDE1Myxcblx0XHRcIi4vZm9ybS10aXRsZS9pbmRleFwiOiAxNTQsXG5cdFx0XCIuL3BhZ2luYXRpb24vaW5kZXhcIjogMTU1LFxuXHRcdFwiLi9xdWVyeS10YWJzL2luZGV4XCI6IDE1OCxcblx0XHRcIi4vc3RhdGUtaXRlbS9pbmRleFwiOiAxNTksXG5cdFx0XCIuL3N0YXRlLXRhYnMvaW5kZXhcIjogMTYwLFxuXHRcdFwiLi9zdGVwLWxlZ2VuZC9pbmRleFwiOiAxNjEsXG5cdFx0XCIuL3N0ZXAvaW5kZXhcIjogMTYyLFxuXHRcdFwiLi9zdWJtaXQvaW5kZXhcIjogMTYzLFxuXHRcdFwiLi91LWNoZWNrYm94L2luZGV4XCI6IDE2Nixcblx0XHRcIi4vdS1jdXJyZW5jeS9pbmRleFwiOiAxNjgsXG5cdFx0XCIuL3UtZGF0ZXBpY2tlci9pbmRleFwiOiAxNjksXG5cdFx0XCIuL3UtaW5wdXQvaW5kZXhcIjogMTcwLFxuXHRcdFwiLi91LW1vbnRoL2luZGV4XCI6IDE3MSxcblx0XHRcIi4vdS1wYWdpbmF0aW9uL2luZGV4XCI6IDE3Mixcblx0XHRcIi4vdS1yYWRpby9pbmRleFwiOiAxNzMsXG5cdFx0XCIuL3Utc2VsZWN0L2luZGV4XCI6IDE3NCxcblx0XHRcIi4vdS1zd2l0Y2gvaW5kZXhcIjogMTc1LFxuXHRcdFwiLi91LXRvb2x0aXAvaW5kZXhcIjogMTc2LFxuXHRcdFwiLi91LXRyZWUvaW5kZXhcIjogMTc3LFxuXHRcdFwiLi91LXllYXIvaW5kZXhcIjogMTc4LFxuXHRcdFwiLi91LXllYXJtb250aC9pbmRleFwiOiAxNzlcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdFx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcblx0d2VicGFja0NvbnRleHQuaWQgPSAxNDI7XG5cblxuLyoqKi8gfSxcbi8qIDE0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gaW5pdChwYXJhbXMpIHtcblx0ICB0aGlzLnRpdGxlID0gcGFyYW1zLnRpdGxlO1xuXHQgIHRoaXMubW9kZWwgPSBwYXJhbXMubW9kZWw7XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXQ7XG5cbi8qKiovIH0sXG4vKiAxNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIGluaXQocGFyYW1zKSB7XG5cdCAgdGhpcy50aXRsZSA9IHBhcmFtcy50aXRsZTtcblx0ICB0aGlzLnEgPSBwYXJhbXMucTtcblx0ICB0aGlzLnF1ZXJ5ID0gcGFyYW1zLnF1ZXJ5O1xuXHQgIHRoaXMucGxhY2Vob2xkZXIgPSBwYXJhbXMucGxhY2Vob2xkZXI7XG5cdCAgaWYgKHBhcmFtcy5xdWVyeSkge1xuXHQgICAgdGhpcy5xaGlkZGVuID0gdHJ1ZTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhpcy5xaGlkZGVuID0gZmFsc2U7XG5cdCAgfVxuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTQ1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0Lypcblx0KiDlj4LogIMgaHR0cHM6Ly9naXRodWIuY29tL2dhcmFuZC9zdGlja3kvYmxvYi9tYXN0ZXIvanF1ZXJ5LnN0aWNreS5qc+WunueOsFxuXHQqICovXG5cdC8qIGdsb2JhbCAkICovXG5cdHZhciBvID0ge1xuXHQgIGN1cnJlbnRUb3A6IG51bGwsXG5cdCAgdG9wU3BhY2luZzogMCxcblx0ICBjbGFzc05hbWU6ICdpcy1zdGlja3knXG5cdH07XG5cdHdpbmRvdy5pc1JlY29tcHV0ZUFjdGl2ZUFuY2hvciA9IHRydWU7XG5cdGZ1bmN0aW9uIGluaXQocGFyYW1zKSB7XG5cdCAgdGhpcy50aXRsZSA9IHBhcmFtcy50aXRsZTtcblx0ICB2YXIgc3RpY2t5RWxlbWVudCA9ICQoJyNib3gtc3RpY2t5Jyk7XG5cdCAgdmFyIHN0aWNreVdyYXBwZXIgPSBzdGlja3lFbGVtZW50LnBhcmVudCgpO1xuXHQgIG8uc3RpY2t5RWxlbWVudCA9IHN0aWNreUVsZW1lbnQ7XG5cdCAgby5zdGlja3lXcmFwcGVyID0gc3RpY2t5V3JhcHBlcjtcblx0ICBvID0gJC5leHRlbmQoe30sIG8sIHBhcmFtcyk7XG5cdCAgLy9cblx0ICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxlciwgZmFsc2UpO1xuXHQgICAgLy8gVE9ETyDmtY/op4jlmajnqpflj6NyZXNpemXnmoTml7blgJnkuZ/pnIDopoHph43mlrDorqHnrpdcblx0ICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVyLCBmYWxzZSlcblx0ICB9IGVsc2UgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkge1xuXHQgICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbnNjcm9sbCcsIHNjcm9sbGVyKTtcblx0ICAgIC8vIHdpbmRvdy5hdHRhY2hFdmVudCgnb25yZXNpemUnLCByZXNpemVyKVxuXHQgIH1cblx0ICBzZXRUaW1lb3V0KHNjcm9sbGVyLCAwKTtcblx0ICB2YXIgdGltZW91dCA9IG51bGw7XG5cdCAgc3RpY2t5RWxlbWVudC5kZWxlZ2F0ZSgnLnN0aWNreS1hbmNob3InLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgPT09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKSAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09IHRoaXMuaG9zdG5hbWUpIHtcblx0ICAgICAgdmFyIHRhcmdldCA9ICQodGhpcy5oYXNoKTtcblx0ICAgICAgJCgnLnN0aWNreS1hbmNob3InKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdCAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHQgICAgICAvLyDoh7Pkuo7mu5rova7mu5rliqjnmoTml7blgJnmiY3kvJrop6blj5Eg6byg5qCH54K55Ye75LiK6Z2i5LiN5Lya6Kem5Y+RXG5cdCAgICAgIHdpbmRvdy5pc1JlY29tcHV0ZUFjdGl2ZUFuY2hvciA9IGZhbHNlO1xuXHQgICAgICAvLyDlv6vpgJ/ngrnlh7vml7bmuIXpmaTkuYvliY3nmoTlrprml7blmahcblx0ICAgICAgaWYgKHRpbWVvdXQpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gMnPlkI7mlrnkvr/pvKDmoIfmu5rova7kuovku7bop6blj5Fcblx0ICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHdpbmRvdy5pc1JlY29tcHV0ZUFjdGl2ZUFuY2hvciA9IHRydWU7XG5cdCAgICAgIH0sIDIwMDApO1xuXHQgICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJCgnW25hbWU9JyArIHRoaXMuaGFzaC5zbGljZSgxKSArICddJyk7XG5cdCAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XG5cdCAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuXHQgICAgICAgICAgLy8g5pS55oiQ5pu05ZCI6YCC55qE6auY5bqmXG5cdCAgICAgICAgICBzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3AgLSA1MFxuXHQgICAgICAgIH0sIDEwMDApO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHR9XG5cdHZhciBhbmNob3IgPSBudWxsO1xuXHR2YXIgYW5jaG9ybGlzdCA9IFtdO1xuXHRmdW5jdGlvbiBzY3JvbGxlcigpIHtcblx0ICAvLyDlpoLmnpzkuI3lrZjlnKjlhYPntKBcblx0ICBpZiAoIWFuY2hvcikge1xuXHQgICAgYW5jaG9yID0gJCgnLnN0aWNreS1hbmNob3InKTtcblx0ICAgIGFuY2hvci5lYWNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgYW5jaG9ybGlzdC5wdXNoKCQodGhpcykuYXR0cignaHJlZicpKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICAvLyDoh7Pkuo7mu5rova7mu5rliqjnmoTml7blgJnmiY3kvJrop6blj5Eg6byg5qCH54K55Ye75LiK6Z2i5LiN5Lya6Kem5Y+RXG5cdCAgaWYgKHdpbmRvdy5pc1JlY29tcHV0ZUFjdGl2ZUFuY2hvcikge1xuXHQgICAgYW5jaG9ybGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIHZhciBwb3MgPSAkKGl0ZW0pLm9mZnNldCgpLnRvcCAtICQoJ2JvZHknKS5zY3JvbGxUb3AoKTtcblx0ICAgICAgLy8g56Gu5L+d5rua6L2u5rua5Yqo5pe2IOS8muWumuS9jeWIsOebuOW6lOeahOmAiemhuVxuXHQgICAgICBpZiAocG9zIC0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLyAyIDwgNTApIHtcblx0ICAgICAgICBpZiAoISQoJy5zdGlja3ktYW5jaG9yW2hyZWY9XCInICsgaXRlbSArICdcIl0nKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcblx0ICAgICAgICAgICQoJy5zdGlja3ktYW5jaG9yJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHQgICAgICAgICAgJCgnLnN0aWNreS1hbmNob3JbaHJlZj1cIicgKyBpdGVtICsgJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0ICAvLyB1cGRhdGUgaGVpZ2h0IGluIGNhc2Ugb2YgZHluYW1pYyBjb250ZW50XG5cdCAgby5zdGlja3lXcmFwcGVyLmNzcygnaGVpZ2h0Jywgby5zdGlja3lFbGVtZW50Lm91dGVySGVpZ2h0KCkpO1xuXHQgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cdCAgdmFyIGRvY3VtZW50SGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XG5cdCAgdmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0ICB2YXIgZHdoID0gZG9jdW1lbnRIZWlnaHQgLSB3aW5kb3dIZWlnaHQ7XG5cdCAgdmFyIGV4dHJhID0gc2Nyb2xsVG9wID4gZHdoID8gZHdoIC0gc2Nyb2xsVG9wIDogMDtcblx0XG5cdCAgdmFyIGVsZW1lbnRUb3AgPSBvLnN0aWNreVdyYXBwZXIub2Zmc2V0KCkudG9wO1xuXHQgIHZhciBldHNlID0gZWxlbWVudFRvcCAtIG8udG9wU3BhY2luZyAtIGV4dHJhO1xuXHRcblx0ICBvLnN0aWNreVdyYXBwZXIuY3NzKCdoZWlnaHQnLCBvLnN0aWNreUVsZW1lbnQub3V0ZXJIZWlnaHQoKSk7XG5cdCAgaWYgKHNjcm9sbFRvcCA8PSBldHNlKSB7XG5cdCAgICBpZiAoby5jdXJyZW50VG9wICE9PSBudWxsKSB7XG5cdCAgICAgIG8uc3RpY2t5RWxlbWVudC5jc3Moe1xuXHQgICAgICAgICd3aWR0aCc6ICcnLFxuXHQgICAgICAgICdwb3NpdGlvbic6ICcnLFxuXHQgICAgICAgICd0b3AnOiAnJyxcblx0ICAgICAgICAnei1pbmRleCc6ICcnXG5cdCAgICAgIH0pO1xuXHQgICAgICBvLnN0aWNreUVsZW1lbnQucGFyZW50KCkucmVtb3ZlQ2xhc3Moby5jbGFzc05hbWUpO1xuXHQgICAgICBvLmN1cnJlbnRUb3AgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgbmV3VG9wID0gZG9jdW1lbnRIZWlnaHQgLSBvLnN0aWNreUVsZW1lbnQub3V0ZXJIZWlnaHQoKSAtIG8udG9wU3BhY2luZyAtIG8uYm90dG9tU3BhY2luZyAtIHNjcm9sbFRvcCAtIGV4dHJhO1xuXHQgICAgaWYgKG5ld1RvcCA8IDApIHtcblx0ICAgICAgbmV3VG9wID0gbmV3VG9wICsgby50b3BTcGFjaW5nO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbmV3VG9wID0gby50b3BTcGFjaW5nO1xuXHQgICAgfVxuXHQgICAgaWYgKG8uY3VycmVudFRvcCAhPT0gbmV3VG9wKSB7XG5cdCAgICAgIHZhciBuZXdXaWR0aDtcblx0ICAgICAgaWYgKG5ld1dpZHRoID09IG51bGwpIHtcblx0ICAgICAgICBuZXdXaWR0aCA9IG8uc3RpY2t5RWxlbWVudC5vdXRlcldpZHRoKCk7XG5cdCAgICAgIH1cblx0ICAgICAgby5zdGlja3lFbGVtZW50LmNzcygnd2lkdGgnLCBuZXdXaWR0aCkuY3NzKCdwb3NpdGlvbicsICdmaXhlZCcpLmNzcygndG9wJywgbmV3VG9wKS5jc3MoJ3otaW5kZXgnLCBvLnpJbmRleCk7XG5cdFxuXHQgICAgICBvLnN0aWNreUVsZW1lbnQucGFyZW50KCkuYWRkQ2xhc3Moby5jbGFzc05hbWUpO1xuXHQgICAgICBvLmN1cnJlbnRUb3AgPSBuZXdUb3A7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2hlY2sgaWYgc3RpY2t5IGhhcyByZWFjaGVkIGVuZCBvZiBjb250YWluZXIgYW5kIHN0b3Agc3RpY2tpbmdcblx0ICAgIHZhciBzdGlja3lXcmFwcGVyQ29udGFpbmVyID0gby5zdGlja3lXcmFwcGVyLnBhcmVudCgpO1xuXHQgICAgdmFyIHVuc3RpY2sgPSBvLnN0aWNreUVsZW1lbnQub2Zmc2V0KCkudG9wICsgby5zdGlja3lFbGVtZW50Lm91dGVySGVpZ2h0KCkgPj0gc3RpY2t5V3JhcHBlckNvbnRhaW5lci5vZmZzZXQoKS50b3AgKyBzdGlja3lXcmFwcGVyQ29udGFpbmVyLm91dGVySGVpZ2h0KCkgJiYgby5zdGlja3lFbGVtZW50Lm9mZnNldCgpLnRvcCA8PSBvLnRvcFNwYWNpbmc7XG5cdFxuXHQgICAgaWYgKHVuc3RpY2spIHtcblx0ICAgICAgby5zdGlja3lFbGVtZW50LmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKS5jc3MoJ3RvcCcsICcnKS5jc3MoJ2JvdHRvbScsIDApLmNzcygnei1pbmRleCcsICcnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG8uc3RpY2t5RWxlbWVudC5jc3MoJ3Bvc2l0aW9uJywgJ2ZpeGVkJykuY3NzKCd0b3AnLCBuZXdUb3ApLmNzcygnYm90dG9tJywgJycpLmNzcygnei1pbmRleCcsIG8uekluZGV4KTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5pdDtcblxuLyoqKi8gfSxcbi8qIDE0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gaW5pdChwYXJhbXMpIHt9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBpbml0KHBhcmFtcykge31cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXQ7XG5cbi8qKiovIH0sXG4vKiAxNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qXG5cdCAqIHBhcmFtczp7XG5cdCAqICAgZGF0YTpcblx0ICogICBzZWxlY3RlZFZhbHVlOlxuXHQgKiB9XG5cdCAqXG5cdCAqICovXG5cdGZ1bmN0aW9uIGluaXQocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgdGhpcy5kYXRhID0gcGFyYW1zLmRhdGE7XG5cdCAgdGhpcy5zZWxlY3RlZFZhbHVlID0gcGFyYW1zLnNlbGVjdGVkVmFsdWU7XG5cdCAgdGhpcy5jYXNpdG1ldmlzaWJsZSA9IHdpbmRvdy5rby5vYnNlcnZhYmxlKGZhbHNlKTtcblx0ICB0aGlzLmhhbmRsZVZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gX3RoaXMuY2FzaXRtZXZpc2libGUodHJ1ZSk7XG5cdCAgfTtcblx0ICB0aGlzLmhhbmRsZUNsb3NlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIF90aGlzLmNhc2l0bWV2aXNpYmxlKGZhbHNlKTtcblx0ICB9O1xuXHR9XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXQ7XG5cbi8qKiovIH0sXG4vKiAxNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qXG5cdCAqIHBhcmFtczp7XG5cdCAqICAgbWQ6IDQgICAvLyBmb3JtLWdyb3Vw5LiA5YWx5Y2g5o2u5Yeg5YiXIOm7mOiupOaMieeFp+agheagvOWMluW4g+WxgOadpSDnm7jlvZPkuo7orr7nva7moLflvI91LWNvbC00IOS4jeiuvue9ruWSjG1k55qE5pWI5p6c5LiA5qC3XG5cdCAqICAgc206IDMgICAvLyDnm7jlvZPkuo7moLflvI91LWNvbC1zbS0zXG5cdCAqICAgeHM6IDEyICAvLyDnm7jlvZPkuo7orr7nva51LWNvbC14cy0xMlxuXHQgKiAgIGxnOiA2ICAvL+ebuOW9k+S6juiuvue9rnUtY29sLWxnLTZcblx0ICogfVxuXHQgKlxuXHQgKiAqL1xuXHRmdW5jdGlvbiBpbml0KHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuXHQgIHRoaXMuc3ViTGlzdCA9IHdpbmRvdy5rby5vYnNlcnZhYmxlQXJyYXkoW10pO1xuXHQgIHRoaXMuZGF0YSA9IHBhcmFtcy5kYXRhO1xuXHQgIHRoaXMuYWN0aXZlSW5kZXggPSB3aW5kb3cua28ub2JzZXJ2YWJsZSgtMSk7XG5cdCAgdGhpcy5zZWxlY3RlZFZhbHVlID0gcGFyYW1zLnNlbGVjdGVkVmFsdWU7XG5cdCAgdGhpcy5leHBhbmRDaGlsZCA9IGZ1bmN0aW9uIChkYXRhLCBpbmRleCkge1xuXHQgICAgZGVidWdnZXI7XG5cdCAgICB0aGlzLmFjdGl2ZUluZGV4KGluZGV4KTtcblx0ICAgIGlmIChkYXRhLmNoaWxkcmVuKSB7XG5cdCAgICAgIHRoaXMuc3ViTGlzdChkYXRhLmNoaWxkcmVuKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuc3ViTGlzdChbXSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnNlbGVjdGVkVmFsdWUoZGF0YSk7XG5cdCAgfS5iaW5kKHRoaXMpO1xuXHR9XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXQ7XG5cbi8qKiovIH0sXG4vKiAxNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRcblx0ZnVuY3Rpb24gaW5pdChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcblx0ICB2YXIgZWxlbWVudCA9IGNvbXBvbmVudEluZm8uZWxlbWVudC5jaGlsZHJlblswXTtcblx0ICAoMCwgX3V0aWwuYWRkTGF5b3V0Q2xhc3MpKGVsZW1lbnQsIHBhcmFtcyk7XG5cdH0gLypcblx0ICAqIHBhcmFtczp7XG5cdCAgKiAgIG1kOiA0ICAgLy8gZm9ybS1ncm91cOS4gOWFseWNoOaNruWHoOWIlyDpu5jorqTmjInnhafmoIXmoLzljJbluIPlsYDmnaUg55u45b2T5LqO6K6+572u5qC35byPdS1jb2wtNCDkuI3orr7nva7lkoxtZOeahOaViOaenOS4gOagt1xuXHQgICogICBzbTogMyAgIC8vIOebuOW9k+S6juagt+W8j3UtY29sLXNtLTNcblx0ICAqICAgeHM6IDEyICAvLyDnm7jlvZPkuo7orr7nva51LWNvbC14cy0xMlxuXHQgICogICBsZzogNiAgLy/nm7jlvZPkuo7orr7nva51LWNvbC1sZy02XG5cdCAgKiB9XG5cdCAgKlxuXHQgICogKi9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5pdDtcblxuLyoqKi8gfSxcbi8qIDE1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8vIOWinuWKoOW4g+WxgOS/oeaBr1xuXHRmdW5jdGlvbiBhZGRMYXlvdXRDbGFzcyhlbGVtZW50LCBwYXJhbXMpIHtcblx0ICBpZiAocGFyYW1zLnhzKSB7XG5cdCAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3UtY29sLXhzLScgKyBwYXJhbXMueHMpO1xuXHQgIH1cblx0ICBpZiAocGFyYW1zLnNtKSB7XG5cdCAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3UtY29sLXNtLScgKyBwYXJhbXMuc20pO1xuXHQgIH1cblx0ICBpZiAocGFyYW1zLm1kKSB7XG5cdCAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3UtY29sLW1kLScgKyBwYXJhbXMubWQpO1xuXHQgICAgaWYgKHBhcmFtc1snbWQtb2Zmc2V0J10pIHtcblx0ICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1LWNvbC1tZC1vZmZzZXQtJyArIHBhcmFtc1snbWQtb2Zmc2V0J10pO1xuXHQgICAgfVxuXHQgIH1cblx0ICBpZiAocGFyYW1zLmxnKSB7XG5cdCAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3UtY29sLWxnLScgKyBwYXJhbXMubGcpO1xuXHQgIH1cblx0fVxuXHRcblx0Ly8g5pel5pyf5qC85byP5YyWXG5cdC8qIGVzbGludC1kaXNhYmxlICovXG5cdERhdGUucHJvdG90eXBlLkZvcm1hdCA9IGZ1bmN0aW9uIChmbXQpIHtcblx0ICAvLyBhdXRob3I6IHNvbmdobGNcblx0ICB2YXIgbyA9IHtcblx0ICAgICdNKyc6IHRoaXMuZ2V0TW9udGgoKSArIDEsIC8vIOaciOS7vVxuXHQgICAgJ2QrJzogdGhpcy5nZXREYXRlKCksIC8vIOaXpVxuXHQgICAgJ2grJzogdGhpcy5nZXRIb3VycygpLCAvLyDlsI/ml7Zcblx0ICAgICdtKyc6IHRoaXMuZ2V0TWludXRlcygpLCAvLyDliIZcblx0ICAgICdzKyc6IHRoaXMuZ2V0U2Vjb25kcygpLCAvLyDnp5Jcblx0ICAgICdxKyc6IE1hdGguZmxvb3IoKHRoaXMuZ2V0TW9udGgoKSArIDMpIC8gMyksIC8vIOWto+W6plxuXHQgICAgJ1MnOiB0aGlzLmdldE1pbGxpc2Vjb25kcygpIC8vIOavq+enklxuXHQgIH07XG5cdCAgaWYgKC8oeSspLy50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKHRoaXMuZ2V0RnVsbFllYXIoKSArICcnKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcblx0ICBmb3IgKHZhciBrIGluIG8pIHtcblx0ICAgIGlmIChuZXcgUmVnRXhwKCcoJyArIGsgKyAnKScpLnRlc3QoZm10KSkgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCBSZWdFeHAuJDEubGVuZ3RoID09PSAxID8gb1trXSA6ICgnMDAnICsgb1trXSkuc3Vic3RyKCgnJyArIG9ba10pLmxlbmd0aCkpO1xuXHQgIH1cblx0ICByZXR1cm4gZm10O1xuXHR9O1xuXHQvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXHRcblx0ZXhwb3J0cy5hZGRMYXlvdXRDbGFzcyA9IGFkZExheW91dENsYXNzO1xuXG4vKioqLyB9LFxuLyogMTUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUxKTtcblx0XG5cdGZ1bmN0aW9uIGluaXQocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIGVsZW1lbnQgPSBjb21wb25lbnRJbmZvLmVsZW1lbnQuY2hpbGRyZW5bMF07XG5cdCAgKDAsIF91dGlsLmFkZExheW91dENsYXNzKShlbGVtZW50LCBwYXJhbXMpO1xuXHR9IC8qXG5cdCAgKiBwYXJhbXM6e1xuXHQgICogICBtZDogNCAgIC8vIGZvcm0tZ3JvdXDkuIDlhbHljaDmja7lh6DliJcg6buY6K6k5oyJ54Wn5qCF5qC85YyW5biD5bGA5p2lIOebuOW9k+S6juiuvue9ruagt+W8j3UtY29sLTQg5LiN6K6+572u5ZKMbWTnmoTmlYjmnpzkuIDmoLdcblx0ICAqICAgc206IDMgICAvLyDnm7jlvZPkuo7moLflvI91LWNvbC1zbS0zXG5cdCAgKiAgIHhzOiAxMiAgLy8g55u45b2T5LqO6K6+572udS1jb2wteHMtMTJcblx0ICAqICAgbGc6IDYgIC8v55u45b2T5LqO6K6+572udS1jb2wtbGctNlxuXHQgICogfVxuXHQgICpcblx0ICAqICovXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXQ7XG5cbi8qKiovIH0sXG4vKiAxNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRcblx0ZnVuY3Rpb24gaW5pdChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcblx0ICB2YXIgZWxlbWVudCA9IGNvbXBvbmVudEluZm8uZWxlbWVudC5jaGlsZHJlblswXTtcblx0ICAoMCwgX3V0aWwuYWRkTGF5b3V0Q2xhc3MpKGVsZW1lbnQsIHBhcmFtcyk7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHRleHQ6IHBhcmFtcy50ZXh0XG5cdCAgfTtcblx0fSAvKlxuXHQgICogcGFyYW1zOntcblx0ICAqICAgbWQ6IDQgICAvLyBmb3JtLWdyb3Vw5LiA5YWx5Y2g5o2u5Yeg5YiXIOm7mOiupOaMieeFp+agheagvOWMluW4g+WxgOadpSDnm7jlvZPkuo7orr7nva7moLflvI91LWNvbC00IOS4jeiuvue9ruWSjG1k55qE5pWI5p6c5LiA5qC3XG5cdCAgKiAgIHNtOiAzICAgLy8g55u45b2T5LqO5qC35byPdS1jb2wtc20tM1xuXHQgICogICB4czogMTIgIC8vIOebuOW9k+S6juiuvue9rnUtY29sLXhzLTEyXG5cdCAgKiAgIGxnOiA2ICAvL+ebuOW9k+S6juiuvue9rnUtY29sLWxnLTZcblx0ICAqIH1cblx0ICAqXG5cdCAgKiAqL1xuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUxKTtcblx0XG5cdGZ1bmN0aW9uIGluaXQocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIGVsZW1lbnQgPSBjb21wb25lbnRJbmZvLmVsZW1lbnQuY2hpbGRyZW5bMF07XG5cdCAgaWYgKHBhcmFtcy50ZXh0KSB7XG5cdCAgICBlbGVtZW50LmlubmVySFRNTCA9IHBhcmFtcy50ZXh0O1xuXHQgIH1cblx0ICAoMCwgX3V0aWwuYWRkTGF5b3V0Q2xhc3MpKGVsZW1lbnQsIHBhcmFtcyk7XG5cdH0gLypcblx0ICAqIHBhcmFtczp7XG5cdCAgKiAgIG1kOiA0ICAgLy8gZm9ybS1ncm91cOS4gOWFseWNoOaNruWHoOWIlyDpu5jorqTmjInnhafmoIXmoLzljJbluIPlsYDmnaUg55u45b2T5LqO6K6+572u5qC35byPdS1jb2wtNCDkuI3orr7nva7lkoxtZOeahOaViOaenOS4gOagt1xuXHQgICogICBzbTogMyAgIC8vIOebuOW9k+S6juagt+W8j3UtY29sLXNtLTNcblx0ICAqICAgeHM6IDEyICAvLyDnm7jlvZPkuo7orr7nva51LWNvbC14cy0xMlxuXHQgICogICBsZzogNiAgLy/nm7jlvZPkuo7orr7nva51LWNvbC1sZy02XG5cdCAgKiB9XG5cdCAgKlxuXHQgICogKi9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5pdDtcblxuLyoqKi8gfSxcbi8qIDE1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3N0cmluZ2lmeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblx0XG5cdHZhciBfc3RyaW5naWZ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ2lmeSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEV2ZW50QnVzID0ge307XG5cdHZhciBVID0gd2luZG93LnU7XG5cdGZ1bmN0aW9uIHBhZ2luYXRpb24oZG9tLCB2bSwgc3RvcmUsIG5hbWUpIHtcblx0ICB2YXIgcGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgcGFnLmNsYXNzTmFtZSA9ICd1LXBhZ2luYXRpb24nO1xuXHQgIHBhZy5zZXRBdHRyaWJ1dGUoJ29wdGlvbnMnLCAoMCwgX3N0cmluZ2lmeTIuZGVmYXVsdCkoeyAndHlwZSc6ICdwYWdpbmF0aW9uJywgJ2RhdGEnOiAncGFnaW5hdGlvbicgfSkpO1xuXHRcblx0ICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICd0ZXh0LWNlbnRlcic7XG5cdCAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBhZyk7XG5cdCAgZG9tLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblx0ICB2YXIgY29tcCA9IG5ldyBVLnBhZ2luYXRpb24oeyBlbDogcGFnLCBzaG93U3RhdGU6IGZhbHNlIH0pO1xuXHQgIGNvbXAub24oJ3BhZ2VDaGFuZ2UnLCBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG5cdCAgICBzdG9yZS5sb2FkKHtcblx0ICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXhcblx0ICAgIH0pO1xuXHQgICAgd2luZG93Lmdsb2JhbC5oYXNoKCdwYWdlJywgcGFnZUluZGV4KTtcblx0ICB9KTtcblx0XG5cdCAgRXZlbnRCdXMub24oJ3BhZ2luYXRpb24uJyArIHN0b3JlLl9jb25maWcubmFtZSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIGNvbXAudXBkYXRlKHtcblx0ICAgICAgdG90YWxQYWdlczogZGF0YS50b3RhbFBhZ2UsXG5cdCAgICAgIHBhZ2VTaXplOiBkYXRhLnBhZ2VTaXplLFxuXHQgICAgICBjdXJyZW50UGFnZTogZGF0YS5wYWdlSW5kZXggKyAxLFxuXHQgICAgICB0b3RhbENvdW50OiBkYXRhLnRvdGFsQ291bnQgfSk7XG5cdCAgfSk7XG5cdFxuXHQgIC8vIGlmKCFwYWdlKXtcblx0ICAvLyAgIHJldHVyblxuXHQgIC8vIH1cblx0ICAvLyAvL+WIneWni+WMluS/oeaBr1xuXHQgIGlmIChzdG9yZS5kYXRhKSB7XG5cdCAgICB2YXIgcGFnZSA9IHN0b3JlLmRhdGE7XG5cdCAgICBjb21wLnVwZGF0ZSh7XG5cdCAgICAgIHRvdGFsUGFnZXM6IHBhZ2UudG90YWxQYWdlLFxuXHQgICAgICBwYWdlU2l6ZTogcGFnZS5wYWdlU2l6ZSxcblx0ICAgICAgY3VycmVudFBhZ2U6IHBhZ2UucGFnZUluZGV4ICsgMSxcblx0ICAgICAgdG90YWxDb3VudDogcGFnZS50b3RhbENvdW50IH0pO1xuXHQgIH1cblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcGFnaW5hdGlvbjtcblxuLyoqKi8gfSxcbi8qIDE1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NyksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDE1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNvcmUgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NClcblx0ICAsICRKU09OID0gY29yZS5KU09OIHx8IChjb3JlLkpTT04gPSB7c3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeX0pO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gaW5pdChwYXJhbXMpIHtcblx0ICB0aGlzLml0ZW1zID0gcGFyYW1zLml0ZW1zO1xuXHQgIHZhciBjdXJzdGF0ZSA9IHBhcmFtcy5pdGVtcygpW3BhcmFtcy5pbmRleCgpIHx8IDBdLnN0YXRlO1xuXHQgIHRoaXMuY3VyU3RhdGUgPSBjdXJzdGF0ZTtcblx0ICB0aGlzLmhhbmRsZXIgPSBmdW5jdGlvbiAobXNnKSB7XG5cdCAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlcnlfdGFicycgKyBtc2cuc3RhdGUpO1xuXHQgICAgZWwuY2hlY2tlZCA9ICdjaGVja2VkJztcblx0ICAgIHBhcmFtcy5oYW5kbGVyKG1zZyk7XG5cdCAgfTtcblx0ICAvLyBwYXJhbXMuaGFuZGxlclxuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBpbml0KHBhcmFtcykge1xuXHQgIHRoaXMudGl0bGUgPSBwYXJhbXMudGl0bGU7XG5cdCAgdGhpcy5jb3VudCA9IHBhcmFtcy5jb3VudDtcblx0ICB0aGlzLmFjdGl2ZSA9IHBhcmFtcy5hY3RpdmUgPyBwYXJhbXMuYWN0aXZlIDogZmFsc2U7XG5cdCAgdGhpcy5jbGljayA9IHBhcmFtcy5jbGljaztcblx0ICB0aGlzLnN0YXRlID0gcGFyYW1zLnN0YXRlO1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBpbml0KHBhcmFtcykge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMuaXRlbXMgPSBwYXJhbXMuaXRlbXM7XG5cdCAgdGhpcy5pbmRleCA9IHBhcmFtcy5pbmRleDtcblx0ICB0aGlzLmhhbmRsZXIgPSBmdW5jdGlvbiAobXNnLCBfaW5kZXgpIHtcblx0ICAgIF90aGlzLmluZGV4KF9pbmRleCk7XG5cdCAgICBwYXJhbXMuaGFuZGxlcihtc2cpO1xuXHQgIH07XG5cdCAgLy8gcGFyYW1zLmhhbmRsZXJcblx0fVxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0Lypcblx0KnRpdGxlOiBzdGVwIGxlZ2VuZOe7hOS7tlxuXHQqYXV0aG9yOiBzb25naGxjXG5cdCpkZXNjcmlwdGlvbjog55So5LqO5pi+56S65Lia5Yqh5rWB56iL5b2T5YmN5omA5aSE55qE6IqC54K55ZKM54q25oCB77yI6buY6K6k5Y+q5pSv5oyB57q/5oCn5rWB56iL77yM5LiA5p2h55u057q/77yM5LiN5pSv5oyB6L+H5aSa5YiG5pSv57G75rWB56iL77yJXG5cdCogcGFyYW1zOiB7XG5cdCogICAvL+WIneWni+WMluaVsOaNrlxuXHQqICAgbGlzdDogW3tcblx0KiAgICAgaWQ6ICcnLFxuXHQqICAgICBuYW1lOiAnJ1xuXHQqICAgfV0sXG5cdCogICBjdXJyZW50SWQ6ICcnLCAvL+S6jOmAieS4gFxuXHQqICAgY3VycmVudEluZGV4OiAnJyAvL+S6jOmAieS4gFxuXHQqIH1cblx0KlxuXHQqICovXG5cdFxuXHRmdW5jdGlvbiBpbml0KF9yZWYpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICB2YXIgbGlzdCA9IF9yZWYubGlzdCxcblx0ICAgICAgY3VycmVudElkID0gX3JlZi5jdXJyZW50SWQsXG5cdCAgICAgIGN1cnJlbnRJbmRleCA9IF9yZWYuY3VycmVudEluZGV4LFxuXHQgICAgICBfcmVmJHR5cGUgPSBfcmVmLnR5cGUsXG5cdCAgICAgIHR5cGUgPSBfcmVmJHR5cGUgPT09IHVuZGVmaW5lZCA/ICdtZCcgOiBfcmVmJHR5cGU7XG5cdFxuXHQgIHRoaXMubGlzdCA9IGxpc3Q7XG5cdCAgdGhpcy5jdXJyZW50SWQgPSBjdXJyZW50SWQ7XG5cdCAgdGhpcy50eXBlID0gdHlwZTtcblx0XG5cdCAgaWYgKGN1cnJlbnRJbmRleCAmJiBjdXJyZW50SW5kZXguc3Vic2NyaWJlKSB7XG5cdCAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGN1cnJlbnRJbmRleDtcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhpcy5jdXJyZW50SW5kZXggPSB3aW5kb3cua28ub2JzZXJ2YWJsZShjdXJyZW50SW5kZXggfHwgMCk7XG5cdCAgfVxuXHQgIGlmICh0aGlzLmN1cnJlbnRJZCAmJiB0aGlzLmN1cnJlbnRJZC5zdWJzY3JpYmUpIHtcblx0ICAgIC8vIOaUr+aMgWN1cnJlbnRJZCDorr7nva5jdXJyZW50SW5kZXhcblx0ICAgIHRoaXMuY3VycmVudElkLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gX3RoaXMubGlzdCgpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gY3VycmVudElkKCkgPT09IGl0ZW0uaWQ7XG5cdCAgICAgIH0pO1xuXHQgICAgICBfdGhpcy5jdXJyZW50SW5kZXgoaW5kZXhbMF0uaWQpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXQ7XG5cbi8qKiovIH0sXG4vKiAxNjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qXG5cdCpcblx0KlxuXHQqXG5cdCogKi9cblx0XG5cdGZ1bmN0aW9uIGluaXQoX3JlZikge1xuXHQgIHZhciBsaXN0ID0gX3JlZi5saXN0LFxuXHQgICAgICBfcmVmJGN1cnJlbnQgPSBfcmVmLmN1cnJlbnQsXG5cdCAgICAgIGN1cnJlbnQgPSBfcmVmJGN1cnJlbnQgPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmJGN1cnJlbnQ7XG5cdFxuXHQgIHRoaXMubGlzdCA9IGxpc3Q7XG5cdCAgdGhpcy5jdXJyZW50ID0gY3VycmVudDtcblx0fVxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0O1xuXG4vKioqLyB9LFxuLyogMTYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBpbml0KHBhcmFtcykge1xuXHQgIHZhciBmbGFnID0gdHJ1ZTtcblx0ICB0aGlzLnRleHQgPSBrby5vYnNlcnZhYmxlKHBhcmFtcy50ZXh0IHx8ICcnKTtcblx0ICB0aGlzLmNsaWNrID0gX2xvZGFzaDIuZGVmYXVsdC5kZWJvdW5jZShmdW5jdGlvbiAoKSB7XG5cdCAgICAvLyDliqDlhaU0c+WGhemYsuatouWGjeasoeeCueWHu+acuuWItu+8jOS4gOaXpueCueWHu+WPkemAgWNsaWNr5LqL5Lu25YiZNHPlhoXkuI3lho3mj5DkuqRcblx0ICAgIGlmIChmbGFnKSB7XG5cdCAgICAgIHBhcmFtcy5jbGljaygpO1xuXHQgICAgICBmbGFnID0gZmFsc2U7XG5cdCAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGZsYWcgPSB0cnVlO1xuXHQgICAgICB9LCA0MDAwKTtcblx0ICAgIH1cblx0ICB9LCBwYXJhbXMuZGVib3VuY2UgfHwgMzAwLCB7ICdtYXhXYWl0JzogcGFyYW1zLm1heFdhaXQgfHwgMjAwMCB9KTtcblx0fSAvKiBnbG9iYWwga28gKi9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5pdDtcblxuLyoqKi8gfSxcbi8qIDE2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSkgey8qKlxuXHQgKiBAbGljZW5zZVxuXHQgKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG5cdCAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanMuZm91bmRhdGlvbi8+XG5cdCAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cblx0ICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cblx0ICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG5cdCAqL1xuXHQ7KGZ1bmN0aW9uKCkge1xuXHRcblx0ICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cblx0ICB2YXIgdW5kZWZpbmVkO1xuXHRcblx0ICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG5cdCAgdmFyIFZFUlNJT04gPSAnNC4xNy4xMSc7XG5cdFxuXHQgIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuXHQgIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXHRcblx0ICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG5cdCAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuXHQgICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cblx0ICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cdFxuXHQgIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cblx0ICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblx0XG5cdCAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuXHQgIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblx0XG5cdCAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cblx0ICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcblx0ICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcblx0ICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblx0XG5cdCAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG5cdCAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcblx0ICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuXHQgIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG5cdCAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG5cdCAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG5cdCAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG5cdCAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuXHQgICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuXHQgICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuXHQgICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuXHQgICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG5cdCAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXHRcblx0ICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cblx0ICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcblx0ICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXHRcblx0ICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG5cdCAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcblx0ICAgICAgSE9UX1NQQU4gPSAxNjtcblx0XG5cdCAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG5cdCAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuXHQgICAgICBMQVpZX01BUF9GTEFHID0gMixcblx0ICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblx0XG5cdCAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG5cdCAgdmFyIElORklOSVRZID0gMSAvIDAsXG5cdCAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuXHQgICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuXHQgICAgICBOQU4gPSAwIC8gMDtcblx0XG5cdCAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cblx0ICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG5cdCAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuXHQgICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXHRcblx0ICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuXHQgIHZhciB3cmFwRmxhZ3MgPSBbXG5cdCAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuXHQgICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuXHQgICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcblx0ICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuXHQgICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcblx0ICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcblx0ICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcblx0ICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuXHQgICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cblx0ICBdO1xuXHRcblx0ICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG5cdCAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcblx0ICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuXHQgICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcblx0ICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcblx0ICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcblx0ICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG5cdCAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcblx0ICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG5cdCAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG5cdCAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuXHQgICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcblx0ICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcblx0ICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG5cdCAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG5cdCAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcblx0ICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG5cdCAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuXHQgICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcblx0ICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG5cdCAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuXHQgICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuXHQgICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXHRcblx0ICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuXHQgICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG5cdCAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcblx0ICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuXHQgICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG5cdCAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuXHQgICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcblx0ICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG5cdCAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG5cdCAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG5cdCAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG5cdCAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuXHQgICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG5cdCAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cblx0ICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcblx0ICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG5cdCAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuXHQgICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG5cdCAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG5cdCAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuXHQgICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cblx0ICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcblx0ICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuXHQgICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXHRcblx0ICAvKipcblx0ICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG5cdCAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG5cdCAgICovXG5cdCAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcblx0ICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXHRcblx0ICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuXHQgIHZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZyxcblx0ICAgICAgcmVUcmltU3RhcnQgPSAvXlxccysvLFxuXHQgICAgICByZVRyaW1FbmQgPSAvXFxzKyQvO1xuXHRcblx0ICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cblx0ICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG5cdCAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG5cdCAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblx0XG5cdCAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG5cdCAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXHRcblx0ICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cblx0ICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cdFxuXHQgIC8qKlxuXHQgICAqIFVzZWQgdG8gbWF0Y2hcblx0ICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuXHQgICAqL1xuXHQgIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuXHQgIHZhciByZUZsYWdzID0gL1xcdyokLztcblx0XG5cdCAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cblx0ICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXHRcblx0ICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG5cdCAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cblx0ICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblx0XG5cdCAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG5cdCAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cblx0ICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXHRcblx0ICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cblx0ICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXHRcblx0ICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG5cdCAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblx0XG5cdCAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuXHQgIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblx0XG5cdCAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuXHQgIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuXHQgICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcblx0ICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuXHQgICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuXHQgICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG5cdCAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuXHQgICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcblx0ICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3Jyxcblx0ICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcblx0ICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuXHQgICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuXHQgICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcblx0ICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuXHQgICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cblx0ICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG5cdCAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcblx0ICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcblx0ICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcblx0ICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcblx0ICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG5cdCAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG5cdCAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcblx0ICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG5cdCAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG5cdCAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG5cdCAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG5cdCAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcblx0ICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcblx0ICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblx0XG5cdCAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG5cdCAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuXHQgICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcblx0ICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG5cdCAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuXHQgICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG5cdCAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG5cdCAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG5cdCAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcblx0ICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuXHQgICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG5cdCAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuXHQgICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblx0XG5cdCAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG5cdCAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cdFxuXHQgIC8qKlxuXHQgICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcblx0ICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuXHQgICAqL1xuXHQgIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXHRcblx0ICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuXHQgIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblx0XG5cdCAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cblx0ICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG5cdCAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuXHQgICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuXHQgICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuXHQgICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcblx0ICAgIHJzT3JkVXBwZXIsXG5cdCAgICByc09yZExvd2VyLFxuXHQgICAgcnNEaWdpdHMsXG5cdCAgICByc0Vtb2ppXG5cdCAgXS5qb2luKCd8JyksICdnJyk7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuXHQgIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXHRcblx0ICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG5cdCAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblx0XG5cdCAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuXHQgIHZhciBjb250ZXh0UHJvcHMgPSBbXG5cdCAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG5cdCAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuXHQgICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5Jyxcblx0ICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcblx0ICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuXHQgIF07XG5cdFxuXHQgIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG5cdCAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXHRcblx0ICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG5cdCAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG5cdCAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG5cdCAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuXHQgIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG5cdCAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuXHQgIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuXHQgIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cblx0ICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG5cdCAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuXHQgIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cblx0ICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG5cdCAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuXHQgIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cblx0ICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXHRcblx0ICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuXHQgIHZhciBjbG9uZWFibGVUYWdzID0ge307XG5cdCAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cblx0ICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cblx0ICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG5cdCAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuXHQgIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG5cdCAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuXHQgIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG5cdCAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cblx0ICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuXHQgIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cblx0ICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuXHQgIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG5cdCAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXHRcblx0ICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG5cdCAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcblx0ICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cblx0ICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuXHQgICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG5cdCAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG5cdCAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG5cdCAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuXHQgICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcblx0ICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG5cdCAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuXHQgICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuXHQgICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG5cdCAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcblx0ICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG5cdCAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuXHQgICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG5cdCAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuXHQgICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcblx0ICAgICdcXHhkZic6ICdzcycsXG5cdCAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuXHQgICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG5cdCAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcblx0ICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcblx0ICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcblx0ICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcblx0ICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG5cdCAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuXHQgICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuXHQgICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuXHQgICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuXHQgICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcblx0ICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG5cdCAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuXHQgICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG5cdCAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuXHQgICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcblx0ICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcblx0ICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcblx0ICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuXHQgICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG5cdCAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcblx0ICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuXHQgICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuXHQgICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuXHQgICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG5cdCAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0Jyxcblx0ICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuXHQgICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG5cdCAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuXHQgICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG5cdCAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcblx0ICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuXHQgICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG5cdCAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcblx0ICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuXHQgIH07XG5cdFxuXHQgIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG5cdCAgdmFyIGh0bWxFc2NhcGVzID0ge1xuXHQgICAgJyYnOiAnJmFtcDsnLFxuXHQgICAgJzwnOiAnJmx0OycsXG5cdCAgICAnPic6ICcmZ3Q7Jyxcblx0ICAgICdcIic6ICcmcXVvdDsnLFxuXHQgICAgXCInXCI6ICcmIzM5Oydcblx0ICB9O1xuXHRcblx0ICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuXHQgIHZhciBodG1sVW5lc2NhcGVzID0ge1xuXHQgICAgJyZhbXA7JzogJyYnLFxuXHQgICAgJyZsdDsnOiAnPCcsXG5cdCAgICAnJmd0Oyc6ICc+Jyxcblx0ICAgICcmcXVvdDsnOiAnXCInLFxuXHQgICAgJyYjMzk7JzogXCInXCJcblx0ICB9O1xuXHRcblx0ICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cblx0ICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcblx0ICAgICdcXFxcJzogJ1xcXFwnLFxuXHQgICAgXCInXCI6IFwiJ1wiLFxuXHQgICAgJ1xcbic6ICduJyxcblx0ICAgICdcXHInOiAncicsXG5cdCAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG5cdCAgICAnXFx1MjAyOSc6ICd1MjAyOSdcblx0ICB9O1xuXHRcblx0ICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuXHQgIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG5cdCAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXHRcblx0ICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuXHQgIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblx0XG5cdCAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cblx0ICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblx0XG5cdCAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG5cdCAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdFxuXHQgIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG5cdCAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHRcblx0ICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG5cdCAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0XG5cdCAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cblx0ICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblx0XG5cdCAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG5cdCAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cdFxuXHQgIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuXHQgIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuXHQgICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblx0XG5cdCAgICAgIGlmICh0eXBlcykge1xuXHQgICAgICAgIHJldHVybiB0eXBlcztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cblx0ICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuXHQgICAgfSBjYXRjaCAoZSkge31cblx0ICB9KCkpO1xuXHRcblx0ICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuXHQgIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG5cdCAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG5cdCAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuXHQgICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcblx0ICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG5cdCAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cdFxuXHQgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAvKipcblx0ICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG5cdCAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuXHQgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG5cdCAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuXHQgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuXHQgICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG5cdCAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcblx0ICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXHQgICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuXHQgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcblx0ICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0ICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYWNjdW11bGF0b3I7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG5cdCAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuXHQgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdFxuXHQgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFycmF5O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG5cdCAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdFxuXHQgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG5cdCAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFycmF5O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3Jcblx0ICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG5cdCAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcblx0ICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3Jcblx0ICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuXHQgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG5cdCAgICAgICAgcmVzSW5kZXggPSAwLFxuXHQgICAgICAgIHJlc3VsdCA9IFtdO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0ICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuXHQgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3Jcblx0ICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuXHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdCAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG5cdCAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0XG5cdCAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcblx0ICAgKiBzaG9ydGhhbmRzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcblx0ICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cblx0ICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG5cdCAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcblx0ICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG5cdCAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYXJyYXk7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3Jcblx0ICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG5cdCAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcblx0ICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG5cdCAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuXHQgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdFxuXHQgICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcblx0ICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcblx0ICAgIH1cblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBhY2N1bXVsYXRvcjtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG5cdCAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuXHQgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcblx0ICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG5cdCAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdCAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuXHQgICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcblx0ICAgIH1cblx0ICAgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBhY2N1bXVsYXRvcjtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcblx0ICAgKiBzaG9ydGhhbmRzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuXHQgICAqICBlbHNlIGBmYWxzZWAuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcblx0ICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuXHQgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuXHQgICAqL1xuXHQgIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXHRcblx0ICAvKipcblx0ICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG5cdCAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuXHQgICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG5cdCAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcblx0ICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG5cdCAgICogdXNpbmcgYGVhY2hGdW5jYC5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cblx0ICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcblx0ICAgIHZhciByZXN1bHQ7XG5cdCAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG5cdCAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcblx0ICAgICAgICByZXN1bHQgPSBrZXk7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG5cdCAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG5cdCAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG5cdCAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cdFxuXHQgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcblx0ICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcblx0ICAgICAgICByZXR1cm4gaW5kZXg7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiAtMTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cblx0ICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cblx0ICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG5cdCAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG5cdCAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcblx0ICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cblx0ICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcblx0ICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG5cdCAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGluZGV4O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gLTE7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcblx0ICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG5cdCAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdCAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuXHQgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuXHQgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuXHQgICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG5cdCAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG5cdCAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcblx0ICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cblx0ICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG5cdCAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuXHQgICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcblx0ICAgKiB2YWx1ZXMuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuXHQgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XG5cdCAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcblx0ICAgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBhcnJheTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG5cdCAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuXHQgICAgdmFyIHJlc3VsdCxcblx0ICAgICAgICBpbmRleCA9IC0xLFxuXHQgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XG5cdCAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG5cdCAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG5cdCAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG5cdCAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblx0XG5cdCAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcblx0ICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG5cdCAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuXHQgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG5cdCAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cblx0ICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcblx0ICAgKiBvZiBgcHJvcHNgLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuXHQgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcblx0ICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG5cdCAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG5cdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG5cdCAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcblx0ICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG5cdCAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cblx0ICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcblx0ICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXHRcblx0ICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuXHQgICAgcmV0dXJuIGluZGV4O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG5cdCAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG5cdCAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG5cdCAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblx0XG5cdCAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cblx0ICAgIHJldHVybiBpbmRleDtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG5cdCAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuXHQgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcblx0ICAgICAgICByZXN1bHQgPSAwO1xuXHRcblx0ICAgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcblx0ICAgICAgICArK3Jlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuXHQgICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuXHQgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cblx0ICAgKi9cblx0ICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblx0XG5cdCAgLyoqXG5cdCAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG5cdCAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG5cdCAgICovXG5cdCAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXHRcblx0ICAvKipcblx0ICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuXHQgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG5cdCAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuXHQgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuXHQgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cblx0ICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG5cdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cblx0ICAgKlxuXHQgICAqIEBwcml2YXRlXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuXHQgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuXHQgICAgdmFyIGRhdGEsXG5cdCAgICAgICAgcmVzdWx0ID0gW107XG5cdFxuXHQgICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHQgICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuXHQgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXHRcblx0ICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcblx0ICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG5cdCAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuXHQgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG5cdCAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuXHQgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgICAgIHJlc0luZGV4ID0gMCxcblx0ICAgICAgICByZXN1bHQgPSBbXTtcblx0XG5cdCAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cdCAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG5cdCAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG5cdCAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuXHQgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXHRcblx0ICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG5cdCAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cdFxuXHQgICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG5cdCAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuXHQgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuXHQgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuXHQgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcblx0ICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFxuXHQgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gaW5kZXg7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiAtMTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG5cdCAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuXHQgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuXHQgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcblx0ICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG5cdCAgICB3aGlsZSAoaW5kZXgtLSkge1xuXHQgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBpbmRleDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGluZGV4O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuXHQgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG5cdCAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG5cdCAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuXHQgICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuXHQgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG5cdCAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG5cdCAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuXHQgICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuXHQgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG5cdCAgICovXG5cdCAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblx0XG5cdCAgLyoqXG5cdCAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuXHQgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuXHQgICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuXHQgICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcblx0ICAgICAgKytyZXN1bHQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuXHQgICAqXG5cdCAgICogQHByaXZhdGVcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cblx0ICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcblx0ICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG5cdCAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuXHQgIH1cblx0XG5cdCAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHQgIC8qKlxuXHQgICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cblx0ICAgKlxuXHQgICAqIEBzdGF0aWNcblx0ICAgKiBAbWVtYmVyT2YgX1xuXHQgICAqIEBzaW5jZSAxLjEuMFxuXHQgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG5cdCAgICogQGV4YW1wbGVcblx0ICAgKlxuXHQgICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG5cdCAgICpcblx0ICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcblx0ICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcblx0ICAgKlxuXHQgICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG5cdCAgICogLy8gPT4gdHJ1ZVxuXHQgICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG5cdCAgICogLy8gPT4gZmFsc2Vcblx0ICAgKlxuXHQgICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuXHQgICAqIC8vID0+IGZhbHNlXG5cdCAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG5cdCAgICogLy8gPT4gdHJ1ZVxuXHQgICAqXG5cdCAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuXHQgICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG5cdCAgICovXG5cdCAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuXHQgICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblx0XG5cdCAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cblx0ICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG5cdCAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcblx0ICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG5cdCAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuXHQgICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG5cdCAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG5cdCAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG5cdCAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG5cdCAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cdFxuXHQgICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXHQgICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG5cdCAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuXHQgICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblx0XG5cdCAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG5cdCAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXHRcblx0ICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cblx0ICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cdFxuXHQgICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG5cdCAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdCAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuXHQgICAgdmFyIGlkQ291bnRlciA9IDA7XG5cdFxuXHQgICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cblx0ICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuXHQgICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG5cdCAgICB9KCkpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuXHQgICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG5cdCAgICAgKiBvZiB2YWx1ZXMuXG5cdCAgICAgKi9cblx0ICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXHRcblx0ICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cblx0ICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblx0XG5cdCAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuXHQgICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cdFxuXHQgICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cblx0ICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG5cdCAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG5cdCAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuXHQgICAgKTtcblx0XG5cdCAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cblx0ICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG5cdCAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcblx0ICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcblx0ICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcblx0ICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuXHQgICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG5cdCAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG5cdCAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG5cdCAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcblx0ICAgICAgICByZXR1cm4gZnVuYztcblx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIH0oKSk7XG5cdFxuXHQgICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG5cdCAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuXHQgICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG5cdCAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblx0XG5cdCAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdCAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcblx0ICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG5cdCAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG5cdCAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuXHQgICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG5cdCAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG5cdCAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG5cdCAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG5cdCAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG5cdCAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuXHQgICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuXHQgICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cdFxuXHQgICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuXHQgICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuXHQgICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG5cdCAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuXHQgICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG5cdCAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuXHQgICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblx0XG5cdCAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cblx0ICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblx0XG5cdCAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cblx0ICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblx0XG5cdCAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuXHQgICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcblx0ICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcblx0ICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuXHQgICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuXHQgICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cdFxuXHQgICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG5cdCAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuXHQgICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG5cdCAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcblx0ICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuXHQgICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuXHQgICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuXHQgICAgICogd2l0aCBgXyN2YWx1ZWAuXG5cdCAgICAgKlxuXHQgICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG5cdCAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG5cdCAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cblx0ICAgICAqXG5cdCAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cblx0ICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG5cdCAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2Zcblx0ICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcblx0ICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcblx0ICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuXHQgICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuXHQgICAgICpcblx0ICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcblx0ICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuXHQgICAgICpcblx0ICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG5cdCAgICAgKlxuXHQgICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcblx0ICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcblx0ICAgICAqXG5cdCAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcblx0ICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuXHQgICAgICpcblx0ICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG5cdCAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuXHQgICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG5cdCAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG5cdCAgICAgKlxuXHQgICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuXHQgICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuXHQgICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuXHQgICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG5cdCAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcblx0ICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG5cdCAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcblx0ICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcblx0ICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcblx0ICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcblx0ICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuXHQgICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG5cdCAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG5cdCAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcblx0ICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuXHQgICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuXHQgICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcblx0ICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG5cdCAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcblx0ICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG5cdCAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcblx0ICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG5cdCAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcblx0ICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcblx0ICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcblx0ICAgICAqXG5cdCAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuXHQgICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuXHQgICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG5cdCAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuXHQgICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcblx0ICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcblx0ICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG5cdCAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcblx0ICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuXHQgICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG5cdCAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG5cdCAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuXHQgICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcblx0ICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG5cdCAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcblx0ICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcblx0ICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcblx0ICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuXHQgICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcblx0ICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG5cdCAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG5cdCAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG5cdCAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG5cdCAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG5cdCAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcblx0ICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2Bcblx0ICAgICAqXG5cdCAgICAgKiBAbmFtZSBfXG5cdCAgICAgKiBAY29uc3RydWN0b3Jcblx0ICAgICAqIEBjYXRlZ29yeSBTZXFcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuXHQgICAgICogICByZXR1cm4gbiAqIG47XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG5cdCAgICAgKlxuXHQgICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG5cdCAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG5cdCAgICAgKiAvLyA9PiA2XG5cdCAgICAgKlxuXHQgICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG5cdCAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG5cdCAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuXHQgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcblx0ICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuXHQgICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgKi9cblx0ICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcblx0ICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHt9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG5cdCAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuXHQgICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuXHQgICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfTtcblx0ICAgIH0oKSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuXHQgICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcblx0ICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuXHQgICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG5cdCAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcblx0ICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuXHQgICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuXHQgICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG5cdCAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEB0eXBlIHtPYmplY3R9XG5cdCAgICAgKi9cblx0ICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXHRcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuXHQgICAgICAgKlxuXHQgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG5cdCAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG5cdCAgICAgICAqL1xuXHQgICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG5cdCAgICAgICAqXG5cdCAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3Ncblx0ICAgICAgICogQHR5cGUge1JlZ0V4cH1cblx0ICAgICAgICovXG5cdCAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG5cdCAgICAgICAqXG5cdCAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3Ncblx0ICAgICAgICogQHR5cGUge1JlZ0V4cH1cblx0ICAgICAgICovXG5cdCAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuXHQgICAgICAgKlxuXHQgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG5cdCAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG5cdCAgICAgICAqL1xuXHQgICAgICAndmFyaWFibGUnOiAnJyxcblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG5cdCAgICAgICAqXG5cdCAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3Ncblx0ICAgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAgICovXG5cdCAgICAgICdpbXBvcnRzJzoge1xuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcblx0ICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgJ18nOiBsb2Rhc2hcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG5cdCAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG5cdCAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXHRcblx0ICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG5cdCAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAY29uc3RydWN0b3Jcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG5cdCAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcblx0ICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuXHQgICAgICB0aGlzLl9fZGlyX18gPSAxO1xuXHQgICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuXHQgICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcblx0ICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcblx0ICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgY2xvbmVcblx0ICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG5cdCAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblx0ICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG5cdCAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcblx0ICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcblx0ICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG5cdCAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgcmV2ZXJzZVxuXHQgICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuXHQgICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuXHQgICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG5cdCAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuXHQgICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgdmFsdWVcblx0ICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuXHQgICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG5cdCAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG5cdCAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuXHQgICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG5cdCAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG5cdCAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcblx0ICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcblx0ICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuXHQgICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG5cdCAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcblx0ICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcblx0ICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzSW5kZXggPSAwLFxuXHQgICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblx0XG5cdCAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcblx0ICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHRcblx0ICAgICAgb3V0ZXI6XG5cdCAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuXHQgICAgICAgIGluZGV4ICs9IGRpcjtcblx0XG5cdCAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuXHQgICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0XG5cdCAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuXHQgICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcblx0ICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG5cdCAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcblx0ICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblx0XG5cdCAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuXHQgICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG5cdCAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG5cdCAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcblx0ICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQGNvbnN0cnVjdG9yXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXHRcblx0ICAgICAgdGhpcy5jbGVhcigpO1xuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuXHQgICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBuYW1lIGNsZWFyXG5cdCAgICAgKiBAbWVtYmVyT2YgSGFzaFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG5cdCAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcblx0ICAgICAgdGhpcy5zaXplID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBkZWxldGVcblx0ICAgICAqIEBtZW1iZXJPZiBIYXNoXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcblx0ICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBuYW1lIGdldFxuXHQgICAgICogQG1lbWJlck9mIEhhc2hcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuXHQgICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG5cdCAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuXHQgICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBuYW1lIGhhc1xuXHQgICAgICogQG1lbWJlck9mIEhhc2hcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuXHQgICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG5cdCAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBzZXRcblx0ICAgICAqIEBtZW1iZXJPZiBIYXNoXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuXHQgICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG5cdCAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG5cdCAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5cdCAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcblx0ICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5cdCAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuXHQgICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcblx0ICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQGNvbnN0cnVjdG9yXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cdFxuXHQgICAgICB0aGlzLmNsZWFyKCk7XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG5cdCAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgY2xlYXJcblx0ICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG5cdCAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcblx0ICAgICAgdGhpcy5zaXplID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBkZWxldGVcblx0ICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG5cdCAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcblx0ICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cdFxuXHQgICAgICBpZiAoaW5kZXggPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG5cdCAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcblx0ICAgICAgICBkYXRhLnBvcCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcblx0ICAgICAgfVxuXHQgICAgICAtLXRoaXMuc2l6ZTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgZ2V0XG5cdCAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuXHQgICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG5cdCAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXHRcblx0ICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBoYXNcblx0ICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG5cdCAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBzZXRcblx0ICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcblx0ICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuXHQgICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblx0XG5cdCAgICAgIGlmIChpbmRleCA8IDApIHtcblx0ICAgICAgICArK3RoaXMuc2l6ZTtcblx0ICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuXHQgICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuXHQgICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5cdCAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcblx0ICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuXHQgICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAY29uc3RydWN0b3Jcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXHRcblx0ICAgICAgdGhpcy5jbGVhcigpO1xuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuXHQgICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgY2xlYXJcblx0ICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuXHQgICAgICB0aGlzLnNpemUgPSAwO1xuXHQgICAgICB0aGlzLl9fZGF0YV9fID0ge1xuXHQgICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG5cdCAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG5cdCAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBkZWxldGVcblx0ICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuXHQgICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBnZXRcblx0ICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuXHQgICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBuYW1lIGhhc1xuXHQgICAgICogQG1lbWJlck9mIE1hcENhY2hlXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG5cdCAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgc2V0XG5cdCAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG5cdCAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuXHQgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblx0XG5cdCAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuXHQgICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cblx0ICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5cdCAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5cdCAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5cdCAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5cdCAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICpcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBjb25zdHJ1Y3RvclxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblx0XG5cdCAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBuYW1lIGFkZFxuXHQgICAgICogQG1lbWJlck9mIFNldENhY2hlXG5cdCAgICAgKiBAYWxpYXMgcHVzaFxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcblx0ICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBuYW1lIGhhc1xuXHQgICAgICogQG1lbWJlck9mIFNldENhY2hlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5cdCAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblx0ICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblx0XG5cdCAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQGNvbnN0cnVjdG9yXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuXHQgICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuXHQgICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgY2xlYXJcblx0ICAgICAqIEBtZW1iZXJPZiBTdGFja1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuXHQgICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcblx0ICAgICAgdGhpcy5zaXplID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgZGVsZXRlXG5cdCAgICAgKiBAbWVtYmVyT2YgU3RhY2tcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcblx0ICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuXHQgICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblx0XG5cdCAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQG5hbWUgZ2V0XG5cdCAgICAgKiBAbWVtYmVyT2YgU3RhY2tcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAbmFtZSBoYXNcblx0ICAgICAqIEBtZW1iZXJPZiBTdGFja1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBuYW1lIHNldFxuXHQgICAgICogQG1lbWJlck9mIFN0YWNrXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG5cdCAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcblx0ICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcblx0ICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuXHQgICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcblx0ICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcblx0ICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcblx0ICAgICAgfVxuXHQgICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcblx0ICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuXHQgICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblx0ICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblx0ICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblx0ICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblx0ICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblx0XG5cdCAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG5cdCAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuXHQgICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuXHQgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG5cdCAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcblx0ICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcblx0ICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuXHQgICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblx0XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuXHQgICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG5cdCAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuXHQgICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG5cdCAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuXHQgICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cblx0ICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG5cdCAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cblx0ICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG5cdCAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cblx0ICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcblx0ICAgICAgICAgICAgKSkpIHtcblx0ICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHQgICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuXHQgICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuXHQgICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuXHQgICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG5cdCAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcblx0ICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG5cdCAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcblx0ICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG5cdCAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG5cdCAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuXHQgICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuXHQgICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcblx0ICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdCAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG5cdCAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gLTE7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuXHQgICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcblx0ICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuXHQgICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuXHQgICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcblx0ICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuXHQgICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG5cdCAgICAgKiB2YWx1ZSBjaGVja3MuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuXHQgICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG5cdCAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcblx0ICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuXHQgICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuXHQgICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG5cdCAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcblx0ICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblx0XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuXHQgICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcblx0ICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bWJlcjtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3Ncblx0ICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cblx0ICAgICAqICAxIC0gRGVlcCBjbG9uZVxuXHQgICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG5cdCAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG5cdCAgICAgIHZhciByZXN1bHQsXG5cdCAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuXHQgICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcblx0ICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cdFxuXHQgICAgICBpZiAoY3VzdG9taXplcikge1xuXHQgICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuXHQgICAgICBpZiAoaXNBcnIpIHtcblx0ICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG5cdCAgICAgICAgaWYgKCFpc0RlZXApIHtcblx0ICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuXHQgICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXHRcblx0ICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcblx0ICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcblx0ICAgICAgICAgIGlmICghaXNEZWVwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcblx0ICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcblx0ICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuXHQgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuXHQgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG5cdCAgICAgIGlmIChzdGFja2VkKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXHRcblx0ICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuXHQgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcblx0ICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChpc01hcCh2YWx1ZSkpIHtcblx0ICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcblx0ICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuXHQgICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG5cdCAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cdFxuXHQgICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcblx0ICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG5cdCAgICAgICAgaWYgKHByb3BzKSB7XG5cdCAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcblx0ICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cblx0ICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuXHQgICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcblx0ICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXHQgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gIWxlbmd0aDtcblx0ICAgICAgfVxuXHQgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblx0ICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG5cdCAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuXHQgICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXHRcblx0ICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuXHQgICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG5cdCAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuXHQgICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuXHQgICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzdWx0ID0gW10sXG5cdCAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXHRcblx0ICAgICAgaWYgKCFsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpdGVyYXRlZSkge1xuXHQgICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcblx0ICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuXHQgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG5cdCAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcblx0ICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuXHQgICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuXHQgICAgICB9XG5cdCAgICAgIG91dGVyOlxuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcblx0ICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cdFxuXHQgICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuXHQgICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcblx0ICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcblx0ICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuXHQgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuXHQgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG5cdCAgICAgKi9cblx0ICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cblx0ICAgICAqL1xuXHQgICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcblx0ICAgICAqICBlbHNlIGBmYWxzZWBcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcblx0ICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG5cdCAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuXHQgICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG5cdCAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cdFxuXHQgICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcblx0ICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcblx0ICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG5cdCAgICAgICAgICAgICkpIHtcblx0ICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG5cdCAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XG5cdCAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcblx0ICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuXHQgICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG5cdCAgICAgIH1cblx0ICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcblx0ICAgICAgaWYgKGVuZCA8IDApIHtcblx0ICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuXHQgICAgICB9XG5cdCAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG5cdCAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuXHQgICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGFycmF5O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG5cdCAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG5cdCAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcblx0ICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cdFxuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0ICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcblx0ICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcblx0ICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cblx0ICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuXHQgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuXHQgICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG5cdCAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKi9cblx0ICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcblx0ICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqL1xuXHQgICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcblx0ICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuXHQgICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcblx0ICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuXHQgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblx0XG5cdCAgICAgIHZhciBpbmRleCA9IDAsXG5cdCAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblx0XG5cdCAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG5cdCAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcblx0ICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG5cdCAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuXHQgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG5cdCAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG5cdCAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuXHQgICAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuXHQgICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG5cdCAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcblx0ICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcblx0ICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcblx0ICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG5cdCAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuXHQgICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG5cdCAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuXHQgICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG5cdCAgICAgICAgICByZXN1bHQgPSBbXTtcblx0XG5cdCAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG5cdCAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcblx0ICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcblx0ICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuXHQgICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG5cdCAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcblx0ICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdCAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXHRcblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXHRcblx0ICAgICAgb3V0ZXI6XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG5cdCAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblx0XG5cdCAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG5cdCAgICAgICAgaWYgKCEoc2VlblxuXHQgICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG5cdCAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuXHQgICAgICAgICAgICApKSB7XG5cdCAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcblx0ICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG5cdCAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG5cdCAgICAgICAgICAgIGlmICghKGNhY2hlXG5cdCAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuXHQgICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcblx0ICAgICAgICAgICAgICAgICkge1xuXHQgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAoc2Vlbikge1xuXHQgICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcblx0ICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG5cdCAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcblx0ICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcblx0ICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcblx0ICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cdCAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuXHQgICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcblx0ICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG5cdCAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cblx0ICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cblx0ICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuXHQgICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG5cdCAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG5cdCAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuXHQgICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG5cdCAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuXHQgICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuXHQgICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cdFxuXHQgICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcblx0ICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cdFxuXHQgICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuXHQgICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuXHQgICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblx0XG5cdCAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuXHQgICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcblx0ICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG5cdCAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcblx0ICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuXHQgICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuXHQgICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuXHQgICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG5cdCAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXHRcblx0ICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuXHQgICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuXHQgICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblx0XG5cdCAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuXHQgICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAoIWlzU2FtZVRhZykge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuXHQgICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuXHQgICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuXHQgICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG5cdCAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblx0XG5cdCAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiAhbGVuZ3RoO1xuXHQgICAgICB9XG5cdCAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXHQgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuXHQgICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcblx0ICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuXHQgICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG5cdCAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuXHQgICAgICAgICAgICApIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcblx0ICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcblx0ICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcblx0ICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXHRcblx0ICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcblx0ICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG5cdCAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG5cdCAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcblx0ICAgICAgICAgICAgICAgIDogcmVzdWx0XG5cdCAgICAgICAgICAgICAgKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuXHQgICAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG5cdCAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3Rvcjtcblx0ICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcblx0ICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuXHQgICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuXHQgICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuXHQgICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcblx0ICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuXHQgICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcblx0ICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG5cdCAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG5cdCAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuXHQgICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG5cdCAgICAgICAgICByZXN1bHQgPSBbXTtcblx0XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcblx0ICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuXHQgICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG5cdCAgICAgKiAgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXHRcblx0ICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuXHQgICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcblx0ICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuXHQgICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuXHQgICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuXHQgICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuXHQgICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG5cdCAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuXHQgICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuXHQgICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG5cdCAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcblx0ICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcblx0ICAgICAqICBjb3VudGVycGFydHMuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG5cdCAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuXHQgICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcblx0ICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG5cdCAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG5cdCAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcblx0ICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sIGtleXNJbik7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuXHQgICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcblx0ICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG5cdCAgICAgKiAgY291bnRlcnBhcnRzLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG5cdCAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuXHQgICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcblx0ICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXHRcblx0ICAgICAgaWYgKHN0YWNrZWQpIHtcblx0ICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuXHQgICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcblx0ICAgICAgICA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICBpZiAoaXNDb21tb24pIHtcblx0ICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcblx0ICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcblx0ICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cdFxuXHQgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG5cdCAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG5cdCAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcblx0ICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuXHQgICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcblx0ICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcblx0ICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG5cdCAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG5cdCAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcblx0ICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG5cdCAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG5cdCAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG5cdCAgICAgICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNDb21tb24pIHtcblx0ICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cblx0ICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcblx0ICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuXHQgICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZU50aChhcnJheSwgbikge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHQgICAgICBpZiAoIWxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcblx0ICAgICAgcmV0dXJuIGlzSW5kZXgobiwgbGVuZ3RoKSA/IGFycmF5W25dIDogdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG9yZGVycyBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xO1xuXHQgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMubGVuZ3RoID8gaXRlcmF0ZWVzIDogW2lkZW50aXR5XSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblx0XG5cdCAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcblx0ICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG5cdCAgICAgICAgICByZXR1cm4gaXRlcmF0ZWUodmFsdWUpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuXHQgICAgICAgIHJldHVybiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcblx0ICAgICAqIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG5cdCAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG5cdCAgICAgICAgcmV0dXJuIGhhc0luKG9iamVjdCwgcGF0aCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG5cdCAgICAgICAgICByZXN1bHQgPSB7fTtcblx0XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG5cdCAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXHRcblx0ICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuXHQgICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVByb3BlcnR5YCB3aGljaCBzdXBwb3J0cyBkZWVwIHBhdGhzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAocGF0aCkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdCAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuXHQgICAgICogc2hvcnRoYW5kcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuXHQgICAgICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcblx0ICAgICAgICAgIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuXHQgICAgICAgICAgc2VlbiA9IGFycmF5O1xuXHRcblx0ICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcblx0ICAgICAgICB2YWx1ZXMgPSBjb3B5QXJyYXkodmFsdWVzKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXRlcmF0ZWUpIHtcblx0ICAgICAgICBzZWVuID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuXHQgICAgICB9XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGZyb21JbmRleCA9IDAsXG5cdCAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcblx0ICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXHRcblx0ICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcblx0ICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuXHQgICAgICAgICAgICBzcGxpY2UuY2FsbChzZWVuLCBmcm9tSW5kZXgsIDEpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBhcnJheTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG5cdCAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gaW5kZXhlcy5sZW5ndGggOiAwLFxuXHQgICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblx0XG5cdCAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcblx0ICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcblx0ICAgICAgICAgIHZhciBwcmV2aW91cyA9IGluZGV4O1xuXHQgICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG5cdCAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGFycmF5O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZG9tYCB3aXRob3V0IHN1cHBvcnQgZm9yIHJldHVybmluZ1xuXHQgICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuXHQgICAgICByZXR1cm4gbG93ZXIgKyBuYXRpdmVGbG9vcihuYXRpdmVSYW5kb20oKSAqICh1cHBlciAtIGxvd2VyICsgMSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG5cdCAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG5cdCAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXHRcblx0ICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG5cdCAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG5cdCAgICAgICAgc3RhcnQgKz0gc3RlcDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVwZWF0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byByZXBlYXQuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gJyc7XG5cdCAgICAgIGlmICghc3RyaW5nIHx8IG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgICAvLyBMZXZlcmFnZSB0aGUgZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcgYWxnb3JpdGhtIGZvciBhIGZhc3RlciByZXBlYXQuXG5cdCAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICBkbyB7XG5cdCAgICAgICAgaWYgKG4gJSAyKSB7XG5cdCAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBuID0gbmF0aXZlRmxvb3IobiAvIDIpO1xuXHQgICAgICAgIGlmIChuKSB7XG5cdCAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSB3aGlsZSAobik7XG5cdFxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG5cdCAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcblx0ICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVTaXplYCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuXHQgICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG5cdCAgICAgIHJldHVybiBzaHVmZmxlU2VsZihhcnJheSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG5cdCAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuXHQgICAgICAgIHJldHVybiBvYmplY3Q7XG5cdCAgICAgIH1cblx0ICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cdFxuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuXHQgICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcblx0ICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblx0XG5cdCAgICAgIHdoaWxlIChuZXN0ZWQgIT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcblx0ICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblx0XG5cdCAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuXHQgICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG5cdCAgICAgICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG5cdCAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuXHQgICAgICAgICAgICAgID8gb2JqVmFsdWVcblx0ICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcblx0ICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gb2JqZWN0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuXHQgICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG5cdCAgICAgKi9cblx0ICAgIHZhciBiYXNlU2V0RGF0YSA9ICFtZXRhTWFwID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBkYXRhKSB7XG5cdCAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuXHQgICAgICByZXR1cm4gZnVuYztcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuXHQgICAgICovXG5cdCAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcblx0ICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcblx0ICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcblx0ICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuXHQgICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG5cdCAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG5cdCAgICAgIHJldHVybiBzaHVmZmxlU2VsZih2YWx1ZXMoY29sbGVjdGlvbikpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XG5cdCAgICAgIGlmIChzdGFydCA8IDApIHtcblx0ICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuXHQgICAgICB9XG5cdCAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcblx0ICAgICAgaWYgKGVuZCA8IDApIHtcblx0ICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuXHQgICAgICB9XG5cdCAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcblx0ICAgICAgc3RhcnQgPj4+PSAwO1xuXHRcblx0ICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuXHQgICAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG5cdCAgICAgIHZhciByZXN1bHQ7XG5cdFxuXHQgICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcblx0ICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcblx0ICAgICAgICByZXR1cm4gIXJlc3VsdDtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiAhIXJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuXHQgICAgICogcGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIG9mIGBhcnJheWAgdG8gZGV0ZXJtaW5lIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG5cdCAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG5cdCAgICAgKiAgaW50byBgYXJyYXlgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG5cdCAgICAgIHZhciBsb3cgPSAwLFxuXHQgICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyBsb3cgOiBhcnJheS5sZW5ndGg7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuXHQgICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG5cdCAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuXHQgICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblx0XG5cdCAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuXHQgICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcblx0ICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBoaWdoO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcblx0ICAgICAqIHdoaWNoIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZVxuXHQgICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG5cdCAgICAgKiAgaW50byBgYXJyYXlgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG5cdCAgICAgIHZhbHVlID0gaXRlcmF0ZWUodmFsdWUpO1xuXHRcblx0ICAgICAgdmFyIGxvdyA9IDAsXG5cdCAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG5cdCAgICAgICAgICB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcblx0ICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuXHQgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG5cdCAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuXHQgICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcblx0ICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcblx0ICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG5cdCAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuXHQgICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblx0XG5cdCAgICAgICAgaWYgKHZhbElzTmFOKSB7XG5cdCAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG5cdCAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG5cdCAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuXHQgICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuXHQgICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoc2V0TG93KSB7XG5cdCAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBoaWdoID0gbWlkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG5cdCAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzSW5kZXggPSAwLFxuXHQgICAgICAgICAgcmVzdWx0ID0gW107XG5cdFxuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcblx0ICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXHRcblx0ICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcblx0ICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG5cdCAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG5cdCAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIE5BTjtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gK3ZhbHVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG5cdCAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG5cdCAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG5cdCAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cblx0ICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuXHQgICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuXHQgICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuXHQgICAgICAgICAgcmVzdWx0ID0gW10sXG5cdCAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXHRcblx0ICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcblx0ICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuXHQgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG5cdCAgICAgIH1cblx0ICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcblx0ICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcblx0ICAgICAgICBpZiAoc2V0KSB7XG5cdCAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuXHQgICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG5cdCAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcblx0ICAgICAgfVxuXHQgICAgICBlbHNlIHtcblx0ICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgICBvdXRlcjpcblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG5cdCAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblx0XG5cdCAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG5cdCAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuXHQgICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuXHQgICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG5cdCAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG5cdCAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuXHQgICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG5cdCAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG5cdCAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG5cdCAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXHQgICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcblx0ICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG5cdCAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG5cdCAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG5cdCAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXHRcblx0ICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcblx0ICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXHRcblx0ICAgICAgcmV0dXJuIGlzRHJvcFxuXHQgICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG5cdCAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2Zcblx0ICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuXHQgICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG5cdCAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuXHQgICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuXHQgICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuXHQgICAgICB9LCByZXN1bHQpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3Jcblx0ICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuXHQgICAgICBpZiAobGVuZ3RoIDwgMikge1xuXHQgICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXHRcblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuXHQgICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXHRcblx0ICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG5cdCAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcblx0ICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzdWx0ID0ge307XG5cdFxuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG5cdCAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG5cdCAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcblx0ICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdCAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuXHQgICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG5cdCAgICAgKi9cblx0ICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcblx0ICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuXHQgICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcblx0ICAgICAgaWYgKGlzRGVlcCkge1xuXHQgICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcblx0ICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblx0XG5cdCAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuXHQgICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuXHQgICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuXHQgICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG5cdCAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG5cdCAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuXHQgICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcblx0ICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcblx0ICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuXHQgICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcblx0ICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG5cdCAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXHRcblx0ICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG5cdCAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuXHQgICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblx0XG5cdCAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcblx0ICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcblx0ICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG5cdCAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuXHQgICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcblx0ICAgICAgICAgIHJldHVybiAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuXHQgICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuXHQgICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcblx0ICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG5cdCAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuXHQgICAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuXHQgICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG5cdCAgICAgKlxuXHQgICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcblx0ICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcblx0ICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG5cdCAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuXHQgICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuXHQgICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblx0XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuXHQgICAgICAgIGlmIChyZXN1bHQpIHtcblx0ICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG5cdCAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcblx0ICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3Jcblx0ICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG5cdCAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICAgIC8vXG5cdCAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG5cdCAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcblx0ICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuXHQgICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuXHQgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG5cdCAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG5cdCAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG5cdCAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG5cdCAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG5cdCAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuXHQgICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXHRcblx0ICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuXHQgICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcblx0ICAgICAgfVxuXHQgICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcblx0ICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuXHQgICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuXHQgICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuXHQgICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG5cdCAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcblx0ICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcblx0ICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuXHQgICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuXHQgICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuXHQgICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG5cdCAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG5cdCAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcblx0ICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblx0XG5cdCAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG5cdCAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcblx0ICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG5cdCAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG5cdCAgICAgIH1cblx0ICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuXHQgICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG5cdCAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXHRcblx0ICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYXJyYXk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcblx0ICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcblx0ICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cdFxuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblx0XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblx0XG5cdCAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuXHQgICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcblx0ICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzTmV3KSB7XG5cdCAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG9iamVjdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcblx0ICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuXHQgICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcblx0ICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcblx0ICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG5cdCAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcblx0ICAgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG5cdCAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG5cdCAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcblx0ICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG5cdCAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG5cdCAgICAgICAgICBsZW5ndGggPSAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblx0ICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuXHQgICAgICAgICAgaWYgKHNvdXJjZSkge1xuXHQgICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gb2JqZWN0O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG5cdCAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuXHQgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcblx0ICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcblx0ICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcblx0ICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cdFxuXHQgICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG5cdCAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcblx0ICAgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcblx0ICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuXHQgICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cdFxuXHQgICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuXHQgICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG9iamVjdDtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG5cdCAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG5cdCAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG5cdCAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblx0XG5cdCAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG5cdCAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblx0ICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcblx0ICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXHRcblx0ICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuXHQgICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcblx0ICAgICAgICAgIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuXHQgICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG5cdCAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cdFxuXHQgICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcblx0ICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG5cdCAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcblx0ICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuXHQgICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuXHQgICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG5cdCAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0ICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG5cdCAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3Rvcjtcblx0ICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuXHQgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG5cdCAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcblx0ICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuXHQgICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG5cdCAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcblx0ICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcblx0ICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cdFxuXHQgICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuXHQgICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG5cdCAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblx0XG5cdCAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG5cdCAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuXHQgICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcblx0ICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cdFxuXHQgICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG5cdCAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG5cdCAgICAgICAgICA/IFtdXG5cdCAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblx0XG5cdCAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuXHQgICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuXHQgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG5cdCAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXHQgICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuXHQgICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblx0ICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG5cdCAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuXHQgICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG5cdCAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcblx0ICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuXHQgICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcblx0ICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuXHQgICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcblx0ICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblx0XG5cdCAgICAgICAgaWYgKGZyb21SaWdodCkge1xuXHQgICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuXHQgICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cdCAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuXHQgICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG5cdCAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cdFxuXHQgICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG5cdCAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuXHQgICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuXHQgICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuXHQgICAgICAgICAgICAgICkge1xuXHQgICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcblx0ICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcblx0ICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG5cdCAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXHRcblx0ICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuXHQgICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXHRcblx0ICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuXHQgICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG5cdCAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG5cdCAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG5cdCAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuXHQgICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuXHQgICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcblx0ICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcblx0ICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcblx0ICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXHRcblx0ICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcblx0ICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG5cdCAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXHRcblx0ICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuXHQgICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG5cdCAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG5cdCAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG5cdCAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG5cdCAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG5cdCAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuXHQgICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cdCAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcblx0ICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuXHQgICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuXHQgICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblx0XG5cdCAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG5cdCAgICAgICAgaWYgKGFyZ1Bvcykge1xuXHQgICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG5cdCAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuXHQgICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcblx0ICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gd3JhcHBlcjtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG5cdCAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuXHQgICAgICAgIHZhciByZXN1bHQ7XG5cdCAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvdGhlcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcblx0ICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuXHQgICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG5cdCAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcblx0ICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cdCAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcblx0ICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcblx0ICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuXHQgICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcblx0ICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblx0XG5cdCAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcblx0ICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuXHQgICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuXHQgICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcblx0ICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcblx0ICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuXHQgICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG5cdCAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcblx0ICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcblx0ICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXHRcblx0ICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcblx0ICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG5cdCAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcblx0ICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcblx0ICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcblx0ICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXHRcblx0ICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG5cdCAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG5cdCAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB3cmFwcGVyO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG5cdCAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcblx0ICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cblx0ICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcblx0ICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuXHQgICAgICAgICAgc3RhcnQgPSAwO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuXHQgICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcblx0ICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG5cdCAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG5cdCAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cblx0ICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuXHQgICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuXHQgICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG5cdCAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcblx0ICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuXHQgICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblx0XG5cdCAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcblx0ICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblx0XG5cdCAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG5cdCAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgbmV3RGF0YSA9IFtcblx0ICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcblx0ICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuXHQgICAgICBdO1xuXHRcblx0ICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG5cdCAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG5cdCAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuXHQgICAgICB9XG5cdCAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuXHQgICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcblx0ICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcblx0ICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuXHQgICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcblx0ICAgICAgICBpZiAocHJlY2lzaW9uKSB7XG5cdCAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cblx0ICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG5cdCAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblx0XG5cdCAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcblx0ICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG5cdCAgICAgKi9cblx0ICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG5cdCAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdCAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuXHQgICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG5cdCAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuXHQgICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG5cdCAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuXHQgICAgICogICAgMSAtIGBfLmJpbmRgXG5cdCAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcblx0ICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuXHQgICAgICogICAgOCAtIGBfLmN1cnJ5YFxuXHQgICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG5cdCAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcblx0ICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG5cdCAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG5cdCAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuXHQgICAgICogIDUxMiAtIGBfLmZsaXBgXG5cdCAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG5cdCAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuXHQgICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG5cdCAgICAgIGlmICghbGVuZ3RoKSB7XG5cdCAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuXHQgICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHQgICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG5cdCAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcblx0ICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cdFxuXHQgICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG5cdCAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcblx0ICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblx0XG5cdCAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblx0XG5cdCAgICAgIHZhciBuZXdEYXRhID0gW1xuXHQgICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG5cdCAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG5cdCAgICAgIF07XG5cdFxuXHQgICAgICBpZiAoZGF0YSkge1xuXHQgICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcblx0ICAgICAgfVxuXHQgICAgICBmdW5jID0gbmV3RGF0YVswXTtcblx0ICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG5cdCAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuXHQgICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG5cdCAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuXHQgICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcblx0ICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG5cdCAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cdFxuXHQgICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuXHQgICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG5cdCAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcblx0ICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuXHQgICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuXHQgICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuXHQgICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcblx0ICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG5cdCAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuXHQgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuXHQgICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG5cdCAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBvYmpWYWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG5cdCAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG5cdCAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcblx0ICAgICAqICBjb3VudGVycGFydHMuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcblx0ICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcblx0ICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cblx0ICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcblx0ICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcblx0ICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBvYmpWYWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG5cdCAgICAgKiBvYmplY3RzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuXHQgICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcblx0ICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcblx0ICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcblx0ICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblx0XG5cdCAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuXHQgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG5cdCAgICAgIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcblx0ICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG5cdCAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuXHQgICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblx0XG5cdCAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcblx0ICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG5cdCAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXHRcblx0ICAgICAgICBpZiAoY3VzdG9taXplcikge1xuXHQgICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG5cdCAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuXHQgICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuXHQgICAgICAgIGlmIChzZWVuKSB7XG5cdCAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuXHQgICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9KSkge1xuXHQgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmICghKFxuXHQgICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuXHQgICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG5cdCAgICAgICAgICAgICkpIHtcblx0ICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG5cdCAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG5cdCAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2Zcblx0ICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcblx0ICAgICAgc3dpdGNoICh0YWcpIHtcblx0ICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuXHQgICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuXHQgICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuXHQgICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cdFxuXHQgICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG5cdCAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG5cdCAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiB0cnVlO1xuXHRcblx0ICAgICAgICBjYXNlIGJvb2xUYWc6XG5cdCAgICAgICAgY2FzZSBkYXRlVGFnOlxuXHQgICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuXHQgICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cblx0ICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG5cdCAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblx0XG5cdCAgICAgICAgY2FzZSBlcnJvclRhZzpcblx0ICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cdFxuXHQgICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuXHQgICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuXHQgICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcblx0ICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcblx0ICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblx0XG5cdCAgICAgICAgY2FzZSBtYXBUYWc6XG5cdCAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cdFxuXHQgICAgICAgIGNhc2Ugc2V0VGFnOlxuXHQgICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcblx0ICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblx0XG5cdCAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cblx0ICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG5cdCAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblx0XG5cdCAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cblx0ICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcblx0ICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcblx0ICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuXHQgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0XG5cdCAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG5cdCAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuXHQgICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuXHQgICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcblx0ICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcblx0ICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuXHQgICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuXHQgICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcblx0ICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblx0XG5cdCAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuXHQgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG5cdCAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuXHQgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuXHQgICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG5cdCAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcblx0ICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXHRcblx0ICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuXHQgICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcblx0ICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcblx0ICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXHRcblx0ICAgICAgICBpZiAoY3VzdG9taXplcikge1xuXHQgICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG5cdCAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG5cdCAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cblx0ICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG5cdCAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcblx0ICAgICAgICAgICAgICA6IGNvbXBhcmVkXG5cdCAgICAgICAgICAgICkpIHtcblx0ICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuXHQgICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuXHQgICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cdFxuXHQgICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuXHQgICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcblx0ICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG5cdCAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuXHQgICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG5cdCAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG5cdCAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG5cdCAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcblx0ICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG5cdCAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG5cdCAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cblx0ICAgICAqL1xuXHQgICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG5cdCAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuXHQgICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcblx0ICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblx0XG5cdCAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcblx0ICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuXHQgICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuXHQgICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG5cdCAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuXHQgICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcblx0ICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG5cdCAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuXHQgICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG5cdCAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG5cdCAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG5cdCAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuXHQgICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcblx0ICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuXHQgICAgICAgIDogZGF0YS5tYXA7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG5cdCAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXHRcblx0ICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuXHQgICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXHRcblx0ICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuXHQgICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG5cdCAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcblx0ICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuXHQgICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXHRcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcblx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0XG5cdCAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcblx0ICAgICAgaWYgKHVubWFza2VkKSB7XG5cdCAgICAgICAgaWYgKGlzT3duKSB7XG5cdCAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG5cdCAgICAgKi9cblx0ICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcblx0ICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXHQgICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcblx0ICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuXHQgICAgICovXG5cdCAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgICAgICB3aGlsZSAob2JqZWN0KSB7XG5cdCAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcblx0ICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuXHQgICAgICovXG5cdCAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblx0XG5cdCAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG5cdCAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG5cdCAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuXHQgICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcblx0ICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG5cdCAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuXHQgICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcblx0ICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXHRcblx0ICAgICAgICBpZiAoY3RvclN0cmluZykge1xuXHQgICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG5cdCAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG5cdCAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcblx0ICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG5cdCAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcblx0ICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuXHQgICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cdFxuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG5cdCAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cdFxuXHQgICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG5cdCAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcblx0ICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcblx0ICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuXHQgICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG5cdCAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG5cdCAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXHRcblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcblx0ICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXHRcblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuXHQgICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG5cdCAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG5cdCAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cdFxuXHQgICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuXHQgICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuXHQgICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuXHQgICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG5cdCAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuXHQgICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcblx0ICAgICAgICA6IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG5cdCAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcblx0ICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG5cdCAgICAgIHN3aXRjaCAodGFnKSB7XG5cdCAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcblx0ICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cdFxuXHQgICAgICAgIGNhc2UgYm9vbFRhZzpcblx0ICAgICAgICBjYXNlIGRhdGVUYWc6XG5cdCAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cdFxuXHQgICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG5cdCAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cdFxuXHQgICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuXHQgICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcblx0ICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuXHQgICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cdFxuXHQgICAgICAgIGNhc2UgbWFwVGFnOlxuXHQgICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXHRcblx0ICAgICAgICBjYXNlIG51bWJlclRhZzpcblx0ICAgICAgICBjYXNlIHN0cmluZ1RhZzpcblx0ICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXHRcblx0ICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcblx0ICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXHRcblx0ICAgICAgICBjYXNlIHNldFRhZzpcblx0ICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcjtcblx0XG5cdCAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG5cdCAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG5cdCAgICAgIGlmICghbGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIHNvdXJjZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblx0ICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuXHQgICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcblx0ICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcblx0ICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuXHQgICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0ICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXHRcblx0ICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG5cdCAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcblx0ICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcblx0ICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuXHQgICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cblx0ICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcblx0ICAgICAqICBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG5cdCAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcblx0ICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcblx0ICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcblx0ICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG5cdCAgICAgICAgICApIHtcblx0ICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcblx0ICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXHQgICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG5cdCAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcblx0ICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcblx0ICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdCAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG5cdCAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuXHQgICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG5cdCAgICAgKiAgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcblx0ICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG5cdCAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG5cdCAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcblx0ICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuXHQgICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuXHQgICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cdFxuXHQgICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG5cdCAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuXHQgICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG5cdCAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuXHQgICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG5cdCAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG5cdCAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG5cdCAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4ga2V5O1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG5cdCAgICAgKlxuXHQgICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cblx0ICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG5cdCAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG5cdCAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuXHQgICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG5cdCAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuXHQgICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuXHQgICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG5cdCAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuXHQgICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuXHQgICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cdFxuXHQgICAgICB2YXIgaXNDb21ibyA9XG5cdCAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG5cdCAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG5cdCAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblx0XG5cdCAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuXHQgICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuXHQgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cblx0ICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuXHQgICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG5cdCAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cblx0ICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cblx0ICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuXHQgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuXHQgICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuXHQgICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuXHQgICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcblx0ICAgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuXHQgICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG5cdCAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuXHQgICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcblx0ICAgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuXHQgICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcblx0ICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG5cdCAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcblx0ICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cblx0ICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcblx0ICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cdFxuXHQgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuXHQgICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuXHQgICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuXHQgICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuXHQgICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuXHQgICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcblx0ICAgICAgICAgICAgaW5kZXggPSAtMSxcblx0ICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuXHQgICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cdFxuXHQgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpbmRleCA9IC0xO1xuXHQgICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuXHQgICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcblx0ICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG5cdCAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuXHQgICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcblx0ICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcblx0ICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG5cdCAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG5cdCAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG5cdCAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cdFxuXHQgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcblx0ICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG5cdCAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGFycmF5O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuXHQgICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gb2JqZWN0W2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG5cdCAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG5cdCAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcblx0ICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuXHQgICAgICogZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG5cdCAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cblx0ICAgICAqL1xuXHQgICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG5cdCAgICAgKi9cblx0ICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG5cdCAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG5cdCAgICAgKi9cblx0ICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuXHQgICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG5cdCAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuXHQgICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG5cdCAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcblx0ICAgICAqIG1pbGxpc2Vjb25kcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcblx0ICAgICAgdmFyIGNvdW50ID0gMCxcblx0ICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXHRcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuXHQgICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXHRcblx0ICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG5cdCAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcblx0ICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuXHQgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBjb3VudCA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcblx0ICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cdFxuXHQgICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG5cdCAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuXHQgICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXHRcblx0ICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcblx0ICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuXHQgICAgICByZXR1cm4gYXJyYXk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuXHQgICAgICovXG5cdCAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcblx0ICAgICAgICByZXN1bHQucHVzaCgnJyk7XG5cdCAgICAgIH1cblx0ICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuXHQgICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG5cdCAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuXHQgICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7fVxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gJyc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG5cdCAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcblx0ICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcblx0ICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcblx0ICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuXHQgICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcblx0ICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuXHQgICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuXHQgICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuXHQgICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcblx0ICAgICAqIGVsZW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcblx0ICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuXHQgICAgICpcblx0ICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuXHQgICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuXHQgICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcblx0ICAgICAgICBzaXplID0gMTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHQgICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaW5kZXggPSAwLFxuXHQgICAgICAgICAgcmVzSW5kZXggPSAwLFxuXHQgICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cdFxuXHQgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG5cdCAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMiwgM11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzSW5kZXggPSAwLFxuXHQgICAgICAgICAgcmVzdWx0ID0gW107XG5cdFxuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0ICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcblx0ICAgICAqIGFuZC9vciB2YWx1ZXMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG5cdCAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBhcnJheSA9IFsxXTtcblx0ICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcblx0ICAgICAqXG5cdCAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG5cdCAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcblx0ICAgICAqIC8vID0+IFsxXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgICBpZiAoIWxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuXHQgICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG5cdCAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblx0XG5cdCAgICAgIHdoaWxlIChpbmRleC0tKSB7XG5cdCAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcblx0ICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG5cdCAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuXHQgICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuXHQgICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiBbMV1cblx0ICAgICAqL1xuXHQgICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG5cdCAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcblx0ICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcblx0ICAgICAgICA6IFtdO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuXHQgICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cblx0ICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuXHQgICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuXHQgICAgICogKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG5cdCAgICAgKiAvLyA9PiBbMS4yXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG5cdCAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cblx0ICAgICAqL1xuXHQgICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcblx0ICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuXHQgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG5cdCAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuXHQgICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG5cdCAgICAgICAgOiBbXTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuXHQgICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcblx0ICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG5cdCAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuXHQgICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cblx0ICAgICAqL1xuXHQgICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuXHQgICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcblx0ICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG5cdCAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG5cdCAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcblx0ICAgICAgICA6IFtdO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuNS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcblx0ICAgICAqIC8vID0+IFsyLCAzXVxuXHQgICAgICpcblx0ICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuXHQgICAgICogLy8gPT4gWzNdXG5cdCAgICAgKlxuXHQgICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG5cdCAgICAgKiAvLyA9PiBbXVxuXHQgICAgICpcblx0ICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgaWYgKCFsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcblx0ICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cblx0ICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMl1cblx0ICAgICAqXG5cdCAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuXHQgICAgICogLy8gPT4gWzFdXG5cdCAgICAgKlxuXHQgICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcblx0ICAgICAqIC8vID0+IFtdXG5cdCAgICAgKlxuXHQgICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcblx0ICAgICAqIC8vID0+IFsxLCAyLCAzXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgaWYgKCFsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcblx0ICAgICAgbiA9IGxlbmd0aCAtIG47XG5cdCAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuXHQgICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcblx0ICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHVzZXJzID0gW1xuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cblx0ICAgICAqIF07XG5cdCAgICAgKlxuXHQgICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuXHQgICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcblx0ICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcblx0ICAgICAgICA6IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuXHQgICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcblx0ICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHVzZXJzID0gW1xuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cblx0ICAgICAqIF07XG5cdCAgICAgKlxuXHQgICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcblx0ICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG5cdCAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG5cdCAgICAgICAgOiBbXTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuXHQgICAgICogaW5jbHVkaW5nLCBgZW5kYC5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4yLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG5cdCAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG5cdCAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cblx0ICAgICAqXG5cdCAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuXHQgICAgICogLy8gPT4gWzIsIDIsIDJdXG5cdCAgICAgKlxuXHQgICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG5cdCAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdCAgICAgIGlmICghbGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcblx0ICAgICAgICBzdGFydCA9IDA7XG5cdCAgICAgICAgZW5kID0gbGVuZ3RoO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3Rcblx0ICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMS4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgdXNlcnMgPSBbXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcblx0ICAgICAqIC8vID0+IDBcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcblx0ICAgICAqIC8vID0+IDFcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuXHQgICAgICogLy8gPT4gMFxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcblx0ICAgICAqIC8vID0+IDJcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdCAgICAgIGlmICghbGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuXHQgICAgICBpZiAoaW5kZXggPCAwKSB7XG5cdCAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuXHQgICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDIuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IFtcblx0ICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG5cdCAgICAgKiBdO1xuXHQgICAgICpcblx0ICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG5cdCAgICAgKiAvLyA9PiAyXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcblx0ICAgICAqIC8vID0+IDBcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+IDJcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuXHQgICAgICogLy8gPT4gMFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdCAgICAgIGlmICghbGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG5cdCAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG5cdCAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG5cdCAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcblx0ICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHQgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjQuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG5cdCAgICAgKlxuXHQgICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuXHQgICAgICpcblx0ICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcblx0ICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHQgICAgICBpZiAoIWxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcblx0ICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcblx0ICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuXHQgICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuXHQgICAgICAgICAgcmVzdWx0ID0ge307XG5cdFxuXHQgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuXHQgICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAYWxpYXMgZmlyc3Rcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiAxXG5cdCAgICAgKlxuXHQgICAgICogXy5oZWFkKFtdKTtcblx0ICAgICAqIC8vID0+IHVuZGVmaW5lZFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG5cdCAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuXHQgICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuXHQgICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG5cdCAgICAgKiAvLyA9PiAxXG5cdCAgICAgKlxuXHQgICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuXHQgICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG5cdCAgICAgKiAvLyA9PiAzXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHQgICAgICBpZiAoIWxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiAtMTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcblx0ICAgICAgaWYgKGluZGV4IDwgMCkge1xuXHQgICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcblx0ICAgICAqIC8vID0+IFsxLCAyXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuXHQgICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcblx0ICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG5cdCAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcblx0ICAgICAqIC8vID0+IFsyXVxuXHQgICAgICovXG5cdCAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG5cdCAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXHQgICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG5cdCAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcblx0ICAgICAgICA6IFtdO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG5cdCAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG5cdCAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcblx0ICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcblx0ICAgICAqICh2YWx1ZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuXHQgICAgICogLy8gPT4gWzIuMV1cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG5cdCAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cblx0ICAgICAqL1xuXHQgICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG5cdCAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcblx0ICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cdFxuXHQgICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuXHQgICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIG1hcHBlZC5wb3AoKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG5cdCAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuXHQgICAgICAgIDogW107XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuXHQgICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcblx0ICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuXHQgICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcblx0ICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuXHQgICAgICpcblx0ICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG5cdCAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuXHQgICAgICovXG5cdCAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuXHQgICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcblx0ICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cdFxuXHQgICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG5cdCAgICAgIGlmIChjb21wYXJhdG9yKSB7XG5cdCAgICAgICAgbWFwcGVkLnBvcCgpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcblx0ICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG5cdCAgICAgICAgOiBbXTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcblx0ICAgICAqIC8vID0+ICdhfmJ+Yydcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG5cdCAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiAzXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHQgICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2Zcblx0ICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcblx0ICAgICAqIC8vID0+IDNcblx0ICAgICAqXG5cdCAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG5cdCAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG5cdCAgICAgKiAvLyA9PiAxXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgaWYgKCFsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuXHQgICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuXHQgICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuXHQgICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcblx0ICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG5cdCAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMTEuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLm50aChhcnJheSwgMSk7XG5cdCAgICAgKiAvLyA9PiAnYidcblx0ICAgICAqXG5cdCAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuXHQgICAgICogLy8gPT4gJ2MnO1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcblx0ICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcblx0ICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG5cdCAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuXHQgICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMi4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuXHQgICAgICpcblx0ICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuXHQgICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuXHQgICAgICogLy8gPT4gWydiJywgJ2InXVxuXHQgICAgICovXG5cdCAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG5cdCAgICAgKlxuXHQgICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcblx0ICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcblx0ICAgICAqIC8vID0+IFsnYicsICdiJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuXHQgICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcblx0ICAgICAgICA6IGFycmF5O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcblx0ICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG5cdCAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuXHQgICAgICpcblx0ICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG5cdCAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG5cdCAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuXHQgICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuXHQgICAgICAgIDogYXJyYXk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG5cdCAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcblx0ICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjYuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuXHQgICAgICpcblx0ICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuXHQgICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuXHQgICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuXHQgICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuXHQgICAgICAgIDogYXJyYXk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuXHQgICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcblx0ICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcblx0ICAgICAqXG5cdCAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG5cdCAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG5cdCAgICAgKlxuXHQgICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcblx0ICAgICAqIC8vID0+IFsnYicsICdkJ11cblx0ICAgICAqL1xuXHQgICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcblx0ICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cdFxuXHQgICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuXHQgICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG5cdCAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXHRcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG5cdCAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG5cdCAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcblx0ICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDIuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG5cdCAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuXHQgICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcblx0ICAgICAqIH0pO1xuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcblx0ICAgICAqIC8vID0+IFsxLCAzXVxuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcblx0ICAgICAqIC8vID0+IFsyLCA0XVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICAgICAgaW5kZXhlcyA9IFtdLFxuXHQgICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcblx0ICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcblx0ICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cdCAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuXHQgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuXHQgICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuXHQgICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG5cdCAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuXHQgICAgICpcblx0ICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG5cdCAgICAgKiAvLyA9PiBbMywgMiwgMV1cblx0ICAgICAqXG5cdCAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG5cdCAgICAgKiAvLyA9PiBbMywgMiwgMV1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuXHQgICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2Zcblx0ICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcblx0ICAgICAqIHJldHVybmVkLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgaWYgKCFsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuXHQgICAgICAgIHN0YXJ0ID0gMDtcblx0ICAgICAgICBlbmQgPSBsZW5ndGg7XG5cdCAgICAgIH1cblx0ICAgICAgZWxzZSB7XG5cdCAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG5cdCAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcblx0ICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG5cdCAgICAgKiAgaW50byBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG5cdCAgICAgKiAvLyA9PiAxXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcblx0ICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcblx0ICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG5cdCAgICAgKiAgaW50byBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcblx0ICAgICAqIC8vID0+IDBcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuXHQgICAgICogLy8gPT4gMFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcblx0ICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcblx0ICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG5cdCAgICAgKiAvLyA9PiAxXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgaWYgKGxlbmd0aCkge1xuXHQgICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuXHQgICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuXHQgICAgICAgICAgcmV0dXJuIGluZGV4O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gLTE7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG5cdCAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cblx0ICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuXHQgICAgICogIGludG8gYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcblx0ICAgICAqIC8vID0+IDRcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG5cdCAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG5cdCAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuXHQgICAgICogIGludG8gYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG5cdCAgICAgKlxuXHQgICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuXHQgICAgICogLy8gPT4gMVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuXHQgICAgICogLy8gPT4gMVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuXHQgICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG5cdCAgICAgKiAvLyA9PiAzXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cdCAgICAgIGlmIChsZW5ndGgpIHtcblx0ICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG5cdCAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gaW5kZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAtMTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG5cdCAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuXHQgICAgICogLy8gPT4gWzEsIDJdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcblx0ICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG5cdCAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcblx0ICAgICAgICA6IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuXHQgICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuXHQgICAgICogLy8gPT4gWzEuMSwgMi4zXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuXHQgICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcblx0ICAgICAgICA6IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuXHQgICAgICogLy8gPT4gWzIsIDNdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXHQgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuXHQgICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiBbMV1cblx0ICAgICAqXG5cdCAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcblx0ICAgICAqIC8vID0+IFsxLCAyXVxuXHQgICAgICpcblx0ICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKlxuXHQgICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG5cdCAgICAgKiAvLyA9PiBbXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuXHQgICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG5cdCAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cblx0ICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiBbM11cblx0ICAgICAqXG5cdCAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuXHQgICAgICogLy8gPT4gWzIsIDNdXG5cdCAgICAgKlxuXHQgICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcblx0ICAgICAqIC8vID0+IFsxLCAyLCAzXVxuXHQgICAgICpcblx0ICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG5cdCAgICAgKiAvLyA9PiBbXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblx0ICAgICAgaWYgKCFsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcblx0ICAgICAgbiA9IGxlbmd0aCAtIG47XG5cdCAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG5cdCAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcblx0ICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgdXNlcnMgPSBbXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcblx0ICAgICAqIC8vID0+IFtdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcblx0ICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG5cdCAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuXHQgICAgICAgIDogW107XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcblx0ICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcblx0ICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgdXNlcnMgPSBbXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcblx0ICAgICAqIC8vID0+IFtdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuXHQgICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuXHQgICAgICAgIDogW107XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcblx0ICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG5cdCAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuXHQgICAgICogLy8gPT4gWzIsIDFdXG5cdCAgICAgKi9cblx0ICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuXHQgICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcblx0ICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcblx0ICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuXHQgICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG5cdCAgICAgKiAodmFsdWUpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuXHQgICAgICogLy8gPT4gWzIuMSwgMS4yXVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuXHQgICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG5cdCAgICAgKi9cblx0ICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG5cdCAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcblx0ICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuXHQgICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcblx0ICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cblx0ICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG5cdCAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuXHQgICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG5cdCAgICAgKlxuXHQgICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuXHQgICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG5cdCAgICAgKi9cblx0ICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcblx0ICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG5cdCAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcblx0ICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcblx0ICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG5cdCAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG5cdCAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG5cdCAgICAgKiBpbiB0aGUgYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcblx0ICAgICAqIC8vID0+IFsyLCAxXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcblx0ICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcblx0ICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG5cdCAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG5cdCAgICAgKiAodmFsdWUpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcblx0ICAgICAqIC8vID0+IFsyLjEsIDEuMl1cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcblx0ICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG5cdCAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcblx0ICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcblx0ICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG5cdCAgICAgKlxuXHQgICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuXHQgICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuXHQgICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG5cdCAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG5cdCAgICAgKiBjb25maWd1cmF0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMS4yLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG5cdCAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cblx0ICAgICAqXG5cdCAgICAgKiBfLnVuemlwKHppcHBlZCk7XG5cdCAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuXHQgICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBsZW5ndGggPSAwO1xuXHQgICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuXHQgICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcblx0ICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG5cdCAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG5cdCAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG5cdCAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy44LjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuXHQgICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcblx0ICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cblx0ICAgICAqXG5cdCAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcblx0ICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcblx0ICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG5cdCAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG5cdCAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuXHQgICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuXHQgICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuXHQgICAgICogLy8gPT4gWzNdXG5cdCAgICAgKi9cblx0ICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuXHQgICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG5cdCAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuXHQgICAgICAgIDogW107XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuXHQgICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcblx0ICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG5cdCAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAyLjQuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG5cdCAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcblx0ICAgICAqIC8vID0+IFsxLCAzXVxuXHQgICAgICovXG5cdCAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG5cdCAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuXHQgICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuXHQgICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuXHQgICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcblx0ICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBBcnJheVxuXHQgICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuXHQgICAgICogLy8gPT4gWzEuMiwgMy40XVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcblx0ICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuXHQgICAgICovXG5cdCAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcblx0ICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuXHQgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG5cdCAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuXHQgICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuXHQgICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG5cdCAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuXHQgICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG5cdCAgICAgKlxuXHQgICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcblx0ICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cblx0ICAgICAqL1xuXHQgICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcblx0ICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG5cdCAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcblx0ICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuXHQgICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcblx0ICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuXHQgICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG5cdCAgICAgKi9cblx0ICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuXHQgICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjQuMFxuXHQgICAgICogQGNhdGVnb3J5IEFycmF5XG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuXHQgICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG5cdCAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG5cdCAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG5cdCAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG5cdCAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuXHQgICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuOC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuXHQgICAgICogIGdyb3VwZWQgdmFsdWVzLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcblx0ICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4gWzExMSwgMjIyXVxuXHQgICAgICovXG5cdCAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcblx0ICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG5cdCAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2Rcblx0ICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG5cdCAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDEuMy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU2VxXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IFtcblx0ICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG5cdCAgICAgKiBdO1xuXHQgICAgICpcblx0ICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cblx0ICAgICAqICAgLmNoYWluKHVzZXJzKVxuXHQgICAgICogICAuc29ydEJ5KCdhZ2UnKVxuXHQgICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcblx0ICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG5cdCAgICAgKiAgIH0pXG5cdCAgICAgKiAgIC5oZWFkKClcblx0ICAgICAqICAgLnZhbHVlKCk7XG5cdCAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcblx0ICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG5cdCAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuXHQgICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU2VxXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXyhbMSwgMiwgM10pXG5cdCAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuXHQgICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuXHQgICAgICogICAgYXJyYXkucG9wKCk7XG5cdCAgICAgKiAgfSlcblx0ICAgICAqICAucmV2ZXJzZSgpXG5cdCAgICAgKiAgLnZhbHVlKCk7XG5cdCAgICAgKiAvLyA9PiBbMiwgMV1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuXHQgICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG5cdCAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cblx0ICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcblx0ICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFNlcVxuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXygnICBhYmMgICcpXG5cdCAgICAgKiAgLmNoYWluKClcblx0ICAgICAqICAudHJpbSgpXG5cdCAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuXHQgICAgICogIH0pXG5cdCAgICAgKiAgLnZhbHVlKCk7XG5cdCAgICAgKiAvLyA9PiBbJ2FiYyddXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG5cdCAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAbmFtZSBhdFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAxLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFNlcVxuXHQgICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuXHQgICAgICpcblx0ICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcblx0ICAgICAqIC8vID0+IFszLCA0XVxuXHQgICAgICovXG5cdCAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcblx0ICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcblx0ICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuXHQgICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuXHQgICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblx0XG5cdCAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG5cdCAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuXHQgICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcblx0ICAgICAgICAnZnVuYyc6IHRocnUsXG5cdCAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuXHQgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG5cdCAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG5cdCAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBhcnJheTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuXHQgICAgICpcblx0ICAgICAqIEBuYW1lIGNoYWluXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU2VxXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHVzZXJzID0gW1xuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG5cdCAgICAgKiBdO1xuXHQgICAgICpcblx0ICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cblx0ICAgICAqIF8odXNlcnMpLmhlYWQoKTtcblx0ICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cblx0ICAgICAqXG5cdCAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG5cdCAgICAgKiBfKHVzZXJzKVxuXHQgICAgICogICAuY2hhaW4oKVxuXHQgICAgICogICAuaGVhZCgpXG5cdCAgICAgKiAgIC5waWNrKCd1c2VyJylcblx0ICAgICAqICAgLnZhbHVlKCk7XG5cdCAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG5cdCAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG5cdCAgICAgKlxuXHQgICAgICogQG5hbWUgY29tbWl0XG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMi4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU2VxXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuXHQgICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcblx0ICAgICAqIC8vID0+IFsxLCAyXVxuXHQgICAgICpcblx0ICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuXHQgICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKlxuXHQgICAgICogd3JhcHBlZC5sYXN0KCk7XG5cdCAgICAgKiAvLyA9PiAzXG5cdCAgICAgKlxuXHQgICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG5cdCAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG5cdCAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuXHQgICAgICpcblx0ICAgICAqIEBuYW1lIG5leHRcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTZXFcblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuXHQgICAgICpcblx0ICAgICAqIHdyYXBwZWQubmV4dCgpO1xuXHQgICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cblx0ICAgICAqXG5cdCAgICAgKiB3cmFwcGVkLm5leHQoKTtcblx0ICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG5cdCAgICAgKlxuXHQgICAgICogd3JhcHBlZC5uZXh0KCk7XG5cdCAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG5cdCAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG5cdCAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cdFxuXHQgICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuXHQgICAgICpcblx0ICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFNlcVxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuXHQgICAgICpcblx0ICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMl1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuXHQgICAgICpcblx0ICAgICAqIEBuYW1lIHBsYW50XG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMi4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU2VxXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuXHQgICAgICogICByZXR1cm4gbiAqIG47XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG5cdCAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG5cdCAgICAgKlxuXHQgICAgICogb3RoZXIudmFsdWUoKTtcblx0ICAgICAqIC8vID0+IFs5LCAxNl1cblx0ICAgICAqXG5cdCAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG5cdCAgICAgKiAvLyA9PiBbMSwgNF1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG5cdCAgICAgIHZhciByZXN1bHQsXG5cdCAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXHRcblx0ICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcblx0ICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcblx0ICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuXHQgICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuXHQgICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcblx0ICAgICAgfVxuXHQgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAbmFtZSByZXZlcnNlXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU2VxXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuXHQgICAgICpcblx0ICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG5cdCAgICAgKiAvLyA9PiBbMywgMiwgMV1cblx0ICAgICAqXG5cdCAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG5cdCAgICAgKiAvLyA9PiBbMywgMiwgMV1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG5cdCAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG5cdCAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcblx0ICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcblx0ICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcblx0ICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuXHQgICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuXHQgICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG5cdCAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG5cdCAgICAgKlxuXHQgICAgICogQG5hbWUgdmFsdWVcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2Zcblx0ICAgICAqIEBjYXRlZ29yeSBTZXFcblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcblx0ICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG5cdCAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2Zcblx0ICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG5cdCAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC41LjBcblx0ICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG5cdCAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuXHQgICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG5cdCAgICAgKi9cblx0ICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcblx0ICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG5cdCAgICAgICAgKytyZXN1bHRba2V5XTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG5cdCAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG5cdCAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuXHQgICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2Vcblx0ICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG5cdCAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuXHQgICAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHVzZXJzID0gW1xuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcblx0ICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcblx0ICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG5cdCAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcblx0ICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcblx0ICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG5cdCAgICAgKiBAc2VlIF8ucmVqZWN0XG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IFtcblx0ICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG5cdCAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcblx0ICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG5cdCAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG5cdCAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IFtcblx0ICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cblx0ICAgICAqIF07XG5cdCAgICAgKlxuXHQgICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcblx0ICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcblx0ICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG5cdCAgICAgKi9cblx0ICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG5cdCAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMi4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcblx0ICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqIC8vID0+IDNcblx0ICAgICAqL1xuXHQgICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuXHQgICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcblx0ICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuXHQgICAgICogICByZXR1cm4gW24sIG5dO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuXHQgICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuXHQgICAgICogbWFwcGVkIHJlc3VsdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjcuMFxuXHQgICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuXHQgICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcblx0ICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuXHQgICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcblx0ICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjcuMFxuXHQgICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG5cdCAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcblx0ICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuXHQgICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcblx0ICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cblx0ICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG5cdCAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcblx0ICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG5cdCAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBhbGlhcyBlYWNoXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cblx0ICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuXHQgICAgICogfSk7XG5cdCAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cblx0ICAgICAqXG5cdCAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cdCAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuXHQgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG5cdCAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMi4wLjBcblx0ICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcblx0ICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuXHQgICAgICogQHNlZSBfLmZvckVhY2hcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcblx0ICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuXHQgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG5cdCAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG5cdCAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcblx0ICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuXHQgICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuXHQgICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG5cdCAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cblx0ICAgICAqL1xuXHQgICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuXHQgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcblx0ICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG5cdCAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2Vcblx0ICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG5cdCAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuXHQgICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcblx0ICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcblx0ICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXHRcblx0ICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHQgICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuXHQgICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuXHQgICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG5cdCAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuXHQgICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG5cdCAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuXHQgICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuXHQgICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuXHQgICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuXHQgICAgICpcblx0ICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcblx0ICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cblx0ICAgICAqL1xuXHQgICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuXHQgICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblx0XG5cdCAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcblx0ICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuXHQgICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcblx0ICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbXG5cdCAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuXHQgICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG5cdCAgICAgKiBdO1xuXHQgICAgICpcblx0ICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcblx0ICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuXHQgICAgICpcblx0ICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcblx0ICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG5cdCAgICAgKi9cblx0ICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG5cdCAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuXHQgICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG5cdCAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG5cdCAgICAgKlxuXHQgICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG5cdCAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcblx0ICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG5cdCAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcblx0ICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcblx0ICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2Bcblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG5cdCAgICAgKiAgIHJldHVybiBuICogbjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG5cdCAgICAgKiAvLyA9PiBbMTYsIDY0XVxuXHQgICAgICpcblx0ICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcblx0ICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHVzZXJzID0gW1xuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG5cdCAgICAgKiBdO1xuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG5cdCAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcblx0ICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuXHQgICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcblx0ICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG5cdCAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG5cdCAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuXHQgICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHVzZXJzID0gW1xuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG5cdCAgICAgKiBdO1xuXHQgICAgICpcblx0ICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cblx0ICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG5cdCAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcblx0ICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG5cdCAgICAgIH1cblx0ICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG5cdCAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG5cdCAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG5cdCAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcblx0ICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuXHQgICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgdXNlcnMgPSBbXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG5cdCAgICAgKi9cblx0ICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuXHQgICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuXHQgICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuXHQgICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuXHQgICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuXHQgICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuXHQgICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG5cdCAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuXHQgICAgICpcblx0ICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuXHQgICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcblx0ICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuXHQgICAgICogYW5kIGBzb3J0QnlgXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuXHQgICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG5cdCAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuXHQgICAgICogfSwgMCk7XG5cdCAgICAgKiAvLyA9PiAzXG5cdCAgICAgKlxuXHQgICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuXHQgICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuXHQgICAgICogICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICogfSwge30pO1xuXHQgICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG5cdCAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcblx0ICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXHRcblx0ICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuXHQgICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG5cdCAgICAgKiBAc2VlIF8ucmVkdWNlXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG5cdCAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcblx0ICAgICAqIH0sIFtdKTtcblx0ICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcblx0ICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG5cdCAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblx0XG5cdCAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG5cdCAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG5cdCAgICAgKiBAc2VlIF8uZmlsdGVyXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IFtcblx0ICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuXHQgICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG5cdCAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcblx0ICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDIuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuXHQgICAgICogLy8gPT4gMlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuXHQgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG5cdCAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuXHQgICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cblx0ICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG5cdCAgICAgKiAvLyA9PiBbMywgMV1cblx0ICAgICAqXG5cdCAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcblx0ICAgICAqIC8vID0+IFsyLCAzLCAxXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG5cdCAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgbiA9IDE7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcblx0ICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuXHQgICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG5cdCAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG5cdCAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuXHQgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG5cdCAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuXHQgICAgICogLy8gPT4gM1xuXHQgICAgICpcblx0ICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuXHQgICAgICogLy8gPT4gMlxuXHQgICAgICpcblx0ICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuXHQgICAgICogLy8gPT4gN1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcblx0ICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiAwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuXHQgICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuXHQgICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuXHQgICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuXHQgICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuXHQgICAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgdXNlcnMgPSBbXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcblx0ICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG5cdCAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuXHQgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcblx0ICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG5cdCAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuXHQgICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG5cdCAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuXHQgICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuXHQgICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIHVzZXJzID0gW1xuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG5cdCAgICAgKiBdO1xuXHQgICAgICpcblx0ICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG5cdCAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cblx0ICAgICAqXG5cdCAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcblx0ICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXSwgWydmcmVkJywgNDhdXVxuXHQgICAgICovXG5cdCAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG5cdCAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG5cdCAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuXHQgICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuXHQgICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcblx0ICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG5cdCAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDIuNC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG5cdCAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG5cdCAgICAgKiB9LCBfLm5vdygpKTtcblx0ICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG5cdCAgICAgKi9cblx0ICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG5cdCAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcblx0ICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuXHQgICAgICogfSk7XG5cdCAgICAgKlxuXHQgICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG5cdCAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuXHQgICAgICB9XG5cdCAgICAgIG4gPSB0b0ludGVnZXIobik7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAoLS1uIDwgMSkge1xuXHQgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuXHQgICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuXHQgICAgICogLy8gPT4gWzYsIDgsIDEwXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcblx0ICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcblx0ICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG5cdCAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuXHQgICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcblx0ICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG5cdCAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG5cdCAgICAgIHZhciByZXN1bHQ7XG5cdCAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuXHQgICAgICB9XG5cdCAgICAgIG4gPSB0b0ludGVnZXIobik7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAoLS1uID4gMCkge1xuXHQgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobiA8PSAxKSB7XG5cdCAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG5cdCAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcblx0ICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG5cdCAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuXHQgICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG5cdCAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcblx0ICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG5cdCAgICAgKiBib3VuZCgnIScpO1xuXHQgICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuXHQgICAgICpcblx0ICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuXHQgICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG5cdCAgICAgKiBib3VuZCgnaGknKTtcblx0ICAgICAqIC8vID0+ICdoaSBmcmVkISdcblx0ICAgICAqL1xuXHQgICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuXHQgICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuXHQgICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcblx0ICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG5cdCAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cblx0ICAgICAqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuXHQgICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcblx0ICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG5cdCAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICpcblx0ICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcblx0ICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuXHQgICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHtcblx0ICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG5cdCAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuXHQgICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuXHQgICAgICogICB9XG5cdCAgICAgKiB9O1xuXHQgICAgICpcblx0ICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuXHQgICAgICogYm91bmQoJyEnKTtcblx0ICAgICAqIC8vID0+ICdoaSBmcmVkISdcblx0ICAgICAqXG5cdCAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcblx0ICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcblx0ICAgICAqIH07XG5cdCAgICAgKlxuXHQgICAgICogYm91bmQoJyEnKTtcblx0ICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuXHQgICAgICpcblx0ICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuXHQgICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcblx0ICAgICAqIGJvdW5kKCdoaScpO1xuXHQgICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG5cdCAgICAgKi9cblx0ICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG5cdCAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG5cdCAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcblx0ICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuXHQgICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuXHQgICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuXHQgICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuXHQgICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG5cdCAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG5cdCAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMi4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuXHQgICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG5cdCAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG5cdCAgICAgKiB9O1xuXHQgICAgICpcblx0ICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuXHQgICAgICpcblx0ICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMiwgM11cblx0ICAgICAqXG5cdCAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKlxuXHQgICAgICogY3VycmllZCgxLCAyLCAzKTtcblx0ICAgICAqIC8vID0+IFsxLCAyLCAzXVxuXHQgICAgICpcblx0ICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG5cdCAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuXHQgICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG5cdCAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcblx0ICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG5cdCAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG5cdCAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcblx0ICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcblx0ICAgICAqIH07XG5cdCAgICAgKlxuXHQgICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcblx0ICAgICAqXG5cdCAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuXHQgICAgICogLy8gPT4gWzEsIDIsIDNdXG5cdCAgICAgKlxuXHQgICAgICogY3VycmllZCgyLCAzKSgxKTtcblx0ICAgICAqIC8vID0+IFsxLCAyLCAzXVxuXHQgICAgICpcblx0ICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMiwgM11cblx0ICAgICAqXG5cdCAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuXHQgICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcblx0ICAgICAqIC8vID0+IFsxLCAyLCAzXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuXHQgICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG5cdCAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcblx0ICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuXHQgICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG5cdCAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG5cdCAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cblx0ICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuXHQgICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuXHQgICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuXHQgICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2Bcblx0ICAgICAqIGludm9jYXRpb24uXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuXHQgICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cblx0ICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cblx0ICAgICAqXG5cdCAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcblx0ICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cblx0ICAgICAqXG5cdCAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcblx0ICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuXHQgICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuXHQgICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuXHQgICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG5cdCAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuXHQgICAgICpcblx0ICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuXHQgICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuXHQgICAgICogICAnbGVhZGluZyc6IHRydWUsXG5cdCAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG5cdCAgICAgKiB9KSk7XG5cdCAgICAgKlxuXHQgICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cblx0ICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuXHQgICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuXHQgICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuXHQgICAgICpcblx0ICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG5cdCAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuXHQgICAgICB2YXIgbGFzdEFyZ3MsXG5cdCAgICAgICAgICBsYXN0VGhpcyxcblx0ICAgICAgICAgIG1heFdhaXQsXG5cdCAgICAgICAgICByZXN1bHQsXG5cdCAgICAgICAgICB0aW1lcklkLFxuXHQgICAgICAgICAgbGFzdENhbGxUaW1lLFxuXHQgICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuXHQgICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuXHQgICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG5cdCAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcblx0ICAgICAgfVxuXHQgICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcblx0ICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG5cdCAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuXHQgICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuXHQgICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG5cdCAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG5cdCAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcblx0ICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXHRcblx0ICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcblx0ICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcblx0ICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuXHQgICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcblx0ICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuXHQgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG5cdCAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG5cdCAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcblx0ICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuXHQgICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuXHQgICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblx0XG5cdCAgICAgICAgcmV0dXJuIG1heGluZ1xuXHQgICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuXHQgICAgICAgICAgOiB0aW1lV2FpdGluZztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcblx0ICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuXHQgICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXHRcblx0ICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuXHQgICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG5cdCAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuXHQgICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG5cdCAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG5cdCAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcblx0ICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cblx0ICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuXHQgICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cblx0ICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cblx0ICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcblx0ICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcblx0ICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG5cdCAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcblx0ICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuXHQgICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXHRcblx0ICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcblx0ICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG5cdCAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblx0XG5cdCAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcblx0ICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAobWF4aW5nKSB7XG5cdCAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG5cdCAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG5cdCAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgIH1cblx0ICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcblx0ICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG5cdCAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcblx0ICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cblx0ICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuXHQgICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcblx0ICAgICAqIH0sICdkZWZlcnJlZCcpO1xuXHQgICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cblx0ICAgICAqL1xuXHQgICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuXHQgICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG5cdCAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG5cdCAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcblx0ICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG5cdCAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcblx0ICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuXHQgICAgICovXG5cdCAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG5cdCAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG5cdCAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcblx0ICAgICAqIH0pO1xuXHQgICAgICpcblx0ICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcblx0ICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuXHQgICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuXHQgICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuXHQgICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG5cdCAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuXHQgICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuXHQgICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG5cdCAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuXHQgICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcblx0ICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG5cdCAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG5cdCAgICAgKlxuXHQgICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG5cdCAgICAgKiB2YWx1ZXMob2JqZWN0KTtcblx0ICAgICAqIC8vID0+IFsxLCAyXVxuXHQgICAgICpcblx0ICAgICAqIHZhbHVlcyhvdGhlcik7XG5cdCAgICAgKiAvLyA9PiBbMywgNF1cblx0ICAgICAqXG5cdCAgICAgKiBvYmplY3QuYSA9IDI7XG5cdCAgICAgKiB2YWx1ZXMob2JqZWN0KTtcblx0ICAgICAqIC8vID0+IFsxLCAyXVxuXHQgICAgICpcblx0ICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuXHQgICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuXHQgICAgICogdmFsdWVzKG9iamVjdCk7XG5cdCAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG5cdCAgICAgKlxuXHQgICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cblx0ICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuXHQgICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcblx0ICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblx0XG5cdCAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG5cdCAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9O1xuXHQgICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG5cdCAgICAgIHJldHVybiBtZW1vaXplZDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cblx0ICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG5cdCAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcblx0ICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuXHQgICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuXHQgICAgICogLy8gPT4gWzEsIDMsIDVdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdCAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuXHQgICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuXHQgICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXHQgICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuXHQgICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcblx0ICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuXHQgICAgICogaW5pdGlhbGl6ZSgpO1xuXHQgICAgICogaW5pdGlhbGl6ZSgpO1xuXHQgICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG5cdCAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuXHQgICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cblx0ICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcblx0ICAgICAqICAgcmV0dXJuIG4gKiAyO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG5cdCAgICAgKiAgIHJldHVybiBuICogbjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuXHQgICAgICogICByZXR1cm4gW3gsIHldO1xuXHQgICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuXHQgICAgICpcblx0ICAgICAqIGZ1bmMoOSwgMyk7XG5cdCAgICAgKiAvLyA9PiBbODEsIDZdXG5cdCAgICAgKlxuXHQgICAgICogZnVuYygxMCwgNSk7XG5cdCAgICAgKiAvLyA9PiBbMTAwLCAxMF1cblx0ICAgICAqL1xuXHQgICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuXHQgICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcblx0ICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcblx0ICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXHRcblx0ICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cdCAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXHRcblx0ICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcblx0ICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG5cdCAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG5cdCAgICAgKlxuXHQgICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuXHQgICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuXHQgICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjIuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuXHQgICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcblx0ICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG5cdCAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG5cdCAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcblx0ICAgICAqXG5cdCAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cblx0ICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG5cdCAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG5cdCAgICAgKiAvLyA9PiAnaGkgZnJlZCdcblx0ICAgICAqL1xuXHQgICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuXHQgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuXHQgICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG5cdCAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcblx0ICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcblx0ICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMS4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cblx0ICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG5cdCAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuXHQgICAgICogZ3JlZXRGcmVkKCdoaScpO1xuXHQgICAgICogLy8gPT4gJ2hpIGZyZWQnXG5cdCAgICAgKlxuXHQgICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG5cdCAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcblx0ICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcblx0ICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuXHQgICAgICovXG5cdCAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcblx0ICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuXHQgICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuXHQgICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuXHQgICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuXHQgICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG5cdCAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG5cdCAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG5cdCAgICAgKiB9LCBbMiwgMCwgMV0pO1xuXHQgICAgICpcblx0ICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcblx0ICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuXHQgICAgICovXG5cdCAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG5cdCAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuXHQgICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG5cdCAgICAgKiBhbiBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG5cdCAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcblx0ICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuXHQgICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqXG5cdCAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcblx0ICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuXHQgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcblx0ICAgICAgfVxuXHQgICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG5cdCAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcblx0ICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuXHQgICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcblx0ICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjIuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcblx0ICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcblx0ICAgICAqIH0pO1xuXHQgICAgICpcblx0ICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG5cdCAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuXHQgICAgICpcblx0ICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuXHQgICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuXHQgICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG5cdCAgICAgKiBdKTtcblx0ICAgICAqXG5cdCAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuXHQgICAgICogICByZXR1cm4geCArIHk7XG5cdCAgICAgKiB9KSk7XG5cdCAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG5cdCAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuXHQgICAgICB9XG5cdCAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG5cdCAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG5cdCAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG5cdCAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cdFxuXHQgICAgICAgIGlmIChhcnJheSkge1xuXHQgICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG5cdCAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuXHQgICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuXHQgICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG5cdCAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG5cdCAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG5cdCAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG5cdCAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuXHQgICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cblx0ICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cblx0ICAgICAqXG5cdCAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcblx0ICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cblx0ICAgICAqXG5cdCAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcblx0ICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG5cdCAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuXHQgICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG5cdCAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG5cdCAgICAgKlxuXHQgICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG5cdCAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG5cdCAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcblx0ICAgICAqXG5cdCAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuXHQgICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcblx0ICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuXHQgICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG5cdCAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuXHQgICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcblx0ICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG5cdCAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuXHQgICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuXHQgICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuXHQgICAgICogLy8gPT4gWzYsIDgsIDEwXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG5cdCAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3Rcblx0ICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuXHQgICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2Bcblx0ICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG5cdCAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqXG5cdCAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuXHQgICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcblx0ICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjQuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uY2FzdEFycmF5KDEpO1xuXHQgICAgICogLy8gPT4gWzFdXG5cdCAgICAgKlxuXHQgICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG5cdCAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cblx0ICAgICAqXG5cdCAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG5cdCAgICAgKiAvLyA9PiBbJ2FiYyddXG5cdCAgICAgKlxuXHQgICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG5cdCAgICAgKiAvLyA9PiBbbnVsbF1cblx0ICAgICAqXG5cdCAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuXHQgICAgICogLy8gPT4gW3VuZGVmaW5lZF1cblx0ICAgICAqXG5cdCAgICAgKiBfLmNhc3RBcnJheSgpO1xuXHQgICAgICogLy8gPT4gW11cblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG5cdCAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuXHQgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuXHQgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuXHQgICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcblx0ICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcblx0ICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuXHQgICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcblx0ICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcblx0ICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cblx0ICAgICAqIEBzZWUgXy5jbG9uZURlZXBcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG5cdCAgICAgKlxuXHQgICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuXHQgICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuXHQgICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuXHQgICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcblx0ICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG5cdCAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG5cdCAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcblx0ICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcblx0ICAgICAqICAgfVxuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG5cdCAgICAgKiAvLyA9PiAnQk9EWSdcblx0ICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcblx0ICAgICAqIC8vID0+IDBcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG5cdCAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcblx0ICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMS4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cblx0ICAgICAqIEBzZWUgXy5jbG9uZVxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuXHQgICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuXHQgICAgICogQHNlZSBfLmNsb25lV2l0aFxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG5cdCAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcblx0ICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuXHQgICAgICogICB9XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG5cdCAgICAgKiAvLyA9PiAnQk9EWSdcblx0ICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcblx0ICAgICAqIC8vID0+IDIwXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcblx0ICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuXHQgICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcblx0ICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcblx0ICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4xNC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcblx0ICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUGVyZm9ybXMgYVxuXHQgICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcblx0ICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuXHQgICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqXG5cdCAgICAgKiBfLmVxKCdhJywgJ2EnKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqXG5cdCAgICAgKiBfLmVxKE5hTiwgTmFOKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjkuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG5cdCAgICAgKiAgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQHNlZSBfLmx0XG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZ3QoMywgMSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5ndCgzLCAzKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5ndCgxLCAzKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy45LjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuXHQgICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBzZWUgXy5sdGVcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5ndGUoMywgMSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5ndGUoMywgMyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5ndGUoMSwgMyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcblx0ICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcblx0ICAgICAqICBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG5cdCAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5KCdhYmMnKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4zLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG5cdCAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG5cdCAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG5cdCAgICAgKiBpcyBhbiBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG5cdCAgICAgKiAgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcblx0ICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4zLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG5cdCAgICAgKlxuXHQgICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG5cdCAgICAgKiBwcm9wZXJ0aWVzLlxuXHQgICAgICpcblx0ICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuXHQgICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuXHQgICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0VtcHR5KG51bGwpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzRW1wdHkoMSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcblx0ICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG5cdCAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuXHQgICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG5cdCAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG5cdCAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcblx0ICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuXHQgICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcblx0ICAgICAqIGVxdWl2YWxlbnQuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuXHQgICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuXHQgICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcblx0ICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuXHQgICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcblx0ICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuXHQgICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcblx0ICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuXHQgICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuXHQgICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG5cdCAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcblx0ICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG5cdCAgICAgKiAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgKiAgIH1cblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcblx0ICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuXHQgICAgICpcblx0ICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG5cdCAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcblx0ICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG5cdCAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcblx0ICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0Vycm9yKEVycm9yKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcblx0ICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcblx0ICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG5cdCAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuXHQgICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzRmluaXRlKDMpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuXHQgICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cblx0ICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuXHQgICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cblx0ICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0ludGVnZXIoMyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0ludGVnZXIoJzMnKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG5cdCAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNMZW5ndGgoMyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcblx0ICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcblx0ICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcblx0ICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc09iamVjdCh7fSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcblx0ICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdCAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcblx0ICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4zLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cblx0ICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG5cdCAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cblx0ICAgICAqXG5cdCAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuXHQgICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcblx0ICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuXHQgICAgICpcblx0ICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcblx0ICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuXHQgICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG5cdCAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcblx0ICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuXHQgICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcblx0ICAgICAqICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAqICAgfVxuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcblx0ICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcblx0ICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuXHQgICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuXHQgICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcblx0ICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuXHQgICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNOYU4oTmFOKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogaXNOYU4odW5kZWZpbmVkKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuXHQgICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuXHQgICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcblx0ICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuXHQgICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2Vcblx0ICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG5cdCAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcblx0ICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuXHQgICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcblx0ICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuXHQgICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuXHQgICAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc05hdGl2ZShfKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG5cdCAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzTnVsbChudWxsKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNOaWwobnVsbCk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc05pbCh2b2lkIDApO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNOaWwoTmFOKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG5cdCAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzTnVtYmVyKDMpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc051bWJlcignMycpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuXHQgICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdCAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjguMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gRm9vKCkge1xuXHQgICAgICogICB0aGlzLmEgPSAxO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuXHQgICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG5cdCAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG5cdCAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG5cdCAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG5cdCAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cblx0ICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4zLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNTdHJpbmcoMSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG5cdCAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG5cdCAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjMuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjMuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy45LjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuXHQgICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuXHQgICAgICogIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBzZWUgXy5ndFxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmx0KDEsIDMpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8ubHQoMywgMyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8ubHQoMywgMSk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuOS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cblx0ICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cblx0ICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAc2VlIF8uZ3RlXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ubHRlKDEsIDMpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8ubHRlKDMsIDMpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8ubHRlKDMsIDEpO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcblx0ICAgICAqIC8vID0+IFsxLCAyXVxuXHQgICAgICpcblx0ICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG5cdCAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cblx0ICAgICAqXG5cdCAgICAgKiBfLnRvQXJyYXkoMSk7XG5cdCAgICAgKiAvLyA9PiBbXVxuXHQgICAgICpcblx0ICAgICAqIF8udG9BcnJheShudWxsKTtcblx0ICAgICAqIC8vID0+IFtdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcblx0ICAgICAgaWYgKCF2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG5cdCAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXHRcblx0ICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjEyLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy50b0Zpbml0ZSgzLjIpO1xuXHQgICAgICogLy8gPT4gMy4yXG5cdCAgICAgKlxuXHQgICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcblx0ICAgICAqIC8vID0+IDVlLTMyNFxuXHQgICAgICpcblx0ICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuXHQgICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcblx0ICAgICAqIC8vID0+IDMuMlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuXHQgICAgICBpZiAoIXZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuXHQgICAgICB9XG5cdCAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuXHQgICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcblx0ICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuXHQgICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuXHQgICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuXHQgICAgICogLy8gPT4gM1xuXHQgICAgICpcblx0ICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuXHQgICAgICogLy8gPT4gMFxuXHQgICAgICpcblx0ICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcblx0ICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG5cdCAgICAgKlxuXHQgICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuXHQgICAgICogLy8gPT4gM1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcblx0ICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cdFxuXHQgICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG5cdCAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cblx0ICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy50b0xlbmd0aCgzLjIpO1xuXHQgICAgICogLy8gPT4gM1xuXHQgICAgICpcblx0ICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG5cdCAgICAgKiAvLyA9PiAwXG5cdCAgICAgKlxuXHQgICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG5cdCAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG5cdCAgICAgKlxuXHQgICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG5cdCAgICAgKiAvLyA9PiAzXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBMYW5nXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG5cdCAgICAgKiAvLyA9PiAzLjJcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuXHQgICAgICogLy8gPT4gNWUtMzI0XG5cdCAgICAgKlxuXHQgICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG5cdCAgICAgKiAvLyA9PiBJbmZpbml0eVxuXHQgICAgICpcblx0ICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuXHQgICAgICogLy8gPT4gMy4yXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuXHQgICAgICAgIHJldHVybiBOQU47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuXHQgICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcblx0ICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG5cdCAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG5cdCAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuXHQgICAgICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuXHQgICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuXHQgICAgICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IExhbmdcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAgICAgKiAgIHRoaXMuYiA9IDI7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcblx0ICAgICAqXG5cdCAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcblx0ICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuXHQgICAgICpcblx0ICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG5cdCAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzYWZlIGludGVnZXIuIEEgc2FmZSBpbnRlZ2VyIGNhbiBiZSBjb21wYXJlZCBhbmRcblx0ICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcblx0ICAgICAqIC8vID0+IDNcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG5cdCAgICAgKiAvLyA9PiAwXG5cdCAgICAgKlxuXHQgICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcblx0ICAgICAqIC8vID0+IDkwMDcxOTkyNTQ3NDA5OTFcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuXHQgICAgICogLy8gPT4gM1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZVxuXHQgICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuXHQgICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG5cdCAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG5cdCAgICAgKiAvLyA9PiAnJ1xuXHQgICAgICpcblx0ICAgICAqIF8udG9TdHJpbmcoLTApO1xuXHQgICAgICogLy8gPT4gJy0wJ1xuXHQgICAgICpcblx0ICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcblx0ICAgICAqIC8vID0+ICcxLDIsMydcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcblx0ICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuXHQgICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG5cdCAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuMTAuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQHNlZSBfLmFzc2lnbkluXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gMTtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG5cdCAgICAgKiAgIHRoaXMuYyA9IDM7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcblx0ICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG5cdCAgICAgKlxuXHQgICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG5cdCAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cblx0ICAgICAqL1xuXHQgICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG5cdCAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcblx0ICAgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdCAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG5cdCAgICAgKiBpbmhlcml0ZWQgc291cmNlIHByb3BlcnRpZXMuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGFsaWFzIGV4dGVuZFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQHNlZSBfLmFzc2lnblxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAgICAgKiAgIHRoaXMuYSA9IDE7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gQmFyKCkge1xuXHQgICAgICogICB0aGlzLmMgPSAzO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG5cdCAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuXHQgICAgICpcblx0ICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG5cdCAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMsICdkJzogNCB9XG5cdCAgICAgKi9cblx0ICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG5cdCAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcblx0ICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuXHQgICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcblx0ICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGFsaWFzIGV4dGVuZFdpdGhcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cblx0ICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuXHQgICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcblx0ICAgICAqXG5cdCAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcblx0ICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuXHQgICAgICovXG5cdCAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG5cdCAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG5cdCAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcblx0ICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG5cdCAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cblx0ICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG5cdCAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcblx0ICAgICAqXG5cdCAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcblx0ICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuXHQgICAgICovXG5cdCAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuXHQgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGBwYXRoc2Agb2YgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAxLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcblx0ICAgICAqIC8vID0+IFszLCA0XVxuXHQgICAgICovXG5cdCAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcblx0ICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuXHQgICAgICogYXJlIGFzc2lnbmVkIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDIuMy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuXHQgICAgICogICB0aGlzLnggPSAwO1xuXHQgICAgICogICB0aGlzLnkgPSAwO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcblx0ICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG5cdCAgICAgKiAgICdjb25zdHJ1Y3Rvcic6IENpcmNsZVxuXHQgICAgICogfSk7XG5cdCAgICAgKlxuXHQgICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG5cdCAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcblx0ICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPT0gbnVsbCA/IHJlc3VsdCA6IGJhc2VBc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Vcblx0ICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuXHQgICAgICogcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuXHQgICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQHNlZSBfLmRlZmF1bHRzRGVlcFxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuXHQgICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG5cdCAgICAgKi9cblx0ICAgIHZhciBkZWZhdWx0cyA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuXHQgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblx0XG5cdCAgICAgIHZhciBpbmRleCA9IC0xO1xuXHQgICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG5cdCAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuXHQgICAgICAgIGxlbmd0aCA9IDE7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuXHQgICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuXHQgICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG5cdCAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXHRcblx0ICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcblx0ICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcblx0ICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXHRcblx0ICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG5cdCAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG5cdCAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gb2JqZWN0O1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG5cdCAgICAgKiBkZWZhdWx0IHByb3BlcnRpZXMuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjEwLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cblx0ICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuXHQgICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiAyLCAnYyc6IDMgfSB9XG5cdCAgICAgKi9cblx0ICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG5cdCAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UpO1xuXHQgICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3Rcblx0ICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMS4xLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuXHQgICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IHtcblx0ICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcblx0ICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG5cdCAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cblx0ICAgICAqIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5maW5kS2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcblx0ICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG5cdCAgICAgKiAvLyA9PiAncGViYmxlcydcblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcblx0ICAgICAqIC8vID0+ICdmcmVkJ1xuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maW5kS2V5KHVzZXJzLCAnYWN0aXZlJyk7XG5cdCAgICAgKiAvLyA9PiAnYmFybmV5J1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG5cdCAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG5cdCAgICAgKiBhIGNvbGxlY3Rpb24gaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMi4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuXHQgICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IHtcblx0ICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcblx0ICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG5cdCAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cblx0ICAgICAqIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5maW5kTGFzdEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG5cdCAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcblx0ICAgICAqIC8vID0+ICdiYXJuZXknXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuXHQgICAgICogLy8gPT4gJ2ZyZWQnXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCAnYWN0aXZlJyk7XG5cdCAgICAgKiAvLyA9PiAncGViYmxlcydcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcblx0ICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuXHQgICAgICogb2JqZWN0IGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG5cdCAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuXHQgICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjMuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gMTtcblx0ICAgICAqICAgdGhpcy5iID0gMjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuXHQgICAgICpcblx0ICAgICAqIF8uZm9ySW4obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXHQgICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuXHQgICAgICogfSk7XG5cdCAgICAgKiAvLyA9PiBMb2dzICdhJywgJ2InLCB0aGVuICdjJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcblx0ICAgICAgICA/IG9iamVjdFxuXHQgICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuXHQgICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMi4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKiBAc2VlIF8uZm9ySW5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gRm9vKCkge1xuXHQgICAgICogICB0aGlzLmEgPSAxO1xuXHQgICAgICogICB0aGlzLmIgPSAyO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG5cdCAgICAgKlxuXHQgICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcblx0ICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcblx0ICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG5cdCAgICAgICAgPyBvYmplY3Rcblx0ICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuXHQgICAgICogaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG5cdCAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG5cdCAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC4zLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gRm9vKCkge1xuXHQgICAgICogICB0aGlzLmEgPSAxO1xuXHQgICAgICogICB0aGlzLmIgPSAyO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG5cdCAgICAgKlxuXHQgICAgICogXy5mb3JPd24obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXHQgICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuXHQgICAgICogfSk7XG5cdCAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcblx0ICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2Zcblx0ICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDIuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQHNlZSBfLmZvck93blxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAgICAgKiAgIHRoaXMuYSA9IDE7XG5cdCAgICAgKiAgIHRoaXMuYiA9IDI7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcblx0ICAgICAqXG5cdCAgICAgKiBfLmZvck93blJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcblx0ICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4gTG9ncyAnYicgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICdhJyB0aGVuICdiJy5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuXHQgICAgICogb2YgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuXHQgICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuXHQgICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuXHQgICAgICpcblx0ICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuXHQgICAgICogLy8gPT4gWydhJywgJ2InXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcblx0ICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG5cdCAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuXHQgICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuXHQgICAgICpcblx0ICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG5cdCAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG5cdCAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuNy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuXHQgICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cblx0ICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuXHQgICAgICogLy8gPT4gM1xuXHQgICAgICpcblx0ICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuXHQgICAgICogLy8gPT4gM1xuXHQgICAgICpcblx0ICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcblx0ICAgICAqIC8vID0+ICdkZWZhdWx0J1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcblx0ICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXHQgICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG5cdCAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG5cdCAgICAgKlxuXHQgICAgICogXy5oYXMob2JqZWN0LCAnYScpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5oYXMob3RoZXIsICdhJyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG5cdCAgICAgKlxuXHQgICAgICogXy5oYXNJbihvYmplY3QsICdhJyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5oYXNJbihvYmplY3QsICdiJyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcblx0ICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cblx0ICAgICAqIElmIGBvYmplY3RgIGNvbnRhaW5zIGR1cGxpY2F0ZSB2YWx1ZXMsIHN1YnNlcXVlbnQgdmFsdWVzIG92ZXJ3cml0ZVxuXHQgICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC43LjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5pbnZlcnQob2JqZWN0KTtcblx0ICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cblx0ICAgICAqL1xuXHQgICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuXHQgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuXHQgICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuXHQgICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuXHQgICAgICogZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZVxuXHQgICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG5cdCAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG5cdCAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMS4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuXHQgICAgICpcblx0ICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcblx0ICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cblx0ICAgICAqXG5cdCAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cblx0ICAgICAqL1xuXHQgICAgdmFyIGludmVydEJ5ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG5cdCAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG5cdCAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgdmFsdWUpKSB7XG5cdCAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzdWx0W3ZhbHVlXSA9IFtrZXldO1xuXHQgICAgICB9XG5cdCAgICB9LCBnZXRJdGVyYXRlZSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuXHQgICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuXHQgICAgICogLy8gPT4gWzIsIDNdXG5cdCAgICAgKi9cblx0ICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG5cdCAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG5cdCAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gMTtcblx0ICAgICAqICAgdGhpcy5iID0gMjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuXHQgICAgICpcblx0ICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcblx0ICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcblx0ICAgICAqXG5cdCAgICAgKiBfLmtleXMoJ2hpJyk7XG5cdCAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG5cdCAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gRm9vKCkge1xuXHQgICAgICogICB0aGlzLmEgPSAxO1xuXHQgICAgICogICB0aGlzLmIgPSAyO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG5cdCAgICAgKlxuXHQgICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG5cdCAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuXHQgICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tYXBWYWx1ZXNgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZVxuXHQgICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuXHQgICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcblx0ICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuOC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cblx0ICAgICAqIEBzZWUgXy5tYXBWYWx1ZXNcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5tYXBLZXlzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXHQgICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG5cdCAgICAgKiB9KTtcblx0ICAgICAqIC8vID0+IHsgJ2ExJzogMSwgJ2IyJzogMiB9XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0ge307XG5cdCAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXHRcblx0ICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuXHQgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcblx0ICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuXHQgICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG5cdCAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDIuNC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cblx0ICAgICAqIEBzZWUgXy5tYXBLZXlzXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB1c2VycyA9IHtcblx0ICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcblx0ICAgICAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG5cdCAgICAgKiB9O1xuXHQgICAgICpcblx0ICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZTsgfSk7XG5cdCAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuXHQgICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuXHQgICAgICB2YXIgcmVzdWx0ID0ge307XG5cdCAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXHRcblx0ICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuXHQgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG5cdCAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuXHQgICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG5cdCAgICAgKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcblx0ICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG5cdCAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcblx0ICAgICAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAwLjUuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0ge1xuXHQgICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuXHQgICAgICogfTtcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb3RoZXIgPSB7XG5cdCAgICAgKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG5cdCAgICAgKiB9O1xuXHQgICAgICpcblx0ICAgICAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG5cdCAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG5cdCAgICAgKi9cblx0ICAgIHZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuXHQgICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcblx0ICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuXHQgICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcblx0ICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuXHQgICAgICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cblx0ICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuXHQgICAgICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuXHQgICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuXHQgICAgICogICB9XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG5cdCAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuXHQgICAgICpcblx0ICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuXHQgICAgICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuXHQgICAgICovXG5cdCAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG5cdCAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuXHQgICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG5cdCAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG5cdCAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cblx0ICAgICAqL1xuXHQgICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSB7fTtcblx0ICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG5cdCAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcblx0ICAgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblx0ICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG5cdCAgICAgICAgcmV0dXJuIHBhdGg7XG5cdCAgICAgIH0pO1xuXHQgICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG5cdCAgICAgIGlmIChpc0RlZXApIHtcblx0ICAgICAgICByZXN1bHQgPSBiYXNlQ2xvbmUocmVzdWx0LCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9GTEFUX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbU9taXRDbG9uZSk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcblx0ICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG5cdCAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG5cdCAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG5cdCAgICAgKiBgcHJlZGljYXRlYCBkb2Vzbid0IHJldHVybiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d29cblx0ICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuXHQgICAgICpcblx0ICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG5cdCAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG5cdCAgICAgIHJldHVybiBwaWNrQnkob2JqZWN0LCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG5cdCAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG5cdCAgICAgKlxuXHQgICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG5cdCAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cblx0ICAgICAqL1xuXHQgICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHt9IDogYmFzZVBpY2sob2JqZWN0LCBwYXRocyk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcblx0ICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnBpY2tCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuXHQgICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuXHQgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4ge307XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcblx0ICAgICAgICByZXR1cm4gW3Byb3BdO1xuXHQgICAgICB9KTtcblx0ICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcblx0ICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcblx0ICAgICAgICByZXR1cm4gcHJlZGljYXRlKHZhbHVlLCBwYXRoWzBdKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcblx0ICAgICAqIGZ1bmN0aW9uIGl0J3MgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBpdHMgcGFyZW50IG9iamVjdCBhbmRcblx0ICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG5cdCAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzEnKTtcblx0ICAgICAqIC8vID0+IDNcblx0ICAgICAqXG5cdCAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzInKTtcblx0ICAgICAqIC8vID0+IDRcblx0ICAgICAqXG5cdCAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCAnZGVmYXVsdCcpO1xuXHQgICAgICogLy8gPT4gJ2RlZmF1bHQnXG5cdCAgICAgKlxuXHQgICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgXy5jb25zdGFudCgnZGVmYXVsdCcpKTtcblx0ICAgICAqIC8vID0+ICdkZWZhdWx0J1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcblx0ICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cdFxuXHQgICAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXHRcblx0ICAgICAgLy8gRW5zdXJlIHRoZSBsb29wIGlzIGVudGVyZWQgd2hlbiBwYXRoIGlzIGVtcHR5LlxuXHQgICAgICBpZiAoIWxlbmd0aCkge1xuXHQgICAgICAgIGxlbmd0aCA9IDE7XG5cdCAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3RbdG9LZXkocGF0aFtpbmRleF0pXTtcblx0ICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cdCAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gb2JqZWN0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG5cdCAgICAgKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcblx0ICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG5cdCAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjcuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuXHQgICAgICpcblx0ICAgICAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG5cdCAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuXHQgICAgICogLy8gPT4gNFxuXHQgICAgICpcblx0ICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuXHQgICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcblx0ICAgICAqIC8vID0+IDVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuXHQgICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG5cdCAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcblx0ICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG5cdCAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0ge307XG5cdCAgICAgKlxuXHQgICAgICogXy5zZXRXaXRoKG9iamVjdCwgJ1swXVsxXScsICdhJywgT2JqZWN0KTtcblx0ICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzZXRXaXRoKG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcblx0ICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuXHQgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgXG5cdCAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcblx0ICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBhbGlhcyBlbnRyaWVzXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogZnVuY3Rpb24gRm9vKCkge1xuXHQgICAgICogICB0aGlzLmEgPSAxO1xuXHQgICAgICogICB0aGlzLmIgPSAyO1xuXHQgICAgICogfVxuXHQgICAgICpcblx0ICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG5cdCAgICAgKlxuXHQgICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuXHQgICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcblx0ICAgICAqL1xuXHQgICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuXHQgICAgICogZm9yIGBvYmplY3RgIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcFxuXHQgICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGFsaWFzIGVudHJpZXNJblxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gMTtcblx0ICAgICAqICAgdGhpcy5iID0gMjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuXHQgICAgICpcblx0ICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuXHQgICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG5cdCAgICAgKi9cblx0ICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG5cdCAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG5cdCAgICAgKiBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIHRocnUgYGl0ZXJhdGVlYCwgd2l0aCBlYWNoIGludm9jYXRpb25cblx0ICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3Rcblx0ICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcblx0ICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czogKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuXHQgICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMS4zLjBcblx0ICAgICAqIEBjYXRlZ29yeSBPYmplY3Rcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuXHQgICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuXHQgICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcblx0ICAgICAqIH0sIFtdKTtcblx0ICAgICAqIC8vID0+IFs0LCA5XVxuXHQgICAgICpcblx0ICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcblx0ICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcblx0ICAgICAqIH0sIHt9KTtcblx0ICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG5cdCAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcblx0ICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cdFxuXHQgICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcblx0ICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcblx0ICAgICAgICB2YXIgQ3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3I7XG5cdCAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuXHQgICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcblx0ICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcblx0ICAgICAgICByZXR1cm4gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuXHQgICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVuc2V0LlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG5cdCAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcblx0ICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG5cdCAgICAgKlxuXHQgICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuXHQgICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHRydWUgOiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuXHQgICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuXHQgICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuNi4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuXHQgICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuXHQgICAgICpcblx0ICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuXHQgICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcblx0ICAgICAqIC8vID0+IDlcblx0ICAgICAqXG5cdCAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuXHQgICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcblx0ICAgICAqIC8vID0+IDBcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlcikge1xuXHQgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuXHQgICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG5cdCAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcblx0ICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjYuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHt9O1xuXHQgICAgICpcblx0ICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG5cdCAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcblx0ICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuXHQgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpLCBjdXN0b21pemVyKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gMTtcblx0ICAgICAqICAgdGhpcy5iID0gMjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuXHQgICAgICpcblx0ICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuXHQgICAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG5cdCAgICAgKlxuXHQgICAgICogXy52YWx1ZXMoJ2hpJyk7XG5cdCAgICAgKiAvLyA9PiBbJ2gnLCAnaSddXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcblx0ICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5cyhvYmplY3QpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG5cdCAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IE9iamVjdFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICAgICAqICAgdGhpcy5hID0gMTtcblx0ICAgICAqICAgdGhpcy5iID0gMjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuXHQgICAgICpcblx0ICAgICAqIF8udmFsdWVzSW4obmV3IEZvbyk7XG5cdCAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdmFsdWVzSW4ob2JqZWN0KSB7XG5cdCAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IE51bWJlclxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuXHQgICAgICogLy8gPT4gLTVcblx0ICAgICAqXG5cdCAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG5cdCAgICAgKiAvLyA9PiA1XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG5cdCAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdXBwZXIgPSBsb3dlcjtcblx0ICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuXHQgICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG5cdCAgICAgICAgbG93ZXIgPSBsb3dlciA9PT0gbG93ZXIgPyBsb3dlciA6IDA7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2tzIGlmIGBuYCBpcyBiZXR3ZWVuIGBzdGFydGAgYW5kIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmXG5cdCAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG5cdCAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcblx0ICAgICAqIG5lZ2F0aXZlIHJhbmdlcy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuXHQgICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5pblJhbmdlKDEuMiwgMik7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcblx0ICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG5cdCAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGVuZCA9IHN0YXJ0O1xuXHQgICAgICAgIHN0YXJ0ID0gMDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuXHQgICAgICB9XG5cdCAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG5cdCAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cblx0ICAgICAqIElmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyXG5cdCAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG5cdCAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG5cdCAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMC43LjBcblx0ICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFt1cHBlcj0xXSBUaGUgdXBwZXIgYm91bmQuXG5cdCAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnJhbmRvbSgwLCA1KTtcblx0ICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5kb20oNSk7XG5cdCAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG5cdCAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcblx0ICAgICAqXG5cdCAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG5cdCAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG5cdCAgICAgIGlmIChmbG9hdGluZyAmJiB0eXBlb2YgZmxvYXRpbmcgIT0gJ2Jvb2xlYW4nICYmIGlzSXRlcmF0ZWVDYWxsKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpKSB7XG5cdCAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZmxvYXRpbmcgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuXHQgICAgICAgICAgdXBwZXIgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcblx0ICAgICAgICAgIGZsb2F0aW5nID0gbG93ZXI7XG5cdCAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGxvd2VyID0gMDtcblx0ICAgICAgICB1cHBlciA9IDE7XG5cdCAgICAgIH1cblx0ICAgICAgZWxzZSB7XG5cdCAgICAgICAgbG93ZXIgPSB0b0Zpbml0ZShsb3dlcik7XG5cdCAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG5cdCAgICAgICAgICBsb3dlciA9IDA7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuXHQgICAgICAgIHZhciB0ZW1wID0gbG93ZXI7XG5cdCAgICAgICAgbG93ZXIgPSB1cHBlcjtcblx0ICAgICAgICB1cHBlciA9IHRlbXA7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcblx0ICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuXHQgICAgICAgIHJldHVybiBuYXRpdmVNaW4obG93ZXIgKyAocmFuZCAqICh1cHBlciAtIGxvd2VyICsgZnJlZVBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKyAnJykubGVuZ3RoIC0gMSkpKSksIHVwcGVyKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG5cdCAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuXHQgICAgICpcblx0ICAgICAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuXHQgICAgICogLy8gPT4gJ2Zvb0Jhcidcblx0ICAgICAqXG5cdCAgICAgKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcblx0ICAgICAqIC8vID0+ICdmb29CYXInXG5cdCAgICAgKi9cblx0ICAgIHZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcblx0ICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG5cdCAgICAgKiB0byBsb3dlciBjYXNlLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuXHQgICAgICogLy8gPT4gJ0ZyZWQnXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG5cdCAgICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcblx0ICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuXHQgICAgICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuXHQgICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuXHQgICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcblx0ICAgICAqIC8vID0+ICdkZWphIHZ1J1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcblx0ICAgICAqICBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKlxuXHQgICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXHRcblx0ICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG5cdCAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuXHQgICAgICAgID8gbGVuZ3RoXG5cdCAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblx0XG5cdCAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcblx0ICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcblx0ICAgICAgcmV0dXJuIHBvc2l0aW9uID49IDAgJiYgc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBlbmQpID09IHRhcmdldDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuXHQgICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuXHQgICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG5cdCAgICAgKlxuXHQgICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuXHQgICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcblx0ICAgICAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcblx0ICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcblx0ICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgICAgICpcblx0ICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcblx0ICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG5cdCAgICAgKiBYU1MgdmVjdG9ycy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG5cdCAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG5cdCAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuXHQgICAgICAgIDogc3RyaW5nO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRXNjYXBlcyB0aGUgYFJlZ0V4cGAgc3BlY2lhbCBjaGFyYWN0ZXJzIFwiXlwiLCBcIiRcIiwgXCJcXFwiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLFxuXHQgICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG5cdCAgICAgKiAvLyA9PiAnXFxbbG9kYXNoXFxdXFwoaHR0cHM6Ly9sb2Rhc2hcXC5jb20vXFwpJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG5cdCAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuXHQgICAgICAgIDogc3RyaW5nO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cblx0ICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuXHQgICAgICogLy8gPT4gJ2Zvby1iYXInXG5cdCAgICAgKlxuXHQgICAgICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuXHQgICAgICogLy8gPT4gJ2Zvby1iYXInXG5cdCAgICAgKlxuXHQgICAgICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG5cdCAgICAgKiAvLyA9PiAnZm9vLWJhcidcblx0ICAgICAqL1xuXHQgICAgdmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuXHQgICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ubG93ZXJDYXNlKCctLUZvby1CYXItLScpO1xuXHQgICAgICogLy8gPT4gJ2ZvbyBiYXInXG5cdCAgICAgKlxuXHQgICAgICogXy5sb3dlckNhc2UoJ2Zvb0JhcicpO1xuXHQgICAgICogLy8gPT4gJ2ZvbyBiYXInXG5cdCAgICAgKlxuXHQgICAgICogXy5sb3dlckNhc2UoJ19fRk9PX0JBUl9fJyk7XG5cdCAgICAgKiAvLyA9PiAnZm9vIGJhcidcblx0ICAgICAqL1xuXHQgICAgdmFyIGxvd2VyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuXHQgICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ubG93ZXJGaXJzdCgnRnJlZCcpO1xuXHQgICAgICogLy8gPT4gJ2ZyZWQnXG5cdCAgICAgKlxuXHQgICAgICogXy5sb3dlckZpcnN0KCdGUkVEJyk7XG5cdCAgICAgKiAvLyA9PiAnZlJFRCdcblx0ICAgICAqL1xuXHQgICAgdmFyIGxvd2VyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvTG93ZXJDYXNlJyk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBzaWRlcyBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC5cblx0ICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5wYWQoJ2FiYycsIDgpO1xuXHQgICAgICogLy8gPT4gJyAgYWJjICAgJ1xuXHQgICAgICpcblx0ICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcblx0ICAgICAqIC8vID0+ICdfLWFiY18tXydcblx0ICAgICAqXG5cdCAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG5cdCAgICAgKiAvLyA9PiAnYWJjJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXHRcblx0ICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG5cdCAgICAgIGlmICghbGVuZ3RoIHx8IHN0ckxlbmd0aCA+PSBsZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gc3RyaW5nO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBtaWQgPSAobGVuZ3RoIC0gc3RyTGVuZ3RoKSAvIDI7XG5cdCAgICAgIHJldHVybiAoXG5cdCAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuXHQgICAgICAgIHN0cmluZyArXG5cdCAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgcmlnaHQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuXHQgICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcblx0ICAgICAqIC8vID0+ICdhYmMgICAnXG5cdCAgICAgKlxuXHQgICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuXHQgICAgICogLy8gPT4gJ2FiY18tXydcblx0ICAgICAqXG5cdCAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG5cdCAgICAgKiAvLyA9PiAnYWJjJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXHRcblx0ICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG5cdCAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcblx0ICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuXHQgICAgICAgIDogc3RyaW5nO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG5cdCAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG5cdCAgICAgKiAvLyA9PiAnICAgYWJjJ1xuXHQgICAgICpcblx0ICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuXHQgICAgICogLy8gPT4gJ18tX2FiYydcblx0ICAgICAqXG5cdCAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcblx0ICAgICAqIC8vID0+ICdhYmMnXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuXHQgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXHQgICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblx0XG5cdCAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuXHQgICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG5cdCAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcblx0ICAgICAgICA6IHN0cmluZztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC4gSWYgYHJhZGl4YCBpc1xuXHQgICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcblx0ICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuXHQgICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAxLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4PTEwXSBUaGUgcmFkaXggdG8gaW50ZXJwcmV0IGB2YWx1ZWAgYnkuXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG5cdCAgICAgKiAvLyA9PiA4XG5cdCAgICAgKlxuXHQgICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuXHQgICAgICogLy8gPT4gWzYsIDgsIDEwXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuXHQgICAgICBpZiAoZ3VhcmQgfHwgcmFkaXggPT0gbnVsbCkge1xuXHQgICAgICAgIHJhZGl4ID0gMDtcblx0ICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuXHQgICAgICAgIHJhZGl4ID0gK3JhZGl4O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXBlYXRzIHRoZSBnaXZlbiBzdHJpbmcgYG5gIHRpbWVzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuXHQgICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5yZXBlYXQoJyonLCAzKTtcblx0ICAgICAqIC8vID0+ICcqKionXG5cdCAgICAgKlxuXHQgICAgICogXy5yZXBlYXQoJ2FiYycsIDIpO1xuXHQgICAgICogLy8gPT4gJ2FiY2FiYydcblx0ICAgICAqXG5cdCAgICAgKiBfLnJlcGVhdCgnYWJjJywgMCk7XG5cdCAgICAgKiAvLyA9PiAnJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBuLCBndWFyZCkge1xuXHQgICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgbiA9IDE7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmFzZVJlcGVhdCh0b1N0cmluZyhzdHJpbmcpLCBuKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG5cdCAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cblx0ICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IHJlcGxhY2VtZW50IFRoZSBtYXRjaCByZXBsYWNlbWVudC5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG5cdCAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuXHQgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcblx0ICAgICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKGFyZ3NbMF0pO1xuXHRcblx0ICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cblx0ICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuXHQgICAgICogLy8gPT4gJ2Zvb19iYXInXG5cdCAgICAgKlxuXHQgICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuXHQgICAgICogLy8gPT4gJ2Zvb19iYXInXG5cdCAgICAgKlxuXHQgICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG5cdCAgICAgKiAvLyA9PiAnZm9vX2Jhcidcblx0ICAgICAqL1xuXHQgICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuXHQgICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJ18nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG5cdCAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG5cdCAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbWl0XSBUaGUgbGVuZ3RoIHRvIHRydW5jYXRlIHJlc3VsdHMgdG8uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuXHQgICAgICogLy8gPT4gWydhJywgJ2InXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcblx0ICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG5cdCAgICAgICAgc2VwYXJhdG9yID0gbGltaXQgPSB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuXHQgICAgICBpZiAoIWxpbWl0KSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIGlmIChzdHJpbmcgJiYgKFxuXHQgICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG5cdCAgICAgICAgICAgIChzZXBhcmF0b3IgIT0gbnVsbCAmJiAhaXNSZWdFeHAoc2VwYXJhdG9yKSlcblx0ICAgICAgICAgICkpIHtcblx0ICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcblx0ICAgICAgICBpZiAoIXNlcGFyYXRvciAmJiBoYXNVbmljb2RlKHN0cmluZykpIHtcblx0ICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuXHQgICAgICogW3N0YXJ0IGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1N0eWxpc3RpY19vcl9zcGVjaWFsaXNlZF91c2FnZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjEuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG5cdCAgICAgKiAvLyA9PiAnRm9vIEJhcidcblx0ICAgICAqXG5cdCAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG5cdCAgICAgKiAvLyA9PiAnRm9vIEJhcidcblx0ICAgICAqXG5cdCAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcblx0ICAgICAqIC8vID0+ICdGT08gQkFSJ1xuXHQgICAgICovXG5cdCAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG5cdCAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCBgdGFyZ2V0YCxcblx0ICAgICAqICBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcblx0ICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblx0ICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsXG5cdCAgICAgICAgPyAwXG5cdCAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cdFxuXHQgICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblx0ICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24gdGhhdCBjYW4gaW50ZXJwb2xhdGUgZGF0YSBwcm9wZXJ0aWVzXG5cdCAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuXHQgICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG5cdCAgICAgKiBwcm9wZXJ0aWVzIG1heSBiZSBhY2Nlc3NlZCBhcyBmcmVlIHZhcmlhYmxlcyBpbiB0aGUgdGVtcGxhdGUuIElmIGEgc2V0dGluZ1xuXHQgICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG5cdCAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcblx0ICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuXHQgICAgICpcblx0ICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG5cdCAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG5cdCAgICAgKlxuXHQgICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG5cdCAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG5cdCAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG5cdCAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG5cdCAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmV2YWx1YXRlXVxuXHQgICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG5cdCAgICAgKiAgQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBmcmVlIHZhcmlhYmxlcy5cblx0ICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG5cdCAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc291cmNlVVJMPSdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW25dJ11cblx0ICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cblx0ICAgICAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cblx0ICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG5cdCAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcblx0ICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG5cdCAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG5cdCAgICAgKlxuXHQgICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cblx0ICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcblx0ICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcblx0ICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG5cdCAgICAgKlxuXHQgICAgICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cblx0ICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG5cdCAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcblx0ICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuXHQgICAgICpcblx0ICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cblx0ICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG5cdCAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG5cdCAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcblx0ICAgICAqXG5cdCAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG5cdCAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuXHQgICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuXHQgICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcblx0ICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcblx0ICAgICAqXG5cdCAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuXHQgICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuXHQgICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG5cdCAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuXHQgICAgICpcblx0ICAgICAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cblx0ICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG5cdCAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuXHQgICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG5cdCAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcblx0ICAgICAqXG5cdCAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuXHQgICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuXHQgICAgICogY29tcGlsZWQoZGF0YSk7XG5cdCAgICAgKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuXHQgICAgICpcblx0ICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG5cdCAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuXHQgICAgICogY29tcGlsZWQuc291cmNlO1xuXHQgICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcblx0ICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuXHQgICAgICogLy8gICByZXR1cm4gX19wO1xuXHQgICAgICogLy8gfVxuXHQgICAgICpcblx0ICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cblx0ICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG5cdCAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuXHQgICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG5cdCAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuXHQgICAgICpcblx0ICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuXHQgICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG5cdCAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuXHQgICAgICogICB2YXIgSlNUID0ge1xcXG5cdCAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcblx0ICAgICAqICAgfTtcXFxuXHQgICAgICogJyk7XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcblx0ICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuXHQgICAgICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG5cdCAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuXHQgICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblx0XG5cdCAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuXHQgICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblx0ICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXHRcblx0ICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG5cdCAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG5cdCAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cdFxuXHQgICAgICB2YXIgaXNFc2NhcGluZyxcblx0ICAgICAgICAgIGlzRXZhbHVhdGluZyxcblx0ICAgICAgICAgIGluZGV4ID0gMCxcblx0ICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG5cdCAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cdFxuXHQgICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG5cdCAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG5cdCAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcblx0ICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuXHQgICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcblx0ICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcblx0ICAgICAgLCAnZycpO1xuXHRcblx0ICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuXHQgICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG5cdCAgICAgICAgKCdzb3VyY2VVUkwnIGluIG9wdGlvbnNcblx0ICAgICAgICAgID8gb3B0aW9ucy5zb3VyY2VVUkxcblx0ICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuXHQgICAgICAgICkgKyAnXFxuJztcblx0XG5cdCAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuXHQgICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXHRcblx0ICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cblx0ICAgICAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXHRcblx0ICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cblx0ICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcblx0ICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuXHQgICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcblx0ICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG5cdCAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG5cdCAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cdFxuXHQgICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuXHQgICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG5cdCAgICAgICAgcmV0dXJuIG1hdGNoO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cdFxuXHQgICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG5cdCAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cblx0ICAgICAgdmFyIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZTtcblx0ICAgICAgaWYgKCF2YXJpYWJsZSkge1xuXHQgICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cblx0ICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG5cdCAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcblx0ICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblx0XG5cdCAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG5cdCAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcblx0ICAgICAgICAodmFyaWFibGVcblx0ICAgICAgICAgID8gJydcblx0ICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcblx0ICAgICAgICApICtcblx0ICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuXHQgICAgICAgIChpc0VzY2FwaW5nXG5cdCAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcblx0ICAgICAgICAgICA6ICcnXG5cdCAgICAgICAgKSArXG5cdCAgICAgICAgKGlzRXZhbHVhdGluZ1xuXHQgICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcblx0ICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuXHQgICAgICAgICAgOiAnO1xcbidcblx0ICAgICAgICApICtcblx0ICAgICAgICBzb3VyY2UgK1xuXHQgICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cdFxuXHQgICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcblx0ICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuXHQgICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuXHQgICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuXHQgICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG5cdCAgICAgICAgdGhyb3cgcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2Vcblx0ICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG5cdCAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG5cdCAgICAgKlxuXHQgICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcblx0ICAgICAqIC8vID0+ICdmb29iYXInXG5cdCAgICAgKlxuXHQgICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuXHQgICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuXHQgICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcblx0ICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuXHQgICAgICogLy8gPT4gJ0ZPT0JBUidcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG5cdCAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFN0cmluZ1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cblx0ICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy50cmltKCcgIGFiYyAgJyk7XG5cdCAgICAgKiAvLyA9PiAnYWJjJ1xuXHQgICAgICpcblx0ICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG5cdCAgICAgKiAvLyA9PiAnYWJjJ1xuXHQgICAgICpcblx0ICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG5cdCAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbSwgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuXHQgICAgICAgIHJldHVybiBzdHJpbmc7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG5cdCAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG5cdCAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcblx0ICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykgKyAxO1xuXHRcblx0ICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbW92ZXMgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udHJpbUVuZCgnICBhYmMgICcpO1xuXHQgICAgICogLy8gPT4gJyAgYWJjJ1xuXHQgICAgICpcblx0ICAgICAqIF8udHJpbUVuZCgnLV8tYWJjLV8tJywgJ18tJyk7XG5cdCAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB0cmltRW5kKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbUVuZCwgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuXHQgICAgICAgIHJldHVybiBzdHJpbmc7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG5cdCAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKSArIDE7XG5cdFxuXHQgICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZW1vdmVzIGxlYWRpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udHJpbVN0YXJ0KCcgIGFiYyAgJyk7XG5cdCAgICAgKiAvLyA9PiAnYWJjICAnXG5cdCAgICAgKlxuXHQgICAgICogXy50cmltU3RhcnQoJy1fLWFiYy1fLScsICdfLScpO1xuXHQgICAgICogLy8gPT4gJ2FiYy1fLSdcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdHJpbVN0YXJ0KHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0cmluZztcblx0ICAgICAgfVxuXHQgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcblx0ICAgICAgICAgIHN0YXJ0ID0gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKTtcblx0XG5cdCAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVHJ1bmNhdGVzIGBzdHJpbmdgIGlmIGl0J3MgbG9uZ2VyIHRoYW4gdGhlIGdpdmVuIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cblx0ICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG5cdCAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG5cdCAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtvcHRpb25zLnNlcGFyYXRvcl0gVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHRydW5jYXRlIHRvLlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuXHQgICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcblx0ICAgICAqXG5cdCAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuXHQgICAgICogICAnbGVuZ3RoJzogMjQsXG5cdCAgICAgKiAgICdzZXBhcmF0b3InOiAnICdcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG5cdCAgICAgKlxuXHQgICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcblx0ICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuXHQgICAgICogICAnc2VwYXJhdG9yJzogLyw/ICsvXG5cdCAgICAgKiB9KTtcblx0ICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG5cdCAgICAgKlxuXHQgICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcblx0ICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcblx0ICAgICAqIH0pO1xuXHQgICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdHJ1bmNhdGUoc3RyaW5nLCBvcHRpb25zKSB7XG5cdCAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcblx0ICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblx0XG5cdCAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuXHQgICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG5cdCAgICAgICAgbGVuZ3RoID0gJ2xlbmd0aCcgaW4gb3B0aW9ucyA/IHRvSW50ZWdlcihvcHRpb25zLmxlbmd0aCkgOiBsZW5ndGg7XG5cdCAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcblx0ICAgICAgfVxuXHQgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXHRcblx0ICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG5cdCAgICAgIGlmIChoYXNVbmljb2RlKHN0cmluZykpIHtcblx0ICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcblx0ICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBzdHJpbmc7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuXHQgICAgICBpZiAoZW5kIDwgMSkge1xuXHQgICAgICAgIHJldHVybiBvbWlzc2lvbjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuXHQgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJylcblx0ICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXHRcblx0ICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzdHJTeW1ib2xzKSB7XG5cdCAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaXNSZWdFeHAoc2VwYXJhdG9yKSkge1xuXHQgICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuXHQgICAgICAgICAgdmFyIG1hdGNoLFxuXHQgICAgICAgICAgICAgIHN1YnN0cmluZyA9IHJlc3VsdDtcblx0XG5cdCAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcblx0ICAgICAgICAgICAgc2VwYXJhdG9yID0gUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIHRvU3RyaW5nKHJlRmxhZ3MuZXhlYyhzZXBhcmF0b3IpKSArICdnJyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcblx0ICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBzZXBhcmF0b3IuZXhlYyhzdWJzdHJpbmcpKSkge1xuXHQgICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgbmV3RW5kID09PSB1bmRlZmluZWQgPyBlbmQgOiBuZXdFbmQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcblx0ICAgICAgICB2YXIgaW5kZXggPSByZXN1bHQubGFzdEluZGV4T2Yoc2VwYXJhdG9yKTtcblx0ICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuXHQgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGludmVyc2Ugb2YgYF8uZXNjYXBlYDsgdGhpcyBtZXRob2QgY29udmVydHMgdGhlIEhUTUwgZW50aXRpZXNcblx0ICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cblx0ICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG5cdCAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDAuNi4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cblx0ICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udW5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcycpO1xuXHQgICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB1bmVzY2FwZShzdHJpbmcpIHtcblx0ICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblx0ICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG5cdCAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZUVzY2FwZWRIdG1sLCB1bmVzY2FwZUh0bWxDaGFyKVxuXHQgICAgICAgIDogc3RyaW5nO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnVwcGVyQ2FzZSgnLS1mb28tYmFyJyk7XG5cdCAgICAgKiAvLyA9PiAnRk9PIEJBUidcblx0ICAgICAqXG5cdCAgICAgKiBfLnVwcGVyQ2FzZSgnZm9vQmFyJyk7XG5cdCAgICAgKiAvLyA9PiAnRk9PIEJBUidcblx0ICAgICAqXG5cdCAgICAgKiBfLnVwcGVyQ2FzZSgnX19mb29fYmFyX18nKTtcblx0ICAgICAqIC8vID0+ICdGT08gQkFSJ1xuXHQgICAgICovXG5cdCAgICB2YXIgdXBwZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG5cdCAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuXHQgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy51cHBlckZpcnN0KCdmcmVkJyk7XG5cdCAgICAgKiAvLyA9PiAnRnJlZCdcblx0ICAgICAqXG5cdCAgICAgKiBfLnVwcGVyRmlyc3QoJ0ZSRUQnKTtcblx0ICAgICAqIC8vID0+ICdGUkVEJ1xuXHQgICAgICovXG5cdCAgICB2YXIgdXBwZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9VcHBlckNhc2UnKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuXHQgICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG5cdCAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcblx0ICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG5cdCAgICAgKlxuXHQgICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuXHQgICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG5cdCAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cdCAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cdFxuXHQgICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG5cdCAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuXHQgICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG5cdCAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcblx0ICAgICAqICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXHQgICAgICogfSwgJz5fPicpO1xuXHQgICAgICpcblx0ICAgICAqIGlmIChfLmlzRXJyb3IoZWxlbWVudHMpKSB7XG5cdCAgICAgKiAgIGVsZW1lbnRzID0gW107XG5cdCAgICAgKiB9XG5cdCAgICAgKi9cblx0ICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHJldHVybiBhcHBseShmdW5jLCB1bmRlZmluZWQsIGFyZ3MpO1xuXHQgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3Rpbmdcblx0ICAgICAqIG1ldGhvZC5cblx0ICAgICAqXG5cdCAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuXHQgICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciB2aWV3ID0ge1xuXHQgICAgICogICAnbGFiZWwnOiAnZG9jcycsXG5cdCAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuXHQgICAgICogICAgIGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyB0aGlzLmxhYmVsKTtcblx0ICAgICAqICAgfVxuXHQgICAgICogfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcblx0ICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcblx0ICAgICAqIC8vID0+IExvZ3MgJ2NsaWNrZWQgZG9jcycgd2hlbiBjbGlja2VkLlxuXHQgICAgICovXG5cdCAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcblx0ICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuXHQgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gb2JqZWN0O1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcblx0ICAgICAqIGZ1bmN0aW9uIG9mIHRoZSBmaXJzdCBwcmVkaWNhdGUgdG8gcmV0dXJuIHRydXRoeS4gVGhlIHByZWRpY2F0ZS1mdW5jdGlvblxuXHQgICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuXHQgICAgICogZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBmdW5jID0gXy5jb25kKFtcblx0ICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcblx0ICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcblx0ICAgICAqICAgW18uc3R1YlRydWUsICAgICAgICAgICAgICAgICAgICAgIF8uY29uc3RhbnQoJ25vIG1hdGNoJyldXG5cdCAgICAgKiBdKTtcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG5cdCAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuXHQgICAgICpcblx0ICAgICAqIGZ1bmMoeyAnYSc6IDAsICdiJzogMSB9KTtcblx0ICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG5cdCAgICAgKlxuXHQgICAgICogZnVuYyh7ICdhJzogJzEnLCAnYic6ICcyJyB9KTtcblx0ICAgICAqIC8vID0+ICdubyBtYXRjaCdcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29uZChwYWlycykge1xuXHQgICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG5cdCAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblx0XG5cdCAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gLTE7XG5cdCAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuXHQgICAgICAgICAgaWYgKGFwcGx5KHBhaXJbMF0sIHRoaXMsIGFyZ3MpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuXHQgICAgICogdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGEgZ2l2ZW4gb2JqZWN0LCByZXR1cm5pbmcgYHRydWVgIGlmXG5cdCAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNUb2Agd2l0aFxuXHQgICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0cyA9IFtcblx0ICAgICAqICAgeyAnYSc6IDIsICdiJzogMSB9LFxuXHQgICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cblx0ICAgICAqIF07XG5cdCAgICAgKlxuXHQgICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuXHQgICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG5cdCAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAyLjQuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuXHQgICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG5cdCAgICAgKlxuXHQgICAgICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG5cdCAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG5cdCAgICAgKiBvciBgdW5kZWZpbmVkYC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDQuMTQuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcblx0ICAgICAqIC8vID0+IDFcblx0ICAgICAqXG5cdCAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcblx0ICAgICAqIC8vID0+IDEwXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG5cdCAgICAgIHJldHVybiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUpID8gZGVmYXVsdFZhbHVlIDogdmFsdWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuXHQgICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuXHQgICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG5cdCAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG5cdCAgICAgKiAgIHJldHVybiBuICogbjtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiB2YXIgYWRkU3F1YXJlID0gXy5mbG93KFtfLmFkZCwgc3F1YXJlXSk7XG5cdCAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG5cdCAgICAgKiAvLyA9PiA5XG5cdCAgICAgKi9cblx0ICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuXHQgICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAc2luY2UgMy4wLjBcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG5cdCAgICAgKiBAc2VlIF8uZmxvd1xuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuXHQgICAgICogICByZXR1cm4gbiAqIG47XG5cdCAgICAgKiB9XG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG5cdCAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG5cdCAgICAgKiAvLyA9PiA5XG5cdCAgICAgKi9cblx0ICAgIHZhciBmbG93UmlnaHQgPSBjcmVhdGVGbG93KHRydWUpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG5cdCAgICAgKlxuXHQgICAgICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcblx0ICAgICAqIGZ1bmN0aW9uLiBJZiBgZnVuY2AgaXMgYSBwcm9wZXJ0eSBuYW1lLCB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIHRoZVxuXHQgICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG5cdCAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcblx0ICAgICAqIHNvdXJjZSBwcm9wZXJ0aWVzLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgZmFsc2VgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0geyp9IFtmdW5jPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgdXNlcnMgPSBbXG5cdCAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuXHQgICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cblx0ICAgICAqIF07XG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuXHQgICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcblx0ICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV1cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8ubWFwKHVzZXJzLCBfLml0ZXJhdGVlKCd1c2VyJykpO1xuXHQgICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG5cdCAgICAgKlxuXHQgICAgICogLy8gQ3JlYXRlIGN1c3RvbSBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuXHQgICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuXHQgICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuXHQgICAgICogICAgIHJldHVybiBmdW5jLnRlc3Qoc3RyaW5nKTtcblx0ICAgICAqICAgfTtcblx0ICAgICAqIH0pO1xuXHQgICAgICpcblx0ICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcblx0ICAgICAqIC8vID0+IFsnZGVmJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuXHQgICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGEgZ2l2ZW5cblx0ICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuXHQgICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuXHQgICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG5cdCAgICAgKlxuXHQgICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcblx0ICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG5cdCAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3RzID0gW1xuXHQgICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcblx0ICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cblx0ICAgICAqIF07XG5cdCAgICAgKlxuXHQgICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5tYXRjaGVzKHsgJ2EnOiA0LCAnYyc6IDYgfSkpO1xuXHQgICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuXHQgICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG5cdCAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcblx0ICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG5cdCAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG5cdCAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMi4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cblx0ICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbXG5cdCAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuXHQgICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG5cdCAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG5cdCAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuNy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG5cdCAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0cyA9IFtcblx0ICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcblx0ICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuXHQgICAgICogXTtcblx0ICAgICAqXG5cdCAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuXHQgICAgICogLy8gPT4gWzIsIDFdXG5cdCAgICAgKlxuXHQgICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuXHQgICAgICogLy8gPT4gWzIsIDFdXG5cdCAgICAgKi9cblx0ICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcblx0ICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuXHQgICAgICB9O1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuXHQgICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcblx0ICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuNy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcblx0ICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuXHQgICAgICogLy8gPT4gWzIsIDBdXG5cdCAgICAgKlxuXHQgICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuXHQgICAgICogLy8gPT4gWzIsIDBdXG5cdCAgICAgKi9cblx0ICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuXHQgICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG5cdCAgICAgIH07XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG5cdCAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG5cdCAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuXHQgICAgICpcblx0ICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuXHQgICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuXHQgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG5cdCAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcblx0ICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuXHQgICAgICogICB9KTtcblx0ICAgICAqIH1cblx0ICAgICAqXG5cdCAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcblx0ICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG5cdCAgICAgKiAvLyA9PiBbJ2UnXVxuXHQgICAgICpcblx0ICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuXHQgICAgICogLy8gPT4gWydlJ11cblx0ICAgICAqXG5cdCAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuXHQgICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuXHQgICAgICogLy8gPT4gWydlJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcblx0ICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuXHQgICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXHRcblx0ICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuXHQgICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG5cdCAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcblx0ICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG5cdCAgICAgICAgb2JqZWN0ID0gdGhpcztcblx0ICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG5cdCAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cdFxuXHQgICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcblx0ICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcblx0ICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuXHQgICAgICAgIGlmIChpc0Z1bmMpIHtcblx0ICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG5cdCAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuXHQgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG5cdCAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cdFxuXHQgICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuXHQgICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcblx0ICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBvYmplY3Q7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG5cdCAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcblx0ICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuXHQgICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMi4zLjBcblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcblx0ICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbm9vcCgpIHtcblx0ICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuXHQgICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcblx0ICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcblx0ICAgICAqIC8vID0+ICdiJ1xuXHQgICAgICpcblx0ICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuXHQgICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuXHQgICAgICogLy8gPT4gJ2MnXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG5cdCAgICAgIG4gPSB0b0ludGVnZXIobik7XG5cdCAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG5cdCAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcblx0ICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cblx0ICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG5cdCAgICAgKlxuXHQgICAgICogZnVuYygxLCAyLCAzLCA0KTtcblx0ICAgICAqIC8vID0+IFs0LCAxXVxuXHQgICAgICovXG5cdCAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cblx0ICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuXHQgICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBmdW5jID0gXy5vdmVyRXZlcnkoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG5cdCAgICAgKlxuXHQgICAgICogZnVuYygnMScpO1xuXHQgICAgICogLy8gPT4gdHJ1ZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmMobnVsbCk7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICpcblx0ICAgICAqIGZ1bmMoTmFOKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cblx0ICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuXHQgICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jKCcxJyk7XG5cdCAgICAgKiAvLyA9PiB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogZnVuYyhudWxsKTtcblx0ICAgICAqIC8vID0+IHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBmdW5jKE5hTik7XG5cdCAgICAgKiAvLyA9PiBmYWxzZVxuXHQgICAgICovXG5cdCAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAyLjQuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbXG5cdCAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMiB9IH0sXG5cdCAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cblx0ICAgICAqIF07XG5cdCAgICAgKlxuXHQgICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuXHQgICAgICogLy8gPT4gWzIsIDFdXG5cdCAgICAgKlxuXHQgICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcblx0ICAgICAqIC8vID0+IFsxLCAyXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG5cdCAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnByb3BlcnR5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xuXHQgICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHNpbmNlIDMuMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcblx0ICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcblx0ICAgICAqXG5cdCAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG5cdCAgICAgKiAvLyA9PiBbMiwgMF1cblx0ICAgICAqXG5cdCAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcblx0ICAgICAqIC8vID0+IFsyLCAwXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuXHQgICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgbnVtYmVycyAocG9zaXRpdmUgYW5kL29yIG5lZ2F0aXZlKSBwcm9ncmVzc2luZyBmcm9tXG5cdCAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuXHQgICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG5cdCAgICAgKiBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG5cdCAgICAgKlxuXHQgICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuXHQgICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cblx0ICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5nZSg0KTtcblx0ICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuXHQgICAgICpcblx0ICAgICAqIF8ucmFuZ2UoLTQpO1xuXHQgICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5nZSgxLCA1KTtcblx0ICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuXHQgICAgICpcblx0ICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuXHQgICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cblx0ICAgICAqXG5cdCAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG5cdCAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cblx0ICAgICAqXG5cdCAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuXHQgICAgICogLy8gPT4gWzEsIDEsIDFdXG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5nZSgwKTtcblx0ICAgICAqIC8vID0+IFtdXG5cdCAgICAgKi9cblx0ICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG5cdCAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuXHQgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuXHQgICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2Vcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5nZVJpZ2h0KDQpO1xuXHQgICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5nZVJpZ2h0KC00KTtcblx0ICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuXHQgICAgICpcblx0ICAgICAqIF8ucmFuZ2VSaWdodCgxLCA1KTtcblx0ICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuXHQgICAgICpcblx0ICAgICAqIF8ucmFuZ2VSaWdodCgwLCAyMCwgNSk7XG5cdCAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuXHQgICAgICpcblx0ICAgICAqIF8ucmFuZ2VSaWdodCgwLCAtNCwgLTEpO1xuXHQgICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5nZVJpZ2h0KDEsIDQsIDApO1xuXHQgICAgICogLy8gPT4gWzEsIDEsIDFdXG5cdCAgICAgKlxuXHQgICAgICogXy5yYW5nZVJpZ2h0KDApO1xuXHQgICAgICogLy8gPT4gW11cblx0ICAgICAqL1xuXHQgICAgdmFyIHJhbmdlUmlnaHQgPSBjcmVhdGVSYW5nZSh0cnVlKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjEzLjBcblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG5cdCAgICAgKiAvLyA9PiBbW10sIFtdXVxuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcblx0ICAgICAqIC8vID0+IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4xMy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG5cdCAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgb2JqZWN0LlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4xMy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IG9iamVjdC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uc3R1Yk9iamVjdCk7XG5cdCAgICAgKlxuXHQgICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG5cdCAgICAgKiAvLyA9PiBbe30sIHt9XVxuXHQgICAgICpcblx0ICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuXHQgICAgICogLy8gPT4gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcblx0ICAgICAgcmV0dXJuIHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjEzLjBcblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcblx0ICAgICAqIC8vID0+IFsnJywgJyddXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG5cdCAgICAgIHJldHVybiAnJztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4xMy4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YlRydWUpO1xuXHQgICAgICogLy8gPT4gW3RydWUsIHRydWVdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHN0dWJUcnVlKCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG5cdCAgICAgKiBlYWNoIGludm9jYXRpb24uIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAoaW5kZXgpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBVdGlsXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcblx0ICAgICAqIC8vID0+IFsnMCcsICcxJywgJzInXVxuXHQgICAgICpcblx0ICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuXHQgICAgICogLy8gPT4gWzAsIDAsIDAsIDBdXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG5cdCAgICAgIG4gPSB0b0ludGVnZXIobik7XG5cdCAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuXHQgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXHRcblx0ICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG5cdCAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblx0XG5cdCAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG5cdCAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuXHQgICAgICAgIGl0ZXJhdGVlKGluZGV4KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IFV0aWxcblx0ICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcblx0ICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuXHQgICAgICpcblx0ICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuXHQgICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG5cdCAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuXHQgICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgdG9LZXkpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgZ2l2ZW4sIHRoZSBJRCBpcyBhcHBlbmRlZCB0byBpdC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAc2luY2UgMC4xLjBcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVmaXg9JyddIFRoZSB2YWx1ZSB0byBwcmVmaXggdGhlIElEIHdpdGguXG5cdCAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG5cdCAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG5cdCAgICAgKlxuXHQgICAgICogXy51bmlxdWVJZCgpO1xuXHQgICAgICogLy8gPT4gJzEwNSdcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG5cdCAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuXHQgICAgICByZXR1cm4gdG9TdHJpbmcocHJlZml4KSArIGlkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFkZHMgdHdvIG51bWJlcnMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjQuMFxuXHQgICAgICogQGNhdGVnb3J5IE1hdGhcblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdWdlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhbiBhZGRpdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5hZGQoNiwgNCk7XG5cdCAgICAgKiAvLyA9PiAxMFxuXHQgICAgICovXG5cdCAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuXHQgICAgICByZXR1cm4gYXVnZW5kICsgYWRkZW5kO1xuXHQgICAgfSwgMCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgMy4xMC4wXG5cdCAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgdXAgbnVtYmVyLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmNlaWwoNC4wMDYpO1xuXHQgICAgICogLy8gPT4gNVxuXHQgICAgICpcblx0ICAgICAqIF8uY2VpbCg2LjAwNCwgMik7XG5cdCAgICAgKiAvLyA9PiA2LjAxXG5cdCAgICAgKlxuXHQgICAgICogXy5jZWlsKDYwNDAsIC0yKTtcblx0ICAgICAqIC8vID0+IDYxMDBcblx0ICAgICAqL1xuXHQgICAgdmFyIGNlaWwgPSBjcmVhdGVSb3VuZCgnY2VpbCcpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRGl2aWRlIHR3byBudW1iZXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC43LjBcblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aWRlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhIGRpdmlzaW9uLlxuXHQgICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLmRpdmlkZSg2LCA0KTtcblx0ICAgICAqIC8vID0+IDEuNVxuXHQgICAgICovXG5cdCAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuXHQgICAgICByZXR1cm4gZGl2aWRlbmQgLyBkaXZpc29yO1xuXHQgICAgfSwgMSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjEwLjBcblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cblx0ICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cblx0ICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgZG93biBudW1iZXIuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uZmxvb3IoNC4wMDYpO1xuXHQgICAgICogLy8gPT4gNFxuXHQgICAgICpcblx0ICAgICAqIF8uZmxvb3IoMC4wNDYsIDIpO1xuXHQgICAgICogLy8gPT4gMC4wNFxuXHQgICAgICpcblx0ICAgICAqIF8uZmxvb3IoNDA2MCwgLTIpO1xuXHQgICAgICogLy8gPT4gNDAwMFxuXHQgICAgICovXG5cdCAgICB2YXIgZmxvb3IgPSBjcmVhdGVSb3VuZCgnZmxvb3InKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbXB1dGVzIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGBhcnJheWAuIElmIGBhcnJheWAgaXMgZW1wdHkgb3IgZmFsc2V5LFxuXHQgICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQHNpbmNlIDAuMS4wXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQGNhdGVnb3J5IE1hdGhcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcblx0ICAgICAqIC8vID0+IDhcblx0ICAgICAqXG5cdCAgICAgKiBfLm1heChbXSk7XG5cdCAgICAgKiAvLyA9PiB1bmRlZmluZWRcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuXHQgICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuXHQgICAgICAgIDogdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tYXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuXHQgICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuXHQgICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IE1hdGhcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG5cdCAgICAgKlxuXHQgICAgICogXy5tYXhCeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuXHQgICAgICogLy8gPT4geyAnbic6IDIgfVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuXHQgICAgICogLy8gPT4geyAnbic6IDIgfVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcblx0ICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG5cdCAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYmFzZUd0KVxuXHQgICAgICAgIDogdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5tZWFuKFs0LCAyLCA4LCA2XSk7XG5cdCAgICAgKiAvLyA9PiA1XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG1lYW4oYXJyYXkpIHtcblx0ICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuXHQgICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIGF2ZXJhZ2VkLlxuXHQgICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjcuMFxuXHQgICAgICogQGNhdGVnb3J5IE1hdGhcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcblx0ICAgICAqXG5cdCAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuXHQgICAgICogLy8gPT4gNVxuXHQgICAgICpcblx0ICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuXHQgICAgICogXy5tZWFuQnkob2JqZWN0cywgJ24nKTtcblx0ICAgICAqIC8vID0+IDVcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWVhbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuXHQgICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcblx0ICAgICAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBzaW5jZSAwLjEuMFxuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG5cdCAgICAgKiAvLyA9PiAyXG5cdCAgICAgKlxuXHQgICAgICogXy5taW4oW10pO1xuXHQgICAgICogLy8gPT4gdW5kZWZpbmVkXG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuXHQgICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcblx0ICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgaWRlbnRpdHksIGJhc2VMdClcblx0ICAgICAgICA6IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcblx0ICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcblx0ICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuXHQgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiAxIH0sIHsgJ24nOiAyIH1dO1xuXHQgICAgICpcblx0ICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcblx0ICAgICAqIC8vID0+IHsgJ24nOiAxIH1cblx0ICAgICAqXG5cdCAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cblx0ICAgICAqIF8ubWluQnkob2JqZWN0cywgJ24nKTtcblx0ICAgICAqIC8vID0+IHsgJ24nOiAxIH1cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gbWluQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG5cdCAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuXHQgICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcblx0ICAgICAgICA6IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC43LjBcblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwcm9kdWN0LlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiBfLm11bHRpcGx5KDYsIDQpO1xuXHQgICAgICogLy8gPT4gMjRcblx0ICAgICAqL1xuXHQgICAgdmFyIG11bHRpcGx5ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtdWx0aXBsaWVyLCBtdWx0aXBsaWNhbmQpIHtcblx0ICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG5cdCAgICB9LCAxKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjEwLjBcblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIHRvLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8ucm91bmQoNC4wMDYpO1xuXHQgICAgICogLy8gPT4gNFxuXHQgICAgICpcblx0ICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuXHQgICAgICogLy8gPT4gNC4wMVxuXHQgICAgICpcblx0ICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuXHQgICAgICogLy8gPT4gNDEwMFxuXHQgICAgICovXG5cdCAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqIEBtZW1iZXJPZiBfXG5cdCAgICAgKiBAc2luY2UgNC4wLjBcblx0ICAgICAqIEBjYXRlZ29yeSBNYXRoXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG5cdCAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuXHQgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgZGlmZmVyZW5jZS5cblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogXy5zdWJ0cmFjdCg2LCA0KTtcblx0ICAgICAqIC8vID0+IDJcblx0ICAgICAqL1xuXHQgICAgdmFyIHN1YnRyYWN0ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtaW51ZW5kLCBzdWJ0cmFoZW5kKSB7XG5cdCAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcblx0ICAgIH0sIDApO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSAzLjQuMFxuXHQgICAgICogQGNhdGVnb3J5IE1hdGhcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIF8uc3VtKFs0LCAyLCA4LCA2XSk7XG5cdCAgICAgKiAvLyA9PiAyMFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzdW0oYXJyYXkpIHtcblx0ICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG5cdCAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcblx0ICAgICAgICA6IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG5cdCAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuXHQgICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICogQG1lbWJlck9mIF9cblx0ICAgICAqIEBzaW5jZSA0LjAuMFxuXHQgICAgICogQGNhdGVnb3J5IE1hdGhcblx0ICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG5cdCAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuXHQgICAgICpcblx0ICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcblx0ICAgICAqIC8vID0+IDIwXG5cdCAgICAgKlxuXHQgICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG5cdCAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG5cdCAgICAgKiAvLyA9PiAyMFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcblx0ICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG5cdCAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG5cdCAgICAgICAgOiAwO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG5cdCAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcblx0ICAgIGxvZGFzaC5hcnkgPSBhcnk7XG5cdCAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuXHQgICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG5cdCAgICBsb2Rhc2guYXNzaWduSW5XaXRoID0gYXNzaWduSW5XaXRoO1xuXHQgICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuXHQgICAgbG9kYXNoLmF0ID0gYXQ7XG5cdCAgICBsb2Rhc2guYmVmb3JlID0gYmVmb3JlO1xuXHQgICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuXHQgICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuXHQgICAgbG9kYXNoLmJpbmRLZXkgPSBiaW5kS2V5O1xuXHQgICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcblx0ICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuXHQgICAgbG9kYXNoLmNodW5rID0gY2h1bms7XG5cdCAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG5cdCAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuXHQgICAgbG9kYXNoLmNvbmQgPSBjb25kO1xuXHQgICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG5cdCAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcblx0ICAgIGxvZGFzaC5jb3VudEJ5ID0gY291bnRCeTtcblx0ICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG5cdCAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcblx0ICAgIGxvZGFzaC5jdXJyeVJpZ2h0ID0gY3VycnlSaWdodDtcblx0ICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuXHQgICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG5cdCAgICBsb2Rhc2guZGVmYXVsdHNEZWVwID0gZGVmYXVsdHNEZWVwO1xuXHQgICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG5cdCAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcblx0ICAgIGxvZGFzaC5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcblx0ICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG5cdCAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcblx0ICAgIGxvZGFzaC5kcm9wID0gZHJvcDtcblx0ICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG5cdCAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcblx0ICAgIGxvZGFzaC5kcm9wV2hpbGUgPSBkcm9wV2hpbGU7XG5cdCAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG5cdCAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuXHQgICAgbG9kYXNoLmZsYXRNYXAgPSBmbGF0TWFwO1xuXHQgICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG5cdCAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuXHQgICAgbG9kYXNoLmZsYXR0ZW4gPSBmbGF0dGVuO1xuXHQgICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG5cdCAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuXHQgICAgbG9kYXNoLmZsaXAgPSBmbGlwO1xuXHQgICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuXHQgICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcblx0ICAgIGxvZGFzaC5mcm9tUGFpcnMgPSBmcm9tUGFpcnM7XG5cdCAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuXHQgICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG5cdCAgICBsb2Rhc2guZ3JvdXBCeSA9IGdyb3VwQnk7XG5cdCAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG5cdCAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuXHQgICAgbG9kYXNoLmludGVyc2VjdGlvbkJ5ID0gaW50ZXJzZWN0aW9uQnk7XG5cdCAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG5cdCAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuXHQgICAgbG9kYXNoLmludmVydEJ5ID0gaW52ZXJ0Qnk7XG5cdCAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuXHQgICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG5cdCAgICBsb2Rhc2gua2V5QnkgPSBrZXlCeTtcblx0ICAgIGxvZGFzaC5rZXlzID0ga2V5cztcblx0ICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG5cdCAgICBsb2Rhc2gubWFwID0gbWFwO1xuXHQgICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuXHQgICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcblx0ICAgIGxvZGFzaC5tYXRjaGVzID0gbWF0Y2hlcztcblx0ICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG5cdCAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG5cdCAgICBsb2Rhc2gubWVyZ2UgPSBtZXJnZTtcblx0ICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG5cdCAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuXHQgICAgbG9kYXNoLm1ldGhvZE9mID0gbWV0aG9kT2Y7XG5cdCAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcblx0ICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG5cdCAgICBsb2Rhc2gubnRoQXJnID0gbnRoQXJnO1xuXHQgICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuXHQgICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcblx0ICAgIGxvZGFzaC5vbmNlID0gb25jZTtcblx0ICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcblx0ICAgIGxvZGFzaC5vdmVyID0gb3Zlcjtcblx0ICAgIGxvZGFzaC5vdmVyQXJncyA9IG92ZXJBcmdzO1xuXHQgICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcblx0ICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuXHQgICAgbG9kYXNoLnBhcnRpYWwgPSBwYXJ0aWFsO1xuXHQgICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcblx0ICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG5cdCAgICBsb2Rhc2gucGljayA9IHBpY2s7XG5cdCAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuXHQgICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG5cdCAgICBsb2Rhc2gucHJvcGVydHlPZiA9IHByb3BlcnR5T2Y7XG5cdCAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG5cdCAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG5cdCAgICBsb2Rhc2gucHVsbEFsbEJ5ID0gcHVsbEFsbEJ5O1xuXHQgICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG5cdCAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuXHQgICAgbG9kYXNoLnJhbmdlID0gcmFuZ2U7XG5cdCAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG5cdCAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcblx0ICAgIGxvZGFzaC5yZWplY3QgPSByZWplY3Q7XG5cdCAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuXHQgICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuXHQgICAgbG9kYXNoLnJldmVyc2UgPSByZXZlcnNlO1xuXHQgICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuXHQgICAgbG9kYXNoLnNldCA9IHNldDtcblx0ICAgIGxvZGFzaC5zZXRXaXRoID0gc2V0V2l0aDtcblx0ICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcblx0ICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuXHQgICAgbG9kYXNoLnNvcnRCeSA9IHNvcnRCeTtcblx0ICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcblx0ICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG5cdCAgICBsb2Rhc2guc3BsaXQgPSBzcGxpdDtcblx0ICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG5cdCAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG5cdCAgICBsb2Rhc2gudGFrZSA9IHRha2U7XG5cdCAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuXHQgICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG5cdCAgICBsb2Rhc2gudGFrZVdoaWxlID0gdGFrZVdoaWxlO1xuXHQgICAgbG9kYXNoLnRhcCA9IHRhcDtcblx0ICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuXHQgICAgbG9kYXNoLnRocnUgPSB0aHJ1O1xuXHQgICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuXHQgICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuXHQgICAgbG9kYXNoLnRvUGFpcnNJbiA9IHRvUGFpcnNJbjtcblx0ICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG5cdCAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG5cdCAgICBsb2Rhc2gudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuXHQgICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG5cdCAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcblx0ICAgIGxvZGFzaC51bmlvbkJ5ID0gdW5pb25CeTtcblx0ICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG5cdCAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG5cdCAgICBsb2Rhc2gudW5pcUJ5ID0gdW5pcUJ5O1xuXHQgICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG5cdCAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcblx0ICAgIGxvZGFzaC51bnppcCA9IHVuemlwO1xuXHQgICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcblx0ICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG5cdCAgICBsb2Rhc2gudXBkYXRlV2l0aCA9IHVwZGF0ZVdpdGg7XG5cdCAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuXHQgICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG5cdCAgICBsb2Rhc2gud2l0aG91dCA9IHdpdGhvdXQ7XG5cdCAgICBsb2Rhc2gud29yZHMgPSB3b3Jkcztcblx0ICAgIGxvZGFzaC53cmFwID0gd3JhcDtcblx0ICAgIGxvZGFzaC54b3IgPSB4b3I7XG5cdCAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcblx0ICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcblx0ICAgIGxvZGFzaC56aXAgPSB6aXA7XG5cdCAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuXHQgICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuXHQgICAgbG9kYXNoLnppcFdpdGggPSB6aXBXaXRoO1xuXHRcblx0ICAgIC8vIEFkZCBhbGlhc2VzLlxuXHQgICAgbG9kYXNoLmVudHJpZXMgPSB0b1BhaXJzO1xuXHQgICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcblx0ICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25Jbjtcblx0ICAgIGxvZGFzaC5leHRlbmRXaXRoID0gYXNzaWduSW5XaXRoO1xuXHRcblx0ICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cblx0ICAgIG1peGluKGxvZGFzaCwgbG9kYXNoKTtcblx0XG5cdCAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cdFxuXHQgICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG5cdCAgICBsb2Rhc2guYWRkID0gYWRkO1xuXHQgICAgbG9kYXNoLmF0dGVtcHQgPSBhdHRlbXB0O1xuXHQgICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcblx0ICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcblx0ICAgIGxvZGFzaC5jZWlsID0gY2VpbDtcblx0ICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuXHQgICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG5cdCAgICBsb2Rhc2guY2xvbmVEZWVwID0gY2xvbmVEZWVwO1xuXHQgICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuXHQgICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcblx0ICAgIGxvZGFzaC5jb25mb3Jtc1RvID0gY29uZm9ybXNUbztcblx0ICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG5cdCAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuXHQgICAgbG9kYXNoLmRpdmlkZSA9IGRpdmlkZTtcblx0ICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuXHQgICAgbG9kYXNoLmVxID0gZXE7XG5cdCAgICBsb2Rhc2guZXNjYXBlID0gZXNjYXBlO1xuXHQgICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcblx0ICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuXHQgICAgbG9kYXNoLmZpbmQgPSBmaW5kO1xuXHQgICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcblx0ICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcblx0ICAgIGxvZGFzaC5maW5kTGFzdCA9IGZpbmRMYXN0O1xuXHQgICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuXHQgICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG5cdCAgICBsb2Rhc2guZmxvb3IgPSBmbG9vcjtcblx0ICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcblx0ICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG5cdCAgICBsb2Rhc2guZm9ySW4gPSBmb3JJbjtcblx0ICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcblx0ICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG5cdCAgICBsb2Rhc2guZm9yT3duUmlnaHQgPSBmb3JPd25SaWdodDtcblx0ICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG5cdCAgICBsb2Rhc2guZ3QgPSBndDtcblx0ICAgIGxvZGFzaC5ndGUgPSBndGU7XG5cdCAgICBsb2Rhc2guaGFzID0gaGFzO1xuXHQgICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG5cdCAgICBsb2Rhc2guaGVhZCA9IGhlYWQ7XG5cdCAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcblx0ICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuXHQgICAgbG9kYXNoLmluZGV4T2YgPSBpbmRleE9mO1xuXHQgICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuXHQgICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcblx0ICAgIGxvZGFzaC5pc0FyZ3VtZW50cyA9IGlzQXJndW1lbnRzO1xuXHQgICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuXHQgICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuXHQgICAgbG9kYXNoLmlzQXJyYXlMaWtlID0gaXNBcnJheUxpa2U7XG5cdCAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcblx0ICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cdCAgICBsb2Rhc2guaXNCdWZmZXIgPSBpc0J1ZmZlcjtcblx0ICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG5cdCAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuXHQgICAgbG9kYXNoLmlzRW1wdHkgPSBpc0VtcHR5O1xuXHQgICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuXHQgICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG5cdCAgICBsb2Rhc2guaXNFcnJvciA9IGlzRXJyb3I7XG5cdCAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcblx0ICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblx0ICAgIGxvZGFzaC5pc0ludGVnZXIgPSBpc0ludGVnZXI7XG5cdCAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcblx0ICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuXHQgICAgbG9kYXNoLmlzTWF0Y2ggPSBpc01hdGNoO1xuXHQgICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG5cdCAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcblx0ICAgIGxvZGFzaC5pc05hdGl2ZSA9IGlzTmF0aXZlO1xuXHQgICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG5cdCAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuXHQgICAgbG9kYXNoLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cdCAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcblx0ICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG5cdCAgICBsb2Rhc2guaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7XG5cdCAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblx0ICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcblx0ICAgIGxvZGFzaC5pc1NldCA9IGlzU2V0O1xuXHQgICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cdCAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcblx0ICAgIGxvZGFzaC5pc1R5cGVkQXJyYXkgPSBpc1R5cGVkQXJyYXk7XG5cdCAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblx0ICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG5cdCAgICBsb2Rhc2guaXNXZWFrU2V0ID0gaXNXZWFrU2V0O1xuXHQgICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuXHQgICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcblx0ICAgIGxvZGFzaC5sYXN0ID0gbGFzdDtcblx0ICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuXHQgICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcblx0ICAgIGxvZGFzaC5sb3dlckZpcnN0ID0gbG93ZXJGaXJzdDtcblx0ICAgIGxvZGFzaC5sdCA9IGx0O1xuXHQgICAgbG9kYXNoLmx0ZSA9IGx0ZTtcblx0ICAgIGxvZGFzaC5tYXggPSBtYXg7XG5cdCAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcblx0ICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcblx0ICAgIGxvZGFzaC5tZWFuQnkgPSBtZWFuQnk7XG5cdCAgICBsb2Rhc2gubWluID0gbWluO1xuXHQgICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG5cdCAgICBsb2Rhc2guc3R1YkFycmF5ID0gc3R1YkFycmF5O1xuXHQgICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcblx0ICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcblx0ICAgIGxvZGFzaC5zdHViU3RyaW5nID0gc3R1YlN0cmluZztcblx0ICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuXHQgICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG5cdCAgICBsb2Rhc2gubnRoID0gbnRoO1xuXHQgICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuXHQgICAgbG9kYXNoLm5vb3AgPSBub29wO1xuXHQgICAgbG9kYXNoLm5vdyA9IG5vdztcblx0ICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG5cdCAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuXHQgICAgbG9kYXNoLnBhZFN0YXJ0ID0gcGFkU3RhcnQ7XG5cdCAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcblx0ICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG5cdCAgICBsb2Rhc2gucmVkdWNlID0gcmVkdWNlO1xuXHQgICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG5cdCAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuXHQgICAgbG9kYXNoLnJlcGxhY2UgPSByZXBsYWNlO1xuXHQgICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcblx0ICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuXHQgICAgbG9kYXNoLnJ1bkluQ29udGV4dCA9IHJ1bkluQ29udGV4dDtcblx0ICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG5cdCAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG5cdCAgICBsb2Rhc2guc25ha2VDYXNlID0gc25ha2VDYXNlO1xuXHQgICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuXHQgICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG5cdCAgICBsb2Rhc2guc29ydGVkSW5kZXhCeSA9IHNvcnRlZEluZGV4Qnk7XG5cdCAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG5cdCAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuXHQgICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleEJ5ID0gc29ydGVkTGFzdEluZGV4Qnk7XG5cdCAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcblx0ICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG5cdCAgICBsb2Rhc2guc3RhcnRzV2l0aCA9IHN0YXJ0c1dpdGg7XG5cdCAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcblx0ICAgIGxvZGFzaC5zdW0gPSBzdW07XG5cdCAgICBsb2Rhc2guc3VtQnkgPSBzdW1CeTtcblx0ICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuXHQgICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG5cdCAgICBsb2Rhc2gudG9GaW5pdGUgPSB0b0Zpbml0ZTtcblx0ICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG5cdCAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcblx0ICAgIGxvZGFzaC50b0xvd2VyID0gdG9Mb3dlcjtcblx0ICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuXHQgICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuXHQgICAgbG9kYXNoLnRvU3RyaW5nID0gdG9TdHJpbmc7XG5cdCAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG5cdCAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG5cdCAgICBsb2Rhc2gudHJpbUVuZCA9IHRyaW1FbmQ7XG5cdCAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuXHQgICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG5cdCAgICBsb2Rhc2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcblx0ICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuXHQgICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcblx0ICAgIGxvZGFzaC51cHBlckZpcnN0ID0gdXBwZXJGaXJzdDtcblx0XG5cdCAgICAvLyBBZGQgYWxpYXNlcy5cblx0ICAgIGxvZGFzaC5lYWNoID0gZm9yRWFjaDtcblx0ICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG5cdCAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXHRcblx0ICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgc291cmNlID0ge307XG5cdCAgICAgIGJhc2VGb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG5cdCAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBzb3VyY2U7XG5cdCAgICB9KCkpLCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuXHRcblx0ICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKiBAbWVtYmVyT2YgX1xuXHQgICAgICogQHR5cGUge3N0cmluZ31cblx0ICAgICAqL1xuXHQgICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXHRcblx0ICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cblx0ICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcblx0ICAgICAgbG9kYXNoW21ldGhvZE5hbWVdLnBsYWNlaG9sZGVyID0gbG9kYXNoO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uZHJvcGAgYW5kIGBfLnRha2VgIHZhcmlhbnRzLlxuXHQgICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG5cdCAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcblx0ICAgICAgICBuID0gbiA9PT0gdW5kZWZpbmVkID8gMSA6IG5hdGl2ZU1heCh0b0ludGVnZXIobiksIDApO1xuXHRcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcblx0ICAgICAgICAgID8gbmV3IExhenlXcmFwcGVyKHRoaXMpXG5cdCAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblx0XG5cdCAgICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18pIHtcblx0ICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmVzdWx0Ll9fdmlld3NfXy5wdXNoKHtcblx0ICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG5cdCAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpW21ldGhvZE5hbWVdKG4pLnJldmVyc2UoKTtcblx0ICAgICAgfTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cblx0ICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG5cdCAgICAgIHZhciB0eXBlID0gaW5kZXggKyAxLFxuXHQgICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cdFxuXHQgICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihpdGVyYXRlZSkge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG5cdCAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG5cdCAgICAgICAgICAnaXRlcmF0ZWUnOiBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksXG5cdCAgICAgICAgICAndHlwZSc6IHR5cGVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gcmVzdWx0Ll9fZmlsdGVyZWRfXyB8fCBpc0ZpbHRlcjtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9O1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuXHQgICAgYXJyYXlFYWNoKFsnaGVhZCcsICdsYXN0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG5cdCAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cdFxuXHQgICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcblx0ICAgICAgfTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cblx0ICAgIGFycmF5RWFjaChbJ2luaXRpYWwnLCAndGFpbCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuXHQgICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXHRcblx0ICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG5cdCAgICAgIH07XG5cdCAgICB9KTtcblx0XG5cdCAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoaWRlbnRpdHkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuXHQgICAgfTtcblx0XG5cdCAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuXHQgICAgICBpZiAodHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcblx0ICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXHRcblx0ICAgICAgdmFyIHJlc3VsdCA9IHRoaXM7XG5cdCAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuXHQgICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcblx0ICAgICAgfSBlbHNlIGlmIChzdGFydCkge1xuXHQgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZW5kICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcblx0ICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfTtcblx0XG5cdCAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudGFrZShNQVhfQVJSQVlfTEVOR1RIKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG5cdCAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuXHQgICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuXHQgICAgICAgICAgaXNUYWtlciA9IC9eKD86aGVhZHxsYXN0KSQvLnRlc3QobWV0aG9kTmFtZSksXG5cdCAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcblx0ICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXHRcblx0ICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuXHQgICAgICAgICAgICBhcmdzID0gaXNUYWtlciA/IFsxXSA6IGFyZ3VtZW50cyxcblx0ICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcblx0ICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuXHQgICAgICAgICAgICB1c2VMYXp5ID0gaXNMYXp5IHx8IGlzQXJyYXkodmFsdWUpO1xuXHRcblx0ICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaEZ1bmMuYXBwbHkobG9kYXNoLCBhcnJheVB1c2goW3ZhbHVlXSwgYXJncykpO1xuXHQgICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG5cdCAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cblx0ICAgICAgICAgIGlzTGF6eSA9IHVzZUxhenkgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG5cdCAgICAgICAgICAgIGlzSHlicmlkID0gISF0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCxcblx0ICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuXHQgICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cdFxuXHQgICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcblx0ICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcblx0ICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcblx0ICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuXHQgICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcblx0ICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuXHQgICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG5cdCAgICAgIH07XG5cdCAgICB9KTtcblx0XG5cdCAgICAvLyBBZGQgYEFycmF5YCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cblx0ICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuXHQgICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG5cdCAgICAgICAgICBjaGFpbk5hbWUgPSAvXig/OnB1c2h8c29ydHx1bnNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSkgPyAndGFwJyA6ICd0aHJ1Jyxcblx0ICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cdFxuXHQgICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdCAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcblx0ICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKTtcblx0ICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzW2NoYWluTmFtZV0oZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH07XG5cdCAgICB9KTtcblx0XG5cdCAgICAvLyBNYXAgbWluaWZpZWQgbWV0aG9kIG5hbWVzIHRvIHRoZWlyIHJlYWwgbmFtZXMuXG5cdCAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuXHQgICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcblx0ICAgICAgaWYgKGxvZGFzaEZ1bmMpIHtcblx0ICAgICAgICB2YXIga2V5ID0gKGxvZGFzaEZ1bmMubmFtZSArICcnKSxcblx0ICAgICAgICAgICAgbmFtZXMgPSByZWFsTmFtZXNba2V5XSB8fCAocmVhbE5hbWVzW2tleV0gPSBbXSk7XG5cdFxuXHQgICAgICAgIG5hbWVzLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuXHQgICAgICAnbmFtZSc6ICd3cmFwcGVyJyxcblx0ICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcblx0ICAgIH1dO1xuXHRcblx0ICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG5cdCAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG5cdCAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmV2ZXJzZSA9IGxhenlSZXZlcnNlO1xuXHQgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXHRcblx0ICAgIC8vIEFkZCBjaGFpbiBzZXF1ZW5jZSBtZXRob2RzIHRvIHRoZSBgbG9kYXNoYCB3cmFwcGVyLlxuXHQgICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcblx0ICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG5cdCAgICBsb2Rhc2gucHJvdG90eXBlLmNvbW1pdCA9IHdyYXBwZXJDb21taXQ7XG5cdCAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcblx0ICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG5cdCAgICBsb2Rhc2gucHJvdG90eXBlLnJldmVyc2UgPSB3cmFwcGVyUmV2ZXJzZTtcblx0ICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblx0XG5cdCAgICAvLyBBZGQgbGF6eSBhbGlhc2VzLlxuXHQgICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblx0XG5cdCAgICBpZiAoc3ltSXRlcmF0b3IpIHtcblx0ICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBsb2Rhc2g7XG5cdCAgfSk7XG5cdFxuXHQgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0ICAvLyBFeHBvcnQgbG9kYXNoLlxuXHQgIHZhciBfID0gcnVuSW5Db250ZXh0KCk7XG5cdFxuXHQgIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuXHQgIGlmICh0cnVlKSB7XG5cdCAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG5cdCAgICAvLyBsb2FkZWQgYnkgYSBzY3JpcHQgdGFnIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTUQgbG9hZGVyLlxuXHQgICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cblx0ICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG5cdCAgICByb290Ll8gPSBfO1xuXHRcblx0ICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG5cdCAgICAvLyByZWZlcmVuY2VkIGFzIHRoZSBcInVuZGVyc2NvcmVcIiBtb2R1bGUuXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBfO1xuXHQgICAgfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0ICB9XG5cdCAgLy8gQ2hlY2sgZm9yIGBleHBvcnRzYCBhZnRlciBgZGVmaW5lYCBpbiBjYXNlIGEgYnVpbGQgb3B0aW1pemVyIGFkZHMgaXQuXG5cdCAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuXHQgICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuXHQgICAgKGZyZWVNb2R1bGUuZXhwb3J0cyA9IF8pLl8gPSBfO1xuXHQgICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuXHQgICAgZnJlZUV4cG9ydHMuXyA9IF87XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuXHQgICAgcm9vdC5fID0gXztcblx0ICB9XG5cdH0uY2FsbCh0aGlzKSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpKG1vZHVsZSkpKVxuXG4vKioqLyB9LFxuLyogMTY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdFx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1vZHVsZTtcclxuXHR9XHJcblxuXG4vKioqLyB9LFxuLyogMTY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfYmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZURhdGUocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICd1LWNoZWNrYm94JyB9O1xuXHQgICgwLCBfYmFzZS5DcmVhdEFwcCkoY29tcG9uZW50SW5mbywgdW1ldGEsIHBhcmFtcyk7XG5cdH0gLyogaXVhcCBjaGVja2JveCAqL1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVEYXRlO1xuXG4vKioqLyB9LFxuLyogMTY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3RyaW5naWZ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuXHRcblx0dmFyIF9zdHJpbmdpZnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5naWZ5KTtcblx0XG5cdGV4cG9ydHMuQ3JlYXRBcHAgPSBDcmVhdEFwcDtcblx0ZXhwb3J0cy5DdXN0b21JY29uQ2xzID0gQ3VzdG9tSWNvbkNscztcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBDcmVhdEFwcChjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKSB7XG5cdCAgdmFyIGRvbSA9IGNvbXBvbmVudEluZm8uZWxlbWVudC5jaGlsZHJlblswXTtcblx0ICB2YXIgdU1ldGEgPSBfbG9kYXNoMi5kZWZhdWx0LmV4dGVuZCh1bWV0YSwgcGFyYW1zLnVtZXRhKTtcblx0ICBpZiAoIXVNZXRhLmRhdGEpIHtcblx0ICAgIHVNZXRhLmRhdGEgPSAnZGF0YSc7XG5cdCAgfVxuXHQgIC8vIOWvueS6jui+k+WFpeahhue7n+S4gOa3u+WKoHBsYWNlaG9sZGVyXG5cdCAgaWYgKHBhcmFtcy52bSkge1xuXHQgICAgaWYgKHBhcmFtcy52bS5wbGFjZWhvbGRlcikge1xuXHQgICAgICB2YXIgZWxlbWVudCA9IGRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXTtcblx0ICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnBsYWNlaG9sZGVyLm5vZGVWYWx1ZSA9IHBhcmFtcy52bS5wbGFjZWhvbGRlcjtcblx0ICAgIH1cblx0ICB9XG5cdCAgLy8g6YCC6YWNZGF0YXNvdXJjZShjaGVja2JveCByYWRpb2JveCBzZWxlY3QpXG5cdCAgaWYgKHBhcmFtcy52bSAmJiBwYXJhbXMudm0uZGF0YXNvdXJjZSkge1xuXHQgICAgdU1ldGEuZGF0YXNvdXJjZSA9ICdkYXRhc291cmNlJztcblx0ICB9XG5cdCAgZG9tLnNldEF0dHJpYnV0ZSgndS1tZXRhJywgKDAsIF9zdHJpbmdpZnkyLmRlZmF1bHQpKHVNZXRhKSk7XG5cdCAgdmFyIHZtID0ge307XG5cdCAgLy8g6YCC6YWN6ICB55qEYXBpIOi/memHjOWumuS5ieaIkHZt5pu056ym5ZCI6K+t5LmJIG1vZGlmeSBieSBzb25naGxjXG5cdCAgaWYgKHBhcmFtcy5kYXRhKSB7XG5cdCAgICB2bSA9IF9sb2Rhc2gyLmRlZmF1bHQuZXh0ZW5kKHZtLCBwYXJhbXMuZGF0YSk7XG5cdCAgfVxuXHQgIGlmIChwYXJhbXMudm0pIHtcblx0ICAgIHZtID0gX2xvZGFzaDIuZGVmYXVsdC5leHRlbmQodm0sIHBhcmFtcy52bSk7XG5cdCAgfVxuXHRcblx0ICB3aW5kb3cuYXBwLmNyZWF0ZUNvbXAoZG9tLCB2bSk7XG5cdH1cblx0ZnVuY3Rpb24gQ3VzdG9tSWNvbkNscyhwYXJhbXMsIGNvbXBvbmVudEluZm8sIGN1c3RvbVRhZykge1xuXHQgIC8vIOa3u+WKoOiHquWumuS5ieagt+W8j+aUr+aMgVxuXHQgIGlmIChwYXJhbXMudm0pIHtcblx0ICAgIGlmIChwYXJhbXMudm0uaWNvbkNscykge1xuXHQgICAgICB2YXIgZG9tID0gY29tcG9uZW50SW5mby5lbGVtZW50LmNoaWxkcmVuWzBdO1xuXHQgICAgICB2YXIgZWxlbWVudCA9IGRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZShjdXN0b21UYWcpWzBdO1xuXHQgICAgICB2YXIgbm9kZUNscyA9IHBhcmFtcy52bS5pY29uQ2xzLmluZGV4T2YoJ3VmJykgPj0gMCA/IHBhcmFtcy52bS5pY29uQ2xzICsgJyB1LWZvcm0tY29udHJvbC1mZWVkYmFjaycgOiBwYXJhbXMudm0uaWNvbkNscztcblx0ICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmNsYXNzLm5vZGVWYWx1ZSA9IG5vZGVDbHM7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiAxNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICdjdXJyZW5jeScgfTtcblx0ICAoMCwgX2Jhc2UuQ3JlYXRBcHApKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpO1xuXHR9XG5cdC8qIGl1YXAgc3dpdGNoICovXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZURyb3Bkb3duO1xuXG4vKioqLyB9LFxuLyogMTY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfYmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZURhdGUocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICd1LWRhdGUnLCAnZm9ybWF0JzogJ1lZWVktTU0tREQnIH07XG5cdCAgLy8g6Ieq5a6a5LmJ5qC35byPXG5cdCAgKDAsIF9iYXNlLkN1c3RvbUljb25DbHMpKHBhcmFtcywgY29tcG9uZW50SW5mbywgJ3NwYW4nKTtcblx0ICAoMCwgX2Jhc2UuQ3JlYXRBcHApKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpO1xuXHR9IC8qIGl1YXAgZGF0ZXBpY2VyICovXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZURhdGU7XG5cbi8qKiovIH0sXG4vKiAxNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICdzdHJpbmcnIH07XG5cdCAgKDAsIF9iYXNlLkNyZWF0QXBwKShjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKTtcblx0fVxuXHQvKiBpdWFwIHUtaW5wdXQgKi9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRHJvcGRvd247XG5cbi8qKiovIH0sXG4vKiAxNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICd1LW1vbnRoJyB9O1xuXHQgICgwLCBfYmFzZS5DcmVhdEFwcCkoY29tcG9uZW50SW5mbywgdW1ldGEsIHBhcmFtcyk7XG5cdH1cblx0LyogaXVhcCBzd2l0Y2ggKi9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRHJvcGRvd247XG5cbi8qKiovIH0sXG4vKiAxNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICdwYWdpbmF0aW9uJyB9O1xuXHQgIGlmIChwYXJhbXMudm0gJiYgcGFyYW1zLnZtLnNpemVDaGFuZ2UpIHtcblx0ICAgIHVtZXRhLnNpemVDaGFuZ2UgPSAnc2l6ZUNoYW5nZSc7XG5cdCAgfVxuXHQgIGlmIChwYXJhbXMudm0gJiYgcGFyYW1zLnZtLnBhZ2VDaGFuZ2UpIHtcblx0ICAgIHVtZXRhLnBhZ2VDaGFuZ2UgPSAncGFnZUNoYW5nZSc7XG5cdCAgfVxuXHQgICgwLCBfYmFzZS5DcmVhdEFwcCkoY29tcG9uZW50SW5mbywgdW1ldGEsIHBhcmFtcyk7XG5cdH1cblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRHJvcGRvd247XG5cbi8qKiovIH0sXG4vKiAxNzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRGF0ZShwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcblx0ICB2YXIgdW1ldGEgPSB7ICd0eXBlJzogJ3UtcmFkaW8nIH07XG5cdCAgdmFyIGRvbSA9IGNvbXBvbmVudEluZm8uZWxlbWVudC5jaGlsZHJlblswXTtcblx0ICBkb20uY2hpbGRyZW5bMF0uY2hpbGROb2Rlc1swXS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBNYXRoLnJhbmRvbSgpKTtcblx0ICAoMCwgX2Jhc2UuQ3JlYXRBcHApKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpO1xuXHR9IC8qIGl1YXAgZGF0ZXBpY2VyICovXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZURhdGU7XG5cbi8qKiovIH0sXG4vKiAxNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICd1LWNvbWJvYm94JyB9O1xuXHQgIC8vIOiHquWumuS5ieagt+W8j1xuXHQgICgwLCBfYmFzZS5DdXN0b21JY29uQ2xzKShwYXJhbXMsIGNvbXBvbmVudEluZm8sICdzcGFuJyk7XG5cdCAgKDAsIF9iYXNlLkNyZWF0QXBwKShjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKTtcblx0fSAvKiBpdWFwIHNlbGVjdChkcm9wZG93bikgKi9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRHJvcGRvd247XG5cbi8qKiovIH0sXG4vKiAxNzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9iYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIHVtZXRhID0geyAndHlwZSc6ICd1LXN3aXRjaCcsICdjaGVja2VkVmFsdWUnOiAnMScsICd1bkNoZWNrZWRWYWx1ZSc6ICcwJyB9O1xuXHQgICgwLCBfYmFzZS5DcmVhdEFwcCkoY29tcG9uZW50SW5mbywgdW1ldGEsIHBhcmFtcyk7XG5cdH1cblx0LyogaXVhcCBzd2l0Y2ggKi9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRHJvcGRvd247XG5cbi8qKiovIH0sXG4vKiAxNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0LyogaXVhcCBzd2l0Y2ggKi9cblx0ZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG5cdCAgdmFyIGRvbSA9IGNvbXBvbmVudEluZm8uZWxlbWVudC5jaGlsZHJlblswXTtcblx0ICB2YXIgb3B0aW9uID0gcGFyYW1zLm9wdGlvbjtcblx0ICBpZiAob3B0aW9uICYmIG9wdGlvbi50aXRsZSAmJiB0eXBlb2Ygb3B0aW9uLnRpdGxlID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBvcHRpb24udGl0bGUgPSBvcHRpb24udGl0bGUoKTtcblx0ICB9XG5cdCAgbmV3IHdpbmRvdy51LlRvb2x0aXAoZG9tLCBwYXJhbXMub3B0aW9uKTtcblx0fVxuXHRleHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVEcm9wZG93bjtcblxuLyoqKi8gfSxcbi8qIDE3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2Jhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVEcm9wZG93bihwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcblx0ICB2YXIgdW1ldGEgPSB7ICd0eXBlJzogJ3RyZWUnIH07XG5cdCAgaWYgKHBhcmFtcy52bSAmJiBwYXJhbXMudm0uc2V0dGluZykge1xuXHQgICAgdW1ldGEuc2V0dGluZyA9ICdzZXR0aW5nJztcblx0ICB9XG5cdCAgKDAsIF9iYXNlLkNyZWF0QXBwKShjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKTtcblx0fVxuXHQvKiBpdWFwIHN3aXRjaCAqL1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVEcm9wZG93bjtcblxuLyoqKi8gfSxcbi8qIDE3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2Jhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVEcm9wZG93bihwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcblx0ICB2YXIgdW1ldGEgPSB7ICd0eXBlJzogJ3UteWVhcicgfTtcblx0ICAoMCwgX2Jhc2UuQ3JlYXRBcHApKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpO1xuXHR9XG5cdC8qIGl1YXAgc3dpdGNoICovXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZURyb3Bkb3duO1xuXG4vKioqLyB9LFxuLyogMTc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfYmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZURyb3Bkb3duKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuXHQgIHZhciB1bWV0YSA9IHsgJ3R5cGUnOiAndS15ZWFybW9udGgnIH07XG5cdCAgKDAsIF9iYXNlLkNyZWF0QXBwKShjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKTtcblx0fVxuXHQvKiBpdWFwIHN3aXRjaCAqL1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVEcm9wZG93bjtcblxuLyoqKi8gfSxcbi8qIDE4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vYm94LWNvbnRlbnQvaW5kZXguaHRtbFwiOiAxODEsXG5cdFx0XCIuL2JveC1maWx0ZXIvaW5kZXguaHRtbFwiOiAxODIsXG5cdFx0XCIuL2JveC1zdGlja3kvaW5kZXguaHRtbFwiOiAxODMsXG5cdFx0XCIuL2JveC10YWJzL2luZGV4Lmh0bWxcIjogMTg0LFxuXHRcdFwiLi9ib3gvaW5kZXguaHRtbFwiOiAxODUsXG5cdFx0XCIuL2Nhc2NhZGVyL2luZGV4Lmh0bWxcIjogMTg2LFxuXHRcdFwiLi9jYXNpdGVtL2luZGV4Lmh0bWxcIjogMTg3LFxuXHRcdFwiLi9kYXRlcGlja2VyL2luZGV4Lmh0bWxcIjogMTE5LFxuXHRcdFwiLi9kYXRldGltZXBpY2tlci9pbmRleC5odG1sXCI6IDEzNyxcblx0XHRcIi4vZHJvcGRvd24vaW5kZXguaHRtbFwiOiAxMzksXG5cdFx0XCIuL2Zvcm0tY3RuL2luZGV4Lmh0bWxcIjogMTg4LFxuXHRcdFwiLi9mb3JtLWdyb3VwL2luZGV4Lmh0bWxcIjogMTg5LFxuXHRcdFwiLi9mb3JtLXRleHQvaW5kZXguaHRtbFwiOiAxOTAsXG5cdFx0XCIuL2Zvcm0tdGl0bGUvaW5kZXguaHRtbFwiOiAxOTEsXG5cdFx0XCIuL3F1ZXJ5LXRhYnMvaW5kZXguaHRtbFwiOiAxOTIsXG5cdFx0XCIuL3N0YXRlLWl0ZW0vaW5kZXguaHRtbFwiOiAxOTMsXG5cdFx0XCIuL3N0YXRlLXRhYnMvaW5kZXguaHRtbFwiOiAxOTQsXG5cdFx0XCIuL3N0ZXAtbGVnZW5kL2luZGV4Lmh0bWxcIjogMTk1LFxuXHRcdFwiLi9zdGVwL2luZGV4Lmh0bWxcIjogMTk2LFxuXHRcdFwiLi9zdWJtaXQvaW5kZXguaHRtbFwiOiAxOTcsXG5cdFx0XCIuL3UtY2hlY2tib3gvaW5kZXguaHRtbFwiOiAxOTgsXG5cdFx0XCIuL3UtY3VycmVuY3kvaW5kZXguaHRtbFwiOiAxOTksXG5cdFx0XCIuL3UtZGF0ZXBpY2tlci9pbmRleC5odG1sXCI6IDIwMCxcblx0XHRcIi4vdS1pbnB1dC9pbmRleC5odG1sXCI6IDIwMSxcblx0XHRcIi4vdS1tb250aC9pbmRleC5odG1sXCI6IDIwMixcblx0XHRcIi4vdS1wYWdpbmF0aW9uL2luZGV4Lmh0bWxcIjogMjAzLFxuXHRcdFwiLi91LXJhZGlvL2luZGV4Lmh0bWxcIjogMjA0LFxuXHRcdFwiLi91LXNlbGVjdC9pbmRleC5odG1sXCI6IDIwNSxcblx0XHRcIi4vdS1zd2l0Y2gvaW5kZXguaHRtbFwiOiAyMDYsXG5cdFx0XCIuL3UtdG9vbHRpcC9pbmRleC5odG1sXCI6IDIwNyxcblx0XHRcIi4vdS10cmVlL2luZGV4Lmh0bWxcIjogMjA4LFxuXHRcdFwiLi91LXllYXIvaW5kZXguaHRtbFwiOiAyMDksXG5cdFx0XCIuL3UteWVhcm1vbnRoL2luZGV4Lmh0bWxcIjogMjEwXG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRcdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5cdG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG5cdHdlYnBhY2tDb250ZXh0LmlkID0gMTgwO1xuXG5cbi8qKiovIH0sXG4vKiAxODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWJveC1jb250ZW50PiA8IS0tIGtvIGlmOiB0aXRsZSAtLT4gPGRpdiBjbGFzcz1ib3gtY29udGVudC10aXRsZSBkYXRhLWJpbmQ9dGV4dDp0aXRsZT48L2Rpdj4gPCEtLSAva28gLS0+IDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDE4MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9Ym94LWZpbHRlcj4gPGRpdiBjbGFzcz1cXFwicHVsbC1sZWZ0IGJveC1maWx0ZXItdGl0bGVcXFwiPiA8c3BhbiBkYXRhLWJpbmQ9dGV4dDp0aXRsZT48L3NwYW4+IDwvZGl2PiA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPiA8IS0tIGtvIGlmOiBxaGlkZGVuIC0tPiA8ZGl2IGNsYXNzPXB1bGwtcmlnaHQ+IDxmb3JtIGNsYXNzPVxcXCJmb3JtLXNlYXJjaCB1LWlucHV0LWdyb3VwXFxcIiBkYXRhLWJpbmQ9c3VibWl0OnF1ZXJ5PiA8aW5wdXQgdHlwZT10ZXh0IGNsYXNzPVxcXCJ1LWZvcm0tY29udHJvbCBpbnB1dF9zZWFyY2hcXFwiIG5hbWU9c2VhcmNoX0xJS0VfcHJvZHVjdE5hbWUgZGF0YS1iaW5kPXZhbHVlOnEsYXR0cjp7cGxhY2Vob2xkZXI6cGxhY2Vob2xkZXJ9PiA8c3BhbiBjbGFzcz11LWlucHV0LWdyb3VwLWJ0bj4gPGJ1dHRvbiB0eXBlPXN1Ym1pdCBjbGFzcz1cXFwiYnRuIGJ0bi13aGl0ZSBuby1idG4tb3V0bGluZVxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogcXVlcnlcXFwiPiA8aSBjbGFzcz1cXFwiZmEgZmEtc2VhcmNoXFxcIj48L2k+IDwvYnV0dG9uPiA8L3NwYW4+IDwvZm9ybT4gPC9kaXY+IDwhLS0gL2tvIC0tPiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWJveC1zdGlja3ktY3RuPiA8ZGl2IGNsYXNzPWJveC1zdGlja3kgaWQ9Ym94LXN0aWNreT4gPGRpdiBjbGFzcz11LXJvdz4gPGRpdiBjbGFzcz1cXFwidS1jb2wtMiBib3gtc3RpY2t5LXRpdGxlXFxcIj4gPHNwYW4gZGF0YS1iaW5kPXRleHQ6dGl0bGU+PC9zcGFuPiA8L2Rpdj4gPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT48IS0tIC9rbyAtLT4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWJveC10YWJzPiA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxODUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWJveD4gPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT48IS0tIC9rbyAtLT4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMTg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1jYXNjYWRlciBkYXRhLWJpbmQ9XFxcImNsaWNrb3V0c2lkZTogaGFuZGxlQ2xvc2VcXFwiPiA8ZGl2IGNsYXNzPVxcXCJ1LWZvcm0tY29udHJvbCBjYXNjYWRlci1kaXNwbGF5XFxcIiBzdHlsZT1saW5lLWhlaWdodDoyNHB4IGRhdGEtYmluZD1cXFwiY2xpY2s6IGhhbmRsZVZpc2libGVcXFwiPiA8c3BhbiBkYXRhLWJpbmQ9dGV4dDpzZWxlY3RlZFZhbHVlKCkubmFtZT48L3NwYW4+IDxpIGNsYXNzPVxcXCJmYSBmYS1hbmdsZS1kb3duXFxcIiBzdHlsZT1wb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMHB4O3RvcDoxM3B4PjwvaT4gPC9kaXY+IDxkaXYgY2xhc3M9c2VsZWN0LWRyb3Bkb3duIGRhdGEtYmluZD1cXFwidmlzaWJsZTogY2FzaXRtZXZpc2libGVcXFwiPiA8Y2FzaXRlbSBwYXJhbXM9XFxcImRhdGE6IGRhdGEsc2VsZWN0ZWRWYWx1ZTpzZWxlY3RlZFZhbHVlXFxcIj48L2Nhc2l0ZW0+IDwvZGl2PiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8dWwgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiB7IGRhdGE6IGRhdGEoKSwgYXM6ICdyb3cnIH1cXFwiIGNsYXNzPWNhc2l0ZW0+IDxsaSBkYXRhLWJpbmQ9XFxcImNsaWNrOiBmdW5jdGlvbigpeyByZXR1cm4gJHBhcmVudC5leHBhbmRDaGlsZCgkZGF0YSwgJGluZGV4KCkpfSwgY3NzOnthY3RpdmU6JGluZGV4KCkgPT0gJHBhcmVudC5hY3RpdmVJbmRleCgpfVxcXCIgY2xhc3M9Y2FzaXRlbS1pdGVtPiA8c3BhbiBkYXRhLWJpbmQ9dGV4dDpyb3cubmFtZT48L3NwYW4+IDwhLS0ga28gaWY6IHJvdy5jaGlsZHJlbiAmJiByb3cuY2hpbGRyZW4ubGVuZ3RoID4gMCAtLT4gPGkgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLXJpZ2h0XFxcIj48L2k+IDwhLS0gL2tvIC0tPiA8L2xpPiA8L3VsPiA8IS0tIGtvIGlmOiBzdWJMaXN0KCkubGVuZ3RoID4gMCAtLT4gPGNhc2l0ZW0gcGFyYW1zPVxcXCJkYXRhOiBzdWJMaXN0LCBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlXFxcIj48L2Nhc2l0ZW0+IDwhLS0gL2tvIC0tPiBcIjtcblxuLyoqKi8gfSxcbi8qIDE4OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9Zm9ybS1jdG4+IDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDE4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9dS1mb3JtLWdyb3VwPiA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8bGFiZWwgY2xhc3M9XFxcInRleHQtbGVmdCBsYWJlbC10ZXh0XFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IHRleHRcXFwiPjwvbGFiZWw+IFwiO1xuXG4vKioqLyB9LFxuLyogMTkxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGxhYmVsIGNsYXNzPVxcXCJ0ZXh0LXJpZ2h0IGZvcm0tdGl0bGVcXFwiPiA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPiA8L2xhYmVsPiBcIjtcblxuLyoqKi8gfSxcbi8qIDE5MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9cXVlcnktdGFicyBkYXRhLWJpbmQ9XFxcImZvcmVhY2g6IGl0ZW1zXFxcIj4gPGlucHV0IG5hbWU9cXVlcnktdGFicyB0eXBlPXJhZGlvIGRhdGEtYmluZD1cXFwiY2hlY2tlZDogJHBhcmVudC5jdXJTdGF0ZSx2YWx1ZTpzdGF0ZSxhdHRyOntpZDoncXVlcnlfdGFicycrc3RhdGV9XFxcIj4gPGRpdiBjbGFzcz1xdWVyeS10YWIgZGF0YS1iaW5kPWNsaWNrOiRwYXJlbnQuaGFuZGxlcj4gPGxhYmVsIGRhdGEtYmluZD1cXFwidGV4dDp0aXRsZSxhdHRyOntmb3I6J3F1ZXJ5X3RhYnMnK3N0YXRlfVxcXCI+PC9sYWJlbD4gPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OicoJyArIG51bSArICcpJ1xcXCI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMTkzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1zdGF0ZS1pdGVtPiA8bGFiZWwgZm9yPVxcXCJcXFwiIGRhdGEtYmluZD1cXFwiY3NzOnsnYWN0aXZlJzogYWN0aXZlfSxjbGljazpjbGlja1xcXCI+IDxzcGFuIGNsYXNzPWl0ZW0tdGl0bGUgZGF0YS1iaW5kPXRleHQ6dGl0bGU+PC9zcGFuPiA8c3BhbiBjbGFzcz1pdGVtLWNvdW50IGRhdGEtYmluZD10ZXh0OmNvdW50Pjwvc3Bhbj4gPC9sYWJlbD4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMTk0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1zdGF0ZS10YWJzIGRhdGEtYmluZD1mb3JlYWNoOml0ZW1zPiA8ZGl2IGNsYXNzPXN0YXRlLXRhYiBkYXRhLWJpbmQ9XFxcImNsaWNrOmZ1bmN0aW9uKCl7JHBhcmVudC5oYW5kbGVyKCRkYXRhLCRpbmRleCgpKX0sY3NzOiRwYXJlbnQuaW5kZXgoKT09JGluZGV4KCk/J2FjdGl2ZSc6JydcXFwiPiA8bGFiZWwgZGF0YS1iaW5kPXRleHQ6dGl0bGU+PC9sYWJlbD4gPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OicoJyArIG51bSArICcpJ1xcXCI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMTk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1zdGVwLWxlZ2VuZCBkYXRhLWJpbmQ9XFxcImNzczp7J3N0ZXAtc20nOnR5cGU9PSdzbSd9XFxcIj4gPHVsPiA8IS0tIGtvIGZvcmVhY2g6IGxpc3QgLS0+IDxsaSBkYXRhLWJpbmQ9XFxcImNzczp7J2N1cnJlbnRzdGVwJzogJHBhcmVudC5jdXJyZW50SW5kZXgoKSA9PSAkaW5kZXgoKSwgJ2ZpbmlzaGVkc3RlcCc6ICRwYXJlbnQuY3VycmVudEluZGV4KCkgPj0gJGluZGV4KCl9XFxcIj4gPGRpdiBjbGFzcz1zdGVwLWxlZ2VuZC1uYW1lPiA8ZGl2IGNsYXNzPWxlZ2VuZC1hcnJvdz4gPHNwYW4+JiM5NjcwOzwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9bGVnZW5kLWNvbnRlbnQgZGF0YS1iaW5kPXRleHQ6bmFtZT4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPXN0ZXAtbGVnZW5kLXN0ZXA+IDxkaXYgY2xhc3M9c3RlcC1vdXR0ZXI+IDxkaXYgY2xhc3M9c3RlcC1pbm5lciBkYXRhLWJpbmQ9XFxcInRleHQ6ICRpbmRleCgpICsxXFxcIj4gPC9kaXY+IDxkaXYgY2xhc3M9c3RlcC10b29sdGlwPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1zdGVwLWxlZnQ+PC9kaXY+IDxkaXYgY2xhc3M9c3RlcC1yaWdodD48L2Rpdj4gPC9kaXY+IDwvbGk+IDwhLS0gL2tvIC0tPiA8L3VsPiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxOTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2PiA8dWw+IDwhLS0ga28gZm9yZWFjaDogbGlzdCAtLT4gPGxpIGRhdGEtYmluZD1cXFwiY3NzOnsnYWN0aXZlJzogJHBhcmVudC5jdXJyZW50ID09ICRpbmRleH0sdGV4dDpuYW1lXFxcIj48L2xpPiA8IS0tIC9rbyAtLT4gPC91bD4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMTk3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIiBkYXRhLWJpbmQ9Y2xpY2s6Y2xpY2ssdGV4dDp0ZXh0PiA8L2J1dHRvbj4gXCI7XG5cbi8qKiovIH0sXG4vKiAxOTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2PiA8bGFiZWwgY2xhc3M9dS1jaGVja2JveD4gPGlucHV0IHR5cGU9Y2hlY2tib3ggY2xhc3M9dS1jaGVja2JveC1pbnB1dD4gPHNwYW4gY2xhc3M9dS1jaGVja2JveC1sYWJlbCBkYXRhLXJvbGU9bmFtZT48L3NwYW4+IDwvbGFiZWw+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDE5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInAtcmVsYXRpdmUgaW5saW5lLWJsb2NrXFxcIj4gPGlucHV0IGNsYXNzPXUtZm9ybS1jb250cm9sIC8+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDIwMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInUtZGF0ZXBpY2tlciB3MTAwXFxcIj4gPGlucHV0IGNsYXNzPXUtZm9ybS1jb250cm9sIHR5cGU9dGV4dCBwbGFjZWhvbGRlcj1cXFwiXFxcIj4gPHNwYW4gY2xhc3M9XFxcInUtZm9ybS1jb250cm9sLWZlZWRiYWNrIHVmIHVmLWNhbGVuZGFycGFnZWVtcHR5XFxcIj48L3NwYW4+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDIwMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxpbnB1dCB0eXBlPXRleHQgY2xhc3M9dS1mb3JtLWNvbnRyb2w+IFwiO1xuXG4vKioqLyB9LFxuLyogMjAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwicC1yZWxhdGl2ZSBpbmxpbmUtYmxvY2tcXFwiPiA8aW5wdXQgY2xhc3M9dS1mb3JtLWNvbnRyb2wgLz4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMjAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz11LXBhZ2luYXRpb24+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDIwNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXY+IDxsYWJlbCBjbGFzcz11LXJhZGlvPjxpbnB1dCB0eXBlPXJhZGlvIGNsYXNzPXUtcmFkaW8tYnV0dG9uPiA8c3BhbiBjbGFzcz11LXJhZGlvLWxhYmVsPjwvc3Bhbj4gPC9sYWJlbD4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMjA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwidS1pbnB1dC1ncm91cCB1LWhhcy1mZWVkYmFja1xcXCI+IDxpbnB1dCBjbGFzcz11LWZvcm0tY29udHJvbCBwbGFjZWhvbGRlcj3or7fpgInmi6kgLz4gPHNwYW4gY2xhc3M9XFxcInUtZm9ybS1jb250cm9sLWZlZWRiYWNrIHVmIHVmLWFuZ2xlYXJyb3dkb3duXFxcIiBkYXRhLXJvbGU9Y29tYm8tYnV0dG9uPjwvc3Bhbj4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMjA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGxhYmVsIGNsYXNzPXUtc3dpdGNoPiA8aW5wdXQgdHlwZT1jaGVja2JveCBjbGFzcz11LXN3aXRjaC1pbnB1dCAvPiA8c3BhbiBjbGFzcz11LXN3aXRjaC1sYWJlbD48L3NwYW4+IDwvbGFiZWw+IFwiO1xuXG4vKioqLyB9LFxuLyogMjA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPHNwYW4+IDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+IDwvc3Bhbj4gXCI7XG5cbi8qKiovIH0sXG4vKiAyMDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPXp0cmVlPiA8L2Rpdj4gXCI7XG5cbi8qKiovIH0sXG4vKiAyMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJwLXJlbGF0aXZlIGlubGluZS1ibG9ja1xcXCI+IDxpbnB1dCBjbGFzcz11LWZvcm0tY29udHJvbCBwbGFjZWhvbGRlcj1cXFwiXFxcIi8+IDwvZGl2PiBcIjtcblxuLyoqKi8gfSxcbi8qIDIxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInAtcmVsYXRpdmUgaW5saW5lLWJsb2NrXFxcIj4gPGlucHV0IGNsYXNzPXUtZm9ybS1jb250cm9sIHBsYWNlaG9sZGVyPVxcXCJcXFwiLz4gPC9kaXY+IFwiO1xuXG4vKioqLyB9LFxuLyogMjExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbWFwID0ge1xuXHRcdFwiLi9jbGlja291dHNpZGUvaW5kZXhcIjogMjEyLFxuXHRcdFwiLi9oaWRlSW5OZXdXaW5kb3cvaW5kZXhcIjogMjEzLFxuXHRcdFwiLi9rby1jdXJyZW5jeS9pbmRleFwiOiAyMTQsXG5cdFx0XCIuL3JlcGVhdENsaWNrL2luZGV4XCI6IDIxNSxcblx0XHRcIi4vcmVwZWF0U3VibWl0L2luZGV4XCI6IDIxNlxuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0XHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xuXHR3ZWJwYWNrQ29udGV4dC5pZCA9IDIxMTtcblxuXG4vKioqLyB9LFxuLyogMjEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0Ly8g5aaC5p6c5piv5paw56qX5Y+j5omT5byA55qE6aG16Z2i77yM5YiZ6K6k5Li6aGlzdG9yeS5sZW5ndGggPT0gMSDmiJblsI/kuo4xIOWImeWwhuWFg+e0oOmakOiXj1xuXHQvLyDnlKjkuo7kuIDkupvlkIzkuIDkuKrpobXpnaLnlLHkuI3lkIznp43mlrnlvI/miZPlvIAg6L+U5Zue5oyJ6ZKu6ZyA6KaB5Y675o6J55qE54m55q6K6ZyA5rGCXG5cdHZhciBjbGlja291dHNpZGUgPSB7XG5cdCAgaW5pdDogZnVuY3Rpb24gaW5pdChlbCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcblx0ICAgIGZ1bmN0aW9uIGRvY3VtZW50SGFuZGxlcihlKSB7XG5cdCAgICAgIGlmIChlbC5jb250YWlucyhlLnRhcmdldCkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHZhbHVlQWNjZXNzb3IoKSkge1xuXHQgICAgICAgIHZhbHVlQWNjZXNzb3IoKShlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkb2N1bWVudEhhbmRsZXIpO1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY2xpY2tvdXRzaWRlO1xuXG4vKioqLyB9LFxuLyogMjEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0Ly8g5aaC5p6c5piv5paw56qX5Y+j5omT5byA55qE6aG16Z2i77yM5YiZ6K6k5Li6aGlzdG9yeS5sZW5ndGggPT0gMSDmiJblsI/kuo4xIOWImeWwhuWFg+e0oOmakOiXj1xuXHQvLyDnlKjkuo7kuIDkupvlkIzkuIDkuKrpobXpnaLnlLHkuI3lkIznp43mlrnlvI/miZPlvIAg6L+U5Zue5oyJ6ZKu6ZyA6KaB5Y675o6J55qE54m55q6K6ZyA5rGCXG5cdHZhciBoaWRkZW5pbm5ld3dpbmRvdyA9IHtcblx0ICBpbml0OiBmdW5jdGlvbiBpbml0KGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG5cdCAgICBpZiAod2luZG93Lmhpc3RvcnkubGVuZ3RoIDw9IDEpIHtcblx0ICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gaGlkZGVuaW5uZXd3aW5kb3c7XG5cbi8qKiovIH0sXG4vKiAyMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgY3VycmVuY3kgPSB7XG5cdCAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcblx0ICAgIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgb25jZSB3aGVuIHRoZSBiaW5kaW5nIGlzIGZpcnN0IGFwcGxpZWQgdG8gYW4gZWxlbWVudCxcblx0ICAgIC8vIGFuZCBhZ2FpbiB3aGVuZXZlciBhbnkgb2JzZXJ2YWJsZXMvY29tcHV0ZWRzIHRoYXQgYXJlIGFjY2Vzc2VkIGNoYW5nZVxuXHQgICAgLy8gVXBkYXRlIHRoZSBET00gZWxlbWVudCBiYXNlZCBvbiB0aGUgc3VwcGxpZWQgdmFsdWVzIGhlcmUuXG5cdCAgICBlbGVtZW50LmlubmVySFRNTCA9ICckOicgKyB2YWx1ZUFjY2Vzc29yKCkoKTtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBjdXJyZW5jeTtcblxuLyoqKi8gfSxcbi8qIDIxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0XG5cdC8vIHJlcGVhdENsaWNr77yM6Ziy5q2i6YeN5aSN54K55Ye7IOeUqOS6juaMiemSrixkZWJvdW5jZemYsuaKliArIDNz5YaF5peg5rOV5YaN5qyh54K55Ye7XG5cdHZhciByZXBlYXRDbGljayA9IHtcblx0ICBpbml0OiBmdW5jdGlvbiBpbml0KGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG5cdCAgICB2YXIgY29udGludWVUcmlnZ2VyID0gdHJ1ZTtcblx0ICAgIHZhciByZXBlYXRTdWJtaXQgPSAoMCwgX2xvZGFzaC5kZWJvdW5jZSkoZnVuY3Rpb24gKGV2ZW50LCBjYikge1xuXHQgICAgICBpZiAoY29udGludWVUcmlnZ2VyKSB7XG5cdCAgICAgICAgY2IoZXZlbnQpO1xuXHQgICAgICAgIGNvbnRpbnVlVHJpZ2dlciA9IGZhbHNlO1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgY29udGludWVUcmlnZ2VyID0gdHJ1ZTtcblx0ICAgICAgICB9LCAyNTAwKTtcblx0ICAgICAgfVxuXHQgICAgfSwgMzAwKTtcblx0ICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgcmVwZWF0U3VibWl0KGV2ZW50LCB2YWx1ZUFjY2Vzc29yKCkpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSByZXBlYXRDbGljaztcblxuLyoqKi8gfSxcbi8qIDIxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0XG5cdC8vIHN1Ym1pdGNsaWNr5oyH5Luk77yM6Ziy5q2i6YeN5aSN54K55Ye777yM55So5LqOZm9ybSBzdWJtaXQsZGVib3VuY2XpmLLmipYgKyAzc+WGheaXoOazleWGjeasoeeCueWHu1xuXHR2YXIgcmVwZWF0U3VibWl0ID0ge1xuXHQgIGluaXQ6IGZ1bmN0aW9uIGluaXQoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcblx0ICAgIHZhciBjb250aW51ZVRyaWdnZXIgPSB0cnVlO1xuXHQgICAgdmFyIHJlcGVhdFN1Ym1pdCA9ICgwLCBfbG9kYXNoLmRlYm91bmNlKShmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XG5cdCAgICAgIGlmIChjb250aW51ZVRyaWdnZXIpIHtcblx0ICAgICAgICBjYihldmVudCk7XG5cdCAgICAgICAgY29udGludWVUcmlnZ2VyID0gZmFsc2U7XG5cdCAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBjb250aW51ZVRyaWdnZXIgPSB0cnVlO1xuXHQgICAgICAgIH0sIDI1MDApO1xuXHQgICAgICB9XG5cdCAgICB9LCAzMDApO1xuXHQgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgcmVwZWF0U3VibWl0KGV2ZW50LCB2YWx1ZUFjY2Vzc29yKCkpO1xuXHQgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KTtcblx0ICB9XG5cdH07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlcGVhdFN1Ym1pdDtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGluZGV4LmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDZjZTUzOTFlZTAxYjdhMTU5M2ZlIiwiaW1wb3J0ICcuL2luZGV4Lmxlc3MnXG5pbXBvcnQgZGF0ZXBpY2tlciBmcm9tICcuL2NvbXBvbmVudHMvZGF0ZXBpY2tlcidcbmltcG9ydCBkYXRldGltZXBpY2tlciBmcm9tICcuL2NvbXBvbmVudHMvZGF0ZXRpbWVwaWNrZXInXG5pbXBvcnQgZHJvcGRvd24gZnJvbSAnLi9jb21wb25lbnRzL2Ryb3Bkb3duJ1xuLyogZXNsaW50LWRpc2FibGUgKi9cbkRhdGUucHJvdG90eXBlLl9mb3JtYXQgPSBmdW5jdGlvbiAoZm10KSB7IC8vIGF1dGhvcjogc29uZ2hsY1xuICB2YXIgbyA9IHtcbiAgICAnTSsnOiB0aGlzLmdldE1vbnRoKCkgKyAxLCAvLyDmnIjku71cbiAgICAnZCsnOiB0aGlzLmdldERhdGUoKSwgLy8g5pelXG4gICAgJ2grJzogdGhpcy5nZXRIb3VycygpLCAvLyDlsI/ml7ZcbiAgICAnbSsnOiB0aGlzLmdldE1pbnV0ZXMoKSwgLy8g5YiGXG4gICAgJ3MrJzogdGhpcy5nZXRTZWNvbmRzKCksIC8vIOenklxuICAgICdxKyc6IE1hdGguZmxvb3IoKHRoaXMuZ2V0TW9udGgoKSArIDMpIC8gMyksIC8vIOWto+W6plxuICAgICdTJzogdGhpcy5nZXRNaWxsaXNlY29uZHMoKSAvLyDmr6vnp5JcbiAgfVxuICBpZiAoLyh5KykvLnRlc3QoZm10KSkgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAodGhpcy5nZXRGdWxsWWVhcigpICsgJycpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpXG4gIGZvciAodmFyIGsgaW4gbykge1xuICAgIGlmIChuZXcgUmVnRXhwKCcoJyArIGsgKyAnKScpLnRlc3QoZm10KSkgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoUmVnRXhwLiQxLmxlbmd0aCA9PT0gMSkgPyAob1trXSkgOiAoKCcwMCcgKyBvW2tdKS5zdWJzdHIoKCcnICsgb1trXSkubGVuZ3RoKSkpXG4gIH1cbiAgcmV0dXJuIGZtdFxufVxuLyogZ2xvYmFsIGtvICovXG4vLyDnu4Tku7bliJfooahcbmNvbnN0IG5vcm1hbGNvbXBsaXN0ID0gWydib3gnLCAnYm94LXRhYnMnLCAnYm94LWZpbHRlcicsICdib3gtY29udGVudCcsICdzdGF0ZS1pdGVtJywgJ3N0YXRlLXRhYnMnLCAnYm94LXN0aWNreScsICdzdWJtaXQnLCAnc3RlcC1sZWdlbmQnLCAnY2FzaXRlbScsICdjYXNjYWRlciddXG4vLyBpdWFwIOe7hOS7tlxuY29uc3QgY3JlYXRlY29tcGxpc3QgPSBbJ3UtZGF0ZXBpY2tlcicsICd1LXNlbGVjdCcsICd1LXN3aXRjaCcsICd1LWNoZWNrYm94JywgJ3UtcmFkaW8nLCAndS15ZWFyJywgJ3UtbW9udGgnLCAndS15ZWFybW9udGgnLCAndS1jdXJyZW5jeScsICd1LXRyZWUnLCAndS1pbnB1dCcsICd1LXRvb2x0aXAnLCAndS1wYWdpbmF0aW9uJywgJ2Zvcm0tZ3JvdXAnLCAnZm9ybS10aXRsZScsICdmb3JtLXRleHQnLCAnZm9ybS1jdG4nXVxuLy8g6Ieq5a6a5LmJ5oyH5LukXG5jb25zdCBiaW5kaW5nSGFuZGxlcnMgPSBbJ2tvLWN1cnJlbmN5JywgJ2hpZGVJbk5ld1dpbmRvdycsICdyZXBlYXRTdWJtaXQnLCAncmVwZWF0Q2xpY2snLCAnY2xpY2tvdXRzaWRlJ11cbi8vIOazqOWGjOaZrumAmue7hOS7tlxuZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnQgKG5hbWUpIHtcbiAga28uY29tcG9uZW50cy5yZWdpc3RlcihuYW1lLCB7XG4gICAgdmlld01vZGVsOiByZXF1aXJlKCcuL2NvbXBvbmVudHMvJyArIG5hbWUgKyAnL2luZGV4JykuZGVmYXVsdCxcbiAgICAvLyB0ZW1wbGF0ZTogeyBmcm9tVXJsOiBuYW1lfSxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9jb21wb25lbnRzLycgKyBuYW1lICsgJy9pbmRleC5odG1sJylcbiAgfSlcbn1cbi8vIOazqOWGjGl1YXDnu4Tku7ZcbmZ1bmN0aW9uIHJlZ2lzdGVyQ3JlYXRlQ29tcG9uZW50IChuYW1lKSB7XG4gIGtvLmNvbXBvbmVudHMucmVnaXN0ZXIobmFtZSwge1xuICAgIHZpZXdNb2RlbDoge1xuICAgICAgY3JlYXRlVmlld01vZGVsOiByZXF1aXJlKCcuL2NvbXBvbmVudHMvJyArIG5hbWUgKyAnL2luZGV4JykuZGVmYXVsdFxuICAgIH0sXG4gICAgLy8gdGVtcGxhdGU6IHsgZnJvbVVybDogbmFtZX0sXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vY29tcG9uZW50cy8nICsgbmFtZSArICcvaW5kZXguaHRtbCcpXG4gIH0pXG59XG4vLyDms6jlhozmjIfku6RcbmZ1bmN0aW9uIHJlZ2lzdGVyQmluZGluZ0hhbmRsZXJzIChuYW1lKSB7XG4gIGxldCBiaW5kaW5nID0gcmVxdWlyZSgnLi9iaW5kaW5nSGFuZGxlcnMvJyArIG5hbWUgKyAnL2luZGV4JykuZGVmYXVsdFxuICBrby5iaW5kaW5nSGFuZGxlcnNbbmFtZV0gPSBiaW5kaW5nXG59XG4vLyDliJ3lp4vljJblhaznlKjnu4Tku7Zcbm5vcm1hbGNvbXBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgcmVnaXN0ZXJDb21wb25lbnQoaXRlbSlcbn0pXG4vLyDliJ3lp4vljJZpdWFw57uE5Lu25ZKM6ZyA6KaB6I635Y+WZG9t55qE57uE5Lu2XG5jcmVhdGVjb21wbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gIHJlZ2lzdGVyQ3JlYXRlQ29tcG9uZW50KGl0ZW0pXG59KVxuLy8g5Yid5aeL5YyW6Ieq5a6a5LmJ5oyH5LukXG5iaW5kaW5nSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICByZWdpc3RlckJpbmRpbmdIYW5kbGVycyhpdGVtKVxufSlcbmZ1bmN0aW9uIHJlZ2lzdGVyIChtb2RlbCkge1xuICBkZWJ1Z2dlclxuICBrby5jb21wb25lbnRzLnJlZ2lzdGVyKG1vZGVsLm5hbWUsIHtcbiAgICB2aWV3TW9kZWw6IG1vZGVsLmluaXQsXG4gICAgdGVtcGxhdGU6IG1vZGVsLnRlbXBsYXRlXG4gIH0pXG59XG5yZWdpc3RlcihkYXRlcGlja2VyKVxucmVnaXN0ZXIoZGF0ZXRpbWVwaWNrZXIpXG5yZWdpc3Rlcihkcm9wZG93bilcbmV4cG9ydCBkZWZhdWx0IGtvXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiLCJpbXBvcnQgJy4vaW5kZXgubGVzcydcbnZhciBrbyA9IHdpbmRvdy5rb1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vaW5kZXguaHRtbCdcbmltcG9ydCBCYXNlIGZyb20gJy4uLy4uL2NvcmUvYmFzZSdcbmltcG9ydCB7XG4gIHNldERhdGFcbn0gZnJvbSAnLi91dGlsJ1xuY29uc3QgUFJFSUZYID0gJydcbi8vIOaXpeacn+e7hOS7tuimgemqjOivgeeahOeCuVxuLy8gMS7pu5jorqTml6XmnJ/msqHmnInlgLxcbi8vIDIu6buY6K6k5pel5pyf5pyJ5YC8XG4vLyAzLuWKqOaAgeS/ruaUueaXpeacn+eahOWAvFxuLy8gNC7lj6rkv67mlLnml7bpl7TnmoTlgLxcbi8vIDUu5pel5pyf6YCJ5oup6IyD5Zu05rWL6K+VXG4vLyA2Lum7mOiupOaVsOWtl+agvOW8j++8jOm7mOiupOaXpeacn+agvOW8j++8jOm7mOiupOaXpeacn+aXtumXtOagvOW8j1xua28uY29tcG9uZW50cy5yZWdpc3RlcihQUkVJRlggKyAnZGF0ZXBpY2tlci15ZWFyJywge1xuICB2aWV3TW9kZWw6IHJlcXVpcmUoJy4vYmFzZS95ZWFyJykuZGVmYXVsdCxcbiAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vYmFzZS95ZWFyLmh0bWwnKVxufSlcblxua28uY29tcG9uZW50cy5yZWdpc3RlcihQUkVJRlggKyAnZGF0ZXBpY2tlci1tb250aCcsIHtcbiAgdmlld01vZGVsOiByZXF1aXJlKCcuL2Jhc2UvbW9udGgnKS5kZWZhdWx0LFxuICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9iYXNlL21vbnRoLmh0bWwnKVxufSlcblxua28uY29tcG9uZW50cy5yZWdpc3RlcihQUkVJRlggKyAnZGF0ZXBpY2tlci1kYXknLCB7XG4gIHZpZXdNb2RlbDogcmVxdWlyZSgnLi9iYXNlL2RheScpLmRlZmF1bHQsXG4gIHRlbXBsYXRlOiByZXF1aXJlKCcuL2Jhc2UvZGF5Lmh0bWwnKVxufSlcblxua28uY29tcG9uZW50cy5yZWdpc3RlcihQUkVJRlggKyAnZGF0ZXBpY2tlci10aW1lcicsIHtcbiAgdmlld01vZGVsOiByZXF1aXJlKCcuL2Jhc2UvdGltZXInKS5kZWZhdWx0LFxuICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9iYXNlL3RpbWVyLmh0bWwnKVxufSlcbmNvbnN0IERBVEVGT1JNQVQgPSAneXl5eS1NTS1kZCdcbmNvbnN0IERBVEVUSU1FRk9STUFUID0gJ3l5eXktTU0tZGQgaGg6bW06c3MnXG4vLyDojrflj5blhYPntKDot53nprvnqpflj6Plt6bkvqfot53nprtcbmNvbnN0IGdldEVsZW1lbnRMZWZ0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgdmFyIGFjdHVhbExlZnQgPSBlbGVtZW50Lm9mZnNldExlZnRcbiAgdmFyIGN1cnJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudFxuICB3aGlsZSAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgIGFjdHVhbExlZnQgKz0gY3VycmVudC5vZmZzZXRMZWZ0XG4gICAgY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50XG4gIH1cbiAgcmV0dXJuIGFjdHVhbExlZnRcbn1cbmNsYXNzIERhdGVQaWNrZXIgZXh0ZW5kcyBCYXNlIHtcbiAgaW5pdGlhbGl6ZSAoe1xuICAgIHBsYWNlaG9sZGVyLFxuICAgIGRhdGEsXG4gICAgaXNUaW1lciA9IGZhbHNlLFxuICAgIGxhbmcgPSAnemgnLFxuICAgIG1pbkRhdGUsXG4gICAgbWF4RGF0ZSxcbiAgICBudW1iZXJpY1ZhbHVlID0gZmFsc2UsXG4gICAgZHJvcFN0eWxlLFxuICAgIGdyaWRSZWYgPSBmYWxzZVxuICB9KSB7XG4gICAgdGhpcy5sYW5nID0gbGFuZ1xuICAgIHRoaXMuZHJvcFN0eWxlID0gZHJvcFN0eWxlXG4gICAgdGhpcy5pc1RpbWVyID0gaXNUaW1lclxuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlclxuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgICB0aGlzLmlzTnVtYmVyaWNWYWx1ZSA9IG51bWJlcmljVmFsdWVcbiAgICB0aGlzLnllYXIgPSBrby5vYnNlcnZhYmxlKClcbiAgICB0aGlzLm1vbnRoID0ga28ub2JzZXJ2YWJsZSgpXG4gICAgdGhpcy5kYXkgPSBrby5vYnNlcnZhYmxlKClcbiAgICB0aGlzLmhvdXIgPSBrby5vYnNlcnZhYmxlKDApXG4gICAgdGhpcy5taW51dGVzID0ga28ub2JzZXJ2YWJsZSgwKVxuICAgIHRoaXMuc2Vjb25kcyA9IGtvLm9ic2VydmFibGUoMClcbiAgICB0aGlzLm1pbkRhdGUgPSBtaW5EYXRlIHx8IGtvLm9ic2VydmFibGUoJzE2MDAtMDEtMDEnKVxuICAgIHRoaXMubWF4RGF0ZSA9IG1heERhdGUgfHwga28ub2JzZXJ2YWJsZSgnMjA5OS0xMi0zMScpXG4gICAgZGVidWdnZXJcbiAgICB0aGlzLmlzUG9wdXAgPSBrby5vYnNlcnZhYmxlKGZhbHNlKVxuICAgIHRoaXMuaW5pdEZsYWcgPSB0cnVlXG4gICAgLy8g5pi+56S65a+55bqU6L6T5YWl5qGGXG4gICAgdGhpcy5zaG93eWVhciA9IGtvLm9ic2VydmFibGUoZmFsc2UpXG4gICAgdGhpcy5zaG93bW9udGggPSBrby5vYnNlcnZhYmxlKGZhbHNlKVxuICAgIHRoaXMuc2hvd2RheSA9IGtvLm9ic2VydmFibGUodHJ1ZSlcbiAgICB0aGlzLnNob3d0aW1lciA9IGtvLm9ic2VydmFibGUoZmFsc2UpXG4gICAgdGhpcy5hbGlnbnJpZ2h0ID0ga28ub2JzZXJ2YWJsZShmYWxzZSlcbiAgICB0aGlzLmkxOG5Db25maXJtID0gJ+ehruWumidcbiAgICB0aGlzLnNldEZvY3VzID0gKCkgPT4ge1xuICAgICAgdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnktaW5wdXQnKS5jbGljaygpXG4gICAgICB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcueS1pbnB1dCcpLmZvY3VzKClcbiAgICB9XG4gICAgdGhpcy5zZXRVbkZvdWNzID0gKCkgPT4ge1xuICAgICAgdGhpcy5pc1BvcHVwKGZhbHNlKVxuICAgIH1cbiAgfVxuICBjb21wdXRlZCAocGFyYW1zKSB7XG4gICAgLy8g5pyA57uI5pi+56S655qE5YC85Li66K6h566X5bGe5oCnIGNsb3NlICM4OFxuICAgIHRoaXMuY29tcHV0ZWREYXRhID0ga28ucHVyZUNvbXB1dGVkKHtcbiAgICAgIHJlYWQ6ICgpID0+IHtcbiAgICAgICAgdmFyIF9kYXRlXG4gICAgICAgIGlmICh0aGlzLmlzVGltZXIpIHtcbiAgICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSAxLCB0aGlzLmRheSgpLCB0aGlzLmhvdXIoKSwgdGhpcy5taW51dGVzKCksIHRoaXMuc2Vjb25kcygpKS5fZm9ybWF0KERBVEVUSU1FRk9STUFUKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9kYXRlID0gbmV3IERhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSAtIDEsIHRoaXMuZGF5KCkpLl9mb3JtYXQoREFURUZPUk1BVClcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYXRhKCkpIHtcbiAgICAgICAgICByZXR1cm4gX2RhdGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHdyaXRlOiAodmFsKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh2YWwsIHRoaXMuZGF0YSwgdGhpcy5pc051bWJlcmljVmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBzdWJzY3JpYmUgKHBhcmFtcykge1xuICAgIHRoaXMuZGF0YS5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLmdlbmVyYXRlRGF0ZSh2YWx1ZSlcbiAgICB9KVxuICAgIHRoaXMueWVhci5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLnNob3d5ZWFyKGZhbHNlKVxuICAgICAgdGhpcy5zaG93bW9udGgodHJ1ZSlcbiAgICAgIC8vIOebkeWQrOW5tOmAieS4rVxuICAgIH0pXG4gICAgdGhpcy5tb250aC5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICB0aGlzLnNob3dtb250aChmYWxzZSlcbiAgICAgIHRoaXMuc2hvd2RheSh0cnVlKVxuICAgIH0pXG4gICAgdGhpcy5kYXkuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzVGltZXIpIHtcbiAgICAgICAgdGhpcy5iaW5kTW9kZWxWYWx1ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmhvdXIuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNUaW1lcikge1xuICAgICAgICB0aGlzLmJpbmRNb2RlbFZhbHVlKClcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMubWludXRlcy5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc1RpbWVyKSB7XG4gICAgICAgIHRoaXMuYmluZE1vZGVsVmFsdWUoKVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5zZWNvbmRzLnN1YnNjcmliZSgodmFsdWUpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzVGltZXIpIHtcbiAgICAgICAgdGhpcy5iaW5kTW9kZWxWYWx1ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBtZXRob2RzIChwYXJhbXMpIHtcbiAgICB0aGlzLnNldERhdGEgPSBzZXREYXRhXG4gICAgdGhpcy5vbk1hc2tIb3ZlciA9ICgpID0+IHtcbiAgICB9XG4gICAgLy8g55Sf5oiQ5Yid5aeL5YyW55qE5YC8XG4gICAgdGhpcy5nZW5lcmF0ZURhdGUgPSAodikgPT4ge1xuICAgICAgdmFyIF9kYXRlXG4gICAgICBpZiAodikge1xuICAgICAgICAvLyDmlK/mjIHmlbDlrZdcbiAgICAgICAgX2RhdGUgPSBpc05hTih2IC0gMCkgPyAobmV3IERhdGUodi5yZXBsYWNlKC8tL2csICcvJykpKSA6IChuZXcgRGF0ZSh2IC0gMCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgICAgLy8g5aaC5p6c5rKh5pyJ6buY6K6k5YC8IOmcgOimgeS8mOWFiOiuvue9rum7mOiupOWAvO+8jOmYsuatouWQjue7reinpuWPkeWIsGJpbmRNb2RlbFZhbHVlXG4gICAgICAgIHRoaXMuaW5pdEZsYWcgPSBmYWxzZVxuICAgICAgfVxuICAgICAgdGhpcy55ZWFyKF9kYXRlLmdldEZ1bGxZZWFyKCkpXG4gICAgICB0aGlzLm1vbnRoKF9kYXRlLmdldE1vbnRoKCkgKyAxKVxuICAgICAgdGhpcy5kYXkoX2RhdGUuZ2V0RGF0ZSgpKVxuICAgICAgaWYgKHRoaXMuaXNUaW1lcikge1xuICAgICAgICB0aGlzLmhvdXIoX2RhdGUuZ2V0SG91cnMoKSlcbiAgICAgICAgdGhpcy5taW51dGVzKF9kYXRlLmdldE1pbnV0ZXMoKSlcbiAgICAgICAgdGhpcy5zZWNvbmRzKF9kYXRlLmdldFNlY29uZHMoKSlcbiAgICAgIH1cbiAgICAgIC8vIOesrOS4gOasoeWIneWni+WMluWujOS5i+WQjuiuvue9rmZsYWdcbiAgICAgIHRoaXMuaW5pdEZsYWcgPSBmYWxzZVxuICAgIH1cbiAgICAvLyDpgInkuK3ovpPlhaXmoYZcbiAgICB0aGlzLmZvY3VzID0gKGRhdGEsIGV2ZW50KSA9PiB7XG4gICAgICBsZXQgbGVmdFBvc2l0aW9uID0gZ2V0RWxlbWVudExlZnQoZXZlbnQudGFyZ2V0KVxuICAgICAgLy8g6I635Y+Wdmlld3BvcnQg5a695bqmXG4gICAgICBsZXQgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOWmguaenOWFg+e0oOi3neemu+WPs+S+p+eahOi3neemu+Wwj+S6jjI4MCDliJnlsIblvLnlh7rmta7liqjmrL7lt6bnp7vvvIzorr7nva5yaWdodO+8mjBcbiAgICAgICAgaWYgKHNjcmVlbldpZHRoIC0gbGVmdFBvc2l0aW9uIDwgMjgwKSB7XG4gICAgICAgICAgdGhpcy5hbGlnbnJpZ2h0KHRydWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hbGlnbnJpZ2h0KGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNQb3B1cCh0cnVlKVxuICAgICAgdGhpcy5zaG93eWVhcihmYWxzZSlcbiAgICAgIHRoaXMuc2hvd21vbnRoKGZhbHNlKVxuICAgICAgdGhpcy5zaG93ZGF5KHRydWUpXG4gICAgfVxuICAgIC8vIOmBrue9qeeCueWHu1xuICAgIHRoaXMubWFza0NsaWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5pc1BvcHVwKGZhbHNlKVxuICAgIH1cbiAgICAvLyDnu5HlrprmnIDnu4jpgInmi6nnmoTmqKHlnotcbiAgICB0aGlzLmJpbmRNb2RlbFZhbHVlID0gKCkgPT4ge1xuICAgICAgLy8g5aaC5p6c5LiN5piv5pe26Ze06YCJ5oupLOWImeebtOaOpeWFs+mXreeql+WPo1xuICAgICAgaWYgKCEodGhpcy5pc1RpbWVyKSkge1xuICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKVxuICAgICAgfVxuICAgICAgbGV0IF9kYXRlXG4gICAgICBpZiAodGhpcy5pc1RpbWVyKSB7XG4gICAgICAgIF9kYXRlID0gbmV3IERhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSAtIDEsIHRoaXMuZGF5KCksIHRoaXMuaG91cigpLCB0aGlzLm1pbnV0ZXMoKSwgdGhpcy5zZWNvbmRzKCkpLl9mb3JtYXQoREFURVRJTUVGT1JNQVQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSAxLCB0aGlzLmRheSgpKS5fZm9ybWF0KERBVEVGT1JNQVQpXG4gICAgICB9XG4gICAgICAvLyDlpoLmnpzov5jlpITkuo7liJ3lp4vljJbliJnkuI3ph43mlrDotYvlgLwsIOaVsOaNruWIneWni+WMlueahOaXtuWAmeaciem7mOiupOWAvO+8jOWImeS8mumHjeaWsOiuvue9ruS4gOS4i+aXpeacn+agvOW8j1xuICAgICAgaWYgKHRoaXMuaW5pdEZsYWcpIHtcbiAgICAgICAgdGhpcy5zZXREYXRhKF9kYXRlLCB0aGlzLmRhdGEsIHRoaXMuaXNOdW1iZXJpY1ZhbHVlKVxuICAgICAgfVxuICAgICAgLy8g5aaC5p6c5pyJ5pen5YC877yM5YiZ5a2Y5Zyo5Y+q5L+u5pS55LqG5pe26Ze05rKh5pyJ5L+u5pS55pel5pyf55qE5pON5L2c77yM6ZyA6KaB5Yqo5oCB5pu05paw5YC8XG4gICAgICB2YXIgb2xkRGF0YSA9IHRoaXMuZGF0YSgpXG4gICAgICBpZiAob2xkRGF0YSAhPT0gdW5kZWZpbmVkICYmIG9sZERhdGEgIT09ICcnICYmIG9sZERhdGEgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXREYXRhKF9kYXRlLCB0aGlzLmRhdGEsIHRoaXMuaXNOdW1iZXJpY1ZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgICAvL1xuICAgIHRoaXMuY29uZmlybSA9ICgpID0+IHtcbiAgICAgIHRoaXMuYmluZE1vZGVsVmFsdWUoKVxuICAgICAgdGhpcy5jbG9zZU1vZGFsKClcbiAgICB9XG4gICAgdGhpcy50aW1lcnBhbmVsID0gKCkgPT4ge1xuICAgICAgdGhpcy5zaG93dGltZXIoISh0aGlzLnNob3d0aW1lcigpKSlcbiAgICB9XG4gICAgdGhpcy5jaG9vc2Vub3cgPSAoKSA9PiB7XG4gICAgICBsZXQgX2RhdGVcbiAgICAgIGlmICh0aGlzLmlzVGltZXIpIHtcbiAgICAgICAgX2RhdGUgPSBuZXcgRGF0ZSgpLl9mb3JtYXQoREFURVRJTUVGT1JNQVQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKCkuX2Zvcm1hdChEQVRFRk9STUFUKVxuICAgICAgfVxuICAgICAgdGhpcy5zZXREYXRhKF9kYXRlLCB0aGlzLmRhdGEsIHRoaXMuaXNOdW1iZXJpY1ZhbHVlKVxuICAgICAgdGhpcy5jbG9zZU1vZGFsKClcbiAgICB9XG4gICAgLy8g5YWz6Zet5by55qGGXG4gICAgdGhpcy5jbG9zZU1vZGFsID0gKCkgPT4ge1xuICAgICAgdGhpcy5zaG93eWVhcihmYWxzZSlcbiAgICAgIHRoaXMuc2hvd21vbnRoKGZhbHNlKVxuICAgICAgdGhpcy5zaG93ZGF5KGZhbHNlKVxuICAgICAgdGhpcy5pc1BvcHVwKGZhbHNlKVxuICAgIH1cbiAgfVxuICBjcmVhdGVkIChwYXJhbXMpIHtcbiAgICAvLyDliJ3lp4vljJblgLxcbiAgICB0aGlzLmdlbmVyYXRlRGF0ZSh0aGlzLmRhdGEoKSlcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZGF0ZXBpY2tlcicsXG4gIGluaXQ6IEJhc2UuY3JlYXRlVmlld01vZGVsKERhdGVQaWNrZXIpLFxuICB0ZW1wbGF0ZVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9PYmplY3QgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZihoYXMoTywgSUVfUFJPVE8pKXJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKVxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBkUCAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1xuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qc1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanNcbi8vIG1vZHVsZSBpZCA9IDYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBkZWZpbmVkICAgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKXtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcbiAgICAgICwgbCA9IHMubGVuZ3RoXG4gICAgICAsIGEsIGI7XG4gICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzXG4vLyBtb2R1bGUgaWQgPSA2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qc1xuLy8gbW9kdWxlIGlkID0gNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gNzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGRQcyAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJylcbiAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuICAgICwgbHQgICAgID0gJzwnXG4gICAgLCBndCAgICAgPSAnPidcbiAgICAsIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcyl7XG4gIHZhciByZXN1bHQ7XG4gIGlmKE8gIT09IG51bGwpe1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qc1xuLy8gbW9kdWxlIGlkID0gNzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9JT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSlcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGtleTtcbiAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbi8vIG1vZHVsZSBpZCA9IDc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanNcbi8vIG1vZHVsZSBpZCA9IDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qc1xuLy8gbW9kdWxlIGlkID0gODJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1heCAgICAgICA9IE1hdGgubWF4XG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qc1xuLy8gbW9kdWxlIGlkID0gODVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBoYXMgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcbi8vIG1vZHVsZSBpZCA9IDg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBzdG9yZSAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpXG4gICwgdWlkICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgU3ltYm9sICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbFxuICAsIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXG4vLyBtb2R1bGUgaWQgPSA4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBJdGVyYXRvcnMgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbmZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG4gICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG4gICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDg4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJylcbiAgLCBzdGVwICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJylcbiAgLCBJdGVyYXRvcnMgICAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCB0b0lPYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzXG4vLyBtb2R1bGUgaWQgPSA5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanNcbi8vIG1vZHVsZSBpZCA9IDkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIERFU0NSSVBUT1JTICAgID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBNRVRBICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVlcbiAgLCAkZmFpbHMgICAgICAgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCBzaGFyZWQgICAgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgdWlkICAgICAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIHdrcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIHdrc0RlZmluZSAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpXG4gICwga2V5T2YgICAgICAgICAgPSByZXF1aXJlKCcuL19rZXlvZicpXG4gICwgZW51bUtleXMgICAgICAgPSByZXF1aXJlKCcuL19lbnVtLWtleXMnKVxuICAsIGlzQXJyYXkgICAgICAgID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKVxuICAsIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIF9jcmVhdGUgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZ09QTkV4dCAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKVxuICAsICRHT1BEICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKVxuICAsICREUCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCAka2V5cyAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BEICAgICAgICAgICA9ICRHT1BELmZcbiAgLCBkUCAgICAgICAgICAgICA9ICREUC5mXG4gICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcbiAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcbiAgLCAkSlNPTiAgICAgICAgICA9IGdsb2JhbC5KU09OXG4gICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcbiAgLCBQUk9UT1RZUEUgICAgICA9ICdwcm90b3R5cGUnXG4gICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG4gICwgaXNFbnVtICAgICAgICAgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZVxuICAsIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKVxuICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcbiAgLCBPUFN5bWJvbHMgICAgICA9IHNoYXJlZCgnb3Atc3ltYm9scycpXG4gICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3RbUFJPVE9UWVBFXVxuICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuICAsIFFPYmplY3QgICAgICAgID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBkUCh0aGlzLCAnYScsIHt2YWx1ZTogN30pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24oaXQsIGtleSwgRCl7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZihwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKWRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogZFA7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24odGFnKXtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBhbk9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEQpO1xuICBpZihoYXMoQWxsU3ltYm9scywga2V5KSl7XG4gICAgaWYoIUQuZW51bWVyYWJsZSl7XG4gICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG4gICAgLCBpICAgID0gMFxuICAgICwgbCA9IGtleXMubGVuZ3RoXG4gICAgLCBrZXk7XG4gIHdoaWxlKGwgPiBpKSRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG4gIGlmKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICBpdCAgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdPUE4odG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuICB2YXIgSVNfT1AgID0gaXQgPT09IE9iamVjdFByb3RvXG4gICAgLCBuYW1lcyAgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmKCFVU0VfTkFUSVZFKXtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuICAgIGlmKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKXRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICAgIHZhciAkc2V0ID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8pJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mICAgPSAkZGVmaW5lUHJvcGVydHk7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICByZXF1aXJlKCcuL19vYmplY3QtcGllJykuZiAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSl7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cblxuICB3a3NFeHQuZiA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH1cbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1N5bWJvbDogJFN5bWJvbH0pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAka2V5cyh3a3Muc3RvcmUpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzRGVmaW5lKHN5bWJvbHNbaSsrXSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgaWYoaXNTeW1ib2woa2V5KSlyZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG4gICAgdGhyb3cgVHlwZUVycm9yKGtleSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoe2E6IFN9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuICAgIGlmKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKXJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIHZhciBhcmdzID0gW2l0XVxuICAgICAgLCBpICAgID0gMVxuICAgICAgLCByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmKHR5cGVvZiByZXBsYWNlciA9PSAnZnVuY3Rpb24nKSRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYoIWlzU3ltYm9sKHZhbHVlKSlyZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzXG4vLyBtb2R1bGUgaWQgPSA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgTUVUQSAgICAgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGhhcyAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBzZXREZXNjICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBpZCAgICAgICA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbigpe1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG4gIHNldERlc2MoaXQsIE1FVEEsIHt2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH19KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFdLmk7XG59O1xudmFyIGdldFdlYWsgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24oaXQpe1xuICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6ICAgICAgTUVUQSxcbiAgTkVFRDogICAgIGZhbHNlLFxuICBmYXN0S2V5OiAgZmFzdEtleSxcbiAgZ2V0V2VhazogIGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanNcbi8vIG1vZHVsZSBpZCA9IDk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gOTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGdldEtleXMgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGtleXMgICA9IGdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanNcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BTICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKVxuICAsIHBJRSAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHJlc3VsdCAgICAgPSBnZXRLZXlzKGl0KVxuICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYoZ2V0U3ltYm9scyl7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KVxuICAgICAgLCBpc0VudW0gID0gcElFLmZcbiAgICAgICwgaSAgICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKHN5bWJvbHMubGVuZ3RoID4gaSlpZihpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSlyZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSA5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanNcbi8vIG1vZHVsZSBpZCA9IDEwMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanNcbi8vIG1vZHVsZSBpZCA9IDEwMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanNcbi8vIG1vZHVsZSBpZCA9IDEwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgZ09QTiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanNcbi8vIG1vZHVsZSBpZCA9IDEwM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pe1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanNcbi8vIG1vZHVsZSBpZCA9IDEwNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgcElFICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApe1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoaGFzKE8sIFApKXJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qc1xuLy8gbW9kdWxlIGlkID0gMTA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanNcbi8vIG1vZHVsZSBpZCA9IDEwOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0fSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMTEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qc1xuLy8gbW9kdWxlIGlkID0gMTEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCl7XG4gIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IHN0eWxlPXBvc2l0aW9uOnJlbGF0aXZlPiA8ZGl2IGNsYXNzPVxcXCJ5LWRhdGVwaWNrZXItaW5wdXQgei1pbmRleFBpY3R1cmVcXFwiPiA8aW5wdXQgdHlwZT10ZXh0IGNsYXNzPXktaW5wdXQgZGF0YS1iaW5kPVxcXCJ2YWx1ZTpjb21wdXRlZERhdGEsZXZlbnQ6e2ZvY3VzOmZvY3VzfSxhdHRyOnsncGxhY2Vob2xkZXInOiBwbGFjZWhvbGRlcn1cXFwiPiA8c3BhbiBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvc3Bhbj4gPC9kaXY+IDxkcm9wZG93biBwYXJhbXM9XFxcInN0eWxlOiBkcm9wU3R5bGUsdGFyZ2V0RWw6JGVsLGlzU2hvdzppc1BvcHVwLCB3aWR0aDonMjQwJywgbWF4SGVpZ2h0OiAnMjU4Jywgb3ZlcmZsb3c6J2hpZGRlbidcXFwiPiA8ZGl2IGNsYXNzPXktZGF0ZXBpY2tlci1jdG4gZGF0YS1iaW5kPVxcXCJjc3M6eydzZWxlY3QtZGF0ZSc6ICRwYXJlbnQuaXNQb3B1cCwgJ2lzVGltZXInOiAkcGFyZW50LmlzVGltZXIsICdhbGlnbnJpZ2h0JzogJHBhcmVudC5hbGlnbnJpZ2h0fVxcXCI+IDxkaXYgY2xhc3M9eS1kYXRlcGlja2VyLWhlYWRlcj4gPC9kaXY+IDxkaXYgY2xhc3M9eS1kYXRlcGlja2VyLWZvb3Rlcj4gPGRhdGVwaWNrZXIteWVhciBwYXJhbXM9XFxcIlxcbiAgICAgICAgICB5ZWFyOiAkcGFyZW50LnllYXIsXFxuICAgICAgICAgIHNob3dtb250aDokcGFyZW50LnNob3dtb250aCxcXG4gICAgICAgICAgc2hvd3llYXI6JHBhcmVudC5zaG93eWVhclxcXCIgY2xhc3M9aGlkZSBkYXRhLWJpbmQ9XFxcImNzczp7J3Nob3cnOiRwYXJlbnQuc2hvd3llYXJ9XFxcIj4gPC9kYXRlcGlja2VyLXllYXI+IDxkYXRlcGlja2VyLW1vbnRoIHBhcmFtcz1cXFwiXFxuICAgICAgICAgIHllYXI6ICRwYXJlbnQueWVhcixcXG4gICAgICAgICAgbW9udGg6ICRwYXJlbnQubW9udGgsXFxuICAgICAgICAgIHNob3dkYXk6JHBhcmVudC5zaG93ZGF5LFxcbiAgICAgICAgICBzaG93bW9udGg6JHBhcmVudC5zaG93bW9udGgsXFxuICAgICAgICAgIHNob3d5ZWFyOiRwYXJlbnQuc2hvd3llYXJcXFwiIGNsYXNzPWhpZGUgZGF0YS1iaW5kPVxcXCJjc3M6eydzaG93JzokcGFyZW50LnNob3dtb250aH1cXFwiPiA8L2RhdGVwaWNrZXItbW9udGg+IDxkYXRlcGlja2VyLWRheSBwYXJhbXM9XFxcIlxcbiAgICAgICAgICBpc051bWJlcmljVmFsdWU6ICRwYXJlbnQuaXNOdW1iZXJpY1ZhbHVlLFxcbiAgICAgICAgICBtaW5EYXRlOiAkcGFyZW50Lm1pbkRhdGUsXFxuICAgICAgICAgIG1heERhdGU6JHBhcmVudC5tYXhEYXRlLFxcbiAgICAgICAgICBob3VyOiRwYXJlbnQuaG91cixcXG4gICAgICAgICAgbWludXRlczokcGFyZW50Lm1pbnV0ZXMsXFxuICAgICAgICAgIHNlY29uZHM6JHBhcmVudC5zZWNvbmRzLFxcbiAgICAgICAgICBpc1RpbWVyOiRwYXJlbnQuaXNUaW1lcixcXG4gICAgICAgICAgZGF0YTogJHBhcmVudC5kYXRhLFxcbiAgICAgICAgICB5ZWFyOiAkcGFyZW50LnllYXIsXFxuICAgICAgICAgIG1vbnRoOiAkcGFyZW50Lm1vbnRoLFxcbiAgICAgICAgICBkYXk6ICRwYXJlbnQuZGF5LFxcbiAgICAgICAgICBzaG93ZGF5OiRwYXJlbnQuc2hvd2RheSxcXG4gICAgICAgICAgc2hvd3llYXI6JHBhcmVudC5zaG93eWVhcixcXG4gICAgICAgICAgc2hvd21vbnRoOiRwYXJlbnQuc2hvd21vbnRoXFxcIiBjbGFzcz1oaWRlIGRhdGEtYmluZD1cXFwiY3NzOnsnc2hvdyc6JHBhcmVudC5zaG93ZGF5fVxcXCI+IDwvZGF0ZXBpY2tlci1kYXk+IDxkYXRlcGlja2VyLXRpbWVyIHBhcmFtcz1cXFwiXFxuICAgICAgICAgIGhvdXI6JHBhcmVudC5ob3VyLFxcbiAgICAgICAgICBtaW51dGVzOiRwYXJlbnQubWludXRlcyxcXG4gICAgICAgICAgc2Vjb25kczokcGFyZW50LnNlY29uZHMsXFxuICAgICAgICAgIHNob3d0aW1lcjokcGFyZW50LnNob3d0aW1lclxcXCI+IDwvZGF0ZXBpY2tlci10aW1lcj4gPGRpdiBjbGFzcz15LWRhdGVwaWNrZXItb3B0aW9uPiA8ZGl2IGNsYXNzPWN1cmRhdGUgZGF0YS1iaW5kPWNsaWNrOiRwYXJlbnQuY2hvb3Nlbm93PiA8c3BhbiBjbGFzcz1cXFwiZmEgZmEtYXJyb3dzXFxcIj48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPXRpbWVyLXBpY2tlciBkYXRhLWJpbmQ9Y2xpY2s6JHBhcmVudC50aW1lcnBhbmVsPiA8c3BhbiBjbGFzcz1cXFwiZmEgZmEtY2xvY2stb1xcXCIgZGF0YS1iaW5kPVxcXCJjc3M6eydmYS1jYWxlbmRhcic6JHBhcmVudC5zaG93dGltZXJ9XFxcIj48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJjb25maXJtYnV0dG9uIHB1bGwtcmlnaHRcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6JHBhcmVudC5jb25maXJtLCB0ZXh0OiAkcGFyZW50LmkxOG5Db25maXJtXFxcIj48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPXktZGF0ZXBpY2tlci1tYXNrIGRhdGEtYmluZD1ldmVudDp7bW91c2Vtb3ZlOiRwYXJlbnQub25NYXNrSG92ZXJ9LGNsaWNrOiRwYXJlbnQubWFza0NsaWNrPjwvZGl2PiA8L2Rpdj4gPC9kcm9wZG93bj4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiY2xhc3MgQmFzZSB7XG4gIGNvbnN0cnVjdG9yIChwYXJhbXMpIHtcbiAgICB0aGlzLiRlbCA9IHBhcmFtcy4kZWxcbiAgICB0aGlzLiR0ZW1wbGF0ZU5vZGVzID0gcGFyYW1zLiR0ZW1wbGF0ZU5vZGVzXG4gICAgdGhpcy5pbml0aWFsaXplKHBhcmFtcylcbiAgICB0aGlzLmNvbXB1dGVkKHBhcmFtcylcbiAgICB0aGlzLnN1YnNjcmliZShwYXJhbXMpXG4gICAgdGhpcy5tZXRob2RzKHBhcmFtcylcbiAgICB0aGlzLmNyZWF0ZWQocGFyYW1zKVxuICB9XG4gIGluaXRpYWxpemUgKHBhcmFtcykgeyB9XG4gIGNvbXB1dGVkIChwYXJhbXMpIHsgfVxuICBjcmVhdGVkIChwYXJhbXMpIHsgfVxuICBzdWJzY3JpYmUgKHBhcmFtcykgeyB9XG4gIG1ldGhvZHMgKHBhcmFtcykgeyB9XG4gIHN0YXRpYyBjcmVhdGVWaWV3TW9kZWwgKENvbXBvbmVudCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVWaWV3TW9kZWw6IGZ1bmN0aW9uIChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgICAgICAgcGFyYW1zLiRlbCA9IGNvbXBvbmVudEluZm8uZWxlbWVudFxuICAgICAgICBwYXJhbXMuJHRlbXBsYXRlTm9kZXMgPSBjb21wb25lbnRJbmZvLnRlbXBsYXRlTm9kZXNcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnQocGFyYW1zKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgQmFzZVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvcmUvYmFzZS5qcyIsImNvbnN0IERBWV9EVVJBVElPTiA9IDg2NDAwMDAwXG4vLyDlpoLmnpxcbmV4cG9ydCBmdW5jdGlvbiBzZXREYXRhICh2YWx1ZSwgb2JzZXJ2YWJsZSwgaXNOdW1iZXJpY1ZhbHVlKSB7XG4gIGlmIChpc051bWJlcmljVmFsdWUpIHtcbiAgICB2YWx1ZSA9IChuZXcgRGF0ZSh2YWx1ZSkpLmdldFRpbWUoKVxuICB9XG4gIG9ic2VydmFibGUodmFsdWUpXG59XG4vLyDojrflj5bmr4/kuKrmnIjnmoTnrKzkuIDlpKlcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdERheU9mTW9udGggKGRhdGUpIHtcbiAgY29uc3QgdGVtcCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKVxuICB0ZW1wLnNldERhdGUoMSlcbiAgcmV0dXJuIHRlbXAuZ2V0RGF5KClcbn1cbi8vIOiOt+WPluavj+S4quaciOeahOWkqeaVsFxuZXhwb3J0IGZ1bmN0aW9uIGdldERheUNvdW50T2ZNb250aCAoeWVhciwgbW9udGgpIHtcbiAgaWYgKG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgIHJldHVybiAzMFxuICB9XG4gIGlmIChtb250aCA9PT0gMSkge1xuICAgIC8vIOiuoeeul+mXsOW5tFxuICAgIGlmICgoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDI5XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAyOFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAzMVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2Vla051bWJlciAoc3JjKSB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShzcmMuZ2V0VGltZSgpKVxuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApXG4gIC8vIFRodXJzZGF5IGluIGN1cnJlbnQgd2VlayBkZWNpZGVzIHRoZSB5ZWFyLlxuICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAzIC0gKGRhdGUuZ2V0RGF5KCkgKyA2KSAlIDcpXG4gIC8vIEphbnVhcnkgNCBpcyBhbHdheXMgaW4gd2VlayAxLlxuICBjb25zdCB3ZWVrMSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgNClcbiAgLy8gQWRqdXN0IHRvIFRodXJzZGF5IGluIHdlZWsgMSBhbmQgY291bnQgbnVtYmVyIG9mIHdlZWtzIGZyb20gZGF0ZSB0byB3ZWVrIDEuXG4gIHJldHVybiAxICsgTWF0aC5yb3VuZCgoKGRhdGUuZ2V0VGltZSgpIC0gd2VlazEuZ2V0VGltZSgpKSAvIDg2NDAwMDAwIC0gMyArICh3ZWVrMS5nZXREYXkoKSArIDYpICUgNykgLyA3KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhcnREYXRlT2ZNb250aCAoeWVhciwgbW9udGgpIHtcbiAgY29uc3QgcmVzdWx0ID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCAxKVxuICBjb25zdCBkYXkgPSByZXN1bHQuZ2V0RGF5KClcblxuICBpZiAoZGF5ID09PSAwKSB7XG4gICAgcmVzdWx0LnNldFRpbWUocmVzdWx0LmdldFRpbWUoKSAtIERBWV9EVVJBVElPTiAqIDcpXG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnNldFRpbWUocmVzdWx0LmdldFRpbWUoKSAtIERBWV9EVVJBVElPTiAqIGRheSlcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9kYXRlcGlja2VyL3V0aWwvaW5kZXguanMiLCJpbXBvcnQgJy4veWVhci5sZXNzJ1xudmFyIGtvID0gd2luZG93LmtvXG5mdW5jdGlvbiBpbml0IChwYXJhbXMpIHtcbiAgLy8g5a6e6ZmF6YCJ5oup55qE5bm05Lu9XG4gIHRoaXMueWVhciA9IHBhcmFtcy55ZWFyXG4gIHRoaXMuX3llYXIgPSBrby5vYnNlcnZhYmxlKHBhcmFtcy55ZWFyKCkpXG4gIC8vIOebkeaOp+W8gOWni+W5tOS7vVxuICB0aGlzLnN0YXJ0eWVhciA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLl95ZWFyKCkgLyAxMCkgKiAxMFxuICB9LCB0aGlzKVxuICAvLyDpgInmi6nlubTku71cbiAgdGhpcy5oYW5kbGVZZWFyQ2xpY2sgPSAodmFsKSA9PiB7XG4gICAgdGhpcy55ZWFyKHRoaXMuc3RhcnR5ZWFyKCkgKyB2YWwpXG4gICAgcGFyYW1zLnNob3d5ZWFyKGZhbHNlKVxuICAgIHBhcmFtcy5zaG93bW9udGgodHJ1ZSlcbiAgfVxuICAvLyDliY3ljYHlubRcbiAgdGhpcy5sYXN0MTB5ZWFyID0gKCkgPT4ge1xuICAgIHRoaXMuX3llYXIodGhpcy5feWVhcigpIC0gMTApXG4gIH1cbiAgLy8g5ZCO5Y2B5bm0XG4gIHRoaXMubmV4dDEweWVhciA9ICgpID0+IHtcbiAgICB0aGlzLl95ZWFyKHRoaXMuX3llYXIoKSArIDEwKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS95ZWFyLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9eS15ZWFyLWN0bj4gPGRpdiBjbGFzcz15LXllYXItaGVhZGVyPiA8ZGl2IGNsYXNzPWxhc3QxMHllYXIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdDEweWVhclxcXCI+Jmx0OyZsdDs8L2Rpdj4gPGRpdiBjbGFzcz1jdXIxMHllYXI+IDxzcGFuIGRhdGEtYmluZD10ZXh0OnN0YXJ0eWVhcj48L3NwYW4+IDxzcGFuPi08L3NwYW4+IDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDpzdGFydHllYXIoKSArIDlcXFwiPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9bmV4dDEweWVhciBkYXRhLWJpbmQ9XFxcImNsaWNrOiBuZXh0MTB5ZWFyXFxcIj4mZ3Q7Jmd0OzwvZGl2PiA8L2Rpdj4gPHRhYmxlIGNsYXNzPXkteWVhci1ib2R5PiA8dHI+IDx0ZCBjbGFzcz1hdmFpbGFibGUgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5OnllYXIoKSA9PSBzdGFydHllYXIoKSswfVxcXCI+PGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwidGV4dDogc3RhcnR5ZWFyLGNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlWWVhckNsaWNrKDApfVxcXCI+PC9kaXY+PC90ZD4gPHRkIGNsYXNzPWF2YWlsYWJsZSBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6eWVhcigpID09IHN0YXJ0eWVhcigpKzF9XFxcIj48ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzdGFydHllYXIoKSArIDEsY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVZZWFyQ2xpY2soMSl9XFxcIj48L2Rpdj48L3RkPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrMn1cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgMixjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljaygyKX1cXFwiPjwvZGl2PjwvdGQ+IDx0ZCBjbGFzcz1hdmFpbGFibGUgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5OnllYXIoKSA9PSBzdGFydHllYXIoKSszfVxcXCI+PGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwidGV4dDogc3RhcnR5ZWFyKCkgKyAzLGNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlWWVhckNsaWNrKDMpfVxcXCI+PC9kaXY+PC90ZD4gPC90cj4gPHRyPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrNH1cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgNCxjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljayg0KX1cXFwiPjwvZGl2PjwvdGQ+IDx0ZCBjbGFzcz1hdmFpbGFibGUgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5OnllYXIoKSA9PSBzdGFydHllYXIoKSs1fVxcXCI+PGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwidGV4dDogc3RhcnR5ZWFyKCkgKyA1LGNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlWWVhckNsaWNrKDUpfVxcXCI+PC9kaXY+PC90ZD4gPHRkIGNsYXNzPWF2YWlsYWJsZSBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6eWVhcigpID09IHN0YXJ0eWVhcigpKzZ9XFxcIj48ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzdGFydHllYXIoKSArIDYsY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVZZWFyQ2xpY2soNil9XFxcIj48L2Rpdj48L3RkPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrN31cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgNyxjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljayg3KX1cXFwiPjwvZGl2PjwvdGQ+IDwvdHI+IDx0cj4gPHRkIGNsYXNzPWF2YWlsYWJsZSBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6eWVhcigpID09IHN0YXJ0eWVhcigpKzh9XFxcIj48ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzdGFydHllYXIoKSArIDgsY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVZZWFyQ2xpY2soOCl9XFxcIj48L2Rpdj48L3RkPiA8dGQgY2xhc3M9YXZhaWxhYmxlIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTp5ZWFyKCkgPT0gc3RhcnR5ZWFyKCkrOX1cXFwiPjxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcInRleHQ6IHN0YXJ0eWVhcigpICsgOSxjbGljazpmdW5jdGlvbigpe2hhbmRsZVllYXJDbGljayg5KX1cXFwiPjwvZGl2PjwvdGQ+IDwvdHI+IDwvdGFibGU+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS95ZWFyLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDEyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgJy4vbW9udGgubGVzcydcbmZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xuICB0aGlzLm1vbnRoID0gcGFyYW1zLm1vbnRoXG4gIHRoaXMueWVhciA9IHBhcmFtcy55ZWFyXG4gIC8vIOmAieaLqeaciOS7vVxuICB0aGlzLmhhbmRsZU1vbnRoQ2xpY2sgPSAodmFsKSA9PiB7XG4gICAgdGhpcy5tb250aCh2YWwpXG4gICAgcGFyYW1zLnNob3dkYXkodHJ1ZSlcbiAgICBwYXJhbXMuc2hvd21vbnRoKGZhbHNlKVxuICB9XG4gIC8vIOWJjeWNgeW5tFxuICB0aGlzLmxhc3R5ZWFyID0gKCkgPT4ge1xuICAgIHRoaXMueWVhcih0aGlzLnllYXIoKSAtIDEpXG4gIH1cbiAgLy8g5ZCO5Y2B5bm0XG4gIHRoaXMubmV4dHllYXIgPSAoKSA9PiB7XG4gICAgdGhpcy55ZWFyKHRoaXMueWVhcigpICsgMSlcbiAgfVxuICAvLyDlubTku73pgInmi6lcbiAgdGhpcy5jaG9vc2V5ZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHBhcmFtcy5zaG93eWVhcih0cnVlKVxuICAgIHBhcmFtcy5zaG93bW9udGgoZmFsc2UpXG4gIH1cbiAgdGhpcy5tb250aDEgPSAn5LiA5pyIJ1xuICB0aGlzLm1vbnRoMiA9ICfkuozmnIgnXG4gIHRoaXMubW9udGgzID0gJ+S4ieaciCdcbiAgdGhpcy5tb250aDQgPSAn5Zub5pyIJ1xuICB0aGlzLm1vbnRoNSA9ICfkupTmnIgnXG4gIHRoaXMubW9udGg2ID0gJ+WFreaciCdcbiAgdGhpcy5tb250aDcgPSAn5LiD5pyIJ1xuICB0aGlzLm1vbnRoOCA9ICflhavmnIgnXG4gIHRoaXMubW9udGg5ID0gJ+S5neaciCdcbiAgdGhpcy5tb250aDEwID0gJ+WNgeaciCdcbiAgdGhpcy5tb250aDExID0gJ+WNgeS4gOaciCdcbiAgdGhpcy5tb250aDEyID0gJ+WNgeS6jOaciCdcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9iYXNlL21vbnRoLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9eS1tb250aC1jdG4+IDxkaXYgY2xhc3M9eS1tb250aC1oZWFkZXI+IDxkaXYgY2xhc3M9bGFzdHllYXIgZGF0YS1iaW5kPVxcXCJjbGljazogbGFzdHllYXJcXFwiPiZsdDsmbHQ7PC9kaXY+IDxkaXYgY2xhc3M9Y3VyeWVhcj4gPHNwYW4gZGF0YS1iaW5kPXRleHQ6eWVhcixjbGljazpjaG9vc2V5ZWFyPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9bmV4dHllYXIgZGF0YS1iaW5kPVxcXCJjbGljazogbmV4dHllYXJcXFwiPiZndDsmZ3Q7PC9kaXY+IDwvZGl2PiA8dGFibGUgY2xhc3M9eS1tb250aC1ib2R5PiA8dGJvZHk+IDx0cj4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDF9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDEpfSwgdGV4dDogbW9udGgxXFxcIj7kuIDmnIg8L2Rpdj4gPC90ZD4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDJ9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDIpfSwgdGV4dDogbW9udGgyXFxcIj7kuozmnIg8L2Rpdj4gPC90ZD4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDN9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDMpfSwgdGV4dDogbW9udGgzXFxcIj7kuInmnIg8L2Rpdj4gPC90ZD4gPHRkIGRhdGEtYmluZD1cXFwiY3NzOntjdXJyeTptb250aCgpID09IDR9XFxcIj4gPGRpdiBjbGFzcz1jZWxsIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXtoYW5kbGVNb250aENsaWNrKDQpfSwgdGV4dDogbW9udGg0XFxcIj7lm5vmnIg8L2Rpdj4gPC90ZD4gPC90cj4gPHRyPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gNX1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soNSl9LCB0ZXh0OiBtb250aDVcXFwiPuS6lOaciDwvZGl2PiA8L3RkPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gNn1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soNil9LCB0ZXh0OiBtb250aDZcXFwiPuWFreaciDwvZGl2PiA8L3RkPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gN31cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soNyl9LCB0ZXh0OiBtb250aDdcXFwiPuS4g+aciDwvZGl2PiA8L3RkPiA8dGQgZGF0YS1iaW5kPVxcXCJjc3M6e2N1cnJ5Om1vbnRoKCkgPT0gOH1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soOCl9LCB0ZXh0OiBtb250aDhcXFwiPuWFq+aciDwvZGl2PiA8L3RkPiA8L3RyPiA8dHI+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSA5fVxcXCI+IDxkaXYgY2xhc3M9Y2VsbCBkYXRhLWJpbmQ9XFxcImNsaWNrOmZ1bmN0aW9uKCl7aGFuZGxlTW9udGhDbGljayg5KX0sIHRleHQ6IG1vbnRoOVxcXCI+5Lmd5pyIPC9kaXY+IDwvdGQ+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSAxMH1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soMTApfSwgdGV4dDogbW9udGgxMFxcXCI+5Y2B5pyIPC9kaXY+IDwvdGQ+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSAxMX1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soMTEpfSwgdGV4dDogbW9udGgxMVxcXCI+5Y2B5LiA5pyIPC9kaXY+IDwvdGQ+IDx0ZCBkYXRhLWJpbmQ9XFxcImNzczp7Y3Vycnk6bW9udGgoKSA9PSAxMn1cXFwiPiA8ZGl2IGNsYXNzPWNlbGwgZGF0YS1iaW5kPVxcXCJjbGljazpmdW5jdGlvbigpe2hhbmRsZU1vbnRoQ2xpY2soMTIpfSwgdGV4dDogbW9udGgxMlxcXCI+5Y2B5LqM5pyIPC9kaXY+IDwvdGQ+IDwvdHI+IDwvdGJvZHk+IDwvdGFibGU+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS9tb250aC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgZ2V0Rmlyc3REYXlPZk1vbnRoLCBnZXREYXlDb3VudE9mTW9udGgsIGdldFdlZWtOdW1iZXIsIGdldFN0YXJ0RGF0ZU9mTW9udGgsIHNldERhdGEgfSBmcm9tICcuLi91dGlsJ1xudmFyIGtvID0gd2luZG93LmtvXG5jb25zdCBEQVlfRFVSQVRJT04gPSA4NjQwMDAwMCAvLyAx5aSpXG5jb25zdCBjbGVhckhvdXJzID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgY29uc3QgY2xvbmVEYXRlID0gbmV3IERhdGUodGltZSlcbiAgY2xvbmVEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApXG4gIHJldHVybiBjbG9uZURhdGUuZ2V0VGltZSgpXG59XG5cbmZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xuICBsZXQgdGhhdCA9IHRoaXNcbiAgdGhpcy5tb250aCA9IHBhcmFtcy5tb250aFxuICB0aGlzLnllYXIgPSBwYXJhbXMueWVhclxuICB0aGlzLnNob3dZZWFyID0ga28uY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnllYXIoKSArICflubQnXG4gIH0uYmluZCh0aGlzKSlcbiAgdGhpcy5zaG93TW9udGggPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9udGgoKSArICfmnIgnXG4gIH0uYmluZCh0aGlzKSlcbiAgdGhpcy5kYXkgPSBwYXJhbXMuZGF5XG4gIHRoaXMudGFibGVSb3dzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pLCBrby5vYnNlcnZhYmxlQXJyYXkoW10pXSlcbiAgLy8gdG9kb1xuICB0aGlzLmZpcnN0RGF5T2ZXZWVrID0ga28ub2JzZXJ2YWJsZSg3KVxuICAvLyDlvIDlp4vml6XmnJ9cbiAgdGhpcy5zdGFydERhdGUgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldFN0YXJ0RGF0ZU9mTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSlcbiAgfSwgdGhpcylcbiAgdGhpcy5kaXNhYmxlZERhdGUgPSBmdW5jdGlvbiAodGltZSkge1xuICAgIGlmIChwYXJhbXMubWluRGF0ZSgpICYmIGNsZWFySG91cnModGltZSkgPD0gY2xlYXJIb3VycyhuZXcgRGF0ZShwYXJhbXMubWluRGF0ZSgpKSkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIGlmIChwYXJhbXMubWF4RGF0ZSgpICYmIGNsZWFySG91cnModGltZSkgPj0gY2xlYXJIb3VycyhuZXcgRGF0ZShwYXJhbXMubWF4RGF0ZSgpKSkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuc2hvd1dlZWtOdW1iZXIgPSBmYWxzZVxuICB0aGlzLm9mZnNldERheSA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB3ZWVrID0gdGhpcy5maXJzdERheU9mV2VlaygpXG4gICAgLy8g5ZGo5pel5Li655WM6ZmQ77yM5bem5Y+z5YGP56e755qE5aSp5pWw77yMMzIxNzY1NCDkvovlpoLlkajkuIDlsLHmmK8gLTHvvIznm67nmoTmmK/osIPmlbTliY3kuKTooYzml6XmnJ/nmoTkvY3nva5cbiAgICByZXR1cm4gd2VlayA+IDMgPyA3IC0gd2VlayA6IC13ZWVrXG4gIH0sIHRoaXMpXG4gIC8vIOmAieaLqeaXpeacn1xuICB0aGlzLmhhbmRsZURheUNsaWNrID0gZnVuY3Rpb24gKGNlbGwpIHtcbiAgICBpZiAoY2VsbC5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGxldCB5ZWFyID0gdGhpcy55ZWFyKClcbiAgICBsZXQgbW9udGggPSB0aGlzLm1vbnRoKClcbiAgICBsZXQgZGF5ID0gY2VsbC50ZXh0XG4gICAgLy8g6Leo6aG16YCJ5Y+WXG4gICAgaWYgKGNlbGwudHlwZSA9PT0gJ3ByZXYtbW9udGgnKSB7XG4gICAgICBpZiAobW9udGggPT09IDEpIHtcbiAgICAgICAgeWVhci0tXG4gICAgICAgIG1vbnRoID0gMTJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbnRoLS1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNlbGwudHlwZSA9PT0gJ25leHQtbW9udGgnKSB7XG4gICAgICBpZiAobW9udGggPT09IDEyKSB7XG4gICAgICAgIHllYXIrK1xuICAgICAgICBtb250aCA9IDFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbnRoKytcbiAgICAgIH1cbiAgICB9XG4gICAgLy8g5YiH5o2i5Yiw5YW25LuW5pyI5Lu955qE5pe25YCZXG4gICAgc2V0RGF0YSgobmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXksIHBhcmFtcy5ob3VyKCksIHBhcmFtcy5taW51dGVzKCksIHBhcmFtcy5zZWNvbmRzKCkpKS5fZm9ybWF0KHBhcmFtcy5pc1RpbWVyID8gJ3l5eXktTU0tZGQgaGg6bW06c3MnIDogJ3l5eXktTU0tZGQnKSwgcGFyYW1zLmRhdGEsIHBhcmFtcy5pc051bWJlcmljVmFsdWUpXG4gIH1cbiAgLy8g5Yik5pat5piv5ZCm5b2T5YmN5aSpXG4gIHRoaXMuaXNTZWxlY3RlZERheSA9IChjZWxsVHlwZSwgY2VsbERheSkgPT4ge1xuICAgIGlmIChjZWxsVHlwZSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgIC8vIGZpeCBpZSBhbmQgZWRnZSBuZXcgZGF0ZSBidWdcbiAgICAgIGlmIChwYXJhbXMuZGF0YSgpKSB7XG4gICAgICAgIHZhciBfZGF0ZSA9IG5ldyBEYXRlKChwYXJhbXMuZGF0YSgpICsgJycpLnJlcGxhY2UoLy0vZywgJy8nKSlcbiAgICAgICAgaWYgKGNlbGxEYXkgPT09IHRoaXMuZGF5KCkgJiYgdGhpcy5tb250aCgpID09PSAoX2RhdGUuZ2V0TW9udGgoKSArIDEpICYmIHRoaXMueWVhcigpID09PSAoX2RhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG4gIC8vIOW5tOS7vemAieaLqVxuICB0aGlzLmNob29zZXllYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGFyYW1zLnNob3d5ZWFyKHRydWUpXG4gICAgcGFyYW1zLnNob3dkYXkoZmFsc2UpXG4gIH1cbiAgLy8g5pyI5Lu96YCJ5oupXG4gIHRoaXMuY2hvb3NlbW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgcGFyYW1zLnNob3dtb250aCh0cnVlKVxuICAgIHBhcmFtcy5zaG93ZGF5KGZhbHNlKVxuICB9XG4gIHRoaXMubGFzdHllYXIgPSAoKSA9PiB7XG4gICAgdGhpcy55ZWFyKHRoaXMueWVhcigpIC0gMSlcbiAgICB0aGlzLnNob3dkYXkoKVxuICB9XG4gIHRoaXMubGFzdG1vbnRoID0gKCkgPT4ge1xuICAgIGxldCBjdXJtb250aCA9IHRoaXMubW9udGgoKVxuICAgIGlmIChjdXJtb250aCA9PT0gMSkge1xuICAgICAgdGhpcy55ZWFyKHRoaXMueWVhcigpIC0gMSlcbiAgICAgIHRoaXMubW9udGgoMTIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW9udGgodGhpcy5tb250aCgpIC0gMSlcbiAgICB9XG4gICAgdGhpcy5zaG93ZGF5KClcbiAgfVxuICB0aGlzLm5leHR5ZWFyID0gKCkgPT4ge1xuICAgIHRoaXMueWVhcih0aGlzLnllYXIoKSArIDEpXG4gICAgdGhpcy5zaG93ZGF5KClcbiAgfVxuICB0aGlzLm5leHRtb250aCA9ICgpID0+IHtcbiAgICBsZXQgY3VybW9udGggPSB0aGlzLm1vbnRoKClcbiAgICBpZiAoY3VybW9udGggPT09IDEyKSB7XG4gICAgICB0aGlzLnllYXIodGhpcy55ZWFyKCkgKyAxKVxuICAgICAgdGhpcy5tb250aCgxKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vbnRoKHRoaXMubW9udGgoKSArIDEpXG4gICAgfVxuICAgIHRoaXMuc2hvd2RheSgpXG4gIH1cbiAgdGhpcy5zaG93ZGF5ID0gKCkgPT4ge1xuICAgIHBhcmFtcy5zaG93bW9udGgoZmFsc2UpXG4gICAgcGFyYW1zLnNob3dkYXkodHJ1ZSlcbiAgfVxuICB0aGlzLnJvd3MgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSAxLCAxKVxuICAgIGxldCBkYXkgPSBnZXRGaXJzdERheU9mTW9udGgoZGF0ZSkgLy8gZGF5IG9mIGZpcnN0IGRheVxuICAgIGNvbnN0IGRhdGVDb3VudE9mTW9udGggPSBnZXREYXlDb3VudE9mTW9udGgoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkpXG4gICAgY29uc3QgZGF0ZUNvdW50T2ZMYXN0TW9udGggPSBnZXREYXlDb3VudE9mTW9udGgoZGF0ZS5nZXRGdWxsWWVhcigpLCAoZGF0ZS5nZXRNb250aCgpID09PSAwID8gMTEgOiBkYXRlLmdldE1vbnRoKCkgLSAxKSlcbiAgICBkYXkgPSAoZGF5ID09PSAwID8gNyA6IGRheSlcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9mZnNldERheSgpXG4gICAgY29uc3Qgcm93cyA9IHRoaXMudGFibGVSb3dzKClcbiAgICBsZXQgY291bnQgPSAxXG4gICAgbGV0IGZpcnN0RGF5UG9zaXRpb25cbiAgICBjb25zdCBzdGFydERhdGUgPSB0aGlzLnN0YXJ0RGF0ZSgpXG4gICAgY29uc3QgZGlzYWJsZWREYXRlID0gdGhpcy5kaXNhYmxlZERhdGVcbiAgICBjb25zdCBub3cgPSBjbGVhckhvdXJzKG5ldyBEYXRlKCkpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgIC8vIOavj+S4gOihjFxuICAgICAgY29uc3Qgcm93ID0gcm93c1tpXSgpXG4gICAgICBpZiAodGhpcy5zaG93V2Vla051bWJlcikge1xuICAgICAgICBpZiAoIXJvd1swXSkge1xuICAgICAgICAgIHJvd1swXSA9IHsgdHlwZTogJ3dlZWsnLCB0ZXh0OiBnZXRXZWVrTnVtYmVyKG5ldyBEYXRlKHN0YXJ0RGF0ZS5nZXRUaW1lKCkgKyBEQVlfRFVSQVRJT04gKiAoaSAqIDcgKyAxKSkpIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgICAgbGV0IGNlbGwgPSByb3dbdGhpcy5zaG93V2Vla051bWJlciA/IGogKyAxIDogal1cbiAgICAgICAgaWYgKCFjZWxsKSB7XG4gICAgICAgICAgY2VsbCA9IHsgcm93OiBpLCBjb2x1bW46IGosIHR5cGU6ICdub3JtYWwnIH1cbiAgICAgICAgfVxuICAgICAgICBjZWxsWyckcGFyZW50J10gPSB0aGF0XG4gICAgICAgIGNlbGwudHlwZSA9ICdub3JtYWwnXG4gICAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDcgKyBqXG4gICAgICAgIGNvbnN0IHRpbWUgPSBzdGFydERhdGUuZ2V0VGltZSgpICsgREFZX0RVUkFUSU9OICogKGluZGV4IC0gb2Zmc2V0KVxuICAgICAgICBjb25zdCBpc1RvZGF5ID0gdGltZSA9PT0gbm93XG4gICAgICAgIGlmIChpc1RvZGF5KSB7XG4gICAgICAgICAgY2VsbC50eXBlID0gJ3RvZGF5J1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8PSAxKSB7XG4gICAgICAgICAgaWYgKGogKyBpICogNyA+PSAoZGF5ICsgb2Zmc2V0KSkge1xuICAgICAgICAgICAgY2VsbC50ZXh0ID0gY291bnQrK1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgIGZpcnN0RGF5UG9zaXRpb24gPSBpICogNyArIGpcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2VsbC50ZXh0ID0gZGF0ZUNvdW50T2ZMYXN0TW9udGggLSAoZGF5ICsgb2Zmc2V0IC0gaiAlIDcpICsgMSArIGkgKiA3XG4gICAgICAgICAgICBjZWxsLnR5cGUgPSAncHJldi1tb250aCdcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNvdW50IDw9IGRhdGVDb3VudE9mTW9udGgpIHtcbiAgICAgICAgICAgIGNlbGwudGV4dCA9IGNvdW50KytcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICBmaXJzdERheVBvc2l0aW9uID0gaSAqIDcgKyBqXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNlbGwudGV4dCA9IGNvdW50KysgLSBkYXRlQ291bnRPZk1vbnRoXG4gICAgICAgICAgICBjZWxsLnR5cGUgPSAnbmV4dC1tb250aCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2VsbC5kaXNhYmxlZCA9IHR5cGVvZiBkaXNhYmxlZERhdGUgPT09ICdmdW5jdGlvbicgJiYgZGlzYWJsZWREYXRlKG5ldyBEYXRlKHRpbWUpKVxuICAgICAgICBpZiAodGhpcy5zaG93V2Vla051bWJlcikge1xuICAgICAgICAgIHJvd1tqICsgMV0gPSBjZWxsXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93W2pdID0gY2VsbFxuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMuJHNldChyb3csIHRoaXMuc2hvd1dlZWtOdW1iZXIgPyBqICsgMSA6IGosIGNlbGwpXG4gICAgICB9XG4gICAgICByb3dzW2ldKHJvdylcbiAgICB9XG4gICAgcm93cy5maXJzdERheVBvc2l0aW9uID0gZmlyc3REYXlQb3NpdGlvblxuICAgIHJldHVybiByb3dzXG4gIH0sIHRoaXMpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2RhdGVwaWNrZXIvYmFzZS9kYXkuanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz15LWRheS1jdG4+IDxkaXYgY2xhc3M9eS1kYXktaGVhZGVyPiA8c3BhbiBjbGFzcz1sYXN0eWVhciBkYXRhLWJpbmQ9XFxcImNsaWNrOiBsYXN0eWVhclxcXCI+Jmx0OyZsdDs8L3NwYW4+IDxzcGFuIGNsYXNzPWxhc3Rtb250aCBkYXRhLWJpbmQ9XFxcImNsaWNrOiBsYXN0bW9udGhcXFwiPiZsdDs8L3NwYW4+IDxzcGFuIGNsYXNzPXllYXJhbmRtb250aD4gPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzaG93WWVhciwgY2xpY2s6IGNob29zZXllYXJcXFwiPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBzaG93TW9udGgsIGNsaWNrOiBjaG9vc2Vtb250aFxcXCI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPW5leHRtb250aCBkYXRhLWJpbmQ9XFxcImNsaWNrOiBuZXh0bW9udGhcXFwiPiZndDs8L3NwYW4+IDxzcGFuIGNsYXNzPW5leHR5ZWFyIGRhdGEtYmluZD1cXFwiY2xpY2s6IG5leHR5ZWFyXFxcIj4mZ3Q7Jmd0Ozwvc3Bhbj4gPC9kaXY+IDx0YWJsZSBjbGFzcz15LWRheS1ib2R5PiA8dHIgc3R5bGU9Y29sb3I6I2JiYj4gPHRkPuaXpTwvdGQ+IDx0ZD7kuIA8L3RkPiA8dGQ+5LqMPC90ZD4gPHRkPuS4iTwvdGQ+IDx0ZD7lm5s8L3RkPiA8dGQ+5LqUPC90ZD4gPHRkPuWFrTwvdGQ+IDwvdHI+IDwhLS0ga28gZm9yZWFjaDogeyBkYXRhOiByb3dzKCksIGFzOiAncm93JyB9IC0tPiA8dHIgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiB7IGRhdGE6IHJvdywgYXM6ICdjZWxsJyB9XFxcIj4gPHRkIGRhdGEtYmluZD1cXFwiY2xpY2s6ZnVuY3Rpb24oKXskcGFyZW50LmhhbmRsZURheUNsaWNrKGNlbGwpfSxjc3M6e2Rpc2FibGU6Y2VsbC5kaXNhYmxlZCxuZXh0bW9udGg6Y2VsbC50eXBlPT0nbmV4dC1tb250aCcscHJldm1vbnRoOmNlbGwudHlwZT09J3ByZXYtbW9udGgnLHRvZGF5OiBjZWxsLnR5cGU9PSd0b2RheScsc2VsZWN0ZWREYXk6ICRwYXJlbnQuaXNTZWxlY3RlZERheShjZWxsLnR5cGUsIGNlbGwudGV4dCl9XFxcIj4gPGRpdiBkYXRhLWJpbmQ9dGV4dDpjZWxsLnRleHQ+PC9kaXY+IDwvdGQ+IDwvdHI+IDwhLS0gL2tvIC0tPiA8L3RhYmxlPiA8L2Rpdj4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9kYXRlcGlja2VyL2Jhc2UvZGF5Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDEzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgJy4vdGltZXIubGVzcydcbnZhciBrbyA9IHdpbmRvdy5rb1xuZnVuY3Rpb24gaW5pdCAoe2hvdXIsIG1pbnV0ZXMsIHNlY29uZHMsIHNob3d0aW1lcn0pIHtcbiAgdGhpcy5zaG93dGltZXIgPSBzaG93dGltZXJcbiAgdGhpcy5ob3VyID0ga28uY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBob3VyKCkgPiA5ID8gaG91cigpIDogKCcwJyArIGhvdXIoKSlcbiAgfSlcbiAgdGhpcy5taW51dGVzID0ga28uY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBtaW51dGVzKCkgPiA5ID8gbWludXRlcygpIDogKCcwJyArIG1pbnV0ZXMoKSlcbiAgfSlcbiAgdGhpcy5zZWNvbmRzID0ga28uY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBzZWNvbmRzKCkgPiA5ID8gc2Vjb25kcygpIDogKCcwJyArIHNlY29uZHMoKSlcbiAgfSlcbiAgdGhpcy5vbklucHV0ID0gKGUpID0+IHtcbiAgICBsZXQgdmFsID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSlcbiAgICBpZiAoIS9eWzAtOV0qWzEtOV1bMC05XSokLy50ZXN0KHZhbCkpIHtcbiAgICAgIGUudGFyZ2V0LnZhbHVlID0gJzAwJ1xuICAgIH1cbiAgfVxuICB0aGlzLm5leHRob3VyID0gKCkgPT4ge1xuICAgIGxldCBfaG91ciA9IGhvdXIoKSArIDFcbiAgICBpZiAoX2hvdXIgPT09IDI0KSB7XG4gICAgICBob3VyKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIGhvdXIoX2hvdXIpXG4gICAgfVxuICB9XG4gIHRoaXMubGFzdGhvdXIgPSAoKSA9PiB7XG4gICAgbGV0IF9ob3VyID0gaG91cigpIC0gMVxuICAgIGlmIChfaG91ciA8PSAwKSB7XG4gICAgICBob3VyKDIzKVxuICAgIH0gZWxzZSB7XG4gICAgICBob3VyKF9ob3VyKVxuICAgIH1cbiAgfVxuICAvLyDlsI/ml7bmiYvliqjovpPlhaVcbiAgdGhpcy5ibHVySG91ciA9IChlKSA9PiB7XG4gICAgbGV0IF9ob3VyID0gZS50YXJnZXQudmFsdWVcbiAgICBpZiAoX2hvdXIgPj0gMjQgfHwgX2hvdXIgPD0gMCkge1xuICAgICAgaG91cigwKVxuICAgICAgZS50YXJnZXQudmFsdWUgPSAnMDAnXG4gICAgfSBlbHNlIHtcbiAgICAgIGhvdXIoX2hvdXIpXG4gICAgfVxuICB9XG4gIHZhciB0aW1lclRpbWVvdXRcbiAgdmFyIGlubmVySW50ZXJ2YWxcbiAgLy8g5bCP5pe26YCJ5oup6ZW/5oyJXG4gIHRoaXMubmV4dGhvdXJob2xkZG93biA9ICgpID0+IHtcbiAgICB0aW1lclRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlubmVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRoaXMubmV4dGhvdXIoKVxuICAgICAgfSwgMTAwKVxuICAgIH0sIDIwMClcbiAgfVxuICB0aGlzLmxhc3Rob3VyaG9sZGRvd24gPSAoKSA9PiB7XG4gICAgdGltZXJUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpbm5lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0aGlzLmxhc3Rob3VyKClcbiAgICAgIH0sIDEwMClcbiAgICB9LCAyMDApXG4gIH1cbiAgLy8g5YiG6ZKf6YCJ5oup6ZW/5oyJXG4gIHRoaXMubmV4dG1pbmhvbGRkb3duID0gKCkgPT4ge1xuICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaW5uZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdGhpcy5uZXh0bWludXRlcygpXG4gICAgICB9LCA1MClcbiAgICB9LCAyMDApXG4gIH1cbiAgLy8g5YiG6ZKf6YCJ5oup6ZW/5oyJXG4gIHRoaXMubGFzdG1pbmhvbGRkb3duID0gKCkgPT4ge1xuICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaW5uZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdGhpcy5sYXN0bWludXRlcygpXG4gICAgICB9LCA1MClcbiAgICB9LCAyMDApXG4gIH1cbiAgLy8g56eS6YCJ5oup6ZW/5oyJXG4gIHRoaXMubmV4dHNlY2hvbGRkb3duID0gKCkgPT4ge1xuICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaW5uZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdGhpcy5uZXh0c2Vjb25kcygpXG4gICAgICB9LCA1MClcbiAgICB9LCAyMDApXG4gIH1cbiAgLy8g56eS6YCJ5oup6ZW/5oyJXG4gIHRoaXMubGFzdHNlY2hvbGRkb3duID0gKCkgPT4ge1xuICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaW5uZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdGhpcy5sYXN0c2Vjb25kcygpXG4gICAgICB9LCA1MClcbiAgICB9LCAyMDApXG4gIH1cbiAgdGhpcy5ob2xkdXAgPSAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbChpbm5lckludGVydmFsKVxuICAgIGNsZWFyVGltZW91dCh0aW1lclRpbWVvdXQpXG4gIH1cbiAgdGhpcy5ibHVyID0gKCkgPT4ge1xuICAgIGNsZWFySW50ZXJ2YWwoaW5uZXJJbnRlcnZhbClcbiAgICBjbGVhclRpbWVvdXQodGltZXJUaW1lb3V0KVxuICB9XG5cbiAgdGhpcy5uZXh0bWludXRlcyA9ICgpID0+IHtcbiAgICBsZXQgX21pbnV0ZXMgPSBtaW51dGVzKCkgKyAxXG4gICAgaWYgKF9taW51dGVzID49IDYwKSB7XG4gICAgICBtaW51dGVzKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIG1pbnV0ZXMoX21pbnV0ZXMpXG4gICAgfVxuICB9XG4gIHRoaXMubGFzdG1pbnV0ZXMgPSAoKSA9PiB7XG4gICAgbGV0IF9taW51dGVzID0gbWludXRlcygpIC0gMVxuICAgIGlmIChfbWludXRlcyA8PSAwKSB7XG4gICAgICBtaW51dGVzKDU5KVxuICAgIH0gZWxzZSB7XG4gICAgICBtaW51dGVzKF9taW51dGVzKVxuICAgIH1cbiAgfVxuICAvLyDliIbpkp/miYvliqjovpPlhaVcbiAgdGhpcy5ibHVyTWludXRlcyA9IChlKSA9PiB7XG4gICAgbGV0IF9taW51dGVzID0gZS50YXJnZXQudmFsdWVcbiAgICBpZiAoX21pbnV0ZXMgPj0gNjAgfHwgX21pbnV0ZXMgPD0gMCkge1xuICAgICAgbWludXRlcygwKVxuICAgICAgZS50YXJnZXQudmFsdWUgPSAnMDAnXG4gICAgfSBlbHNlIHtcbiAgICAgIG1pbnV0ZXMoX21pbnV0ZXMpXG4gICAgfVxuICB9XG4gIHRoaXMubmV4dHNlY29uZHMgPSAoKSA9PiB7XG4gICAgbGV0IF9zZWNvbmRzID0gc2Vjb25kcygpICsgMVxuICAgIGlmIChfc2Vjb25kcyA+PSA2MCkge1xuICAgICAgc2Vjb25kcygwKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWNvbmRzKF9zZWNvbmRzKVxuICAgIH1cbiAgfVxuICB0aGlzLmxhc3RzZWNvbmRzID0gKCkgPT4ge1xuICAgIGxldCBfc2Vjb25kcyA9IHNlY29uZHMoKSAtIDFcbiAgICBpZiAoX3NlY29uZHMgPD0gMCkge1xuICAgICAgc2Vjb25kcyg1OSlcbiAgICB9IGVsc2Uge1xuICAgICAgc2Vjb25kcyhfc2Vjb25kcylcbiAgICB9XG4gIH1cbiAgLy8g56eS5omL5Yqo6L6T5YWlXG4gIHRoaXMuYmx1clNlY29uZHMgPSAoZSkgPT4ge1xuICAgIGxldCBfc2Vjb25kcyA9IGUudGFyZ2V0LnZhbHVlXG4gICAgaWYgKF9zZWNvbmRzID49IDYwIHx8IF9zZWNvbmRzIDw9IDApIHtcbiAgICAgIHNlY29uZHMoMClcbiAgICAgIGUudGFyZ2V0LnZhbHVlID0gJzAwJ1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWNvbmRzKF9zZWNvbmRzKVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9iYXNlL3RpbWVyLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9eS10aW1lci1jdG4gZGF0YS1iaW5kPVxcXCJjc3M6eydoaWRkZW4nOiFzaG93dGltZXIoKX1cXFwiPiA8ZGl2IGNsYXNzPXktdGltZXItaGVhZGVyPiA8L2Rpdj4gPHRhYmxlIGNsYXNzPXktdGltZXItYm9keT4gPHRyPiA8dGQ+IDxkaXY+IDxkaXYgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLXVwXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiBuZXh0aG91ciwgZXZlbnQ6e21vdXNlZG93bjpuZXh0aG91cmhvbGRkb3duLG1vdXNldXA6aG9sZHVwLGJsdXI6Ymx1cn1cXFwiPjwvZGl2PiA8aW5wdXQgY2xhc3M9dGltZXIgdHlwZT10ZXh0IGRhdGEtYmluZD1cXFwidmFsdWU6aG91ciwgZXZlbnQ6e2JsdXI6ZnVuY3Rpb24oKXtibHVySG91cihldmVudCl9LGlucHV0OmZ1bmN0aW9uKCl7b25JbnB1dChldmVudCl9fVxcXCI+IDxkaXYgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLWRvd25cXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IGxhc3Rob3VyLGV2ZW50Onttb3VzZWRvd246bGFzdGhvdXJob2xkZG93bixtb3VzZXVwOmhvbGR1cCxibHVyOmJsdXJ9XFxcIj48L2Rpdj4gPC9kaXY+IDwvdGQ+IDx0ZD46PC90ZD4gPHRkPiA8ZGl2PiA8ZGl2IGNsYXNzPVxcXCJmYSBmYS1hbmdsZS11cFxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogbmV4dG1pbnV0ZXMsIGV2ZW50Onttb3VzZWRvd246bmV4dG1pbmhvbGRkb3duLG1vdXNldXA6aG9sZHVwLGJsdXI6Ymx1cn1cXFwiPjwvZGl2PiA8aW5wdXQgY2xhc3M9dGltZXIgdHlwZT10ZXh0IGRhdGEtYmluZD1cXFwidmFsdWU6bWludXRlcywgZXZlbnQ6e2JsdXI6ZnVuY3Rpb24oKXtibHVyTWludXRlcyhldmVudCl9LGlucHV0OmZ1bmN0aW9uKCl7b25JbnB1dChldmVudCl9fVxcXCI+IDxkaXYgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLWRvd25cXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IGxhc3RtaW51dGVzLCBldmVudDp7bW91c2Vkb3duOmxhc3RtaW5ob2xkZG93bixtb3VzZXVwOmhvbGR1cCxibHVyOmJsdXJ9XFxcIj48L2Rpdj4gPC9kaXY+IDwvdGQ+IDx0ZD46PC90ZD4gPHRkPiA8ZGl2PiA8ZGl2IGNsYXNzPVxcXCJmYSBmYS1hbmdsZS11cFxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogbmV4dHNlY29uZHMsIGV2ZW50Onttb3VzZWRvd246bmV4dHNlY2hvbGRkb3duLG1vdXNldXA6aG9sZHVwLGJsdXI6Ymx1cn1cXFwiPjwvZGl2PiA8aW5wdXQgY2xhc3M9dGltZXIgdHlwZT10ZXh0IGRhdGEtYmluZD1cXFwidmFsdWU6c2Vjb25kcywgZXZlbnQ6e2JsdXI6ZnVuY3Rpb24oKXtibHVyU2Vjb25kcyhldmVudCl9LGlucHV0OmZ1bmN0aW9uKCl7b25JbnB1dChldmVudCl9fVxcXCI+IDxkaXYgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLWRvd25cXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IGxhc3RzZWNvbmRzLGV2ZW50Onttb3VzZWRvd246bGFzdHNlY2hvbGRkb3duLG1vdXNldXA6aG9sZHVwLGJsdXI6Ymx1cn1cXFwiPjwvZGl2PiA8L2Rpdj4gPC90ZD4gPC90cj4gPC90YWJsZT4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9iYXNlL3RpbWVyLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDEzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9pbmRleC5odG1sJ1xudmFyIGtvID0gd2luZG93LmtvXG5mdW5jdGlvbiBpbml0ICh7IHBsYWNlaG9sZGVyLCBkYXRhLCBtaW5EYXRlLCBtYXhEYXRlLCBudW1iZXJpY1ZhbHVlIH0pIHtcbiAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyXG4gIHRoaXMuZGF0YSA9IGRhdGFcbiAgdGhpcy5taW5EYXRlID0gbWluRGF0ZSB8fCBrby5vYnNlcnZhYmxlKCcxNjAwLTAxLTAxJylcbiAgdGhpcy5tYXhEYXRlID0gbWF4RGF0ZSB8fCBrby5vYnNlcnZhYmxlKCcyMDk5LTEyLTMxJylcbiAgdGhpcy5udW1iZXJpY1ZhbHVlID0gbnVtYmVyaWNWYWx1ZVxufVxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZGF0ZXRpbWVwaWNrZXInLFxuICBpbml0LFxuICB0ZW1wbGF0ZVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZGF0ZXRpbWVwaWNrZXIvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRhdGVwaWNrZXIgcGFyYW1zPVxcXCJudW1iZXJpY1ZhbHVlOm51bWJlcmljVmFsdWUsbWluRGF0ZTptaW5EYXRlLG1heERhdGU6bWF4RGF0ZSxwbGFjZWhvbGRlcjpwbGFjZWhvbGRlcixkYXRhOiBkYXRhLCBpc1RpbWVyOnRydWVcXFwiPiA8L2RhdGVwaWNrZXI+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvZGF0ZXRpbWVwaWNrZXIvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2luZGV4Lmh0bWwnXG52YXIga28gPSB3aW5kb3cua29cbnZhciAkID0gd2luZG93LiRcbmltcG9ydCAna28tYmluZGluZ2hhbmRsZXInXG5cbmZ1bmN0aW9uIF9pbml0IChwYXJhbXMsIGVsKSB7XG4gIHRoaXMuaXNTaG93ID0gcGFyYW1zLmlzU2hvdyB8fCBrby5vYnNlcnZhYmxlKGZhbHNlKVxuICB0aGlzLnNjcm9sbFRvcCA9IHBhcmFtcy5zY3JvbGxUb3AgfHwga28ub2JzZXJ2YWJsZSgpXG4gIGxldCBfZWwgPSBlbC5lbGVtZW50XG4gIHRoaXMuc2Nyb2xsVG9wLnN1YnNjcmliZSh2YWwgPT4ge1xuICAgIF9lbC5jaGlsZHJlblswXS5zY3JvbGxUb3AgPSB2YWxcbiAgfSlcbiAgdGhpcy5kcm9wU3R5bGUgPSBwYXJhbXMuc3R5bGVcbiAgdGhpcy4kZWwgPSBlbFxuICB0aGlzLmlzVHJhbnNmZXJEb20gPSAhcGFyYW1zLmlzU3RvcFRyYW5zZmVyRG9tXG4gIHRoaXMudGFyZ2V0RWwgPSBwYXJhbXMudGFyZ2V0RWxcbiAgdGhpcy50b3AgPSBrby5vYnNlcnZhYmxlKClcbiAgdGhpcy5sZWZ0ID0ga28ub2JzZXJ2YWJsZSgpXG4gIHRoaXMudG9wQWRqdXN0ID0gcGFyYW1zLnRvcEFkanVzdCB8fCAwXG4gIHRoaXMud2lkdGggPSBrby5vYnNlcnZhYmxlKHBhcmFtcy53aWR0aCB8fCAnMTAwJScpXG4gIHZhciBzY3JvbGxFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3coKSkge1xuICAgICAgdGhpcy50b3AodGhpcy50YXJnZXRFbC5jaGlsZHJlblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyAzMilcbiAgICB9XG4gIH0uYmluZCh0aGlzKVxuICB0aGlzLm9uRW50ZXIgPSAoKSA9PiB7XG5cbiAgfVxuICB0aGlzLm9uTGVhdmUgPSAoKSA9PiB7XG5cbiAgfVxuICAvLyDliIfmjaLml7bph43mlrDorr7nva7kuIvmi4nnmoTmnKrnn6VcbiAgdGhpcy5pc1Nob3cuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgLy8g5aSa6YCJ5oOF5Ya15q+U6L6D5aSN5p2C77yM5pqC5LiN5pSv5oyB56m/6LaKb3ZlcmZsb3doaWRkZW5cbiAgICBpZiAodmFsICYmIHRoaXMuaXNUcmFuc2ZlckRvbSkge1xuICAgICAgbGV0IGVsID0gdGhpcy50YXJnZXRFbC5jaGlsZHJlblswXVxuICAgICAgbGV0IHBvc2l0aW9uID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHZhciBsZWZ0ID0gcG9zaXRpb24ubGVmdFxuICAgICAgdmFyIHJpZ2h0ID0gcG9zaXRpb24ucmlnaHRcbiAgICAgIHZhciBkcm9wV2lkdGggPSB0aGlzLndpZHRoKCkgPT09ICcxMDAlJyA/IGVsLm9mZnNldFdpZHRoIDogKHRoaXMud2lkdGgoKS50b1N0cmluZygpLnJlcGxhY2UoJ3B4JywgJycpIC0gMClcbiAgICAgIC8vIOWmguaenOi3neemu+WPs+S+p+Wxj+W5leWuveW6puWwj+S6jjI1MFxuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAtIHBvc2l0aW9uLmxlZnQgPCBkcm9wV2lkdGgpIHtcbiAgICAgICAgbGVmdCA9IHJpZ2h0IC0gZHJvcFdpZHRoXG4gICAgICB9XG4gICAgICBpZiAoIXBhcmFtcy53aWR0aCkge1xuICAgICAgICB0aGlzLndpZHRoKCQoZWwpLndpZHRoKCkpXG4gICAgICB9XG4gICAgICB0aGlzLmxlZnQobGVmdClcbiAgICAgIC8vIHNlbGVjdCDpu5jorqTpq5jluqYgKyAzMlxuICAgICAgdGhpcy50b3AocG9zaXRpb24udG9wICsgMzIpXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxFdmVudClcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsRXZlbnQpXG4gICAgfVxuICB9KVxuICB0aGlzLnN0eWxlID0ga28uY29tcHV0ZWQoKCkgPT4ge1xuICAgIGxldCBzdHlsZSA9IHBhcmFtcy5zdHlsZSB8fCB7fVxuICAgIC8vIHdpZHRoIOaUr+aMgWtv5ZKM6Z2ea2/lr7nosaFcbiAgICBpZiAodGhpcy53aWR0aCAmJiB0aGlzLndpZHRoLnN1YnNjcmliZSkge1xuICAgICAgLy8g5a2Y5Zyo5Lyg5YWlIDEwMCXnmoTmg4XlhrVcbiAgICAgIGlmIChpc05hTih0aGlzLndpZHRoKCkpKSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gdGhpcy53aWR0aCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZS53aWR0aCA9IHRoaXMud2lkdGgoKSArICdweCdcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmFtcy5tYXhIZWlnaHQpIHtcbiAgICAgIHN0eWxlLm1heEhlaWdodCA9IHBhcmFtcy5tYXhIZWlnaHQgKyAncHgnXG4gICAgfVxuICAgIGlmIChwYXJhbXMub3ZlcmZsb3cpIHtcbiAgICAgIHN0eWxlLm92ZXJmbG93ID0gcGFyYW1zLm92ZXJmbG93XG4gICAgfVxuICAgIGlmICh0aGlzLnRvcCgpKSB7XG4gICAgICBzdHlsZS50b3AgPSB0aGlzLnRvcCgpICsgTnVtYmVyKHRoaXMudG9wQWRqdXN0KSArICdweCdcbiAgICAgIHN0eWxlLmxlZnQgPSB0aGlzLmxlZnQoKSArICdweCdcbiAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVcbiAgfSlcbiAgdGhpcy5hbmltYXRlZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpXG4gIHRoaXMuaXNTaG93LnN1YnNjcmliZSh2YWwgPT4ge1xuICAgIHRoaXMuYW5pbWF0ZWQodHJ1ZSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuYW5pbWF0ZWQoZmFsc2UpXG4gICAgfSwgMTUwMClcbiAgfSlcbn1cbnZhciBpbml0ID0ge1xuICBjcmVhdGVWaWV3TW9kZWw6IGZ1bmN0aW9uIChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgICByZXR1cm4gbmV3IF9pbml0KHBhcmFtcywgY29tcG9uZW50SW5mbylcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZHJvcGRvd24nLFxuICBpbml0LFxuICB0ZW1wbGF0ZVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZHJvcGRvd24vaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz15LWRyb3Bkb3duIGRhdGEtYmluZD1cXFwiXFxuICB0cmFuc2ZlcmRvbTogaXNUcmFuc2ZlckRvbSxcXG4gIHN0eWxlOiBzdHlsZSxcXG4gIGV2ZW50OiB7XFxuICAgIG1vdXNlZW50ZXI6IG9uRW50ZXIsXFxuICAgIG1vdXNlbGVhdmU6IG9uTGVhdmVcXG4gIH0sXFxuICBjc3M6IHtcXG4gICAgYW5pbWF0ZWQ6IGFuaW1hdGVkLFxcbiAgICBzbGlkZUluVXA6IGlzU2hvdyAmJiAhZHJvcFN0eWxlLFxcbiAgICBzbGlkZU91dFVwOiAhaXNTaG93KCksXFxuICAgIGhpZGRlbjohaXNTaG93KClcXG4gIH1cXFwiPiA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPiA8IS0tIC9rbyAtLT4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvZHJvcGRvd24vaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qISBrby1iaW5kaW5nSGFuZGxlcnMgdjEuMS4xMSBhdXRob3IgYnkg5Y+L5LqR6YeHRkVEICovXG4hZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJrbm9ja291dFwiKSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcImtub2Nrb3V0XCJdLGUpO2Vsc2V7dmFyIG49ZShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKFwia25vY2tvdXRcIik6dC5rbyk7Zm9yKHZhciByIGluIG4pKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6dClbcl09bltyXX19KHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obil7aWYoZVtuXSlyZXR1cm4gZVtuXS5leHBvcnRzO3ZhciByPWVbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W25dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLHIubD0hMCxyLmV4cG9ydHN9dmFyIGU9e307cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ubT10LF9fd2VicGFja19yZXF1aXJlX18uYz1lLF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbih0LGUsbil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpufSl9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKGUsXCJhXCIsZSksZX0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCIuL1wiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTM4KX0oW2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIwKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixhPXJ8fG98fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlKXt2YXIgbj1BcnJheS5pc0FycmF5O3QuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZ2V0TmF0aXZlKHQsZSl7dmFyIG49byh0LGUpO3JldHVybiByKG4pP246dm9pZCAwfXZhciByPW4oNzkpLG89big4Mik7dC5leHBvcnRzPWdldE5hdGl2ZX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpc09iamVjdCh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gbnVsbCE9dCYmKFwib2JqZWN0XCI9PWV8fFwiZnVuY3Rpb25cIj09ZSl9dC5leHBvcnRzPWlzT2JqZWN0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUdldFRhZyh0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA9PT10P3U6aTpzJiZzIGluIE9iamVjdCh0KT9vKHQpOmEodCl9dmFyIHI9big4KSxvPW4oNDYpLGE9big0NyksaT1cIltvYmplY3QgTnVsbF1cIix1PVwiW29iamVjdCBVbmRlZmluZWRdXCIscz1yP3IudG9TdHJpbmdUYWc6dm9pZCAwO3QuZXhwb3J0cz1iYXNlR2V0VGFnfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGlzT2JqZWN0TGlrZSh0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9dC5leHBvcnRzPWlzT2JqZWN0TGlrZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGlzU3ltYm9sKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fHxvKHQpJiZyKHQpPT1hfXZhciByPW4oNSksbz1uKDYpLGE9XCJbb2JqZWN0IFN5bWJvbF1cIjt0LmV4cG9ydHM9aXNTeW1ib2x9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApLG89ci5TeW1ib2w7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBMaXN0Q2FjaGUodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19dmFyIHI9big2OSksbz1uKDcwKSxhPW4oNzEpLGk9big3MiksdT1uKDczKTtMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyPXIsTGlzdENhY2hlLnByb3RvdHlwZS5kZWxldGU9byxMaXN0Q2FjaGUucHJvdG90eXBlLmdldD1hLExpc3RDYWNoZS5wcm90b3R5cGUuaGFzPWksTGlzdENhY2hlLnByb3RvdHlwZS5zZXQ9dSx0LmV4cG9ydHM9TGlzdENhY2hlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYXNzb2NJbmRleE9mKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspaWYocih0W25dWzBdLGUpKXJldHVybiBuO3JldHVybi0xfXZhciByPW4oMzApO3QuZXhwb3J0cz1hc3NvY0luZGV4T2Z9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89cihPYmplY3QsXCJjcmVhdGVcIik7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBnZXRNYXBEYXRhKHQsZSl7dmFyIG49dC5fX2RhdGFfXztyZXR1cm4gcihlKT9uW1wic3RyaW5nXCI9PXR5cGVvZiBlP1wic3RyaW5nXCI6XCJoYXNoXCJdOm4ubWFwfXZhciByPW4oOTEpO3QuZXhwb3J0cz1nZXRNYXBEYXRhfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gdG9LZXkodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fHIodCkpcmV0dXJuIHQ7dmFyIGU9dCtcIlwiO3JldHVyblwiMFwiPT1lJiYxL3Q9PS1vP1wiLTBcIjplfXZhciByPW4oNyksbz0xLzA7dC5leHBvcnRzPXRvS2V5fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24ga2V5cyh0KXtyZXR1cm4gYSh0KT9yKHQpOm8odCl9dmFyIHI9big1NCksbz1uKDYxKSxhPW4oMjcpO3QuZXhwb3J0cz1rZXlzfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGlzTGVuZ3RoKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pi0xJiZ0JTE9PTAmJnQ8PW59dmFyIG49OTAwNzE5OTI1NDc0MDk5MTt0LmV4cG9ydHM9aXNMZW5ndGh9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89bigwKSxhPXIobyxcIk1hcFwiKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIE1hcENhY2hlKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgcj10W2VdO3RoaXMuc2V0KHJbMF0sclsxXSl9fXZhciByPW4oODMpLG89big5MCksYT1uKDkyKSxpPW4oOTMpLHU9big5NCk7TWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyPXIsTWFwQ2FjaGUucHJvdG90eXBlLmRlbGV0ZT1vLE1hcENhY2hlLnByb3RvdHlwZS5nZXQ9YSxNYXBDYWNoZS5wcm90b3R5cGUuaGFzPWksTWFwQ2FjaGUucHJvdG90eXBlLnNldD11LHQuZXhwb3J0cz1NYXBDYWNoZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGlzS2V5KHQsZSl7aWYocih0KSlyZXR1cm4hMTt2YXIgbj10eXBlb2YgdDtyZXR1cm4hKFwibnVtYmVyXCIhPW4mJlwic3ltYm9sXCIhPW4mJlwiYm9vbGVhblwiIT1uJiZudWxsIT10JiYhbyh0KSl8fChpLnRlc3QodCl8fCFhLnRlc3QodCl8fG51bGwhPWUmJnQgaW4gT2JqZWN0KGUpKX12YXIgcj1uKDIpLG89big3KSxhPS9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8saT0vXlxcdyokLzt0LmV4cG9ydHM9aXNLZXl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDQyKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQociksYT1uKDQ4KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksdT17ZGVib3VuY2U6by5kZWZhdWx0LGZpbHRlcjppLmRlZmF1bHR9O2UuZGVmYXVsdD11fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmV4cG9ydHM9bn0pLmNhbGwoZSxuKDQ0KSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYXJyYXlGaWx0ZXIodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGgsbz0wLGE9W107KytuPHI7KXt2YXIgaT10W25dO2UoaSxuLHQpJiYoYVtvKytdPWkpfXJldHVybiBhfXQuZXhwb3J0cz1hcnJheUZpbHRlcn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTYpLG89big2KSxhPU9iamVjdC5wcm90b3R5cGUsaT1hLmhhc093blByb3BlcnR5LHU9YS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxzPXIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKT9yOmZ1bmN0aW9uKHQpe3JldHVybiBvKHQpJiZpLmNhbGwodCxcImNhbGxlZVwiKSYmIXUuY2FsbCh0LFwiY2FsbGVlXCIpfTt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXt2YXIgcj1uKDApLG89big1NyksYT1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmIWUubm9kZVR5cGUmJmUsaT1hJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmIXQubm9kZVR5cGUmJnQsdT1pJiZpLmV4cG9ydHM9PT1hLHM9dT9yLkJ1ZmZlcjp2b2lkIDAsYz1zP3MuaXNCdWZmZXI6dm9pZCAwLGY9Y3x8bzt0LmV4cG9ydHM9Zn0pLmNhbGwoZSxuKDI0KSh0KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LndlYnBhY2tQb2x5ZmlsbHx8KHQuZGVwcmVjYXRlPWZ1bmN0aW9uKCl7fSx0LnBhdGhzPVtdLHQuY2hpbGRyZW58fCh0LmNoaWxkcmVuPVtdKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImxvYWRlZFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0Lmx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJpZFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0Lml9fSksdC53ZWJwYWNrUG9seWZpbGw9MSksdH19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaXNJbmRleCh0LGUpe3JldHVybiEhKGU9bnVsbD09ZT9uOmUpJiYoXCJudW1iZXJcIj09dHlwZW9mIHR8fHIudGVzdCh0KSkmJnQ+LTEmJnQlMT09MCYmdDxlfXZhciBuPTkwMDcxOTkyNTQ3NDA5OTEscj0vXig/OjB8WzEtOV1cXGQqKSQvO3QuZXhwb3J0cz1pc0luZGV4fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1OCksbz1uKDU5KSxhPW4oNjApLGk9YSYmYS5pc1R5cGVkQXJyYXksdT1pP28oaSk6cjt0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGlzQXJyYXlMaWtlKHQpe3JldHVybiBudWxsIT10JiZvKHQubGVuZ3RoKSYmIXIodCl9dmFyIHI9bigyOCksbz1uKDE1KTt0LmV4cG9ydHM9aXNBcnJheUxpa2V9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpc0Z1bmN0aW9uKHQpe2lmKCFvKHQpKXJldHVybiExO3ZhciBlPXIodCk7cmV0dXJuIGU9PWl8fGU9PXV8fGU9PWF8fGU9PXN9dmFyIHI9big1KSxvPW4oNCksYT1cIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIixpPVwiW29iamVjdCBGdW5jdGlvbl1cIix1PVwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIixzPVwiW29iamVjdCBQcm94eV1cIjt0LmV4cG9ydHM9aXNGdW5jdGlvbn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIFN0YWNrKHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IHIodCk7dGhpcy5zaXplPWUuc2l6ZX12YXIgcj1uKDkpLG89big3NCksYT1uKDc1KSxpPW4oNzYpLHU9big3Nykscz1uKDc4KTtTdGFjay5wcm90b3R5cGUuY2xlYXI9byxTdGFjay5wcm90b3R5cGUuZGVsZXRlPWEsU3RhY2sucHJvdG90eXBlLmdldD1pLFN0YWNrLnByb3RvdHlwZS5oYXM9dSxTdGFjay5wcm90b3R5cGUuc2V0PXMsdC5leHBvcnRzPVN0YWNrfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGVxKHQsZSl7cmV0dXJuIHQ9PT1lfHx0IT09dCYmZSE9PWV9dC5leHBvcnRzPWVxfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHRvU291cmNlKHQpe2lmKG51bGwhPXQpe3RyeXtyZXR1cm4gci5jYWxsKHQpfWNhdGNoKHQpe310cnl7cmV0dXJuIHQrXCJcIn1jYXRjaCh0KXt9fXJldHVyblwiXCJ9dmFyIG49RnVuY3Rpb24ucHJvdG90eXBlLHI9bi50b1N0cmluZzt0LmV4cG9ydHM9dG9Tb3VyY2V9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlSXNFcXVhbCh0LGUsbixhLGkpe3JldHVybiB0PT09ZXx8KG51bGw9PXR8fG51bGw9PWV8fCFvKHQpJiYhbyhlKT90IT09dCYmZSE9PWU6cih0LGUsbixhLGJhc2VJc0VxdWFsLGkpKX12YXIgcj1uKDk1KSxvPW4oNik7dC5leHBvcnRzPWJhc2VJc0VxdWFsfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZXF1YWxBcnJheXModCxlLG4scyxjLGYpe3ZhciBsPW4maSxwPXQubGVuZ3RoLGQ9ZS5sZW5ndGg7aWYocCE9ZCYmIShsJiZkPnApKXJldHVybiExO3ZhciB2PWYuZ2V0KHQpO2lmKHYmJmYuZ2V0KGUpKXJldHVybiB2PT1lO3ZhciBoPS0xLGI9ITAseT1uJnU/bmV3IHI6dm9pZCAwO2ZvcihmLnNldCh0LGUpLGYuc2V0KGUsdCk7KytoPHA7KXt2YXIgXz10W2hdLGc9ZVtoXTtpZihzKXZhciBtPWw/cyhnLF8saCxlLHQsZik6cyhfLGcsaCx0LGUsZik7aWYodm9pZCAwIT09bSl7aWYobSljb250aW51ZTtiPSExO2JyZWFrfWlmKHkpe2lmKCFvKGUsZnVuY3Rpb24odCxlKXtpZighYSh5LGUpJiYoXz09PXR8fGMoXyx0LG4scyxmKSkpcmV0dXJuIHkucHVzaChlKX0pKXtiPSExO2JyZWFrfX1lbHNlIGlmKF8hPT1nJiYhYyhfLGcsbixzLGYpKXtiPSExO2JyZWFrfX1yZXR1cm4gZi5kZWxldGUodCksZi5kZWxldGUoZSksYn12YXIgcj1uKDk2KSxvPW4oOTkpLGE9bigxMDApLGk9MSx1PTI7dC5leHBvcnRzPWVxdWFsQXJyYXlzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHQpe3JldHVybiB0PT09dCYmIXIodCl9dmFyIHI9big0KTt0LmV4cG9ydHM9aXNTdHJpY3RDb21wYXJhYmxlfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiYoblt0XT09PWUmJih2b2lkIDAhPT1lfHx0IGluIE9iamVjdChuKSkpfX10LmV4cG9ydHM9bWF0Y2hlc1N0cmljdENvbXBhcmFibGV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlR2V0KHQsZSl7ZT1yKGUsdCk7Zm9yKHZhciBuPTAsYT1lLmxlbmd0aDtudWxsIT10JiZuPGE7KXQ9dFtvKGVbbisrXSldO3JldHVybiBuJiZuPT1hP3Q6dm9pZCAwfXZhciByPW4oMzcpLG89bigxMyk7dC5leHBvcnRzPWJhc2VHZXR9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBjYXN0UGF0aCh0LGUpe3JldHVybiByKHQpP3Q6byh0LGUpP1t0XTphKGkodCkpfXZhciByPW4oMiksbz1uKDE4KSxhPW4oMTE5KSxpPW4oMTIyKTt0LmV4cG9ydHM9Y2FzdFBhdGh9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigzOSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldEN1c3RvbVZhbHVlPWUuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9dm9pZCAwO3ZhciByPW4oNDApO2UuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9ci5nZXRDcm9zc1RlbmFudEN1c3RvbUNvbmZpZyxlLmdldEN1c3RvbVZhbHVlPXIuZ2V0Q3VzdG9tVmFsdWV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldEN1c3RvbVZhbHVlPWUuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9dm9pZCAwLG4oNDEpLG4oMTMyKSxuKDEzMyksbigxMzQpLG4oMTM1KSxuKDEzNiksbigxMzcpLG4oMTM4KTt2YXIgcj1uKDEzOSk7ZS5nZXRDcm9zc1RlbmFudEN1c3RvbUNvbmZpZz1yLmdldENyb3NzVGVuYW50Q3VzdG9tQ29uZmlnLGUuZ2V0Q3VzdG9tVmFsdWU9ci5nZXRDdXN0b21WYWx1ZX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciByPW4oMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHIpLGE9bigxOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpO28uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMucmVwZWF0Q2xpY2s9e2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj0hMCxyPWkuZGVmYXVsdC5kZWJvdW5jZShmdW5jdGlvbih0LGUpe24mJihlKHQpLG49ITEsc2V0VGltZW91dChmdW5jdGlvbigpe249ITB9LDI1MDApKX0sMzAwKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3IodCxlKCkpfSl9fSxvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLnJlcGVhdFN1Ym1pdD17aW5pdDpmdW5jdGlvbih0LGUpe3ZhciBuPSEwLHI9aS5kZWZhdWx0LmRlYm91bmNlKGZ1bmN0aW9uKHQsZSl7biYmKGUodCksbj0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj0hMH0sMjUwMCkpfSwzMDApO3QuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLGZ1bmN0aW9uKHQpe3JldHVybiByKHQsZSgpKSx0LnByZXZlbnREZWZhdWx0KCksITF9KX19fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZGVib3VuY2UodCxlLG4pe2Z1bmN0aW9uIGludm9rZUZ1bmMoZSl7dmFyIG49YyxyPWY7cmV0dXJuIGM9Zj12b2lkIDAsaD1lLHA9dC5hcHBseShyLG4pfWZ1bmN0aW9uIGxlYWRpbmdFZGdlKHQpe3JldHVybiBoPXQsZD1zZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCxlKSxiP2ludm9rZUZ1bmModCk6cH1mdW5jdGlvbiByZW1haW5pbmdXYWl0KHQpe3ZhciBuPXQtdixyPXQtaCxvPWUtbjtyZXR1cm4geT9zKG8sbC1yKTpvfWZ1bmN0aW9uIHNob3VsZEludm9rZSh0KXt2YXIgbj10LXYscj10LWg7cmV0dXJuIHZvaWQgMD09PXZ8fG4+PWV8fG48MHx8eSYmcj49bH1mdW5jdGlvbiB0aW1lckV4cGlyZWQoKXt2YXIgdD1vKCk7aWYoc2hvdWxkSW52b2tlKHQpKXJldHVybiB0cmFpbGluZ0VkZ2UodCk7ZD1zZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCxyZW1haW5pbmdXYWl0KHQpKX1mdW5jdGlvbiB0cmFpbGluZ0VkZ2UodCl7cmV0dXJuIGQ9dm9pZCAwLF8mJmM/aW52b2tlRnVuYyh0KTooYz1mPXZvaWQgMCxwKX1mdW5jdGlvbiBjYW5jZWwoKXt2b2lkIDAhPT1kJiZjbGVhclRpbWVvdXQoZCksaD0wLGM9dj1mPWQ9dm9pZCAwfWZ1bmN0aW9uIGZsdXNoKCl7cmV0dXJuIHZvaWQgMD09PWQ/cDp0cmFpbGluZ0VkZ2UobygpKX1mdW5jdGlvbiBkZWJvdW5jZWQoKXt2YXIgdD1vKCksbj1zaG91bGRJbnZva2UodCk7aWYoYz1hcmd1bWVudHMsZj10aGlzLHY9dCxuKXtpZih2b2lkIDA9PT1kKXJldHVybiBsZWFkaW5nRWRnZSh2KTtpZih5KXJldHVybiBkPXNldFRpbWVvdXQodGltZXJFeHBpcmVkLGUpLGludm9rZUZ1bmModil9cmV0dXJuIHZvaWQgMD09PWQmJihkPXNldFRpbWVvdXQodGltZXJFeHBpcmVkLGUpKSxwfXZhciBjLGYsbCxwLGQsdixoPTAsYj0hMSx5PSExLF89ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKGkpO3JldHVybiBlPWEoZSl8fDAscihuKSYmKGI9ISFuLmxlYWRpbmcseT1cIm1heFdhaXRcImluIG4sbD15P3UoYShuLm1heFdhaXQpfHwwLGUpOmwsXz1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpfKSxkZWJvdW5jZWQuY2FuY2VsPWNhbmNlbCxkZWJvdW5jZWQuZmx1c2g9Zmx1c2gsZGVib3VuY2VkfXZhciByPW4oNCksbz1uKDQzKSxhPW4oNDUpLGk9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsdT1NYXRoLm1heCxzPU1hdGgubWluO3QuZXhwb3J0cz1kZWJvdW5jZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksbz1mdW5jdGlvbigpe3JldHVybiByLkRhdGUubm93KCl9O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgwLGV2YWwpKFwidGhpc1wiKX1jYXRjaCh0KXtcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gdG9OdW1iZXIodCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYobyh0KSlyZXR1cm4gYTtpZihyKHQpKXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnZhbHVlT2Y/dC52YWx1ZU9mKCk6dDt0PXIoZSk/ZStcIlwiOmV9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIDA9PT10P3Q6K3Q7dD10LnJlcGxhY2UoaSxcIlwiKTt2YXIgbj1zLnRlc3QodCk7cmV0dXJuIG58fGMudGVzdCh0KT9mKHQuc2xpY2UoMiksbj8yOjgpOnUudGVzdCh0KT9hOit0fXZhciByPW4oNCksbz1uKDcpLGE9TmFOLGk9L15cXHMrfFxccyskL2csdT0vXlstK10weFswLTlhLWZdKyQvaSxzPS9eMGJbMDFdKyQvaSxjPS9eMG9bMC03XSskL2ksZj1wYXJzZUludDt0LmV4cG9ydHM9dG9OdW1iZXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBnZXRSYXdUYWcodCl7dmFyIGU9YS5jYWxsKHQsdSksbj10W3VdO3RyeXt0W3VdPXZvaWQgMDt2YXIgcj0hMH1jYXRjaCh0KXt9dmFyIG89aS5jYWxsKHQpO3JldHVybiByJiYoZT90W3VdPW46ZGVsZXRlIHRbdV0pLG99dmFyIHI9big4KSxvPU9iamVjdC5wcm90b3R5cGUsYT1vLmhhc093blByb3BlcnR5LGk9by50b1N0cmluZyx1PXI/ci50b1N0cmluZ1RhZzp2b2lkIDA7dC5leHBvcnRzPWdldFJhd1RhZ30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh0KXtyZXR1cm4gci5jYWxsKHQpfXZhciBuPU9iamVjdC5wcm90b3R5cGUscj1uLnRvU3RyaW5nO3QuZXhwb3J0cz1vYmplY3RUb1N0cmluZ30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGZpbHRlcih0LGUpe3JldHVybihpKHQpP3I6bykodCxhKGUsMykpfXZhciByPW4oMjEpLG89big0OSksYT1uKDY2KSxpPW4oMik7dC5leHBvcnRzPWZpbHRlcn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VGaWx0ZXIodCxlKXt2YXIgbj1bXTtyZXR1cm4gcih0LGZ1bmN0aW9uKHQscixvKXtlKHQscixvKSYmbi5wdXNoKHQpfSksbn12YXIgcj1uKDUwKTt0LmV4cG9ydHM9YmFzZUZpbHRlcn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTEpLG89big2NSksYT1vKHIpO3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUZvck93bih0LGUpe3JldHVybiB0JiZyKHQsZSxvKX12YXIgcj1uKDUyKSxvPW4oMTQpO3QuZXhwb3J0cz1iYXNlRm9yT3dufSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1Myksbz1yKCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gY3JlYXRlQmFzZUZvcih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2Zvcih2YXIgbz0tMSxhPU9iamVjdChlKSxpPXIoZSksdT1pLmxlbmd0aDt1LS07KXt2YXIgcz1pW3Q/dTorK29dO2lmKCExPT09bihhW3NdLHMsYSkpYnJlYWt9cmV0dXJuIGV9fXQuZXhwb3J0cz1jcmVhdGVCYXNlRm9yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh0LGUpe3ZhciBuPWEodCksYz0hbiYmbyh0KSxsPSFuJiYhYyYmaSh0KSxwPSFuJiYhYyYmIWwmJnModCksZD1ufHxjfHxsfHxwLHY9ZD9yKHQubGVuZ3RoLFN0cmluZyk6W10saD12Lmxlbmd0aDtmb3IodmFyIGIgaW4gdCkhZSYmIWYuY2FsbCh0LGIpfHxkJiYoXCJsZW5ndGhcIj09Ynx8bCYmKFwib2Zmc2V0XCI9PWJ8fFwicGFyZW50XCI9PWIpfHxwJiYoXCJidWZmZXJcIj09Ynx8XCJieXRlTGVuZ3RoXCI9PWJ8fFwiYnl0ZU9mZnNldFwiPT1iKXx8dShiLGgpKXx8di5wdXNoKGIpO3JldHVybiB2fXZhciByPW4oNTUpLG89bigyMiksYT1uKDIpLGk9bigyMyksdT1uKDI1KSxzPW4oMjYpLGM9T2JqZWN0LnByb3RvdHlwZSxmPWMuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWFycmF5TGlrZUtleXN9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYmFzZVRpbWVzKHQsZSl7Zm9yKHZhciBuPS0xLHI9QXJyYXkodCk7KytuPHQ7KXJbbl09ZShuKTtyZXR1cm4gcn10LmV4cG9ydHM9YmFzZVRpbWVzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHQpe3JldHVybiBvKHQpJiZyKHQpPT1hfXZhciByPW4oNSksbz1uKDYpLGE9XCJbb2JqZWN0IEFyZ3VtZW50c11cIjt0LmV4cG9ydHM9YmFzZUlzQXJndW1lbnRzfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHN0dWJGYWxzZSgpe3JldHVybiExfXQuZXhwb3J0cz1zdHViRmFsc2V9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHQpe3JldHVybiBhKHQpJiZvKHQubGVuZ3RoKSYmISFpW3IodCldfXZhciByPW4oNSksbz1uKDE1KSxhPW4oNiksaT17fTtpW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPWlbXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl09aVtcIltvYmplY3QgSW50OEFycmF5XVwiXT1pW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1pW1wiW29iamVjdCBJbnQzMkFycmF5XVwiXT1pW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1pW1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09aVtcIltvYmplY3QgVWludDE2QXJyYXldXCJdPWlbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxpW1wiW29iamVjdCBBcmd1bWVudHNdXCJdPWlbXCJbb2JqZWN0IEFycmF5XVwiXT1pW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09aVtcIltvYmplY3QgQm9vbGVhbl1cIl09aVtcIltvYmplY3QgRGF0YVZpZXddXCJdPWlbXCJbb2JqZWN0IERhdGVdXCJdPWlbXCJbb2JqZWN0IEVycm9yXVwiXT1pW1wiW29iamVjdCBGdW5jdGlvbl1cIl09aVtcIltvYmplY3QgTWFwXVwiXT1pW1wiW29iamVjdCBOdW1iZXJdXCJdPWlbXCJbb2JqZWN0IE9iamVjdF1cIl09aVtcIltvYmplY3QgUmVnRXhwXVwiXT1pW1wiW29iamVjdCBTZXRdXCJdPWlbXCJbb2JqZWN0IFN0cmluZ11cIl09aVtcIltvYmplY3QgV2Vha01hcF1cIl09ITEsdC5leHBvcnRzPWJhc2VJc1R5cGVkQXJyYXl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYmFzZVVuYXJ5KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChlKX19dC5leHBvcnRzPWJhc2VVbmFyeX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXt2YXIgcj1uKDIwKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiYhZS5ub2RlVHlwZSYmZSxhPW8mJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiYhdC5ub2RlVHlwZSYmdCxpPWEmJmEuZXhwb3J0cz09PW8sdT1pJiZyLnByb2Nlc3Mscz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdSYmdS5iaW5kaW5nJiZ1LmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKHQpe319KCk7dC5leHBvcnRzPXN9KS5jYWxsKGUsbigyNCkodCkpfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUtleXModCl7aWYoIXIodCkpcmV0dXJuIG8odCk7dmFyIGU9W107Zm9yKHZhciBuIGluIE9iamVjdCh0KSlpLmNhbGwodCxuKSYmXCJjb25zdHJ1Y3RvclwiIT1uJiZlLnB1c2gobik7cmV0dXJuIGV9dmFyIHI9big2Miksbz1uKDYzKSxhPU9iamVjdC5wcm90b3R5cGUsaT1hLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1iYXNlS2V5c30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpc1Byb3RvdHlwZSh0KXt2YXIgZT10JiZ0LmNvbnN0cnVjdG9yO3JldHVybiB0PT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUucHJvdG90eXBlfHxuKX12YXIgbj1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1pc1Byb3RvdHlwZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjQpLG89cihPYmplY3Qua2V5cyxPYmplY3QpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG92ZXJBcmcodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSl9fXQuZXhwb3J0cz1vdmVyQXJnfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2godCxlKXtyZXR1cm4gZnVuY3Rpb24obixvKXtpZihudWxsPT1uKXJldHVybiBuO2lmKCFyKG4pKXJldHVybiB0KG4sbyk7Zm9yKHZhciBhPW4ubGVuZ3RoLGk9ZT9hOi0xLHU9T2JqZWN0KG4pOyhlP2ktLTorK2k8YSkmJiExIT09byh1W2ldLGksdSk7KTtyZXR1cm4gbn19dmFyIHI9bigyNyk7dC5leHBvcnRzPWNyZWF0ZUJhc2VFYWNofSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsPT10P2E6XCJvYmplY3RcIj09dHlwZW9mIHQ/aSh0KT9vKHRbMF0sdFsxXSk6cih0KTp1KHQpfXZhciByPW4oNjcpLG89bigxMTcpLGE9bigxMjgpLGk9bigyKSx1PW4oMTI5KTt0LmV4cG9ydHM9YmFzZUl0ZXJhdGVlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZU1hdGNoZXModCl7dmFyIGU9byh0KTtyZXR1cm4gMT09ZS5sZW5ndGgmJmVbMF1bMl0/YShlWzBdWzBdLGVbMF1bMV0pOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dHx8cihuLHQsZSl9fXZhciByPW4oNjgpLG89bigxMTYpLGE9bigzNSk7dC5leHBvcnRzPWJhc2VNYXRjaGVzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUlzTWF0Y2godCxlLG4sdSl7dmFyIHM9bi5sZW5ndGgsYz1zLGY9IXU7aWYobnVsbD09dClyZXR1cm4hYztmb3IodD1PYmplY3QodCk7cy0tOyl7dmFyIGw9bltzXTtpZihmJiZsWzJdP2xbMV0hPT10W2xbMF1dOiEobFswXWluIHQpKXJldHVybiExfWZvcig7KytzPGM7KXtsPW5bc107dmFyIHA9bFswXSxkPXRbcF0sdj1sWzFdO2lmKGYmJmxbMl0pe2lmKHZvaWQgMD09PWQmJiEocCBpbiB0KSlyZXR1cm4hMX1lbHNle3ZhciBoPW5ldyByO2lmKHUpdmFyIGI9dShkLHYscCx0LGUsaCk7aWYoISh2b2lkIDA9PT1iP28odixkLGF8aSx1LGgpOmIpKXJldHVybiExfX1yZXR1cm4hMH12YXIgcj1uKDI5KSxvPW4oMzIpLGE9MSxpPTI7dC5leHBvcnRzPWJhc2VJc01hdGNofSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH10LmV4cG9ydHM9bGlzdENhY2hlQ2xlYXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUodCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPXIoZSx0KTtyZXR1cm4hKG48MCkmJihuPT1lLmxlbmd0aC0xP2UucG9wKCk6YS5jYWxsKGUsbiwxKSwtLXRoaXMuc2l6ZSwhMCl9dmFyIHI9bigxMCksbz1BcnJheS5wcm90b3R5cGUsYT1vLnNwbGljZTt0LmV4cG9ydHM9bGlzdENhY2hlRGVsZXRlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbGlzdENhY2hlR2V0KHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1yKGUsdCk7cmV0dXJuIG48MD92b2lkIDA6ZVtuXVsxXX12YXIgcj1uKDEwKTt0LmV4cG9ydHM9bGlzdENhY2hlR2V0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbGlzdENhY2hlSGFzKHQpe3JldHVybiByKHRoaXMuX19kYXRhX18sdCk+LTF9dmFyIHI9bigxMCk7dC5leHBvcnRzPWxpc3RDYWNoZUhhc30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGxpc3RDYWNoZVNldCh0LGUpe3ZhciBuPXRoaXMuX19kYXRhX18sbz1yKG4sdCk7cmV0dXJuIG88MD8oKyt0aGlzLnNpemUsbi5wdXNoKFt0LGVdKSk6bltvXVsxXT1lLHRoaXN9dmFyIHI9bigxMCk7dC5leHBvcnRzPWxpc3RDYWNoZVNldH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHN0YWNrQ2xlYXIoKXt0aGlzLl9fZGF0YV9fPW5ldyByLHRoaXMuc2l6ZT0wfXZhciByPW4oOSk7dC5leHBvcnRzPXN0YWNrQ2xlYXJ9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc3RhY2tEZWxldGUodCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPWUuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemU9ZS5zaXplLG59dC5leHBvcnRzPXN0YWNrRGVsZXRlfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHN0YWNrR2V0KHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldCh0KX10LmV4cG9ydHM9c3RhY2tHZXR9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc3RhY2tIYXModCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfXQuZXhwb3J0cz1zdGFja0hhc30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHN0YWNrU2V0KHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXztpZihuIGluc3RhbmNlb2Ygcil7dmFyIHU9bi5fX2RhdGFfXztpZighb3x8dS5sZW5ndGg8aS0xKXJldHVybiB1LnB1c2goW3QsZV0pLHRoaXMuc2l6ZT0rK24uc2l6ZSx0aGlzO249dGhpcy5fX2RhdGFfXz1uZXcgYSh1KX1yZXR1cm4gbi5zZXQodCxlKSx0aGlzLnNpemU9bi5zaXplLHRoaXN9dmFyIHI9big5KSxvPW4oMTYpLGE9bigxNyksaT0yMDA7dC5leHBvcnRzPXN0YWNrU2V0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHQpe3JldHVybiEoIWEodCl8fG8odCkpJiYocih0KT9kOnMpLnRlc3QoaSh0KSl9dmFyIHI9bigyOCksbz1uKDgwKSxhPW4oNCksaT1uKDMxKSx1PS9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxzPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sYz1GdW5jdGlvbi5wcm90b3R5cGUsZj1PYmplY3QucHJvdG90eXBlLGw9Yy50b1N0cmluZyxwPWYuaGFzT3duUHJvcGVydHksZD1SZWdFeHAoXCJeXCIrbC5jYWxsKHApLnJlcGxhY2UodSxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpO3QuZXhwb3J0cz1iYXNlSXNOYXRpdmV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpc01hc2tlZCh0KXtyZXR1cm4hIW8mJm8gaW4gdH12YXIgcj1uKDgxKSxvPWZ1bmN0aW9uKCl7dmFyIHQ9L1teLl0rJC8uZXhlYyhyJiZyLmtleXMmJnIua2V5cy5JRV9QUk9UT3x8XCJcIik7cmV0dXJuIHQ/XCJTeW1ib2woc3JjKV8xLlwiK3Q6XCJcIn0oKTt0LmV4cG9ydHM9aXNNYXNrZWR9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDApLG89cltcIl9fY29yZS1qc19zaGFyZWRfX1wiXTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBnZXRWYWx1ZSh0LGUpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfXQuZXhwb3J0cz1nZXRWYWx1ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyByLG1hcDpuZXcoYXx8byksc3RyaW5nOm5ldyByfX12YXIgcj1uKDg0KSxvPW4oOSksYT1uKDE2KTt0LmV4cG9ydHM9bWFwQ2FjaGVDbGVhcn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIEhhc2godCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19dmFyIHI9big4NSksbz1uKDg2KSxhPW4oODcpLGk9big4OCksdT1uKDg5KTtIYXNoLnByb3RvdHlwZS5jbGVhcj1yLEhhc2gucHJvdG90eXBlLmRlbGV0ZT1vLEhhc2gucHJvdG90eXBlLmdldD1hLEhhc2gucHJvdG90eXBlLmhhcz1pLEhhc2gucHJvdG90eXBlLnNldD11LHQuZXhwb3J0cz1IYXNofSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzaENsZWFyKCl7dGhpcy5fX2RhdGFfXz1yP3IobnVsbCk6e30sdGhpcy5zaXplPTB9dmFyIHI9bigxMSk7dC5leHBvcnRzPWhhc2hDbGVhcn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBoYXNoRGVsZXRlKHQpe3ZhciBlPXRoaXMuaGFzKHQpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1t0XTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfXQuZXhwb3J0cz1oYXNoRGVsZXRlfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzaEdldCh0KXt2YXIgZT10aGlzLl9fZGF0YV9fO2lmKHIpe3ZhciBuPWVbdF07cmV0dXJuIG49PT1vP3ZvaWQgMDpufXJldHVybiBpLmNhbGwoZSx0KT9lW3RdOnZvaWQgMH12YXIgcj1uKDExKSxvPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiLGE9T2JqZWN0LnByb3RvdHlwZSxpPWEuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWhhc2hHZXR9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBoYXNoSGFzKHQpe3ZhciBlPXRoaXMuX19kYXRhX187cmV0dXJuIHI/dm9pZCAwIT09ZVt0XTphLmNhbGwoZSx0KX12YXIgcj1uKDExKSxvPU9iamVjdC5wcm90b3R5cGUsYT1vLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1oYXNoSGFzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzaFNldCh0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHRoaXMuc2l6ZSs9dGhpcy5oYXModCk/MDoxLG5bdF09ciYmdm9pZCAwPT09ZT9vOmUsdGhpc312YXIgcj1uKDExKSxvPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiO3QuZXhwb3J0cz1oYXNoU2V0fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUodCl7dmFyIGU9cih0aGlzLHQpLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZURlbGV0ZX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpc0tleWFibGUodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJzdHJpbmdcIj09ZXx8XCJudW1iZXJcIj09ZXx8XCJzeW1ib2xcIj09ZXx8XCJib29sZWFuXCI9PWU/XCJfX3Byb3RvX19cIiE9PXQ6bnVsbD09PXR9dC5leHBvcnRzPWlzS2V5YWJsZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlR2V0KHQpe3JldHVybiByKHRoaXMsdCkuZ2V0KHQpfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZUdldH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlSGFzKHQpe3JldHVybiByKHRoaXMsdCkuaGFzKHQpfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZUhhc30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1hcENhY2hlU2V0KHQsZSl7dmFyIG49cih0aGlzLHQpLG89bi5zaXplO3JldHVybiBuLnNldCh0LGUpLHRoaXMuc2l6ZSs9bi5zaXplPT1vPzA6MSx0aGlzfXZhciByPW4oMTIpO3QuZXhwb3J0cz1tYXBDYWNoZVNldH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcCh0LGUsbixoLHksXyl7dmFyIGc9cyh0KSxtPXMoZSkseD1nP2Q6dSh0KSxDPW0/ZDp1KGUpO3g9eD09cD92OngsQz1DPT1wP3Y6Qzt2YXIgaj14PT12LHc9Qz09dixUPXg9PUM7aWYoVCYmYyh0KSl7aWYoIWMoZSkpcmV0dXJuITE7Zz0hMCxqPSExfWlmKFQmJiFqKXJldHVybiBffHwoXz1uZXcgciksZ3x8Zih0KT9vKHQsZSxuLGgseSxfKTphKHQsZSx4LG4saCx5LF8pO2lmKCEobiZsKSl7dmFyIE89aiYmYi5jYWxsKHQsXCJfX3dyYXBwZWRfX1wiKSxrPXcmJmIuY2FsbChlLFwiX193cmFwcGVkX19cIik7aWYoT3x8ayl7dmFyIFM9Tz90LnZhbHVlKCk6dCxJPWs/ZS52YWx1ZSgpOmU7cmV0dXJuIF98fChfPW5ldyByKSx5KFMsSSxuLGgsXyl9fXJldHVybiEhVCYmKF98fChfPW5ldyByKSxpKHQsZSxuLGgseSxfKSl9dmFyIHI9bigyOSksbz1uKDMzKSxhPW4oMTAxKSxpPW4oMTA1KSx1PW4oMTExKSxzPW4oMiksYz1uKDIzKSxmPW4oMjYpLGw9MSxwPVwiW29iamVjdCBBcmd1bWVudHNdXCIsZD1cIltvYmplY3QgQXJyYXldXCIsdj1cIltvYmplY3QgT2JqZWN0XVwiLGg9T2JqZWN0LnByb3RvdHlwZSxiPWguaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWJhc2VJc0VxdWFsRGVlcH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIFNldENhY2hlKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLl9fZGF0YV9fPW5ldyByOysrZTxuOyl0aGlzLmFkZCh0W2VdKX12YXIgcj1uKDE3KSxvPW4oOTcpLGE9big5OCk7U2V0Q2FjaGUucHJvdG90eXBlLmFkZD1TZXRDYWNoZS5wcm90b3R5cGUucHVzaD1vLFNldENhY2hlLnByb3RvdHlwZS5oYXM9YSx0LmV4cG9ydHM9U2V0Q2FjaGV9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc2V0Q2FjaGVBZGQodCl7cmV0dXJuIHRoaXMuX19kYXRhX18uc2V0KHQsbiksdGhpc312YXIgbj1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIjt0LmV4cG9ydHM9c2V0Q2FjaGVBZGR9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc2V0Q2FjaGVIYXModCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfXQuZXhwb3J0cz1zZXRDYWNoZUhhc30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBhcnJheVNvbWUodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGg7KytuPHI7KWlmKGUodFtuXSxuLHQpKXJldHVybiEwO3JldHVybiExfXQuZXhwb3J0cz1hcnJheVNvbWV9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gY2FjaGVIYXModCxlKXtyZXR1cm4gdC5oYXMoZSl9dC5leHBvcnRzPWNhY2hlSGFzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZXF1YWxCeVRhZyh0LGUsbixyLEMsdyxUKXtzd2l0Y2gobil7Y2FzZSB4OmlmKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHx0LmJ5dGVPZmZzZXQhPWUuYnl0ZU9mZnNldClyZXR1cm4hMTt0PXQuYnVmZmVyLGU9ZS5idWZmZXI7Y2FzZSBtOnJldHVybiEodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fCF3KG5ldyBvKHQpLG5ldyBvKGUpKSk7Y2FzZSBsOmNhc2UgcDpjYXNlIGg6cmV0dXJuIGEoK3QsK2UpO2Nhc2UgZDpyZXR1cm4gdC5uYW1lPT1lLm5hbWUmJnQubWVzc2FnZT09ZS5tZXNzYWdlO2Nhc2UgYjpjYXNlIF86cmV0dXJuIHQ9PWUrXCJcIjtjYXNlIHY6dmFyIE89dTtjYXNlIHk6dmFyIGs9ciZjO2lmKE98fChPPXMpLHQuc2l6ZSE9ZS5zaXplJiYhaylyZXR1cm4hMTt2YXIgUz1ULmdldCh0KTtpZihTKXJldHVybiBTPT1lO3J8PWYsVC5zZXQodCxlKTt2YXIgST1pKE8odCksTyhlKSxyLEMsdyxUKTtyZXR1cm4gVC5kZWxldGUodCksSTtjYXNlIGc6aWYoailyZXR1cm4gai5jYWxsKHQpPT1qLmNhbGwoZSl9cmV0dXJuITF9dmFyIHI9big4KSxvPW4oMTAyKSxhPW4oMzApLGk9bigzMyksdT1uKDEwMykscz1uKDEwNCksYz0xLGY9MixsPVwiW29iamVjdCBCb29sZWFuXVwiLHA9XCJbb2JqZWN0IERhdGVdXCIsZD1cIltvYmplY3QgRXJyb3JdXCIsdj1cIltvYmplY3QgTWFwXVwiLGg9XCJbb2JqZWN0IE51bWJlcl1cIixiPVwiW29iamVjdCBSZWdFeHBdXCIseT1cIltvYmplY3QgU2V0XVwiLF89XCJbb2JqZWN0IFN0cmluZ11cIixnPVwiW29iamVjdCBTeW1ib2xdXCIsbT1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIseD1cIltvYmplY3QgRGF0YVZpZXddXCIsQz1yP3IucHJvdG90eXBlOnZvaWQgMCxqPUM/Qy52YWx1ZU9mOnZvaWQgMDt0LmV4cG9ydHM9ZXF1YWxCeVRhZ30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMCksbz1yLlVpbnQ4QXJyYXk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbWFwVG9BcnJheSh0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LHIpe25bKytlXT1bcix0XX0pLG59dC5leHBvcnRzPW1hcFRvQXJyYXl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gc2V0VG9BcnJheSh0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtuWysrZV09dH0pLG59dC5leHBvcnRzPXNldFRvQXJyYXl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBlcXVhbE9iamVjdHModCxlLG4sYSx1LHMpe3ZhciBjPW4mbyxmPXIodCksbD1mLmxlbmd0aDtpZihsIT1yKGUpLmxlbmd0aCYmIWMpcmV0dXJuITE7Zm9yKHZhciBwPWw7cC0tOyl7dmFyIGQ9ZltwXTtpZighKGM/ZCBpbiBlOmkuY2FsbChlLGQpKSlyZXR1cm4hMX12YXIgdj1zLmdldCh0KTtpZih2JiZzLmdldChlKSlyZXR1cm4gdj09ZTt2YXIgaD0hMDtzLnNldCh0LGUpLHMuc2V0KGUsdCk7Zm9yKHZhciBiPWM7KytwPGw7KXtkPWZbcF07dmFyIHk9dFtkXSxfPWVbZF07aWYoYSl2YXIgZz1jP2EoXyx5LGQsZSx0LHMpOmEoeSxfLGQsdCxlLHMpO2lmKCEodm9pZCAwPT09Zz95PT09X3x8dSh5LF8sbixhLHMpOmcpKXtoPSExO2JyZWFrfWJ8fChiPVwiY29uc3RydWN0b3JcIj09ZCl9aWYoaCYmIWIpe3ZhciBtPXQuY29uc3RydWN0b3IseD1lLmNvbnN0cnVjdG9yO20hPXgmJlwiY29uc3RydWN0b3JcImluIHQmJlwiY29uc3RydWN0b3JcImluIGUmJiEoXCJmdW5jdGlvblwiPT10eXBlb2YgbSYmbSBpbnN0YW5jZW9mIG0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHgmJnggaW5zdGFuY2VvZiB4KSYmKGg9ITEpfXJldHVybiBzLmRlbGV0ZSh0KSxzLmRlbGV0ZShlKSxofXZhciByPW4oMTA2KSxvPTEsYT1PYmplY3QucHJvdG90eXBlLGk9YS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZXF1YWxPYmplY3RzfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gZ2V0QWxsS2V5cyh0KXtyZXR1cm4gcih0LGEsbyl9dmFyIHI9bigxMDcpLG89bigxMDkpLGE9bigxNCk7dC5leHBvcnRzPWdldEFsbEtleXN9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyh0LGUsbil7dmFyIGE9ZSh0KTtyZXR1cm4gbyh0KT9hOnIoYSxuKHQpKX12YXIgcj1uKDEwOCksbz1uKDIpO3QuZXhwb3J0cz1iYXNlR2V0QWxsS2V5c30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBhcnJheVB1c2godCxlKXtmb3IodmFyIG49LTEscj1lLmxlbmd0aCxvPXQubGVuZ3RoOysrbjxyOyl0W28rbl09ZVtuXTtyZXR1cm4gdH10LmV4cG9ydHM9YXJyYXlQdXNofSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMSksbz1uKDExMCksYT1PYmplY3QucHJvdG90eXBlLGk9YS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscz11P2Z1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOih0PU9iamVjdCh0KSxyKHUodCksZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbCh0LGUpfSkpfTpvO3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHN0dWJBcnJheSgpe3JldHVybltdfXQuZXhwb3J0cz1zdHViQXJyYXl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExMiksbz1uKDE2KSxhPW4oMTEzKSxpPW4oMTE0KSx1PW4oMTE1KSxzPW4oNSksYz1uKDMxKSxmPWMociksbD1jKG8pLHA9YyhhKSxkPWMoaSksdj1jKHUpLGg9czsociYmXCJbb2JqZWN0IERhdGFWaWV3XVwiIT1oKG5ldyByKG5ldyBBcnJheUJ1ZmZlcigxKSkpfHxvJiZcIltvYmplY3QgTWFwXVwiIT1oKG5ldyBvKXx8YSYmXCJbb2JqZWN0IFByb21pc2VdXCIhPWgoYS5yZXNvbHZlKCkpfHxpJiZcIltvYmplY3QgU2V0XVwiIT1oKG5ldyBpKXx8dSYmXCJbb2JqZWN0IFdlYWtNYXBdXCIhPWgobmV3IHUpKSYmKGg9ZnVuY3Rpb24odCl7dmFyIGU9cyh0KSxuPVwiW29iamVjdCBPYmplY3RdXCI9PWU/dC5jb25zdHJ1Y3Rvcjp2b2lkIDAscj1uP2Mobik6XCJcIjtpZihyKXN3aXRjaChyKXtjYXNlIGY6cmV0dXJuXCJbb2JqZWN0IERhdGFWaWV3XVwiO2Nhc2UgbDpyZXR1cm5cIltvYmplY3QgTWFwXVwiO2Nhc2UgcDpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIGQ6cmV0dXJuXCJbb2JqZWN0IFNldF1cIjtjYXNlIHY6cmV0dXJuXCJbb2JqZWN0IFdlYWtNYXBdXCJ9cmV0dXJuIGV9KSx0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksbz1uKDApLGE9cihvLFwiRGF0YVZpZXdcIik7dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89bigwKSxhPXIobyxcIlByb21pc2VcIik7dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLG89bigwKSxhPXIobyxcIlNldFwiKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksbz1uKDApLGE9cihvLFwiV2Vha01hcFwiKTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGdldE1hdGNoRGF0YSh0KXtmb3IodmFyIGU9byh0KSxuPWUubGVuZ3RoO24tLTspe3ZhciBhPWVbbl0saT10W2FdO2Vbbl09W2EsaSxyKGkpXX1yZXR1cm4gZX12YXIgcj1uKDM0KSxvPW4oMTQpO3QuZXhwb3J0cz1nZXRNYXRjaERhdGF9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHQsZSl7cmV0dXJuIGkodCkmJnUoZSk/cyhjKHQpLGUpOmZ1bmN0aW9uKG4pe3ZhciBpPW8obix0KTtyZXR1cm4gdm9pZCAwPT09aSYmaT09PWU/YShuLHQpOnIoZSxpLGZ8bCl9fXZhciByPW4oMzIpLG89bigxMTgpLGE9bigxMjUpLGk9bigxOCksdT1uKDM0KSxzPW4oMzUpLGM9bigxMyksZj0xLGw9Mjt0LmV4cG9ydHM9YmFzZU1hdGNoZXNQcm9wZXJ0eX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGdldCh0LGUsbil7dmFyIG89bnVsbD09dD92b2lkIDA6cih0LGUpO3JldHVybiB2b2lkIDA9PT1vP246b312YXIgcj1uKDM2KTt0LmV4cG9ydHM9Z2V0fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjApLG89L15cXC4vLGE9L1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nLGk9L1xcXFwoXFxcXCk/L2csdT1yKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBvLnRlc3QodCkmJmUucHVzaChcIlwiKSx0LnJlcGxhY2UoYSxmdW5jdGlvbih0LG4scixvKXtlLnB1c2gocj9vLnJlcGxhY2UoaSxcIiQxXCIpOm58fHQpfSksZX0pO3QuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZCh0KXt2YXIgZT1yKHQsZnVuY3Rpb24odCl7cmV0dXJuIG4uc2l6ZT09PW8mJm4uY2xlYXIoKSx0fSksbj1lLmNhY2hlO3JldHVybiBlfXZhciByPW4oMTIxKSxvPTUwMDt0LmV4cG9ydHM9bWVtb2l6ZUNhcHBlZH0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG1lbW9pemUodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHxudWxsIT1lJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3Iobyk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgcj1hcmd1bWVudHMsbz1lP2UuYXBwbHkodGhpcyxyKTpyWzBdLGE9bi5jYWNoZTtpZihhLmhhcyhvKSlyZXR1cm4gYS5nZXQobyk7dmFyIGk9dC5hcHBseSh0aGlzLHIpO3JldHVybiBuLmNhY2hlPWEuc2V0KG8saSl8fGEsaX07cmV0dXJuIG4uY2FjaGU9bmV3KG1lbW9pemUuQ2FjaGV8fHIpLG59dmFyIHI9bigxNyksbz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIjttZW1vaXplLkNhY2hlPXIsdC5leHBvcnRzPW1lbW9pemV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiB0b1N0cmluZyh0KXtyZXR1cm4gbnVsbD09dD9cIlwiOnIodCl9dmFyIHI9bigxMjMpO3QuZXhwb3J0cz10b1N0cmluZ30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VUb1N0cmluZyh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdDtpZihhKHQpKXJldHVybiBvKHQsYmFzZVRvU3RyaW5nKStcIlwiO2lmKGkodCkpcmV0dXJuIGM/Yy5jYWxsKHQpOlwiXCI7dmFyIGU9dCtcIlwiO3JldHVyblwiMFwiPT1lJiYxL3Q9PS11P1wiLTBcIjplfXZhciByPW4oOCksbz1uKDEyNCksYT1uKDIpLGk9big3KSx1PTEvMCxzPXI/ci5wcm90b3R5cGU6dm9pZCAwLGM9cz9zLnRvU3RyaW5nOnZvaWQgMDt0LmV4cG9ydHM9YmFzZVRvU3RyaW5nfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGFycmF5TWFwKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoLG89QXJyYXkocik7KytuPHI7KW9bbl09ZSh0W25dLG4sdCk7cmV0dXJuIG99dC5leHBvcnRzPWFycmF5TWFwfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaGFzSW4odCxlKXtyZXR1cm4gbnVsbCE9dCYmbyh0LGUscil9dmFyIHI9bigxMjYpLG89bigxMjcpO3QuZXhwb3J0cz1oYXNJbn0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBiYXNlSGFzSW4odCxlKXtyZXR1cm4gbnVsbCE9dCYmZSBpbiBPYmplY3QodCl9dC5leHBvcnRzPWJhc2VIYXNJbn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGhhc1BhdGgodCxlLG4pe2U9cihlLHQpO2Zvcih2YXIgYz0tMSxmPWUubGVuZ3RoLGw9ITE7KytjPGY7KXt2YXIgcD1zKGVbY10pO2lmKCEobD1udWxsIT10JiZuKHQscCkpKWJyZWFrO3Q9dFtwXX1yZXR1cm4gbHx8KytjIT1mP2w6ISEoZj1udWxsPT10PzA6dC5sZW5ndGgpJiZ1KGYpJiZpKHAsZikmJihhKHQpfHxvKHQpKX12YXIgcj1uKDM3KSxvPW4oMjIpLGE9bigyKSxpPW4oMjUpLHU9bigxNSkscz1uKDEzKTt0LmV4cG9ydHM9aGFzUGF0aH0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpZGVudGl0eSh0KXtyZXR1cm4gdH10LmV4cG9ydHM9aWRlbnRpdHl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBwcm9wZXJ0eSh0KXtyZXR1cm4gYSh0KT9yKGkodCkpOm8odCl9dmFyIHI9bigxMzApLG89bigxMzEpLGE9bigxOCksaT1uKDEzKTt0LmV4cG9ydHM9cHJvcGVydHl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYmFzZVByb3BlcnR5KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX19dC5leHBvcnRzPWJhc2VQcm9wZXJ0eX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiByKGUsdCl9fXZhciByPW4oMzYpO3QuZXhwb3J0cz1iYXNlUHJvcGVydHlEZWVwfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxKTsoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fSkocikuZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuYmFja2J0bj17aW5pdDpmdW5jdGlvbih0LGUsbixyLG8peyQodCkub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7aGlzdG9yeS5sZW5ndGg8PTE/KHdpbmRvdy5vcGVuZXI9bnVsbCx3aW5kb3cub3BlbihcIlwiLFwiX3NlbGZcIiksd2luZG93LmNsb3NlKCkpOndpbmRvdy5oaXN0b3J5LmdvKC0xKX0pfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEpOyhmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KShyKS5kZWZhdWx0LmJpbmRpbmdIYW5kbGVycy5jbGlja291dHNpZGU9e2luaXQ6ZnVuY3Rpb24odCxlLG4scixvKXtmdW5jdGlvbiBkb2N1bWVudEhhbmRsZXIobil7aWYodC5jb250YWlucyhuLnRhcmdldCkpcmV0dXJuITE7ZSgpJiZlKCkobil9ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZG9jdW1lbnRIYW5kbGVyKX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxKTsoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fSkocikuZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuaGlkZGVuaW5uZXd3aW5kb3c9e2luaXQ6ZnVuY3Rpb24odCxlLG4scixvKXtoaXN0b3J5Lmxlbmd0aDw9MSYmKHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGdldFRhcmdldCh0KXtyZXR1cm4gZG9jdW1lbnQuYm9keX12YXIgcj1uKDEpOyhmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KShyKS5kZWZhdWx0LmJpbmRpbmdIYW5kbGVycy50cmFuc2ZlcmRvbT17aW5pdDpmdW5jdGlvbih0LGUsbixyLG8pe3QuY2xhc3NOYW1lPXQuY2xhc3NOYW1lP3QuY2xhc3NOYW1lK1wiIHYtdHJhbnNmZXItZG9tXCI6XCJ2LXRyYW5zZmVyLWRvbVwiO3ZhciBhPXQucGFyZW50Tm9kZTtpZihhKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpLHU9ITE7ITEhPT1lKCkmJihhLnJlcGxhY2VDaGlsZChpLHQpLGdldFRhcmdldCgpLmFwcGVuZENoaWxkKHQpLHU9ITApLHQuX190cmFuc2ZlckRvbURhdGF8fCh0Ll9fdHJhbnNmZXJEb21EYXRhPXtwYXJlbnROb2RlOmEsaG9tZTppLHRhcmdldDpnZXRUYXJnZXQoKSxoYXNNb3ZlZE91dDp1fSl9fSx1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixvKXtpZih0LmRhdGFzZXQmJlwidHJ1ZVwiIT09dC5kYXRhc2V0LnRyYW5zZmVyKXJldHVybiExO3ZhciBhPXQuX190cmFuc2ZlckRvbURhdGE7aWYoYSl7dmFyIGk9YS5wYXJlbnROb2RlLHU9YS5ob21lLHM9YS5oYXNNb3ZlZE91dDshcyYmZSgpPyhpLnJlcGxhY2VDaGlsZCh1LHQpLGdldFRhcmdldCgpLmFwcGVuZENoaWxkKHQpLHQuX190cmFuc2ZlckRvbURhdGE9T2JqZWN0LmFzc2lnbih7fSx0Ll9fdHJhbnNmZXJEb21EYXRhLHtoYXNNb3ZlZE91dDohMCx0YXJnZXQ6Z2V0VGFyZ2V0KGUpfSkpOnMmJiExPT09ZSgpPyhpLnJlcGxhY2VDaGlsZCh0LHUpLHQuX190cmFuc2ZlckRvbURhdGE9T2JqZWN0LmFzc2lnbih7fSx0Ll9fdHJhbnNmZXJEb21EYXRhLHtoYXNNb3ZlZE91dDohMSx0YXJnZXQ6Z2V0VGFyZ2V0KGUpfSkpOmUoKSYmZ2V0VGFyZ2V0KCkuYXBwZW5kQ2hpbGQodCl9fX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShyKTtvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLmxldHx8KG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMubGV0PXtpbml0OmZ1bmN0aW9uKHQsZSxuLHIsYSl7dmFyIGk9YS5leHRlbmQoZSk7cmV0dXJuIG8uZGVmYXVsdC5hcHBseUJpbmRpbmdzVG9EZXNjZW5kYW50cyhpLHQpLHtjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fSxvLmRlZmF1bHQudmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5ncy5sZXQ9ITApfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX3JlbW92ZVplcm8odCl7cmV0dXJuIGlzTmFOKHQpP3Q6TnVtYmVyKHQpfWZ1bmN0aW9uIF9hbW91bnRGb3JtYXQodCl7cmV0dXJuIGlzTmFOKHQpP3Q6X3JlbW92ZVplcm8oTnVtYmVyKHQpLnRvRml4ZWQoMikpfWZ1bmN0aW9uIF9maW5hbmNpYWxGb3JtYXQodCl7aWYoaXNOYU4odCkpcmV0dXJuIHQ7dmFyIGU9dDt0PU1hdGguYWJzKHQpLHQ9KHR8fDApLnRvU3RyaW5nKCk7Zm9yKHZhciBuPVwiXCIscj10LnNwbGl0KFwiLlwiKSxvPXJbMF0sYT1yLmxlbmd0aD4xP3JbMV06MDtvLmxlbmd0aD4zOyluPVwiLFwiK28uc2xpY2UoLTMpK24sbz1vLnNsaWNlKDAsby5sZW5ndGgtMyk7cmV0dXJuIG8mJihuPW8rbiksTnVtYmVyKGEpJiYobis9XCIuXCIrTnVtYmVyKFwiMC5cIithKS50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSksZTwwJiYobj1cIi1cIituKSxufWZ1bmN0aW9uIF9maW5hbmNpYWxBbW91bnRGb3JtYXQodCl7cmV0dXJuIGlzTmFOKHQpP3Q6X2ZpbmFuY2lhbEZvcm1hdChfYW1vdW50Rm9ybWF0KHQpKX12YXIgcj1uKDEpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShyKTtvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLnJlbW92ZVplcm89e3VwZGF0ZTpmdW5jdGlvbih0LGUsbixyLGEpe28uZGVmYXVsdC51dGlscy5zZXRUZXh0Q29udGVudCh0LF9yZW1vdmVaZXJvKG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuYW1vdW50PXt1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixhKXtvLmRlZmF1bHQudXRpbHMuc2V0VGV4dENvbnRlbnQodCxfYW1vdW50Rm9ybWF0KG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZmluYW5jaWFsPXt1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixhKXtvLmRlZmF1bHQudXRpbHMuc2V0VGV4dENvbnRlbnQodCxfZmluYW5jaWFsRm9ybWF0KG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZmluYW5jaWFsQW1vdW50PXt1cGRhdGU6ZnVuY3Rpb24odCxlLG4scixhKXtvLmRlZmF1bHQudXRpbHMuc2V0VGV4dENvbnRlbnQodCxfZmluYW5jaWFsQW1vdW50Rm9ybWF0KG8uZGVmYXVsdC51dGlscy51bndyYXBPYnNlcnZhYmxlKGUoKSkpKX19LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZmluYW5jaWFsQW1vdW50V2l0aFN5bWJvbD17dXBkYXRlOmZ1bmN0aW9uKHQsZSxuLHIsYSl7by5kZWZhdWx0LnV0aWxzLnNldFRleHRDb250ZW50KHQsXCLvv6UgXCIrX2ZpbmFuY2lhbEFtb3VudEZvcm1hdChvLmRlZmF1bHQudXRpbHMudW53cmFwT2JzZXJ2YWJsZShlKCkpKSl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMSksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KHIpO3dpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrPXdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrfHxmdW5jdGlvbih0KXt2YXIgZT1EYXRlLm5vdygpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCh7ZGlkVGltZW91dDohMSx0aW1lUmVtYWluaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KDAsNTAtKERhdGUubm93KCktZSkpfX0pfSwxKX0sd2luZG93LmNhbmNlbElkbGVDYWxsYmFjaz13aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrfHxmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodCl9LG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMubGF6eUZvcmVhY2g9e21ha2VUZW1wbGF0ZVZhbHVlQWNjZXNzb3I6ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10KCkscj1uLm1pbkxlbmd0aHx8NTAsYT1uLnN0ZXB8fDIwLGk9bi5sb29wdGltZXx8MjAwLHU9bi5kYXRhLHM9dSgpLGM9by5kZWZhdWx0Lm9ic2VydmFibGVBcnJheShzLnNwbGljZSgwLHIpKS5leHRlbmQoe2RlZmVycmVkOiEwfSk7cmV0dXJuIG4uZGF0YT1jLGUmJmNsZWFySW50ZXJ2YWwoZSksZT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXtzLmxlbmd0aD4wP3Muc3BsaWNlKDAsYSkuZm9yRWFjaChmdW5jdGlvbih0KXtjLnB1c2godCl9KTpjbGVhckludGVydmFsKGUpfSl9LGkpLG59fSxpbml0OmZ1bmN0aW9uKHQsZSxuLHIsYSl7cmV0dXJuIG8uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuZm9yZWFjaC5pbml0KHQsZSxuLHIsYSl9LHVwZGF0ZTpmdW5jdGlvbih0LGUsbixyLGEpe3JldHVybiBvLmRlZmF1bHQuYmluZGluZ0hhbmRsZXJzLmZvcmVhY2gudXBkYXRlKHQsby5kZWZhdWx0LmJpbmRpbmdIYW5kbGVycy5sYXp5Rm9yZWFjaC5tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKGUpLG4scixhKX19LG8uZGVmYXVsdC52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzLmxhenlGb3JlYWNoPSEwfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWcodCxlKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImNyb3NzVGVuYW50RGF0YUlkXCIpIT10Pyh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImNyb3NzVGVuYW50RGF0YUlkXCIpLHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3Jvc3NUZW5hbnREYXRhXCIpLCQuYWpheCh7dXJsOlwiL3l1bmNhaS9jdXN0b20vZ2V0T3V0c2lkZVJ1bGU/ZW50ZXJwcmlzZUlkPVwiK3QsdHlwZTpcImdldFwiLGFzeW5jOiExLHN1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIHI9SlNPTi5wYXJzZShuKTsxPT1yLnN0YXR1cz8od2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJjcm9zc1RlbmFudERhdGFcIixKU09OLnN0cmluZ2lmeShyLmRhdGEpKSx3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImNyb3NzVGVuYW50RGF0YUlkXCIsdCkpOmNvbnNvbGUuZXJyb3Ioci5tc2cpLGUoKX19KSk6ZSgpfWZ1bmN0aW9uIGdldEN1c3RvbVZhbHVlKHQpe3ZhciBlPWdldEN1c3RvbUNvbmZpZygpO3QudGFyZ2V0RW50ZXJwcmlzZUlkJiYoZT1KU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiY3Jvc3NUZW5hbnREYXRhXCIpKSk7dmFyIG49aS5kZWZhdWx0LmZpbHRlcihlLGZ1bmN0aW9uKGUpe3JldHVybih0LmJpbGxUeXBlPT1lLmJpbGxUeXBlfHx0Lm1vZGVsPT1lLmJpbGxUeXBlKSYmdC5kYXRhSW5mbz09ZS5kYXRhSW5mbyYmdC5maWVsZD09ZS5maWVsZCYmdC5jdXN0b21UeXBlPT1lLmN1c3RvbVR5cGV9KTtyZXR1cm4gbiYmbi5sZW5ndGg+MD9uWzBdLmN1c3RvbVZhbHVlOm51bGx9ZnVuY3Rpb24gZ2V0Q3VzdG9tQ29uZmlnKCl7dmFyIHQ9W10sZT13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXN0b21Db25maWdzXCIpO3JldHVybiBlP3Q9dC5jb25jYXQoSlNPTi5wYXJzZShlKSk6JC5hamF4KHt1cmw6XCIveXVuY2FpL2N1c3RvbS9nZXRSdWxlXCIsdHlwZTpcImdldFwiLGFzeW5jOiExLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIG49SlNPTi5wYXJzZShlKTsxPT1uLnN0YXR1cz8od2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3VzdG9tQ29uZmlnc1wiLEpTT04uc3RyaW5naWZ5KG4uZGF0YSkpLHQuY29uY2F0KG4uZGF0YSkpOmNvbnNvbGUuZXJyb3Iobi5tc2cpfX0pLHR9ZnVuY3Rpb24gY3VzdG9tRmVhdHVyZVJlbmRlcih0LGUsbil7dmFyIHI9W107aWYobil7dmFyIG89d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjcm9zc1RlbmFudERhdGFcIik7cj1pLmRlZmF1bHQuZmlsdGVyKG8/SlNPTi5wYXJzZShvKTpbXSxmdW5jdGlvbih0KXtyZXR1cm4oZS5iaWxsVHlwZT09dC5iaWxsVHlwZXx8ZS5tb2RlbD09dC5iaWxsVHlwZSkmJmUuZGF0YUluZm89PXQuZGF0YUluZm8mJmUuZmllbGQ9PXQuZmllbGQmJmUuY3VzdG9tVHlwZT09dC5jdXN0b21UeXBlfSl9ZWxzZSByPWkuZGVmYXVsdC5maWx0ZXIoZ2V0Q3VzdG9tQ29uZmlnKCksZnVuY3Rpb24odCl7cmV0dXJuKGUuYmlsbFR5cGU9PXQuYmlsbFR5cGV8fGUubW9kZWw9PXQuYmlsbFR5cGUpJiZlLmRhdGFJbmZvPT10LmRhdGFJbmZvJiZlLmZpZWxkPT10LmZpZWxkJiZlLmN1c3RvbVR5cGU9PXQuY3VzdG9tVHlwZX0pO3IubGVuZ3RoPjAmJihcInZpc2libGVcIj09clswXS5jdXN0b21UeXBlPzA9PXJbMF0uY3VzdG9tVmFsdWU/JCh0KS5hZGRDbGFzcyhcImhpZGRlblwiKS5oaWRlKCk6KCQodCkucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIiksJCh0KS5zaG93KCkpOlwiZWRpdGFibGVcIj09clswXS5jdXN0b21UeXBlPzE9PXJbMF0uY3VzdG9tVmFsdWUmJigkKHQpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpLCQodCkuc2hvdygpKTpcImxhYmVsdGV4dFwiPT1yWzBdLmN1c3RvbVR5cGU/JCh0KS5odG1sKHJbMF0uY3VzdG9tVmFsdWUpOlwicGxhY2Vob2xkZXJcIj09clswXS5jdXN0b21UeXBlPyQodCkuYXR0cihcInBsYWNlaG9sZGVyXCIsclswXS5jdXN0b21WYWx1ZSk6XCJkZWZhdWx0VmFsdWVcIj09clswXS5jdXN0b21UeXBlPyQodCkudmFsKCl8fCgkKHQpLnZhbChyWzBdLmN1c3RvbVZhbHVlKSwkKHQpLmNoYW5nZSgpKTpcImN1c3RvbWRhdGFcIj09clswXS5jdXN0b21UeXBlJiYkKHQpLmF0dHIoXCJkYXRhLWN1c3RvbVwiLHJbMF0uY3VzdG9tVmFsdWUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldEN1c3RvbVZhbHVlPWUuZ2V0Q3Jvc3NUZW5hbnRDdXN0b21Db25maWc9dm9pZCAwO3ZhciByPW4oMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHIpLGE9bigxOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpO28uZGVmYXVsdC5iaW5kaW5nSGFuZGxlcnMuY3VzdG9tZmVhdHVyZT17aW5pdDpmdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhPWUoKTthLnN1YnNjcmliZXx8YSYmY3VzdG9tRmVhdHVyZVJlbmRlcih0LGEsITEpfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lKCk7bi5zdWJzY3JpYmUmJm4oKSYmbigpLnRhcmdldEVudGVycHJpc2VJZCYmY3VzdG9tRmVhdHVyZVJlbmRlcih0LG4oKSwhMCl9fSxlLmdldENyb3NzVGVuYW50Q3VzdG9tQ29uZmlnPWdldENyb3NzVGVuYW50Q3VzdG9tQ29uZmlnLGUuZ2V0Q3VzdG9tVmFsdWU9Z2V0Q3VzdG9tVmFsdWV9XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpYnMuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2tvLWJpbmRpbmdoYW5kbGVyL2Rpc3QvbGlicy5qc1xuLy8gbW9kdWxlIGlkID0gMTQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuICogS25vY2tvdXQgSmF2YVNjcmlwdCBsaWJyYXJ5IHYzLjUuMFxuICogKGMpIFRoZSBLbm9ja291dC5qcyB0ZWFtIC0gaHR0cDovL2tub2Nrb3V0anMuY29tL1xuICogTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcbiAqL1xuXG4oZnVuY3Rpb24oKSB7KGZ1bmN0aW9uKHApe3ZhciB6PXRoaXN8fCgwLGV2YWwpKFwidGhpc1wiKSx3PXouZG9jdW1lbnQsUj16Lm5hdmlnYXRvcix2PXoualF1ZXJ5LEg9ei5KU09OO3Z8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgalF1ZXJ5fHwodj1qUXVlcnkpOyhmdW5jdGlvbihwKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJyZXF1aXJlXCJdLHApOlwib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09PXR5cGVvZiBtb2R1bGU/cChtb2R1bGUuZXhwb3J0c3x8ZXhwb3J0cyk6cCh6LmtvPXt9KX0pKGZ1bmN0aW9uKFMsVCl7ZnVuY3Rpb24gSyhhLGMpe3JldHVybiBudWxsPT09YXx8dHlwZW9mIGEgaW4gVz9hPT09YzohMX1mdW5jdGlvbiBYKGIsYyl7dmFyIGQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZHx8KGQ9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkPXA7YigpfSxjKSl9fWZ1bmN0aW9uIFkoYixjKXt2YXIgZDtyZXR1cm4gZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCk7XG5kPWEuYS5zZXRUaW1lb3V0KGIsYyl9fWZ1bmN0aW9uIFooYSxjKXtjJiZcImNoYW5nZVwiIT09Yz9cImJlZm9yZUNoYW5nZVwiPT09Yz90aGlzLm9jKGEpOnRoaXMuYmIoYSxjKTp0aGlzLnBjKGEpfWZ1bmN0aW9uIGFhKGEsYyl7bnVsbCE9PWMmJmMucyYmYy5zKCl9ZnVuY3Rpb24gYmEoYSxjKXt2YXIgZD10aGlzLnBkLGU9ZFt0XTtlLnFhfHwodGhpcy5QYiYmdGhpcy5rYltjXT8oZC50YyhjLGEsdGhpcy5rYltjXSksdGhpcy5rYltjXT1udWxsLC0tdGhpcy5QYik6ZS5GW2NdfHxkLnRjKGMsYSxlLkc/e2RhOmF9OmQuWmMoYSkpLGEuS2EmJmEuZmQoKSl9dmFyIGE9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTP1M6e307YS5iPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWIuc3BsaXQoXCIuXCIpLGU9YSxmPTA7ZjxkLmxlbmd0aC0xO2YrKyllPWVbZFtmXV07ZVtkW2QubGVuZ3RoLTFdXT1jfTthLko9ZnVuY3Rpb24oYSxjLGQpe2FbY109ZH07YS52ZXJzaW9uPVwiMy41LjBcIjthLmIoXCJ2ZXJzaW9uXCIsXG5hLnZlcnNpb24pO2Eub3B0aW9ucz17ZGVmZXJVcGRhdGVzOiExLHVzZU9ubHlOYXRpdmVFdmVudHM6ITEsZm9yZWFjaEhpZGVzRGVzdHJveWVkOiExfTthLmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjIGluIGEpZi5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiBjKGEsYil7aWYoYilmb3IodmFyIGMgaW4gYilmLmNhbGwoYixjKSYmKGFbY109YltjXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2EuX19wcm90b19fPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZShiLGMsZCxlKXt2YXIgaz1iW2NdLm1hdGNoKG4pfHxbXTthLmEuQyhkLm1hdGNoKG4pLGZ1bmN0aW9uKGIpe2EuYS5PYShrLGIsZSl9KTtiW2NdPWsuam9pbihcIiBcIil9dmFyIGY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxnPXtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSxoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wsbT17fSxsPXt9O21bUiYmL0ZpcmVmb3hcXC8yL2kudGVzdChSLnVzZXJBZ2VudCk/XG5cIktleWJvYXJkRXZlbnRcIjpcIlVJRXZlbnRzXCJdPVtcImtleXVwXCIsXCJrZXlkb3duXCIsXCJrZXlwcmVzc1wiXTttLk1vdXNlRXZlbnRzPVwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmVcIi5zcGxpdChcIiBcIik7YihtLGZ1bmN0aW9uKGEsYil7aWYoYi5sZW5ndGgpZm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWxbYltjXV09YX0pO3ZhciBrPXtwcm9wZXJ0eWNoYW5nZTohMH0scT13JiZmdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9dy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlcIik7Yi5pbm5lckhUTUw9XCJcXHgzYyEtLVtpZiBndCBJRSBcIisgKythK1wiXT48aT48L2k+PCFbZW5kaWZdLS1cXHgzZVwiLGNbMF07KTtyZXR1cm4gNDxhP2E6cH0oKSxuPS9cXFMrL2cscjtyZXR1cm57SWM6W1wiYXV0aGVudGljaXR5X3Rva2VuXCIsL15fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbihfLiopPyQvXSxcbkM6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyliLmNhbGwoYyxhW2RdLGQsYSl9LEE6XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIpfTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTGI6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGFbZF07cmV0dXJuIHB9LGhiOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLkEoYixjKTswPGQ/Yi5zcGxpY2UoZCwxKTowPT09ZCYmYi5zaGlmdCgpfSx2YzpmdW5jdGlvbihiKXt2YXIgYz1bXTtiJiZhLmEuQyhiLGZ1bmN0aW9uKGIpezA+YS5hLkEoYyxiKSYmYy5wdXNoKGIpfSk7cmV0dXJuIGN9LE1iOmZ1bmN0aW9uKGEsXG5iLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsaz1hLmxlbmd0aDtlPGs7ZSsrKWQucHVzaChiLmNhbGwoYyxhW2VdLGUpKTtyZXR1cm4gZH0sZmI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsaz1hLmxlbmd0aDtlPGs7ZSsrKWIuY2FsbChjLGFbZV0sZSkmJmQucHVzaChhW2VdKTtyZXR1cm4gZH0sZ2I6ZnVuY3Rpb24oYSxiKXtpZihiIGluc3RhbmNlb2YgQXJyYXkpYS5wdXNoLmFwcGx5KGEsYik7ZWxzZSBmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYS5wdXNoKGJbY10pO3JldHVybiBhfSxPYTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5hLkEoYS5hLiRiKGIpLGMpOzA+ZT9kJiZiLnB1c2goYyk6ZHx8Yi5zcGxpY2UoZSwxKX0sQmE6ZyxleHRlbmQ6YyxzZXRQcm90b3R5cGVPZjpkLHpiOmc/ZDpjLE86YixIYTpmdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIGE7dmFyIGQ9e30sZTtmb3IoZSBpbiBhKWYuY2FsbChhLGUpJiYoZFtlXT1cbmIuY2FsbChjLGFbZV0sZSxhKSk7cmV0dXJuIGR9LFNiOmZ1bmN0aW9uKGIpe2Zvcig7Yi5maXJzdENoaWxkOylhLnJlbW92ZU5vZGUoYi5maXJzdENoaWxkKX0sWGI6ZnVuY3Rpb24oYil7Yj1hLmEubGEoYik7Zm9yKHZhciBjPShiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fHcpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKyljLmFwcGVuZENoaWxkKGEubmEoYltkXSkpO3JldHVybiBjfSxDYTpmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGgsaz1bXTtkPGU7ZCsrKXt2YXIgZj1iW2RdLmNsb25lTm9kZSghMCk7ay5wdXNoKGM/YS5uYShmKTpmKX1yZXR1cm4ga30sdWE6ZnVuY3Rpb24oYixjKXthLmEuU2IoYik7aWYoYylmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYi5hcHBlbmRDaGlsZChjW2RdKX0sV2M6ZnVuY3Rpb24oYixjKXt2YXIgZD1iLm5vZGVUeXBlP1tiXTpiO2lmKDA8ZC5sZW5ndGgpe2Zvcih2YXIgZT1kWzBdLFxuaz1lLnBhcmVudE5vZGUsZj0wLGw9Yy5sZW5ndGg7ZjxsO2YrKylrLmluc2VydEJlZm9yZShjW2ZdLGUpO2Y9MDtmb3IobD1kLmxlbmd0aDtmPGw7ZisrKWEucmVtb3ZlTm9kZShkW2ZdKX19LFVhOmZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe2ZvcihiPTg9PT1iLm5vZGVUeXBlJiZiLnBhcmVudE5vZGV8fGI7YS5sZW5ndGgmJmFbMF0ucGFyZW50Tm9kZSE9PWI7KWEuc3BsaWNlKDAsMSk7Zm9yKDsxPGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdLnBhcmVudE5vZGUhPT1iOylhLmxlbmd0aC0tO2lmKDE8YS5sZW5ndGgpe3ZhciBjPWFbMF0sZD1hW2EubGVuZ3RoLTFdO2ZvcihhLmxlbmd0aD0wO2MhPT1kOylhLnB1c2goYyksYz1jLm5leHRTaWJsaW5nO2EucHVzaChkKX19cmV0dXJuIGF9LFljOmZ1bmN0aW9uKGEsYil7Nz5xP2Euc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixiKTphLnNlbGVjdGVkPWJ9LENiOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YXx8YT09PXA/XCJcIjphLnRyaW0/XG5hLnRyaW0oKTphLnRvU3RyaW5nKCkucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSxUZDpmdW5jdGlvbihhLGIpe2E9YXx8XCJcIjtyZXR1cm4gYi5sZW5ndGg+YS5sZW5ndGg/ITE6YS5zdWJzdHJpbmcoMCxiLmxlbmd0aCk9PT1ifSx1ZDpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKDExPT09YS5ub2RlVHlwZSlyZXR1cm4hMTtpZihiLmNvbnRhaW5zKXJldHVybiBiLmNvbnRhaW5zKDEhPT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtpZihiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiAxNj09KGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpO2Zvcig7YSYmYSE9YjspYT1hLnBhcmVudE5vZGU7cmV0dXJuISFhfSxSYjpmdW5jdGlvbihiKXtyZXR1cm4gYS5hLnVkKGIsYi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl9LGpkOmZ1bmN0aW9uKGIpe3JldHVybiEhYS5hLkxiKGIsYS5hLlJiKX0sUDpmdW5jdGlvbihhKXtyZXR1cm4gYSYmXG5hLnRhZ05hbWUmJmEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfSx6YzpmdW5jdGlvbihiKXtyZXR1cm4gYS5vbkVycm9yP2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChjKXt0aHJvdyBhLm9uRXJyb3ImJmEub25FcnJvcihjKSxjO319OmJ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gc2V0VGltZW91dChhLmEuemMoYiksYyl9LEZjOmZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9uRXJyb3ImJmEub25FcnJvcihiKTt0aHJvdyBiO30sMCl9LEg6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuYS56YyhkKTtkPWtbY107aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fGR8fCF2KWlmKGR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIuYWRkRXZlbnRMaXN0ZW5lcilpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5hdHRhY2hFdmVudCl7dmFyIGY9ZnVuY3Rpb24oYSl7ZS5jYWxsKGIsYSl9LGw9XCJvblwiK2M7Yi5hdHRhY2hFdmVudChsLFxuZik7YS5hLkkuemEoYixmdW5jdGlvbigpe2IuZGV0YWNoRXZlbnQobCxmKX0pfWVsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBhZGRFdmVudExpc3RlbmVyIG9yIGF0dGFjaEV2ZW50XCIpO2Vsc2UgYi5hZGRFdmVudExpc3RlbmVyKGMsZSwhMSk7ZWxzZSByfHwocj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB2KGIpLm9uP1wib25cIjpcImJpbmRcIiksdihiKVtyXShjLGUpfSxGYjpmdW5jdGlvbihiLGMpe2lmKCFifHwhYi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImVsZW1lbnQgbXVzdCBiZSBhIERPTSBub2RlIHdoZW4gY2FsbGluZyB0cmlnZ2VyRXZlbnRcIik7dmFyIGQ7XCJpbnB1dFwiPT09YS5hLlAoYikmJmIudHlwZSYmXCJjbGlja1wiPT1jLnRvTG93ZXJDYXNlKCk/KGQ9Yi50eXBlLGQ9XCJjaGVja2JveFwiPT1kfHxcInJhZGlvXCI9PWQpOmQ9ITE7aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fCF2fHxkKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHcuY3JlYXRlRXZlbnQpaWYoXCJmdW5jdGlvblwiPT1cbnR5cGVvZiBiLmRpc3BhdGNoRXZlbnQpZD13LmNyZWF0ZUV2ZW50KGxbY118fFwiSFRNTEV2ZW50c1wiKSxkLmluaXRFdmVudChjLCEwLCEwLHosMCwwLDAsMCwwLCExLCExLCExLCExLDAsYiksYi5kaXNwYXRjaEV2ZW50KGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJUaGUgc3VwcGxpZWQgZWxlbWVudCBkb2Vzbid0IHN1cHBvcnQgZGlzcGF0Y2hFdmVudFwiKTtlbHNlIGlmKGQmJmIuY2xpY2spYi5jbGljaygpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZmlyZUV2ZW50KWIuZmlyZUV2ZW50KFwib25cIitjKTtlbHNlIHRocm93IEVycm9yKFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdHJpZ2dlcmluZyBldmVudHNcIik7ZWxzZSB2KGIpLnRyaWdnZXIoYyl9LGM6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTihiKT9iKCk6Yn0sJGI6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTihiKT9iLncoKTpifSxFYjpmdW5jdGlvbihiLGMsZCl7dmFyIGs7YyYmKFwib2JqZWN0XCI9PT10eXBlb2YgYi5jbGFzc0xpc3Q/XG4oaz1iLmNsYXNzTGlzdFtkP1wiYWRkXCI6XCJyZW1vdmVcIl0sYS5hLkMoYy5tYXRjaChuKSxmdW5jdGlvbihhKXtrLmNhbGwoYi5jbGFzc0xpc3QsYSl9KSk6XCJzdHJpbmdcIj09PXR5cGVvZiBiLmNsYXNzTmFtZS5iYXNlVmFsP2UoYi5jbGFzc05hbWUsXCJiYXNlVmFsXCIsYyxkKTplKGIsXCJjbGFzc05hbWVcIixjLGQpKX0sQWI6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuYyhjKTtpZihudWxsPT09ZHx8ZD09PXApZD1cIlwiO3ZhciBlPWEuaC5maXJzdENoaWxkKGIpOyFlfHwzIT1lLm5vZGVUeXBlfHxhLmgubmV4dFNpYmxpbmcoZSk/YS5oLnVhKGIsW2Iub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKV0pOmUuZGF0YT1kO2EuYS56ZChiKX0sWGM6ZnVuY3Rpb24oYSxiKXthLm5hbWU9YjtpZig3Pj1xKXRyeXt2YXIgYz1hLm5hbWUucmVwbGFjZSgvWyY8PidcIl0vZyxmdW5jdGlvbihhKXtyZXR1cm5cIiYjXCIrYS5jaGFyQ29kZUF0KDApK1wiO1wifSk7YS5tZXJnZUF0dHJpYnV0ZXMody5jcmVhdGVFbGVtZW50KFwiPGlucHV0IG5hbWU9J1wiK1xuYytcIicvPlwiKSwhMSl9Y2F0Y2goZCl7fX0semQ6ZnVuY3Rpb24oYSl7OTw9cSYmKGE9MT09YS5ub2RlVHlwZT9hOmEucGFyZW50Tm9kZSxhLnN0eWxlJiYoYS5zdHlsZS56b29tPWEuc3R5bGUuem9vbSkpfSx2ZDpmdW5jdGlvbihhKXtpZihxKXt2YXIgYj1hLnN0eWxlLndpZHRoO2Euc3R5bGUud2lkdGg9MDthLnN0eWxlLndpZHRoPWJ9fSxPZDpmdW5jdGlvbihiLGMpe2I9YS5hLmMoYik7Yz1hLmEuYyhjKTtmb3IodmFyIGQ9W10sZT1iO2U8PWM7ZSsrKWQucHVzaChlKTtyZXR1cm4gZH0sbGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKGFbY10pO3JldHVybiBifSxEYTpmdW5jdGlvbihhKXtyZXR1cm4gaD9TeW1ib2woYSk6YX0sWGQ6Nj09PXEsWWQ6Nz09PXEsVzpxLEtjOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWEuYS5sYShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmNvbmNhdChhLmEubGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpKSksXG5lPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PT1jfTpmdW5jdGlvbihhKXtyZXR1cm4gYy50ZXN0KGEubmFtZSl9LGs9W10sZj1kLmxlbmd0aC0xOzA8PWY7Zi0tKWUoZFtmXSkmJmsucHVzaChkW2ZdKTtyZXR1cm4ga30sTWQ6ZnVuY3Rpb24oYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWEuYS5DYihiKSk/SCYmSC5wYXJzZT9ILnBhcnNlKGIpOihuZXcgRnVuY3Rpb24oXCJyZXR1cm4gXCIrYikpKCk6bnVsbH0sZmM6ZnVuY3Rpb24oYixjLGQpe2lmKCFIfHwhSC5zdHJpbmdpZnkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBKU09OLnN0cmluZ2lmeSgpLiBTb21lIGJyb3dzZXJzIChlLmcuLCBJRSA8IDgpIGRvbid0IHN1cHBvcnQgaXQgbmF0aXZlbHksIGJ1dCB5b3UgY2FuIG92ZXJjb21lIHRoaXMgYnkgYWRkaW5nIGEgc2NyaXB0IHJlZmVyZW5jZSB0byBqc29uMi5qcywgZG93bmxvYWRhYmxlIGZyb20gaHR0cDovL3d3dy5qc29uLm9yZy9qc29uMi5qc1wiKTtcbnJldHVybiBILnN0cmluZ2lmeShhLmEuYyhiKSxjLGQpfSxOZDpmdW5jdGlvbihjLGQsZSl7ZT1lfHx7fTt2YXIgaz1lLnBhcmFtc3x8e30sZj1lLmluY2x1ZGVGaWVsZHN8fHRoaXMuSWMsbD1jO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBjJiZcImZvcm1cIj09PWEuYS5QKGMpKWZvcih2YXIgbD1jLmFjdGlvbixoPWYubGVuZ3RoLTE7MDw9aDtoLS0pZm9yKHZhciBnPWEuYS5LYyhjLGZbaF0pLG09Zy5sZW5ndGgtMTswPD1tO20tLSlrW2dbbV0ubmFtZV09Z1ttXS52YWx1ZTtkPWEuYS5jKGQpO3ZhciBuPXcuY3JlYXRlRWxlbWVudChcImZvcm1cIik7bi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO24uYWN0aW9uPWw7bi5tZXRob2Q9XCJwb3N0XCI7Zm9yKHZhciBxIGluIGQpYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxjLnR5cGU9XCJoaWRkZW5cIixjLm5hbWU9cSxjLnZhbHVlPWEuYS5mYyhhLmEuYyhkW3FdKSksbi5hcHBlbmRDaGlsZChjKTtiKGssZnVuY3Rpb24oYSxiKXt2YXIgYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmMudHlwZT1cImhpZGRlblwiO2MubmFtZT1hO2MudmFsdWU9YjtuLmFwcGVuZENoaWxkKGMpfSk7dy5ib2R5LmFwcGVuZENoaWxkKG4pO2Uuc3VibWl0dGVyP2Uuc3VibWl0dGVyKG4pOm4uc3VibWl0KCk7c2V0VGltZW91dChmdW5jdGlvbigpe24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX0sMCl9fX0oKTthLmIoXCJ1dGlsc1wiLGEuYSk7YS5iKFwidXRpbHMuYXJyYXlGb3JFYWNoXCIsYS5hLkMpO2EuYihcInV0aWxzLmFycmF5Rmlyc3RcIixhLmEuTGIpO2EuYihcInV0aWxzLmFycmF5RmlsdGVyXCIsYS5hLmZiKTthLmIoXCJ1dGlscy5hcnJheUdldERpc3RpbmN0VmFsdWVzXCIsYS5hLnZjKTthLmIoXCJ1dGlscy5hcnJheUluZGV4T2ZcIixhLmEuQSk7YS5iKFwidXRpbHMuYXJyYXlNYXBcIixhLmEuTWIpO2EuYihcInV0aWxzLmFycmF5UHVzaEFsbFwiLGEuYS5nYik7YS5iKFwidXRpbHMuYXJyYXlSZW1vdmVJdGVtXCIsYS5hLmhiKTthLmIoXCJ1dGlscy5jbG9uZU5vZGVzXCIsYS5hLkNhKTthLmIoXCJ1dGlscy5jcmVhdGVTeW1ib2xPclN0cmluZ1wiLFxuYS5hLkRhKTthLmIoXCJ1dGlscy5leHRlbmRcIixhLmEuZXh0ZW5kKTthLmIoXCJ1dGlscy5maWVsZHNJbmNsdWRlZFdpdGhKc29uUG9zdFwiLGEuYS5JYyk7YS5iKFwidXRpbHMuZ2V0Rm9ybUZpZWxkc1wiLGEuYS5LYyk7YS5iKFwidXRpbHMub2JqZWN0TWFwXCIsYS5hLkhhKTthLmIoXCJ1dGlscy5wZWVrT2JzZXJ2YWJsZVwiLGEuYS4kYik7YS5iKFwidXRpbHMucG9zdEpzb25cIixhLmEuTmQpO2EuYihcInV0aWxzLnBhcnNlSnNvblwiLGEuYS5NZCk7YS5iKFwidXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXJcIixhLmEuSCk7YS5iKFwidXRpbHMuc3RyaW5naWZ5SnNvblwiLGEuYS5mYyk7YS5iKFwidXRpbHMucmFuZ2VcIixhLmEuT2QpO2EuYihcInV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzc1wiLGEuYS5FYik7YS5iKFwidXRpbHMudHJpZ2dlckV2ZW50XCIsYS5hLkZiKTthLmIoXCJ1dGlscy51bndyYXBPYnNlcnZhYmxlXCIsYS5hLmMpO2EuYihcInV0aWxzLm9iamVjdEZvckVhY2hcIixhLmEuTyk7YS5iKFwidXRpbHMuYWRkT3JSZW1vdmVJdGVtXCIsXG5hLmEuT2EpO2EuYihcInV0aWxzLnNldFRleHRDb250ZW50XCIsYS5hLkFiKTthLmIoXCJ1bndyYXBcIixhLmEuYyk7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX07dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWQuc2xpY2UoMCk7ZS5wdXNoLmFwcGx5KGUsYXJndW1lbnRzKTtyZXR1cm4gYy5hcHBseShhLGUpfX0pO2EuYS5nPW5ldyBmdW5jdGlvbigpe3ZhciBiPTAsYz1cIl9fa29fX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9e30sZSxmO2EuYS5XPyhlPWZ1bmN0aW9uKGEsZSl7dmFyIGY9YVtjXTtpZighZnx8XCJudWxsXCI9PT1mfHwhZFtmXSl7aWYoIWUpcmV0dXJuIHA7Zj1hW2NdPVwia29cIitiKys7ZFtmXT1cbnt9fXJldHVybiBkW2ZdfSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWFbY107cmV0dXJuIGI/KGRlbGV0ZSBkW2JdLGFbY109bnVsbCwhMCk6ITF9KTooZT1mdW5jdGlvbihhLGIpe3ZhciBkPWFbY107IWQmJmImJihkPWFbY109e30pO3JldHVybiBkfSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdPyhkZWxldGUgYVtjXSwhMCk6ITF9KTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZShhLCExKTtyZXR1cm4gYyYmY1tiXX0sc2V0OmZ1bmN0aW9uKGEsYixjKXsoYT1lKGEsYyE9PXApKSYmKGFbYl09Yyl9LFRiOmZ1bmN0aW9uKGEsYixjKXthPWUoYSwhMCk7cmV0dXJuIGFbYl18fChhW2JdPWMpfSxjbGVhcjpmLFo6ZnVuY3Rpb24oKXtyZXR1cm4gYisrICtjfX19O2EuYihcInV0aWxzLmRvbURhdGFcIixhLmEuZyk7YS5iKFwidXRpbHMuZG9tRGF0YS5jbGVhclwiLGEuYS5nLmNsZWFyKTthLmEuST1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIsZSk7XG5kPT09cCYmYyYmKGQ9W10sYS5hLmcuc2V0KGIsZSxkKSk7cmV0dXJuIGR9ZnVuY3Rpb24gYyhjKXt2YXIgZT1iKGMsITEpO2lmKGUpZm9yKHZhciBlPWUuc2xpY2UoMCksZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0oYyk7YS5hLmcuY2xlYXIoYyk7YS5hLkkuY2xlYW5FeHRlcm5hbERhdGEoYyk7Z1tjLm5vZGVUeXBlXSYmZChjLmNoaWxkTm9kZXMsITApfWZ1bmN0aW9uIGQoYixkKXtmb3IodmFyIGU9W10sayxmPTA7ZjxiLmxlbmd0aDtmKyspaWYoIWR8fDg9PT1iW2ZdLm5vZGVUeXBlKWlmKGMoZVtlLmxlbmd0aF09az1iW2ZdKSxiW2ZdIT09aylmb3IoO2YtLSYmLTE9PWEuYS5BKGUsYltmXSk7KTt9dmFyIGU9YS5hLmcuWigpLGY9ezE6ITAsODohMCw5OiEwfSxnPXsxOiEwLDk6ITB9O3JldHVybnt6YTpmdW5jdGlvbihhLGMpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YihhLCEwKS5wdXNoKGMpfSx4YjpmdW5jdGlvbihjLFxuZCl7dmFyIGY9YihjLCExKTtmJiYoYS5hLmhiKGYsZCksMD09Zi5sZW5ndGgmJmEuYS5nLnNldChjLGUscCkpfSxuYTpmdW5jdGlvbihhKXtmW2Eubm9kZVR5cGVdJiYoYyhhKSxnW2Eubm9kZVR5cGVdJiZkKGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpKSk7cmV0dXJuIGF9LHJlbW92ZU5vZGU6ZnVuY3Rpb24oYil7YS5uYShiKTtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX0sY2xlYW5FeHRlcm5hbERhdGE6ZnVuY3Rpb24oYSl7diYmXCJmdW5jdGlvblwiPT10eXBlb2Ygdi5jbGVhbkRhdGEmJnYuY2xlYW5EYXRhKFthXSl9fX07YS5uYT1hLmEuSS5uYTthLnJlbW92ZU5vZGU9YS5hLkkucmVtb3ZlTm9kZTthLmIoXCJjbGVhbk5vZGVcIixhLm5hKTthLmIoXCJyZW1vdmVOb2RlXCIsYS5yZW1vdmVOb2RlKTthLmIoXCJ1dGlscy5kb21Ob2RlRGlzcG9zYWxcIixhLmEuSSk7YS5iKFwidXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFja1wiLGEuYS5JLnphKTtcbmEuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5yZW1vdmVEaXNwb3NlQ2FsbGJhY2tcIixhLmEuSS54Yik7KGZ1bmN0aW9uKCl7dmFyIGI9WzAsXCJcIixcIlwiXSxjPVsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sZD1bMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLGU9WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sZj17dGhlYWQ6Yyx0Ym9keTpjLHRmb290OmMsdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpkLHRoOmQsb3B0aW9uOmUsb3B0Z3JvdXA6ZX0sZz04Pj1hLmEuVzthLmEudGE9ZnVuY3Rpb24oYyxkKXt2YXIgZTtpZih2KWlmKHYucGFyc2VIVE1MKWU9di5wYXJzZUhUTUwoYyxkKXx8W107ZWxzZXtpZigoZT12LmNsZWFuKFtjXSxkKSkmJmVbMF0pe2Zvcih2YXIgaz1lWzBdO2sucGFyZW50Tm9kZSYmMTEhPT1rLnBhcmVudE5vZGUubm9kZVR5cGU7KWs9ay5wYXJlbnROb2RlO1xuay5wYXJlbnROb2RlJiZrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayl9fWVsc2V7KGU9ZCl8fChlPXcpO3ZhciBrPWUucGFyZW50V2luZG93fHxlLmRlZmF1bHRWaWV3fHx6LHE9YS5hLkNiKGMpLnRvTG93ZXJDYXNlKCksbj1lLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscjtyPShxPXEubWF0Y2goL14oPzpcXHgzYyEtLS4qPy0tXFx4M2VcXHMqPykqPzwoW2Etel0rKVtcXHM+XS8pKSYmZltxWzFdXXx8YjtxPXJbMF07cj1cImlnbm9yZWQ8ZGl2PlwiK3JbMV0rYytyWzJdK1wiPC9kaXY+XCI7XCJmdW5jdGlvblwiPT10eXBlb2Ygay5pbm5lclNoaXY/bi5hcHBlbmRDaGlsZChrLmlubmVyU2hpdihyKSk6KGcmJmUuYm9keS5hcHBlbmRDaGlsZChuKSxuLmlubmVySFRNTD1yLGcmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7Zm9yKDtxLS07KW49bi5sYXN0Q2hpbGQ7ZT1hLmEubGEobi5sYXN0Q2hpbGQuY2hpbGROb2Rlcyl9cmV0dXJuIGV9O2EuYS5MZD1mdW5jdGlvbihiLGMpe3ZhciBkPWEuYS50YShiLFxuYyk7cmV0dXJuIGQubGVuZ3RoJiZkWzBdLnBhcmVudEVsZW1lbnR8fGEuYS5YYihkKX07YS5hLmRjPWZ1bmN0aW9uKGIsYyl7YS5hLlNiKGIpO2M9YS5hLmMoYyk7aWYobnVsbCE9PWMmJmMhPT1wKWlmKFwic3RyaW5nXCIhPXR5cGVvZiBjJiYoYz1jLnRvU3RyaW5nKCkpLHYpdihiKS5odG1sKGMpO2Vsc2UgZm9yKHZhciBkPWEuYS50YShjLGIub3duZXJEb2N1bWVudCksZT0wO2U8ZC5sZW5ndGg7ZSsrKWIuYXBwZW5kQ2hpbGQoZFtlXSl9fSkoKTthLmIoXCJ1dGlscy5wYXJzZUh0bWxGcmFnbWVudFwiLGEuYS50YSk7YS5iKFwidXRpbHMuc2V0SHRtbFwiLGEuYS5kYyk7YS5hYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYyxlKXtpZihjKWlmKDg9PWMubm9kZVR5cGUpe3ZhciBmPWEuYWEuVGMoYy5ub2RlVmFsdWUpO251bGwhPWYmJmUucHVzaCh7c2Q6YyxKZDpmfSl9ZWxzZSBpZigxPT1jLm5vZGVUeXBlKWZvcih2YXIgZj0wLGc9Yy5jaGlsZE5vZGVzLGg9Zy5sZW5ndGg7ZjxoO2YrKyliKGdbZl0sXG5lKX12YXIgYz17fTtyZXR1cm57V2I6ZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBFcnJvcihcIllvdSBjYW4gb25seSBwYXNzIGEgZnVuY3Rpb24gdG8ga28ubWVtb2l6YXRpb24ubWVtb2l6ZSgpXCIpO3ZhciBiPSg0Mjk0OTY3Mjk2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSkrKDQyOTQ5NjcyOTYqKDErTWF0aC5yYW5kb20oKSl8MCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtjW2JdPWE7cmV0dXJuXCJcXHgzYyEtLVtrb19tZW1vOlwiK2IrXCJdLS1cXHgzZVwifSxhZDpmdW5jdGlvbihhLGIpe3ZhciBmPWNbYV07aWYoZj09PXApdGhyb3cgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGFueSBtZW1vIHdpdGggSUQgXCIrYStcIi4gUGVyaGFwcyBpdCdzIGFscmVhZHkgYmVlbiB1bm1lbW9pemVkLlwiKTt0cnl7cmV0dXJuIGYuYXBwbHkobnVsbCxifHxbXSksITB9ZmluYWxseXtkZWxldGUgY1thXX19LGJkOmZ1bmN0aW9uKGMsZSl7dmFyIGY9XG5bXTtiKGMsZik7Zm9yKHZhciBnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKXt2YXIgbT1mW2ddLnNkLGw9W21dO2UmJmEuYS5nYihsLGUpO2EuYWEuYWQoZltnXS5KZCxsKTttLm5vZGVWYWx1ZT1cIlwiO20ucGFyZW50Tm9kZSYmbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG0pfX0sVGM6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5tYXRjaCgvXlxcW2tvX21lbW9cXDooLio/KVxcXSQvKSk/YVsxXTpudWxsfX19KCk7YS5iKFwibWVtb2l6YXRpb25cIixhLmFhKTthLmIoXCJtZW1vaXphdGlvbi5tZW1vaXplXCIsYS5hYS5XYik7YS5iKFwibWVtb2l6YXRpb24udW5tZW1vaXplXCIsYS5hYS5hZCk7YS5iKFwibWVtb2l6YXRpb24ucGFyc2VNZW1vVGV4dFwiLGEuYWEuVGMpO2EuYihcIm1lbW9pemF0aW9uLnVubWVtb2l6ZURvbU5vZGVBbmREZXNjZW5kYW50c1wiLGEuYWEuYmQpO2EubWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7aWYoZilmb3IodmFyIGI9ZixjPTAsZDtoPGY7KWlmKGQ9ZVtoKytdKXtpZihoPmIpe2lmKDVFMzw9XG4rK2Mpe2g9ZjthLmEuRmMoRXJyb3IoXCInVG9vIG11Y2ggcmVjdXJzaW9uJyBhZnRlciBwcm9jZXNzaW5nIFwiK2MrXCIgdGFzayBncm91cHMuXCIpKTticmVha31iPWZ9dHJ5e2QoKX1jYXRjaChnKXthLmEuRmMoZyl9fX1mdW5jdGlvbiBjKCl7YigpO2g9Zj1lLmxlbmd0aD0wfXZhciBkLGU9W10sZj0wLGc9MSxoPTA7ei5NdXRhdGlvbk9ic2VydmVyP2Q9ZnVuY3Rpb24oYSl7dmFyIGI9dy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOyhuZXcgTXV0YXRpb25PYnNlcnZlcihhKSkub2JzZXJ2ZShiLHthdHRyaWJ1dGVzOiEwfSk7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpfX0oYyk6ZD13JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gdy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpP2Z1bmN0aW9uKGEpe3ZhciBiPXcuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7dy5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoYik7XG5iPW51bGw7YSgpfTt3LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfTtyZXR1cm57c2NoZWR1bGVyOmQseWI6ZnVuY3Rpb24oYil7Znx8YS5tYS5zY2hlZHVsZXIoYyk7ZVtmKytdPWI7cmV0dXJuIGcrK30sY2FuY2VsOmZ1bmN0aW9uKGEpe2E9YS0oZy1mKTthPj1oJiZhPGYmJihlW2FdPW51bGwpfSxyZXNldEZvclRlc3Rpbmc6ZnVuY3Rpb24oKXt2YXIgYT1mLWg7aD1mPWUubGVuZ3RoPTA7cmV0dXJuIGF9LFJkOmJ9fSgpO2EuYihcInRhc2tzXCIsYS5tYSk7YS5iKFwidGFza3Muc2NoZWR1bGVcIixhLm1hLnliKTthLmIoXCJ0YXNrcy5ydW5FYXJseVwiLGEubWEuUmQpO2EuVGE9e3Rocm90dGxlOmZ1bmN0aW9uKGIsYyl7Yi50aHJvdHRsZUV2YWx1YXRpb249Yzt2YXIgZD1udWxsO3JldHVybiBhLiQoe3JlYWQ6Yix3cml0ZTpmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZCk7ZD1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IoZSl9LFxuYyl9fSl9LHJhdGVMaW1pdDpmdW5jdGlvbihhLGMpe3ZhciBkLGUsZjtcIm51bWJlclwiPT10eXBlb2YgYz9kPWM6KGQ9Yy50aW1lb3V0LGU9Yy5tZXRob2QpO2EuSGI9ITE7Zj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6XCJub3RpZnlXaGVuQ2hhbmdlc1N0b3BcIj09ZT9ZOlg7YS50YihmdW5jdGlvbihhKXtyZXR1cm4gZihhLGQsYyl9KX0sZGVmZXJyZWQ6ZnVuY3Rpb24oYixjKXtpZighMCE9PWMpdGhyb3cgRXJyb3IoXCJUaGUgJ2RlZmVycmVkJyBleHRlbmRlciBvbmx5IGFjY2VwdHMgdGhlIHZhbHVlICd0cnVlJywgYmVjYXVzZSBpdCBpcyBub3Qgc3VwcG9ydGVkIHRvIHR1cm4gZGVmZXJyYWwgb2ZmIG9uY2UgZW5hYmxlZC5cIik7Yi5IYnx8KGIuSGI9ITAsYi50YihmdW5jdGlvbihjKXt2YXIgZSxmPSExO3JldHVybiBmdW5jdGlvbigpe2lmKCFmKXthLm1hLmNhbmNlbChlKTtlPWEubWEueWIoYyk7dHJ5e2Y9ITAsYi5ub3RpZnlTdWJzY3JpYmVycyhwLFwiZGlydHlcIil9ZmluYWxseXtmPVxuITF9fX19KSl9LG5vdGlmeTpmdW5jdGlvbihhLGMpe2EuZXF1YWxpdHlDb21wYXJlcj1cImFsd2F5c1wiPT1jP251bGw6S319O3ZhciBXPXt1bmRlZmluZWQ6MSxcImJvb2xlYW5cIjoxLG51bWJlcjoxLHN0cmluZzoxfTthLmIoXCJleHRlbmRlcnNcIixhLlRhKTthLmdjPWZ1bmN0aW9uKGIsYyxkKXt0aGlzLmRhPWI7dGhpcy5rYz1jO3RoaXMubGM9ZDt0aGlzLkliPSExO3RoaXMuYWI9dGhpcy5KYj1udWxsO2EuSih0aGlzLFwiZGlzcG9zZVwiLHRoaXMucyk7YS5KKHRoaXMsXCJkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWRcIix0aGlzLmwpfTthLmdjLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dGhpcy5JYnx8KHRoaXMuYWImJmEuYS5JLnhiKHRoaXMuSmIsdGhpcy5hYiksdGhpcy5JYj0hMCx0aGlzLmxjKCksdGhpcy5kYT10aGlzLmtjPXRoaXMubGM9dGhpcy5KYj10aGlzLmFiPW51bGwpfTthLmdjLnByb3RvdHlwZS5sPWZ1bmN0aW9uKGIpe3RoaXMuSmI9YjthLmEuSS56YShiLHRoaXMuYWI9dGhpcy5zLmJpbmQodGhpcykpfTtcbmEuUj1mdW5jdGlvbigpe2EuYS56Yih0aGlzLEQpO0Qub2IodGhpcyl9O3ZhciBEPXtvYjpmdW5jdGlvbihhKXthLlM9e2NoYW5nZTpbXX07YS5yYz0xfSxzdWJzY3JpYmU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7ZD1kfHxcImNoYW5nZVwiO3ZhciBmPW5ldyBhLmdjKGUsYz9iLmJpbmQoYyk6YixmdW5jdGlvbigpe2EuYS5oYihlLlNbZF0sZik7ZS5jYiYmZS5jYihkKX0pO2UuUWEmJmUuUWEoZCk7ZS5TW2RdfHwoZS5TW2RdPVtdKTtlLlNbZF0ucHVzaChmKTtyZXR1cm4gZn0sbm90aWZ5U3Vic2NyaWJlcnM6ZnVuY3Rpb24oYixjKXtjPWN8fFwiY2hhbmdlXCI7XCJjaGFuZ2VcIj09PWMmJnRoaXMuR2IoKTtpZih0aGlzLldhKGMpKXt2YXIgZD1cImNoYW5nZVwiPT09YyYmdGhpcy5kZHx8dGhpcy5TW2NdLnNsaWNlKDApO3RyeXthLnYud2MoKTtmb3IodmFyIGU9MCxmO2Y9ZFtlXTsrK2UpZi5JYnx8Zi5rYyhiKX1maW5hbGx5e2Eudi5lbmQoKX19fSxtYjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJjfSxcbkNkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1iKCkhPT1hfSxHYjpmdW5jdGlvbigpeysrdGhpcy5yY30sdGI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWEuTihjKSxlLGYsZyxoLG07Yy5iYnx8KGMuYmI9Yy5ub3RpZnlTdWJzY3JpYmVycyxjLm5vdGlmeVN1YnNjcmliZXJzPVopO3ZhciBsPWIoZnVuY3Rpb24oKXtjLkthPSExO2QmJmg9PT1jJiYoaD1jLm1jP2MubWMoKTpjKCkpO3ZhciBhPWZ8fG0mJmMucWIoZyxoKTttPWY9ZT0hMTthJiZjLmJiKGc9aCl9KTtjLnBjPWZ1bmN0aW9uKGEsYil7YiYmYy5LYXx8KG09IWIpO2MuZGQ9Yy5TLmNoYW5nZS5zbGljZSgwKTtjLkthPWU9ITA7aD1hO2woKX07Yy5vYz1mdW5jdGlvbihhKXtlfHwoZz1hLGMuYmIoYSxcImJlZm9yZUNoYW5nZVwiKSl9O2MucWM9ZnVuY3Rpb24oKXttPSEwfTtjLmZkPWZ1bmN0aW9uKCl7Yy5xYihnLGMudyghMCkpJiYoZj0hMCl9fSxXYTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5TW2FdJiZ0aGlzLlNbYV0ubGVuZ3RofSxcbkFkOmZ1bmN0aW9uKGIpe2lmKGIpcmV0dXJuIHRoaXMuU1tiXSYmdGhpcy5TW2JdLmxlbmd0aHx8MDt2YXIgYz0wO2EuYS5PKHRoaXMuUyxmdW5jdGlvbihhLGIpe1wiZGlydHlcIiE9PWEmJihjKz1iLmxlbmd0aCl9KTtyZXR1cm4gY30scWI6ZnVuY3Rpb24oYSxjKXtyZXR1cm4hdGhpcy5lcXVhbGl0eUNvbXBhcmVyfHwhdGhpcy5lcXVhbGl0eUNvbXBhcmVyKGEsYyl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIn0sZXh0ZW5kOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YiYmYS5hLk8oYixmdW5jdGlvbihiLGUpe3ZhciBmPWEuVGFbYl07XCJmdW5jdGlvblwiPT10eXBlb2YgZiYmKGM9ZihjLGUpfHxjKX0pO3JldHVybiBjfX07YS5KKEQsXCJpbml0XCIsRC5vYik7YS5KKEQsXCJzdWJzY3JpYmVcIixELnN1YnNjcmliZSk7YS5KKEQsXCJleHRlbmRcIixELmV4dGVuZCk7YS5KKEQsXCJnZXRTdWJzY3JpcHRpb25zQ291bnRcIixELkFkKTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihELFxuRnVuY3Rpb24ucHJvdG90eXBlKTthLlIuZm49RDthLlBjPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnN1YnNjcmliZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5ub3RpZnlTdWJzY3JpYmVyc307YS5iKFwic3Vic2NyaWJhYmxlXCIsYS5SKTthLmIoXCJpc1N1YnNjcmliYWJsZVwiLGEuUGMpO2EuVT1hLnY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe2QucHVzaChlKTtlPWF9ZnVuY3Rpb24gYygpe2U9ZC5wb3AoKX12YXIgZD1bXSxlLGY9MDtyZXR1cm57d2M6YixlbmQ6YyxhYzpmdW5jdGlvbihiKXtpZihlKXtpZighYS5QYyhiKSl0aHJvdyBFcnJvcihcIk9ubHkgc3Vic2NyaWJhYmxlIHRoaW5ncyBjYW4gYWN0IGFzIGRlcGVuZGVuY2llc1wiKTtlLm5kLmNhbGwoZS5vZCxiLGIuZWR8fChiLmVkPSsrZikpfX0sSzpmdW5jdGlvbihhLGQsZSl7dHJ5e3JldHVybiBiKCksYS5hcHBseShkLGV8fFtdKX1maW5hbGx5e2MoKX19LHBhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vLnBhKCl9LFxuVmE6ZnVuY3Rpb24oKXtpZihlKXJldHVybiBlLm8uVmEoKX0scmI6ZnVuY3Rpb24oKXtpZihlKXJldHVybiBlLnJifSxvOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vfX19KCk7YS5iKFwiY29tcHV0ZWRDb250ZXh0XCIsYS5VKTthLmIoXCJjb21wdXRlZENvbnRleHQuZ2V0RGVwZW5kZW5jaWVzQ291bnRcIixhLlUucGEpO2EuYihcImNvbXB1dGVkQ29udGV4dC5nZXREZXBlbmRlbmNpZXNcIixhLlUuVmEpO2EuYihcImNvbXB1dGVkQ29udGV4dC5pc0luaXRpYWxcIixhLlUucmIpO2EuYihcImNvbXB1dGVkQ29udGV4dC5yZWdpc3RlckRlcGVuZGVuY3lcIixhLlUuYWMpO2EuYihcImlnbm9yZURlcGVuZGVuY2llc1wiLGEuV2Q9YS52LkspO3ZhciBJPWEuYS5EYShcIl9sYXRlc3RWYWx1ZVwiKTthLnNhPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtpZigwPGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGMucWIoY1tJXSxhcmd1bWVudHNbMF0pJiYoYy54YSgpLGNbSV09YXJndW1lbnRzWzBdLGMud2EoKSksdGhpcztcbmEudi5hYyhjKTtyZXR1cm4gY1tJXX1jW0ldPWI7YS5hLkJhfHxhLmEuZXh0ZW5kKGMsYS5SLmZuKTthLlIuZm4ub2IoYyk7YS5hLnpiKGMsRik7YS5vcHRpb25zLmRlZmVyVXBkYXRlcyYmYS5UYS5kZWZlcnJlZChjLCEwKTtyZXR1cm4gY307dmFyIEY9e2VxdWFsaXR5Q29tcGFyZXI6Syx3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbSV19LHdhOmZ1bmN0aW9uKCl7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldLFwic3BlY3RhdGVcIik7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldKX0seGE6ZnVuY3Rpb24oKXt0aGlzLm5vdGlmeVN1YnNjcmliZXJzKHRoaXNbSV0sXCJiZWZvcmVDaGFuZ2VcIil9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihGLGEuUi5mbik7dmFyIEc9YS5zYS5OYT1cIl9fa29fcHJvdG9fX1wiO0ZbR109YS5zYTthLk49ZnVuY3Rpb24oYil7aWYoKGI9XCJmdW5jdGlvblwiPT10eXBlb2YgYiYmYltHXSkmJmIhPT1GW0ddJiZiIT09YS5vLmZuW0ddKXRocm93IEVycm9yKFwiSW52YWxpZCBvYmplY3QgdGhhdCBsb29rcyBsaWtlIGFuIG9ic2VydmFibGU7IHBvc3NpYmx5IGZyb20gYW5vdGhlciBLbm9ja291dCBpbnN0YW5jZVwiKTtcbnJldHVybiEhYn07YS5ZYT1mdW5jdGlvbihiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoYltHXT09PUZbR118fGJbR109PT1hLm8uZm5bR10mJmIuTWMpfTthLmIoXCJvYnNlcnZhYmxlXCIsYS5zYSk7YS5iKFwiaXNPYnNlcnZhYmxlXCIsYS5OKTthLmIoXCJpc1dyaXRlYWJsZU9ic2VydmFibGVcIixhLllhKTthLmIoXCJpc1dyaXRhYmxlT2JzZXJ2YWJsZVwiLGEuWWEpO2EuYihcIm9ic2VydmFibGUuZm5cIixGKTthLkooRixcInBlZWtcIixGLncpO2EuSihGLFwidmFsdWVIYXNNdXRhdGVkXCIsRi53YSk7YS5KKEYsXCJ2YWx1ZVdpbGxNdXRhdGVcIixGLnhhKTthLklhPWZ1bmN0aW9uKGIpe2I9Ynx8W107aWYoXCJvYmplY3RcIiE9dHlwZW9mIGJ8fCEoXCJsZW5ndGhcImluIGIpKXRocm93IEVycm9yKFwiVGhlIGFyZ3VtZW50IHBhc3NlZCB3aGVuIGluaXRpYWxpemluZyBhbiBvYnNlcnZhYmxlIGFycmF5IG11c3QgYmUgYW4gYXJyYXksIG9yIG51bGwsIG9yIHVuZGVmaW5lZC5cIik7Yj1hLnNhKGIpO2EuYS56YihiLFxuYS5JYS5mbik7cmV0dXJuIGIuZXh0ZW5kKHt0cmFja0FycmF5Q2hhbmdlczohMH0pfTthLklhLmZuPXtyZW1vdmU6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPXRoaXMudygpLGQ9W10sZT1cImZ1bmN0aW9uXCIhPXR5cGVvZiBifHxhLk4oYik/ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifTpiLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Y1tmXTtpZihlKGcpKXswPT09ZC5sZW5ndGgmJnRoaXMueGEoKTtpZihjW2ZdIT09Zyl0aHJvdyBFcnJvcihcIkFycmF5IG1vZGlmaWVkIGR1cmluZyByZW1vdmU7IGNhbm5vdCByZW1vdmUgaXRlbVwiKTtkLnB1c2goZyk7Yy5zcGxpY2UoZiwxKTtmLS19fWQubGVuZ3RoJiZ0aGlzLndhKCk7cmV0dXJuIGR9LHJlbW92ZUFsbDpmdW5jdGlvbihiKXtpZihiPT09cCl7dmFyIGM9dGhpcy53KCksZD1jLnNsaWNlKDApO3RoaXMueGEoKTtjLnNwbGljZSgwLGMubGVuZ3RoKTt0aGlzLndhKCk7cmV0dXJuIGR9cmV0dXJuIGI/dGhpcy5yZW1vdmUoZnVuY3Rpb24oYyl7cmV0dXJuIDA8PVxuYS5hLkEoYixjKX0pOltdfSxkZXN0cm95OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMudygpLGQ9XCJmdW5jdGlvblwiIT10eXBlb2YgYnx8YS5OKGIpP2Z1bmN0aW9uKGEpe3JldHVybiBhPT09Yn06Yjt0aGlzLnhhKCk7Zm9yKHZhciBlPWMubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciBmPWNbZV07ZChmKSYmKGYuX2Rlc3Ryb3k9ITApfXRoaXMud2EoKX0sZGVzdHJveUFsbDpmdW5jdGlvbihiKXtyZXR1cm4gYj09PXA/dGhpcy5kZXN0cm95KGZ1bmN0aW9uKCl7cmV0dXJuITB9KTpiP3RoaXMuZGVzdHJveShmdW5jdGlvbihjKXtyZXR1cm4gMDw9YS5hLkEoYixjKX0pOltdfSxpbmRleE9mOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMoKTtyZXR1cm4gYS5hLkEoYyxiKX0scmVwbGFjZTpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuaW5kZXhPZihhKTswPD1kJiYodGhpcy54YSgpLHRoaXMudygpW2RdPWMsdGhpcy53YSgpKX0sc29ydGVkOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMoKS5zbGljZSgwKTtcbnJldHVybiBhP2Muc29ydChhKTpjLnNvcnQoKX0scmV2ZXJzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpLnNsaWNlKDApLnJldmVyc2UoKX19O2EuYS5CYSYmYS5hLnNldFByb3RvdHlwZU9mKGEuSWEuZm4sYS5zYS5mbik7YS5hLkMoXCJwb3AgcHVzaCByZXZlcnNlIHNoaWZ0IHNvcnQgc3BsaWNlIHVuc2hpZnRcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYil7YS5JYS5mbltiXT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudygpO3RoaXMueGEoKTt0aGlzLnljKGEsYixhcmd1bWVudHMpO3ZhciBkPWFbYl0uYXBwbHkoYSxhcmd1bWVudHMpO3RoaXMud2EoKTtyZXR1cm4gZD09PWE/dGhpczpkfX0pO2EuYS5DKFtcInNsaWNlXCJdLGZ1bmN0aW9uKGIpe2EuSWEuZm5bYl09ZnVuY3Rpb24oKXt2YXIgYT10aGlzKCk7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0pO2EuT2M9ZnVuY3Rpb24oYil7cmV0dXJuIGEuTihiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYi5yZW1vdmUmJlwiZnVuY3Rpb25cIj09XG50eXBlb2YgYi5wdXNofTthLmIoXCJvYnNlcnZhYmxlQXJyYXlcIixhLklhKTthLmIoXCJpc09ic2VydmFibGVBcnJheVwiLGEuT2MpO2EuVGEudHJhY2tBcnJheUNoYW5nZXM9ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7ZnVuY3Rpb24gYygpe2lmKGgpe3ZhciBkPVtdLmNvbmNhdChiLncoKXx8W10pO2lmKGIuV2EoXCJhcnJheUNoYW5nZVwiKSl7dmFyIGU7aWYoIWZ8fDE8aClmPWEuYS5PYihtLGQsYi5OYik7ZT1mfW09ZDtmPW51bGw7aD0wO2UmJmUubGVuZ3RoJiZiLm5vdGlmeVN1YnNjcmliZXJzKGUsXCJhcnJheUNoYW5nZVwiKX19ZT9jKCk6KGU9ITAsbD1iLm5vdGlmeVN1YnNjcmliZXJzLGIubm90aWZ5U3Vic2NyaWJlcnM9ZnVuY3Rpb24oYSxiKXtiJiZcImNoYW5nZVwiIT09Ynx8KytoO3JldHVybiBsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbT1bXS5jb25jYXQoYi53KCl8fFtdKSxmPW51bGwsZz1iLnN1YnNjcmliZShjKSl9Yi5OYj17fTtjJiZcIm9iamVjdFwiPT10eXBlb2YgYyYmYS5hLmV4dGVuZChiLk5iLFxuYyk7Yi5OYi5zcGFyc2U9ITA7aWYoIWIueWMpe3ZhciBlPSExLGY9bnVsbCxnLGg9MCxtLGwsaz1iLlFhLHE9Yi5jYjtiLlFhPWZ1bmN0aW9uKGEpe2smJmsuY2FsbChiLGEpO1wiYXJyYXlDaGFuZ2VcIj09PWEmJmQoKX07Yi5jYj1mdW5jdGlvbihhKXtxJiZxLmNhbGwoYixhKTtcImFycmF5Q2hhbmdlXCIhPT1hfHxiLldhKFwiYXJyYXlDaGFuZ2VcIil8fChsJiYoYi5ub3RpZnlTdWJzY3JpYmVycz1sLGw9cCksZyYmZy5zKCksZz1udWxsLGU9ITEsbT1wKX07Yi55Yz1mdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gayhhLGIsYyl7cmV0dXJuIGxbbC5sZW5ndGhdPXtzdGF0dXM6YSx2YWx1ZTpiLGluZGV4OmN9fWlmKGUmJiFoKXt2YXIgbD1bXSxnPWIubGVuZ3RoLHE9ZC5sZW5ndGgsbT0wO3N3aXRjaChjKXtjYXNlIFwicHVzaFwiOm09ZztjYXNlIFwidW5zaGlmdFwiOmZvcihjPTA7YzxxO2MrKylrKFwiYWRkZWRcIixkW2NdLG0rYyk7YnJlYWs7Y2FzZSBcInBvcFwiOm09Zy0xO2Nhc2UgXCJzaGlmdFwiOmcmJlxuayhcImRlbGV0ZWRcIixiW21dLG0pO2JyZWFrO2Nhc2UgXCJzcGxpY2VcIjpjPU1hdGgubWluKE1hdGgubWF4KDAsMD5kWzBdP2crZFswXTpkWzBdKSxnKTtmb3IodmFyIGc9MT09PXE/ZzpNYXRoLm1pbihjKyhkWzFdfHwwKSxnKSxxPWMrcS0yLG09TWF0aC5tYXgoZyxxKSxVPVtdLEw9W10scD0yO2M8bTsrK2MsKytwKWM8ZyYmTC5wdXNoKGsoXCJkZWxldGVkXCIsYltjXSxjKSksYzxxJiZVLnB1c2goayhcImFkZGVkXCIsZFtwXSxjKSk7YS5hLkpjKEwsVSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59Zj1sfX19fTt2YXIgdD1hLmEuRGEoXCJfc3RhdGVcIik7YS5vPWEuJD1mdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZSgpe2lmKDA8YXJndW1lbnRzLmxlbmd0aCl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGYpZi5hcHBseShnLmxiLGFyZ3VtZW50cyk7ZWxzZSB0aHJvdyBFcnJvcihcIkNhbm5vdCB3cml0ZSBhIHZhbHVlIHRvIGEga28uY29tcHV0ZWQgdW5sZXNzIHlvdSBzcGVjaWZ5IGEgJ3dyaXRlJyBvcHRpb24uIElmIHlvdSB3aXNoIHRvIHJlYWQgdGhlIGN1cnJlbnQgdmFsdWUsIGRvbid0IHBhc3MgYW55IHBhcmFtZXRlcnMuXCIpO1xucmV0dXJuIHRoaXN9Zy5xYXx8YS52LmFjKGUpOyhnLmthfHxnLkcmJmUuWGEoKSkmJmUuaGEoKTtyZXR1cm4gZy5YfVwib2JqZWN0XCI9PT10eXBlb2YgYj9kPWI6KGQ9ZHx8e30sYiYmKGQucmVhZD1iKSk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZC5yZWFkKXRocm93IEVycm9yKFwiUGFzcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGtvLmNvbXB1dGVkXCIpO3ZhciBmPWQud3JpdGUsZz17WDpwLHJhOiEwLGthOiEwLHBiOiExLGhjOiExLHFhOiExLHZiOiExLEc6ITEsVmM6ZC5yZWFkLGxiOmN8fGQub3duZXIsbDpkLmRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZHx8ZC5sfHxudWxsLFNhOmQuZGlzcG9zZVdoZW58fGQuU2EsUWI6bnVsbCxGOnt9LFY6MCxIYzpudWxsfTtlW3RdPWc7ZS5NYz1cImZ1bmN0aW9uXCI9PT10eXBlb2YgZjthLmEuQmF8fGEuYS5leHRlbmQoZSxhLlIuZm4pO2EuUi5mbi5vYihlKTthLmEuemIoZSxDKTtkLnB1cmU/KGcudmI9ITAsZy5HPSEwLFxuYS5hLmV4dGVuZChlLGRhKSk6ZC5kZWZlckV2YWx1YXRpb24mJmEuYS5leHRlbmQoZSxlYSk7YS5vcHRpb25zLmRlZmVyVXBkYXRlcyYmYS5UYS5kZWZlcnJlZChlLCEwKTtnLmwmJihnLmhjPSEwLGcubC5ub2RlVHlwZXx8KGcubD1udWxsKSk7Zy5HfHxkLmRlZmVyRXZhbHVhdGlvbnx8ZS5oYSgpO2cubCYmZS5qYSgpJiZhLmEuSS56YShnLmwsZy5RYj1mdW5jdGlvbigpe2UucygpfSk7cmV0dXJuIGV9O3ZhciBDPXtlcXVhbGl0eUNvbXBhcmVyOksscGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XS5WfSxWYTpmdW5jdGlvbigpe3ZhciBiPVtdO2EuYS5PKHRoaXNbdF0uRixmdW5jdGlvbihhLGQpe2JbZC5MYV09ZC5kYX0pO3JldHVybiBifSxVYjpmdW5jdGlvbihiKXtpZighdGhpc1t0XS5WKXJldHVybiExO3ZhciBjPXRoaXMuVmEoKTtyZXR1cm4tMSE9PWEuYS5BKGMsYik/ITA6ISFhLmEuTGIoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5VYiYmYS5VYihiKX0pfSx0YzpmdW5jdGlvbihhLFxuYyxkKXtpZih0aGlzW3RdLnZiJiZjPT09dGhpcyl0aHJvdyBFcnJvcihcIkEgJ3B1cmUnIGNvbXB1dGVkIG11c3Qgbm90IGJlIGNhbGxlZCByZWN1cnNpdmVseVwiKTt0aGlzW3RdLkZbYV09ZDtkLkxhPXRoaXNbdF0uVisrO2QuTWE9Yy5tYigpfSxYYTpmdW5jdGlvbigpe3ZhciBhLGMsZD10aGlzW3RdLkY7Zm9yKGEgaW4gZClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxhKSYmKGM9ZFthXSx0aGlzLkphJiZjLmRhLkthfHxjLmRhLkNkKGMuTWEpKSlyZXR1cm4hMH0sSWQ6ZnVuY3Rpb24oKXt0aGlzLkphJiYhdGhpc1t0XS5wYiYmdGhpcy5KYSghMSl9LGphOmZ1bmN0aW9uKCl7dmFyIGE9dGhpc1t0XTtyZXR1cm4gYS5rYXx8MDxhLlZ9LFFkOmZ1bmN0aW9uKCl7dGhpcy5LYT90aGlzW3RdLmthJiYodGhpc1t0XS5yYT0hMCk6dGhpcy5HYygpfSxaYzpmdW5jdGlvbihhKXtpZihhLkhiKXt2YXIgYz1hLnN1YnNjcmliZSh0aGlzLklkLHRoaXMsXCJkaXJ0eVwiKSxcbmQ9YS5zdWJzY3JpYmUodGhpcy5RZCx0aGlzKTtyZXR1cm57ZGE6YSxzOmZ1bmN0aW9uKCl7Yy5zKCk7ZC5zKCl9fX1yZXR1cm4gYS5zdWJzY3JpYmUodGhpcy5HYyx0aGlzKX0sR2M6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi50aHJvdHRsZUV2YWx1YXRpb247YyYmMDw9Yz8oY2xlYXJUaW1lb3V0KHRoaXNbdF0uSGMpLHRoaXNbdF0uSGM9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmhhKCEwKX0sYykpOmIuSmE/Yi5KYSghMCk6Yi5oYSghMCl9LGhhOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXNbdF0sZD1jLlNhLGU9ITE7aWYoIWMucGImJiFjLnFhKXtpZihjLmwmJiFhLmEuUmIoYy5sKXx8ZCYmZCgpKXtpZighYy5oYyl7dGhpcy5zKCk7cmV0dXJufX1lbHNlIGMuaGM9ITE7Yy5wYj0hMDt0cnl7ZT10aGlzLnlkKGIpfWZpbmFsbHl7Yy5wYj0hMX1yZXR1cm4gZX19LHlkOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXNbdF0sZD0hMSxlPWMudmI/cDohYy5WLGQ9e3BkOnRoaXMsa2I6Yy5GLFxuUGI6Yy5WfTthLnYud2Moe29kOmQsbmQ6YmEsbzp0aGlzLHJiOmV9KTtjLkY9e307Yy5WPTA7dmFyIGY9dGhpcy54ZChjLGQpO2MuVj9kPXRoaXMucWIoYy5YLGYpOih0aGlzLnMoKSxkPSEwKTtkJiYoYy5HP3RoaXMuR2IoKTp0aGlzLm5vdGlmeVN1YnNjcmliZXJzKGMuWCxcImJlZm9yZUNoYW5nZVwiKSxjLlg9Zix0aGlzLm5vdGlmeVN1YnNjcmliZXJzKGMuWCxcInNwZWN0YXRlXCIpLCFjLkcmJmImJnRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YKSx0aGlzLnFjJiZ0aGlzLnFjKCkpO2UmJnRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwiYXdha2VcIik7cmV0dXJuIGR9LHhkOmZ1bmN0aW9uKGIsYyl7dHJ5e3ZhciBkPWIuVmM7cmV0dXJuIGIubGI/ZC5jYWxsKGIubGIpOmQoKX1maW5hbGx5e2Eudi5lbmQoKSxjLlBiJiYhYi5HJiZhLmEuTyhjLmtiLGFhKSxiLnJhPWIua2E9ITF9fSx3OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXNbdF07KGMua2EmJihhfHwhYy5WKXx8Yy5HJiZ0aGlzLlhhKCkpJiZcbnRoaXMuaGEoKTtyZXR1cm4gYy5YfSx0YjpmdW5jdGlvbihiKXthLlIuZm4udGIuY2FsbCh0aGlzLGIpO3RoaXMubWM9ZnVuY3Rpb24oKXt0aGlzW3RdLkd8fCh0aGlzW3RdLnJhP3RoaXMuaGEoKTp0aGlzW3RdLmthPSExKTtyZXR1cm4gdGhpc1t0XS5YfTt0aGlzLkphPWZ1bmN0aW9uKGEpe3RoaXMub2ModGhpc1t0XS5YKTt0aGlzW3RdLmthPSEwO2EmJih0aGlzW3RdLnJhPSEwKTt0aGlzLnBjKHRoaXMsIWEpfX0sczpmdW5jdGlvbigpe3ZhciBiPXRoaXNbdF07IWIuRyYmYi5GJiZhLmEuTyhiLkYsZnVuY3Rpb24oYSxiKXtiLnMmJmIucygpfSk7Yi5sJiZiLlFiJiZhLmEuSS54YihiLmwsYi5RYik7Yi5GPXA7Yi5WPTA7Yi5xYT0hMDtiLnJhPSExO2Iua2E9ITE7Yi5HPSExO2IubD1wO2IuU2E9cDtiLlZjPXA7dGhpcy5NY3x8KGIubGI9cCl9fSxkYT17UWE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWNbdF07aWYoIWQucWEmJmQuRyYmXCJjaGFuZ2VcIj09Yil7ZC5HPSExO2lmKGQucmF8fFxuYy5YYSgpKWQuRj1udWxsLGQuVj0wLGMuaGEoKSYmYy5HYigpO2Vsc2V7dmFyIGU9W107YS5hLk8oZC5GLGZ1bmN0aW9uKGEsYil7ZVtiLkxhXT1hfSk7YS5hLkMoZSxmdW5jdGlvbihhLGIpe3ZhciBlPWQuRlthXSxtPWMuWmMoZS5kYSk7bS5MYT1iO20uTWE9ZS5NYTtkLkZbYV09bX0pO2MuWGEoKSYmYy5oYSgpJiZjLkdiKCl9ZC5xYXx8Yy5ub3RpZnlTdWJzY3JpYmVycyhkLlgsXCJhd2FrZVwiKX19LGNiOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXNbdF07Yy5xYXx8XCJjaGFuZ2VcIiE9Ynx8dGhpcy5XYShcImNoYW5nZVwiKXx8KGEuYS5PKGMuRixmdW5jdGlvbihhLGIpe2IucyYmKGMuRlthXT17ZGE6Yi5kYSxMYTpiLkxhLE1hOmIuTWF9LGIucygpKX0pLGMuRz0hMCx0aGlzLm5vdGlmeVN1YnNjcmliZXJzKHAsXCJhc2xlZXBcIikpfSxtYjpmdW5jdGlvbigpe3ZhciBiPXRoaXNbdF07Yi5HJiYoYi5yYXx8dGhpcy5YYSgpKSYmdGhpcy5oYSgpO3JldHVybiBhLlIuZm4ubWIuY2FsbCh0aGlzKX19LFxuZWE9e1FhOmZ1bmN0aW9uKGEpe1wiY2hhbmdlXCIhPWEmJlwiYmVmb3JlQ2hhbmdlXCIhPWF8fHRoaXMudygpfX07YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoQyxhLlIuZm4pO3ZhciBOPWEuc2EuTmE7Q1tOXT1hLm87YS5OYz1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhW05dPT09Q1tOXX07YS5FZD1mdW5jdGlvbihiKXtyZXR1cm4gYS5OYyhiKSYmYlt0XSYmYlt0XS52Yn07YS5iKFwiY29tcHV0ZWRcIixhLm8pO2EuYihcImRlcGVuZGVudE9ic2VydmFibGVcIixhLm8pO2EuYihcImlzQ29tcHV0ZWRcIixhLk5jKTthLmIoXCJpc1B1cmVDb21wdXRlZFwiLGEuRWQpO2EuYihcImNvbXB1dGVkLmZuXCIsQyk7YS5KKEMsXCJwZWVrXCIsQy53KTthLkooQyxcImRpc3Bvc2VcIixDLnMpO2EuSihDLFwiaXNBY3RpdmVcIixDLmphKTthLkooQyxcImdldERlcGVuZGVuY2llc0NvdW50XCIsQy5wYSk7YS5KKEMsXCJnZXREZXBlbmRlbmNpZXNcIixDLlZhKTthLndiPWZ1bmN0aW9uKGIsYyl7aWYoXCJmdW5jdGlvblwiPT09XG50eXBlb2YgYilyZXR1cm4gYS5vKGIsYyx7cHVyZTohMH0pO2I9YS5hLmV4dGVuZCh7fSxiKTtiLnB1cmU9ITA7cmV0dXJuIGEubyhiLGMpfTthLmIoXCJwdXJlQ29tcHV0ZWRcIixhLndiKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsZixnKXtnPWd8fG5ldyBkO2E9ZihhKTtpZihcIm9iamVjdFwiIT10eXBlb2YgYXx8bnVsbD09PWF8fGE9PT1wfHxhIGluc3RhbmNlb2YgUmVnRXhwfHxhIGluc3RhbmNlb2YgRGF0ZXx8YSBpbnN0YW5jZW9mIFN0cmluZ3x8YSBpbnN0YW5jZW9mIE51bWJlcnx8YSBpbnN0YW5jZW9mIEJvb2xlYW4pcmV0dXJuIGE7dmFyIGg9YSBpbnN0YW5jZW9mIEFycmF5P1tdOnt9O2cuc2F2ZShhLGgpO2MoYSxmdW5jdGlvbihjKXt2YXIgZD1mKGFbY10pO3N3aXRjaCh0eXBlb2YgZCl7Y2FzZSBcImJvb2xlYW5cIjpjYXNlIFwibnVtYmVyXCI6Y2FzZSBcInN0cmluZ1wiOmNhc2UgXCJmdW5jdGlvblwiOmhbY109ZDticmVhaztjYXNlIFwib2JqZWN0XCI6Y2FzZSBcInVuZGVmaW5lZFwiOnZhciBrPVxuZy5nZXQoZCk7aFtjXT1rIT09cD9rOmIoZCxmLGcpfX0pO3JldHVybiBofWZ1bmN0aW9uIGMoYSxiKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWIoYyk7XCJmdW5jdGlvblwiPT10eXBlb2YgYS50b0pTT04mJmIoXCJ0b0pTT05cIil9ZWxzZSBmb3IoYyBpbiBhKWIoYyl9ZnVuY3Rpb24gZCgpe3RoaXMua2V5cz1bXTt0aGlzLnZhbHVlcz1bXX1hLiRjPWZ1bmN0aW9uKGMpe2lmKDA9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJXaGVuIGNhbGxpbmcga28udG9KUywgcGFzcyB0aGUgb2JqZWN0IHlvdSB3YW50IHRvIGNvbnZlcnQuXCIpO3JldHVybiBiKGMsZnVuY3Rpb24oYil7Zm9yKHZhciBjPTA7YS5OKGIpJiYxMD5jO2MrKyliPWIoKTtyZXR1cm4gYn0pfTthLnRvSlNPTj1mdW5jdGlvbihiLGMsZCl7Yj1hLiRjKGIpO3JldHVybiBhLmEuZmMoYixjLGQpfTtkLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZCxzYXZlOmZ1bmN0aW9uKGIsXG5jKXt2YXIgZD1hLmEuQSh0aGlzLmtleXMsYik7MDw9ZD90aGlzLnZhbHVlc1tkXT1jOih0aGlzLmtleXMucHVzaChiKSx0aGlzLnZhbHVlcy5wdXNoKGMpKX0sZ2V0OmZ1bmN0aW9uKGIpe2I9YS5hLkEodGhpcy5rZXlzLGIpO3JldHVybiAwPD1iP3RoaXMudmFsdWVzW2JdOnB9fX0pKCk7YS5iKFwidG9KU1wiLGEuJGMpO2EuYihcInRvSlNPTlwiLGEudG9KU09OKTthLlZkPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKGMpe3ZhciBlPWEud2IoYixkKS5leHRlbmQoe0dhOlwiYWx3YXlzXCJ9KSxoPWUuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe2EmJihoLnMoKSxjKGEpKX0pO2Uubm90aWZ5U3Vic2NyaWJlcnMoZS53KCkpO3JldHVybiBofXJldHVyblwiZnVuY3Rpb25cIiE9PXR5cGVvZiBQcm9taXNlfHxjP2UoYy5iaW5kKGQpKTpuZXcgUHJvbWlzZShlKX07YS5iKFwid2hlblwiLGEuVmQpOyhmdW5jdGlvbigpe2EudT17TDpmdW5jdGlvbihiKXtzd2l0Y2goYS5hLlAoYikpe2Nhc2UgXCJvcHRpb25cIjpyZXR1cm4hMD09PVxuYi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXz9hLmEuZy5nZXQoYixhLmYub3B0aW9ucy5ZYik6Nz49YS5hLlc/Yi5nZXRBdHRyaWJ1dGVOb2RlKFwidmFsdWVcIikmJmIuZ2V0QXR0cmlidXRlTm9kZShcInZhbHVlXCIpLnNwZWNpZmllZD9iLnZhbHVlOmIudGV4dDpiLnZhbHVlO2Nhc2UgXCJzZWxlY3RcIjpyZXR1cm4gMDw9Yi5zZWxlY3RlZEluZGV4P2EudS5MKGIub3B0aW9uc1tiLnNlbGVjdGVkSW5kZXhdKTpwO2RlZmF1bHQ6cmV0dXJuIGIudmFsdWV9fSx5YTpmdW5jdGlvbihiLGMsZCl7c3dpdGNoKGEuYS5QKGIpKXtjYXNlIFwib3B0aW9uXCI6XCJzdHJpbmdcIj09PXR5cGVvZiBjPyhhLmEuZy5zZXQoYixhLmYub3B0aW9ucy5ZYixwKSxcIl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fXCJpbiBiJiZkZWxldGUgYi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXyxiLnZhbHVlPWMpOihhLmEuZy5zZXQoYixhLmYub3B0aW9ucy5ZYixjKSxiLl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fPVxuITAsYi52YWx1ZT1cIm51bWJlclwiPT09dHlwZW9mIGM/YzpcIlwiKTticmVhaztjYXNlIFwic2VsZWN0XCI6aWYoXCJcIj09PWN8fG51bGw9PT1jKWM9cDtmb3IodmFyIGU9LTEsZj0wLGc9Yi5vcHRpb25zLmxlbmd0aCxoO2Y8ZzsrK2YpaWYoaD1hLnUuTChiLm9wdGlvbnNbZl0pLGg9PWN8fFwiXCI9PT1oJiZjPT09cCl7ZT1mO2JyZWFrfWlmKGR8fDA8PWV8fGM9PT1wJiYxPGIuc2l6ZSliLnNlbGVjdGVkSW5kZXg9ZSw2PT09YS5hLlcmJmEuYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zZWxlY3RlZEluZGV4PWV9LDApO2JyZWFrO2RlZmF1bHQ6aWYobnVsbD09PWN8fGM9PT1wKWM9XCJcIjtiLnZhbHVlPWN9fX19KSgpO2EuYihcInNlbGVjdEV4dGVuc2lvbnNcIixhLnUpO2EuYihcInNlbGVjdEV4dGVuc2lvbnMucmVhZFZhbHVlXCIsYS51LkwpO2EuYihcInNlbGVjdEV4dGVuc2lvbnMud3JpdGVWYWx1ZVwiLGEudS55YSk7YS5tPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXtiPWEuYS5DYihiKTsxMjM9PT1iLmNoYXJDb2RlQXQoMCkmJlxuKGI9Yi5zbGljZSgxLC0xKSk7Yis9XCJcXG4sXCI7dmFyIGM9W10sZD1iLm1hdGNoKGUpLHEsbj1bXSxoPTA7aWYoMTxkLmxlbmd0aCl7Zm9yKHZhciB5PTAsQTtBPWRbeV07Kyt5KXt2YXIgdT1BLmNoYXJDb2RlQXQoMCk7aWYoNDQ9PT11KXtpZigwPj1oKXtjLnB1c2gocSYmbi5sZW5ndGg/e2tleTpxLHZhbHVlOm4uam9pbihcIlwiKX06e3Vua25vd246cXx8bi5qb2luKFwiXCIpfSk7cT1oPTA7bj1bXTtjb250aW51ZX19ZWxzZSBpZig1OD09PXUpe2lmKCFoJiYhcSYmMT09PW4ubGVuZ3RoKXtxPW4ucG9wKCk7Y29udGludWV9fWVsc2UgaWYoNDc9PT11JiYxPEEubGVuZ3RoJiYoNDc9PT1BLmNoYXJDb2RlQXQoMSl8fDQyPT09QS5jaGFyQ29kZUF0KDEpKSljb250aW51ZTtlbHNlIDQ3PT09dSYmeSYmMTxBLmxlbmd0aD8odT1kW3ktMV0ubWF0Y2goZikpJiYhZ1t1WzBdXSYmKGI9Yi5zdWJzdHIoYi5pbmRleE9mKEEpKzEpLGQ9Yi5tYXRjaChlKSx5PS0xLEE9XCIvXCIpOjQwPT09dXx8MTIzPT09XG51fHw5MT09PXU/KytoOjQxPT09dXx8MTI1PT09dXx8OTM9PT11Py0taDpxfHxuLmxlbmd0aHx8MzQhPT11JiYzOSE9PXV8fChBPUEuc2xpY2UoMSwtMSkpO24ucHVzaChBKX1pZigwPGgpdGhyb3cgRXJyb3IoXCJVbmJhbGFuY2VkIHBhcmVudGhlc2VzLCBicmFjZXMsIG9yIGJyYWNrZXRzXCIpO31yZXR1cm4gY312YXIgYz1bXCJ0cnVlXCIsXCJmYWxzZVwiLFwibnVsbFwiLFwidW5kZWZpbmVkXCJdLGQ9L14oPzpbJF9hLXpdWyRcXHddKnwoLispKFxcLlxccypbJF9hLXpdWyRcXHddKnxcXFsuK1xcXSkpJC9pLGU9UmVnRXhwKFwiXFxcIig/OlxcXFxcXFxcLnxbXlxcXCJdKSpcXFwifCcoPzpcXFxcXFxcXC58W14nXSkqJ3xgKD86XFxcXFxcXFwufFteYF0pKmB8L1xcXFwqKD86W14qXXxcXFxcKitbXiovXSkqXFxcXCorL3wvLy4qXFxufC8oPzpcXFxcXFxcXC58W14vXSkrL3cqfFteXFxcXHM6LC9dW14sXFxcIidge30oKS86W1xcXFxdXSpbXlxcXFxzLFxcXCInYHt9KCkvOltcXFxcXV18W15cXFxcc11cIixcImdcIiksZj0vW1xcXSlcIidBLVphLXowLTlfJF0rJC8sZz17XCJpblwiOjEsXCJyZXR1cm5cIjoxLFxuXCJ0eXBlb2ZcIjoxfSxoPXt9O3JldHVybntSYTpbXSx2YTpoLFpiOmIsdWI6ZnVuY3Rpb24oZSxmKXtmdW5jdGlvbiBrKGIsZSl7dmFyIGY7aWYoIXkpe3ZhciBsPWEuZ2V0QmluZGluZ0hhbmRsZXIoYik7aWYobCYmbC5wcmVwcm9jZXNzJiYhKGU9bC5wcmVwcm9jZXNzKGUsYixrKSkpcmV0dXJuO2lmKGw9aFtiXSlmPWUsMDw9YS5hLkEoYyxmKT9mPSExOihsPWYubWF0Y2goZCksZj1udWxsPT09bD8hMTpsWzFdP1wiT2JqZWN0KFwiK2xbMV0rXCIpXCIrbFsyXTpmKSxsPWY7bCYmbi5wdXNoKFwiJ1wiKyhcInN0cmluZ1wiPT10eXBlb2YgaFtiXT9oW2JdOmIpK1wiJzpmdW5jdGlvbihfeil7XCIrZitcIj1fen1cIil9ZyYmKGU9XCJmdW5jdGlvbigpe3JldHVybiBcIitlK1wiIH1cIik7cS5wdXNoKFwiJ1wiK2IrXCInOlwiK2UpfWY9Znx8e307dmFyIHE9W10sbj1bXSxnPWYudmFsdWVBY2Nlc3NvcnMseT1mLmJpbmRpbmdQYXJhbXMsQT1cInN0cmluZ1wiPT09dHlwZW9mIGU/YihlKTplO2EuYS5DKEEsZnVuY3Rpb24oYSl7ayhhLmtleXx8XG5hLnVua25vd24sYS52YWx1ZSl9KTtuLmxlbmd0aCYmayhcIl9rb19wcm9wZXJ0eV93cml0ZXJzXCIsXCJ7XCIrbi5qb2luKFwiLFwiKStcIiB9XCIpO3JldHVybiBxLmpvaW4oXCIsXCIpfSxIZDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY10ua2V5PT1iKXJldHVybiEwO3JldHVybiExfSwkYTpmdW5jdGlvbihiLGMsZCxlLGYpe2lmKGImJmEuTihiKSkhYS5ZYShiKXx8ZiYmYi53KCk9PT1lfHxiKGUpO2Vsc2UgaWYoKGI9Yy5nZXQoXCJfa29fcHJvcGVydHlfd3JpdGVyc1wiKSkmJmJbZF0pYltkXShlKX19fSgpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmdcIixhLm0pO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcuYmluZGluZ1Jld3JpdGVWYWxpZGF0b3JzXCIsYS5tLlJhKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLnBhcnNlT2JqZWN0TGl0ZXJhbFwiLGEubS5aYik7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5wcmVQcm9jZXNzQmluZGluZ3NcIixhLm0udWIpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcuX3R3b1dheUJpbmRpbmdzXCIsXG5hLm0udmEpO2EuYihcImpzb25FeHByZXNzaW9uUmV3cml0aW5nXCIsYS5tKTthLmIoXCJqc29uRXhwcmVzc2lvblJld3JpdGluZy5pbnNlcnRQcm9wZXJ0eUFjY2Vzc29yc0ludG9Kc29uXCIsYS5tLnViKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe3JldHVybiA4PT1hLm5vZGVUeXBlJiZnLnRlc3QoZj9hLnRleHQ6YS5ub2RlVmFsdWUpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIDg9PWEubm9kZVR5cGUmJmgudGVzdChmP2EudGV4dDphLm5vZGVWYWx1ZSl9ZnVuY3Rpb24gZChkLGUpe2Zvcih2YXIgZj1kLGc9MSxoPVtdO2Y9Zi5uZXh0U2libGluZzspe2lmKGMoZikmJihhLmEuZy5zZXQoZixsLCEwKSxnLS0sMD09PWcpKXJldHVybiBoO2gucHVzaChmKTtiKGYpJiZnKyt9aWYoIWUpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBjbG9zaW5nIGNvbW1lbnQgdGFnIHRvIG1hdGNoOiBcIitkLm5vZGVWYWx1ZSk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gZShhLGIpe3ZhciBjPWQoYSxiKTtyZXR1cm4gYz9cbjA8Yy5sZW5ndGg/Y1tjLmxlbmd0aC0xXS5uZXh0U2libGluZzphLm5leHRTaWJsaW5nOm51bGx9dmFyIGY9dyYmXCJcXHgzYyEtLXRlc3QtLVxceDNlXCI9PT13LmNyZWF0ZUNvbW1lbnQoXCJ0ZXN0XCIpLnRleHQsZz1mPy9eXFx4M2MhLS1cXHMqa28oPzpcXHMrKFtcXHNcXFNdKykpP1xccyotLVxceDNlJC86L15cXHMqa28oPzpcXHMrKFtcXHNcXFNdKykpP1xccyokLyxoPWY/L15cXHgzYyEtLVxccypcXC9rb1xccyotLVxceDNlJC86L15cXHMqXFwva29cXHMqJC8sbT17dWw6ITAsb2w6ITB9LGw9XCJfX2tvX21hdGNoZWRFbmRDb21tZW50X19cIjthLmg9e2VhOnt9LGNoaWxkTm9kZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSk/ZChhKTphLmNoaWxkTm9kZXN9LEVhOmZ1bmN0aW9uKGMpe2lmKGIoYykpe2M9YS5oLmNoaWxkTm9kZXMoYyk7Zm9yKHZhciBkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWEucmVtb3ZlTm9kZShjW2RdKX1lbHNlIGEuYS5TYihjKX0sdWE6ZnVuY3Rpb24oYyxkKXtpZihiKGMpKXthLmguRWEoYyk7Zm9yKHZhciBlPVxuYy5uZXh0U2libGluZyxmPTAsbD1kLmxlbmd0aDtmPGw7ZisrKWUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZFtmXSxlKX1lbHNlIGEuYS51YShjLGQpfSxVYzpmdW5jdGlvbihhLGMpe2IoYSk/YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLGEubmV4dFNpYmxpbmcpOmEuZmlyc3RDaGlsZD9hLmluc2VydEJlZm9yZShjLGEuZmlyc3RDaGlsZCk6YS5hcHBlbmRDaGlsZChjKX0sVmI6ZnVuY3Rpb24oYyxkLGUpe2U/YihjKT9jLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGQsZS5uZXh0U2libGluZyk6ZS5uZXh0U2libGluZz9jLmluc2VydEJlZm9yZShkLGUubmV4dFNpYmxpbmcpOmMuYXBwZW5kQ2hpbGQoZCk6YS5oLlVjKGMsZCl9LGZpcnN0Q2hpbGQ6ZnVuY3Rpb24oYSl7aWYoYihhKSlyZXR1cm4hYS5uZXh0U2libGluZ3x8YyhhLm5leHRTaWJsaW5nKT9udWxsOmEubmV4dFNpYmxpbmc7aWYoYS5maXJzdENoaWxkJiZjKGEuZmlyc3RDaGlsZCkpdGhyb3cgRXJyb3IoXCJGb3VuZCBpbnZhbGlkIGVuZCBjb21tZW50LCBhcyB0aGUgZmlyc3QgY2hpbGQgb2YgXCIrXG5hKTtyZXR1cm4gYS5maXJzdENoaWxkfSxuZXh0U2libGluZzpmdW5jdGlvbihkKXtiKGQpJiYoZD1lKGQpKTtpZihkLm5leHRTaWJsaW5nJiZjKGQubmV4dFNpYmxpbmcpKXt2YXIgZj1kLm5leHRTaWJsaW5nO2lmKGMoZikmJiFhLmEuZy5nZXQoZixsKSl0aHJvdyBFcnJvcihcIkZvdW5kIGVuZCBjb21tZW50IHdpdGhvdXQgYSBtYXRjaGluZyBvcGVuaW5nIGNvbW1lbnQsIGFzIGNoaWxkIG9mIFwiK2QpO3JldHVybiBudWxsfXJldHVybiBkLm5leHRTaWJsaW5nfSxCZDpiLFVkOmZ1bmN0aW9uKGEpe3JldHVybihhPShmP2EudGV4dDphLm5vZGVWYWx1ZSkubWF0Y2goZykpP2FbMV06bnVsbH0sUmM6ZnVuY3Rpb24oZCl7aWYobVthLmEuUChkKV0pe3ZhciBmPWQuZmlyc3RDaGlsZDtpZihmKXtkbyBpZigxPT09Zi5ub2RlVHlwZSl7dmFyIGw7bD1mLmZpcnN0Q2hpbGQ7dmFyIGc9bnVsbDtpZihsKXtkbyBpZihnKWcucHVzaChsKTtlbHNlIGlmKGIobCkpe3ZhciBoPWUobCwhMCk7aD9sPVxuaDpnPVtsXX1lbHNlIGMobCkmJihnPVtsXSk7d2hpbGUobD1sLm5leHRTaWJsaW5nKX1pZihsPWcpZm9yKGc9Zi5uZXh0U2libGluZyxoPTA7aDxsLmxlbmd0aDtoKyspZz9kLmluc2VydEJlZm9yZShsW2hdLGcpOmQuYXBwZW5kQ2hpbGQobFtoXSl9d2hpbGUoZj1mLm5leHRTaWJsaW5nKX19fX19KSgpO2EuYihcInZpcnR1YWxFbGVtZW50c1wiLGEuaCk7YS5iKFwidmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1wiLGEuaC5lYSk7YS5iKFwidmlydHVhbEVsZW1lbnRzLmVtcHR5Tm9kZVwiLGEuaC5FYSk7YS5iKFwidmlydHVhbEVsZW1lbnRzLmluc2VydEFmdGVyXCIsYS5oLlZiKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHMucHJlcGVuZFwiLGEuaC5VYyk7YS5iKFwidmlydHVhbEVsZW1lbnRzLnNldERvbU5vZGVDaGlsZHJlblwiLGEuaC51YSk7KGZ1bmN0aW9uKCl7YS5nYT1mdW5jdGlvbigpe3RoaXMubWQ9e319O2EuYS5leHRlbmQoYS5nYS5wcm90b3R5cGUse25vZGVIYXNCaW5kaW5nczpmdW5jdGlvbihiKXtzd2l0Y2goYi5ub2RlVHlwZSl7Y2FzZSAxOnJldHVybiBudWxsIT1cbmIuZ2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIpfHxhLmkuZ2V0Q29tcG9uZW50TmFtZUZvck5vZGUoYik7Y2FzZSA4OnJldHVybiBhLmguQmQoYik7ZGVmYXVsdDpyZXR1cm4hMX19LGdldEJpbmRpbmdzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5nZXRCaW5kaW5nc1N0cmluZyhiLGMpLGQ9ZD90aGlzLnBhcnNlQmluZGluZ3NTdHJpbmcoZCxjLGIpOm51bGw7cmV0dXJuIGEuaS5zYyhkLGIsYywhMSl9LGdldEJpbmRpbmdBY2Nlc3NvcnM6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLmdldEJpbmRpbmdzU3RyaW5nKGIsYyksZD1kP3RoaXMucGFyc2VCaW5kaW5nc1N0cmluZyhkLGMsYix7dmFsdWVBY2Nlc3NvcnM6ITB9KTpudWxsO3JldHVybiBhLmkuc2MoZCxiLGMsITApfSxnZXRCaW5kaW5nc1N0cmluZzpmdW5jdGlvbihiKXtzd2l0Y2goYi5ub2RlVHlwZSl7Y2FzZSAxOnJldHVybiBiLmdldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiKTtjYXNlIDg6cmV0dXJuIGEuaC5VZChiKTtkZWZhdWx0OnJldHVybiBudWxsfX0sXG5wYXJzZUJpbmRpbmdzU3RyaW5nOmZ1bmN0aW9uKGIsYyxkLGUpe3RyeXt2YXIgZj10aGlzLm1kLGc9YisoZSYmZS52YWx1ZUFjY2Vzc29yc3x8XCJcIiksaDtpZighKGg9ZltnXSkpe3ZhciBtLGw9XCJ3aXRoKCRjb250ZXh0KXt3aXRoKCRkYXRhfHx7fSl7cmV0dXJue1wiK2EubS51YihiLGUpK1wifX19XCI7bT1uZXcgRnVuY3Rpb24oXCIkY29udGV4dFwiLFwiJGVsZW1lbnRcIixsKTtoPWZbZ109bX1yZXR1cm4gaChjLGQpfWNhdGNoKGspe3Rocm93IGsubWVzc2FnZT1cIlVuYWJsZSB0byBwYXJzZSBiaW5kaW5ncy5cXG5CaW5kaW5ncyB2YWx1ZTogXCIrYitcIlxcbk1lc3NhZ2U6IFwiK2subWVzc2FnZSxrO319fSk7YS5nYS5pbnN0YW5jZT1uZXcgYS5nYX0pKCk7YS5iKFwiYmluZGluZ1Byb3ZpZGVyXCIsYS5nYSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt2YXIgYz0oYj1hLmEuZy5nZXQoYixCKSkmJmIuTTtjJiYoYi5NPW51bGwsYy5TYygpKX1mdW5jdGlvbiBjKGMsZCxlKXt0aGlzLm5vZGU9Yzt0aGlzLnhjPVxuZDt0aGlzLmliPVtdO3RoaXMuVD0hMTtkLk18fGEuYS5JLnphKGMsYik7ZSYmZS5NJiYoZS5NLmliLnB1c2goYyksdGhpcy5LYj1lKX1mdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiBlKGEpe3JldHVybiBhKCl9ZnVuY3Rpb24gZihiKXtyZXR1cm4gYS5hLkhhKGEudi5LKGIpLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIoKVtjXX19KX1mdW5jdGlvbiBnKGIsYyxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9mKGIuYmluZChudWxsLGMsZSkpOmEuYS5IYShiLGQpfWZ1bmN0aW9uIGgoYSxiKXtyZXR1cm4gZih0aGlzLmdldEJpbmRpbmdzLmJpbmQodGhpcyxhLGIpKX1mdW5jdGlvbiBtKGIsYyl7dmFyIGQ9YS5oLmZpcnN0Q2hpbGQoYyk7aWYoZCl7dmFyIGUsZj1hLmdhLmluc3RhbmNlLGs9Zi5wcmVwcm9jZXNzTm9kZTtpZihrKXtmb3IoO2U9ZDspZD1hLmgubmV4dFNpYmxpbmcoZSksay5jYWxsKGYsZSk7XG5kPWEuaC5maXJzdENoaWxkKGMpfWZvcig7ZT1kOylkPWEuaC5uZXh0U2libGluZyhlKSxsKGIsZSl9YS5qLkdhKGMsYS5qLlQpfWZ1bmN0aW9uIGwoYixjKXt2YXIgZD1iLGU9MT09PWMubm9kZVR5cGU7ZSYmYS5oLlJjKGMpO2lmKGV8fGEuZ2EuaW5zdGFuY2Uubm9kZUhhc0JpbmRpbmdzKGMpKWQ9cShjLG51bGwsYikuYmluZGluZ0NvbnRleHRGb3JEZXNjZW5kYW50cztkJiYhdVthLmEuUChjKV0mJm0oZCxjKX1mdW5jdGlvbiBrKGIpe3ZhciBjPVtdLGQ9e30sZT1bXTthLmEuTyhiLGZ1bmN0aW9uIGNhKGYpe2lmKCFkW2ZdKXt2YXIgbD1hLmdldEJpbmRpbmdIYW5kbGVyKGYpO2wmJihsLmFmdGVyJiYoZS5wdXNoKGYpLGEuYS5DKGwuYWZ0ZXIsZnVuY3Rpb24oYyl7aWYoYltjXSl7aWYoLTEhPT1hLmEuQShlLGMpKXRocm93IEVycm9yKFwiQ2Fubm90IGNvbWJpbmUgdGhlIGZvbGxvd2luZyBiaW5kaW5ncywgYmVjYXVzZSB0aGV5IGhhdmUgYSBjeWNsaWMgZGVwZW5kZW5jeTogXCIrZS5qb2luKFwiLCBcIikpO1xuY2EoYyl9fSksZS5sZW5ndGgtLSksYy5wdXNoKHtrZXk6ZixMYzpsfSkpO2RbZl09ITB9fSk7cmV0dXJuIGN9ZnVuY3Rpb24gcShiLGMsZCl7dmFyIGY9YS5hLmcuVGIoYixCLHt9KSxsPWYuZ2Q7aWYoIWMpe2lmKGwpdGhyb3cgRXJyb3IoXCJZb3UgY2Fubm90IGFwcGx5IGJpbmRpbmdzIG11bHRpcGxlIHRpbWVzIHRvIHRoZSBzYW1lIGVsZW1lbnQuXCIpO2YuZ2Q9ITB9bHx8KGYuY29udGV4dD1kKTt2YXIgZztpZihjJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYylnPWM7ZWxzZXt2YXIgcT1hLmdhLmluc3RhbmNlLG49cS5nZXRCaW5kaW5nQWNjZXNzb3JzfHxoLG09YS4kKGZ1bmN0aW9uKCl7aWYoZz1jP2MoZCxiKTpuLmNhbGwocSxiLGQpKXtpZihkW3JdKWRbcl0oKTtpZihkW0FdKWRbQV0oKX1yZXR1cm4gZ30sbnVsbCx7bDpifSk7ZyYmbS5qYSgpfHwobT1udWxsKX12YXIgeT1kLHU7aWYoZyl7dmFyIEo9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hLkhhKG0/bSgpOmcsZSl9LHQ9bT9mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZShtKClbYV0pfX06XG5mdW5jdGlvbihhKXtyZXR1cm4gZ1thXX07Si5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGdbYV0mJmUodChhKSl9O0ouaGFzPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluIGd9O2Euai5UIGluIGcmJmEuai5zdWJzY3JpYmUoYixhLmouVCxmdW5jdGlvbigpe3ZhciBjPSgwLGdbYS5qLlRdKSgpO2lmKGMpe3ZhciBkPWEuaC5jaGlsZE5vZGVzKGIpO2QubGVuZ3RoJiZjKGQsYS5EYyhkWzBdKSl9fSk7YS5qLm9hIGluIGcmJih5PWEuai5CYihiLGQpLGEuai5zdWJzY3JpYmUoYixhLmoub2EsZnVuY3Rpb24oKXt2YXIgYz0oMCxnW2Euai5vYV0pKCk7YyYmYS5oLmZpcnN0Q2hpbGQoYikmJmMoYil9KSk7Zj1rKGcpO2EuYS5DKGYsZnVuY3Rpb24oYyl7dmFyIGQ9Yy5MYy5pbml0LGU9Yy5MYy51cGRhdGUsZj1jLmtleTtpZig4PT09Yi5ub2RlVHlwZSYmIWEuaC5lYVtmXSl0aHJvdyBFcnJvcihcIlRoZSBiaW5kaW5nICdcIitmK1wiJyBjYW5ub3QgYmUgdXNlZCB3aXRoIHZpcnR1YWwgZWxlbWVudHNcIik7XG50cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgZCYmYS52LksoZnVuY3Rpb24oKXt2YXIgYT1kKGIsdChmKSxKLHkuJGRhdGEseSk7aWYoYSYmYS5jb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5ncyl7aWYodSE9PXApdGhyb3cgRXJyb3IoXCJNdWx0aXBsZSBiaW5kaW5ncyAoXCIrdStcIiBhbmQgXCIrZitcIikgYXJlIHRyeWluZyB0byBjb250cm9sIGRlc2NlbmRhbnQgYmluZGluZ3Mgb2YgdGhlIHNhbWUgZWxlbWVudC4gWW91IGNhbm5vdCB1c2UgdGhlc2UgYmluZGluZ3MgdG9nZXRoZXIgb24gdGhlIHNhbWUgZWxlbWVudC5cIik7dT1mfX0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmEuJChmdW5jdGlvbigpe2UoYix0KGYpLEoseS4kZGF0YSx5KX0sbnVsbCx7bDpifSl9Y2F0Y2gobCl7dGhyb3cgbC5tZXNzYWdlPSdVbmFibGUgdG8gcHJvY2VzcyBiaW5kaW5nIFwiJytmK1wiOiBcIitnW2ZdKydcIlxcbk1lc3NhZ2U6ICcrbC5tZXNzYWdlLGw7fX0pfWY9dT09PXA7cmV0dXJue3Nob3VsZEJpbmREZXNjZW5kYW50czpmLFxuYmluZGluZ0NvbnRleHRGb3JEZXNjZW5kYW50czpmJiZ5fX1mdW5jdGlvbiBuKGIsYyl7cmV0dXJuIGImJmIgaW5zdGFuY2VvZiBhLmZhP2I6bmV3IGEuZmEoYixwLHAsYyl9dmFyIHI9YS5hLkRhKFwiX3N1YnNjcmliYWJsZVwiKSx5PWEuYS5EYShcIl9hbmNlc3RvckJpbmRpbmdJbmZvXCIpLEE9YS5hLkRhKFwiX2RhdGFEZXBlbmRlbmN5XCIpO2EuZj17fTt2YXIgdT17c2NyaXB0OiEwLHRleHRhcmVhOiEwLHRlbXBsYXRlOiEwfTthLmdldEJpbmRpbmdIYW5kbGVyPWZ1bmN0aW9uKGIpe3JldHVybiBhLmZbYl19O3ZhciBKPXt9O2EuZmE9ZnVuY3Rpb24oYixjLGQsZSxmKXtmdW5jdGlvbiBsKCl7dmFyIGI9cT9oKCk6aCxmPWEuYS5jKGIpO2M/KGEuYS5leHRlbmQoayxjKSx5IGluIGMmJihrW3ldPWNbeV0pKTooay4kcGFyZW50cz1bXSxrLiRyb290PWYsay5rbz1hKTtrW3JdPW47Zz9mPWsuJGRhdGE6KGsuJHJhd0RhdGE9YixrLiRkYXRhPWYpO2QmJihrW2RdPWYpO2UmJmUoayxjLGYpO2lmKGMmJlxuY1tyXSYmIWEuVS5vKCkuVWIoY1tyXSkpY1tyXSgpO20mJihrW0FdPW0pO3JldHVybiBrLiRkYXRhfXZhciBrPXRoaXMsZz1iPT09SixoPWc/cDpiLHE9XCJmdW5jdGlvblwiPT10eXBlb2YgaCYmIWEuTihoKSxuLG09ZiYmZi5kYXRhRGVwZW5kZW5jeTtmJiZmLmV4cG9ydERlcGVuZGVuY2llcz9sKCk6KG49YS53YihsKSxuLncoKSxuLmphKCk/bi5lcXVhbGl0eUNvbXBhcmVyPW51bGw6a1tyXT1wKX07YS5mYS5wcm90b3R5cGUuY3JlYXRlQ2hpbGRDb250ZXh0PWZ1bmN0aW9uKGIsYyxkLGUpeyFlJiZjJiZcIm9iamVjdFwiPT10eXBlb2YgYyYmKGU9YyxjPWUuYXMsZD1lLmV4dGVuZCk7aWYoYyYmZSYmZS5ub0NoaWxkQ29udGV4dCl7dmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgYiYmIWEuTihiKTtyZXR1cm4gbmV3IGEuZmEoSix0aGlzLG51bGwsZnVuY3Rpb24oYSl7ZCYmZChhKTthW2NdPWY/YigpOmJ9LGUpfXJldHVybiBuZXcgYS5mYShiLHRoaXMsYyxmdW5jdGlvbihhLGIpe2EuJHBhcmVudENvbnRleHQ9XG5iO2EuJHBhcmVudD1iLiRkYXRhO2EuJHBhcmVudHM9KGIuJHBhcmVudHN8fFtdKS5zbGljZSgwKTthLiRwYXJlbnRzLnVuc2hpZnQoYS4kcGFyZW50KTtkJiZkKGEpfSxlKX07YS5mYS5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG5ldyBhLmZhKEosdGhpcyxudWxsLGZ1bmN0aW9uKGMpe2EuYS5leHRlbmQoYyxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiP2IoYyk6Yil9LGMpfTt2YXIgQj1hLmEuZy5aKCk7Yy5wcm90b3R5cGUuU2M9ZnVuY3Rpb24oKXt0aGlzLktiJiZ0aGlzLktiLk0mJnRoaXMuS2IuTS5yZCh0aGlzLm5vZGUpfTtjLnByb3RvdHlwZS5yZD1mdW5jdGlvbihiKXthLmEuaGIodGhpcy5pYixiKTshdGhpcy5pYi5sZW5ndGgmJnRoaXMuVCYmdGhpcy5CYygpfTtjLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3RoaXMuVD0hMDt0aGlzLnhjLk0mJiF0aGlzLmliLmxlbmd0aCYmKHRoaXMueGMuTT1udWxsLGEuYS5JLnhiKHRoaXMubm9kZSxiKSxhLmouR2EodGhpcy5ub2RlLFxuYS5qLm9hKSx0aGlzLlNjKCkpfTthLmo9e1Q6XCJjaGlsZHJlbkNvbXBsZXRlXCIsb2E6XCJkZXNjZW5kYW50c0NvbXBsZXRlXCIsc3Vic2NyaWJlOmZ1bmN0aW9uKGIsYyxkLGUpe2I9YS5hLmcuVGIoYixCLHt9KTtiLkZhfHwoYi5GYT1uZXcgYS5SKTtyZXR1cm4gYi5GYS5zdWJzY3JpYmUoZCxlLGMpfSxHYTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5nLmdldChiLEIpO2lmKGQmJihkLkZhJiZkLkZhLm5vdGlmeVN1YnNjcmliZXJzKGIsYyksYz09YS5qLlQpKWlmKGQuTSlkLk0uQmMoKTtlbHNlIGlmKGQuTT09PXAmJmQuRmEmJmQuRmEuV2EoYS5qLm9hKSl0aHJvdyBFcnJvcihcImRlc2NlbmRhbnRzQ29tcGxldGUgZXZlbnQgbm90IHN1cHBvcnRlZCBmb3IgYmluZGluZ3Mgb24gdGhpcyBub2RlXCIpO30sQmI6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLmEuZy5UYihiLEIse30pO2UuTXx8KGUuTT1uZXcgYyhiLGUsZFt5XSkpO3JldHVybiBkW3ldPT1lP2Q6ZC5leHRlbmQoZnVuY3Rpb24oYSl7YVt5XT1cbmV9KX19O2EuU2Q9ZnVuY3Rpb24oYil7cmV0dXJuKGI9YS5hLmcuZ2V0KGIsQikpJiZiLmNvbnRleHR9O2EuZWI9ZnVuY3Rpb24oYixjLGQpezE9PT1iLm5vZGVUeXBlJiZhLmguUmMoYik7cmV0dXJuIHEoYixjLG4oZCkpfTthLmtkPWZ1bmN0aW9uKGIsYyxkKXtkPW4oZCk7cmV0dXJuIGEuZWIoYixnKGMsZCxiKSxkKX07YS5QYT1mdW5jdGlvbihhLGIpezEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZXx8bShuKGEpLGIpfTthLnVjPWZ1bmN0aW9uKGEsYixjKXshdiYmei5qUXVlcnkmJih2PXoualF1ZXJ5KTtpZigyPmFyZ3VtZW50cy5sZW5ndGgpe2lmKGI9dy5ib2R5LCFiKXRocm93IEVycm9yKFwia28uYXBwbHlCaW5kaW5nczogY291bGQgbm90IGZpbmQgZG9jdW1lbnQuYm9keTsgaGFzIHRoZSBkb2N1bWVudCBiZWVuIGxvYWRlZD9cIik7fWVsc2UgaWYoIWJ8fDEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgeW91ciB2aWV3IG1vZGVsOyBzZWNvbmQgcGFyYW1ldGVyIHNob3VsZCBiZSBhIERPTSBub2RlXCIpO1xubChuKGEsYyksYil9O2EuQ2M9ZnVuY3Rpb24oYil7cmV0dXJuIWJ8fDEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZT9wOmEuU2QoYil9O2EuRGM9ZnVuY3Rpb24oYil7cmV0dXJuKGI9YS5DYyhiKSk/Yi4kZGF0YTpwfTthLmIoXCJiaW5kaW5nSGFuZGxlcnNcIixhLmYpO2EuYihcImJpbmRpbmdFdmVudFwiLGEuaik7YS5iKFwiYmluZGluZ0V2ZW50LnN1YnNjcmliZVwiLGEuai5zdWJzY3JpYmUpO2EuYihcImJpbmRpbmdFdmVudC5zdGFydFBvc3NpYmx5QXN5bmNDb250ZW50QmluZGluZ1wiLGEuai5CYik7YS5iKFwiYXBwbHlCaW5kaW5nc1wiLGEudWMpO2EuYihcImFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzXCIsYS5QYSk7YS5iKFwiYXBwbHlCaW5kaW5nQWNjZXNzb3JzVG9Ob2RlXCIsYS5lYik7YS5iKFwiYXBwbHlCaW5kaW5nc1RvTm9kZVwiLGEua2QpO2EuYihcImNvbnRleHRGb3JcIixhLkNjKTthLmIoXCJkYXRhRm9yXCIsYS5EYyl9KSgpOyhmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGMsZSl7dmFyIGw9XG5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZixjKT9mW2NdOmIsaztsP2wuc3Vic2NyaWJlKGUpOihsPWZbY109bmV3IGEuUixsLnN1YnNjcmliZShlKSxkKGMsZnVuY3Rpb24oYixkKXt2YXIgZT0hKCFkfHwhZC5zeW5jaHJvbm91cyk7Z1tjXT17ZGVmaW5pdGlvbjpiLEZkOmV9O2RlbGV0ZSBmW2NdO2t8fGU/bC5ub3RpZnlTdWJzY3JpYmVycyhiKTphLm1hLnliKGZ1bmN0aW9uKCl7bC5ub3RpZnlTdWJzY3JpYmVycyhiKX0pfSksaz0hMCl9ZnVuY3Rpb24gZChhLGIpe2UoXCJnZXRDb25maWdcIixbYV0sZnVuY3Rpb24oYyl7Yz9lKFwibG9hZENvbXBvbmVudFwiLFthLGNdLGZ1bmN0aW9uKGEpe2IoYSxjKX0pOmIobnVsbCxudWxsKX0pfWZ1bmN0aW9uIGUoYyxkLGYsayl7a3x8KGs9YS5pLmxvYWRlcnMuc2xpY2UoMCkpO3ZhciBnPWsuc2hpZnQoKTtpZihnKXt2YXIgbj1nW2NdO2lmKG4pe3ZhciByPSExO2lmKG4uYXBwbHkoZyxkLmNvbmNhdChmdW5jdGlvbihhKXtyP1xuZihudWxsKTpudWxsIT09YT9mKGEpOmUoYyxkLGYsayl9KSkhPT1iJiYocj0hMCwhZy5zdXBwcmVzc0xvYWRlckV4Y2VwdGlvbnMpKXRocm93IEVycm9yKFwiQ29tcG9uZW50IGxvYWRlcnMgbXVzdCBzdXBwbHkgdmFsdWVzIGJ5IGludm9raW5nIHRoZSBjYWxsYmFjaywgbm90IGJ5IHJldHVybmluZyB2YWx1ZXMgc3luY2hyb25vdXNseS5cIik7fWVsc2UgZShjLGQsZixrKX1lbHNlIGYobnVsbCl9dmFyIGY9e30sZz17fTthLmk9e2dldDpmdW5jdGlvbihkLGUpe3ZhciBmPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChnLGQpP2dbZF06YjtmP2YuRmQ/YS52LksoZnVuY3Rpb24oKXtlKGYuZGVmaW5pdGlvbil9KTphLm1hLnliKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6YyhkLGUpfSxBYzpmdW5jdGlvbihhKXtkZWxldGUgZ1thXX0sbmM6ZX07YS5pLmxvYWRlcnM9W107YS5iKFwiY29tcG9uZW50c1wiLGEuaSk7YS5iKFwiY29tcG9uZW50cy5nZXRcIixhLmkuZ2V0KTtcbmEuYihcImNvbXBvbmVudHMuY2xlYXJDYWNoZWREZWZpbml0aW9uXCIsYS5pLkFjKX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCxlKXtmdW5jdGlvbiBnKCl7MD09PS0tQSYmZShoKX12YXIgaD17fSxBPTIsdT1kLnRlbXBsYXRlO2Q9ZC52aWV3TW9kZWw7dT9mKGMsdSxmdW5jdGlvbihjKXthLmkubmMoXCJsb2FkVGVtcGxhdGVcIixbYixjXSxmdW5jdGlvbihhKXtoLnRlbXBsYXRlPWE7ZygpfSl9KTpnKCk7ZD9mKGMsZCxmdW5jdGlvbihjKXthLmkubmMoXCJsb2FkVmlld01vZGVsXCIsW2IsY10sZnVuY3Rpb24oYSl7aFttXT1hO2coKX0pfSk6ZygpfWZ1bmN0aW9uIGMoYSxiLGQpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKWQoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBiKGEpfSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYlttXSlkKGJbbV0pO2Vsc2UgaWYoXCJpbnN0YW5jZVwiaW4gYil7dmFyIGU9Yi5pbnN0YW5jZTtkKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX1lbHNlXCJ2aWV3TW9kZWxcImluXG5iP2MoYSxiLnZpZXdNb2RlbCxkKTphKFwiVW5rbm93biB2aWV3TW9kZWwgdmFsdWU6IFwiK2IpfWZ1bmN0aW9uIGQoYil7c3dpdGNoKGEuYS5QKGIpKXtjYXNlIFwic2NyaXB0XCI6cmV0dXJuIGEuYS50YShiLnRleHQpO2Nhc2UgXCJ0ZXh0YXJlYVwiOnJldHVybiBhLmEudGEoYi52YWx1ZSk7Y2FzZSBcInRlbXBsYXRlXCI6aWYoZShiLmNvbnRlbnQpKXJldHVybiBhLmEuQ2EoYi5jb250ZW50LmNoaWxkTm9kZXMpfXJldHVybiBhLmEuQ2EoYi5jaGlsZE5vZGVzKX1mdW5jdGlvbiBlKGEpe3JldHVybiB6LkRvY3VtZW50RnJhZ21lbnQ/YSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQ6YSYmMTE9PT1hLm5vZGVUeXBlfWZ1bmN0aW9uIGYoYSxiLGMpe1wic3RyaW5nXCI9PT10eXBlb2YgYi5yZXF1aXJlP1R8fHoucmVxdWlyZT8oVHx8ei5yZXF1aXJlKShbYi5yZXF1aXJlXSxjKTphKFwiVXNlcyByZXF1aXJlLCBidXQgbm8gQU1EIGxvYWRlciBpcyBwcmVzZW50XCIpOmMoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7dGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK1xuYStcIic6IFwiK2IpO319dmFyIGg9e307YS5pLnJlZ2lzdGVyPWZ1bmN0aW9uKGIsYyl7aWYoIWMpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gZm9yIFwiK2IpO2lmKGEuaS5zYihiKSl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBcIitiK1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiKTtoW2JdPWN9O2EuaS5zYj1mdW5jdGlvbihhKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsYSl9O2EuaS51bnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe2RlbGV0ZSBoW2JdO2EuaS5BYyhiKX07YS5pLkVjPXtnZXRDb25maWc6ZnVuY3Rpb24oYixjKXtjKGEuaS5zYihiKT9oW2JdOm51bGwpfSxsb2FkQ29tcG9uZW50OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1nKGEpO2YoZSxjLGZ1bmN0aW9uKGMpe2IoYSxlLGMsZCl9KX0sbG9hZFRlbXBsYXRlOmZ1bmN0aW9uKGIsYyxmKXtiPWcoYik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKWYoYS5hLnRhKGMpKTtlbHNlIGlmKGMgaW5zdGFuY2VvZlxuQXJyYXkpZihjKTtlbHNlIGlmKGUoYykpZihhLmEubGEoYy5jaGlsZE5vZGVzKSk7ZWxzZSBpZihjLmVsZW1lbnQpaWYoYz1jLmVsZW1lbnQsei5IVE1MRWxlbWVudD9jIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ6YyYmYy50YWdOYW1lJiYxPT09Yy5ub2RlVHlwZSlmKGQoYykpO2Vsc2UgaWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKXt2YXIgaD13LmdldEVsZW1lbnRCeUlkKGMpO2g/ZihkKGgpKTpiKFwiQ2Fubm90IGZpbmQgZWxlbWVudCB3aXRoIElEIFwiK2MpfWVsc2UgYihcIlVua25vd24gZWxlbWVudCB0eXBlOiBcIitjKTtlbHNlIGIoXCJVbmtub3duIHRlbXBsYXRlIHZhbHVlOiBcIitjKX0sbG9hZFZpZXdNb2RlbDpmdW5jdGlvbihhLGIsZCl7YyhnKGEpLGIsZCl9fTt2YXIgbT1cImNyZWF0ZVZpZXdNb2RlbFwiO2EuYihcImNvbXBvbmVudHMucmVnaXN0ZXJcIixhLmkucmVnaXN0ZXIpO2EuYihcImNvbXBvbmVudHMuaXNSZWdpc3RlcmVkXCIsYS5pLnNiKTthLmIoXCJjb21wb25lbnRzLnVucmVnaXN0ZXJcIixcbmEuaS51bnJlZ2lzdGVyKTthLmIoXCJjb21wb25lbnRzLmRlZmF1bHRMb2FkZXJcIixhLmkuRWMpO2EuaS5sb2FkZXJzLnB1c2goYS5pLkVjKTthLmkuY2Q9aH0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGUpe3ZhciBmPWIuZ2V0QXR0cmlidXRlKFwicGFyYW1zXCIpO2lmKGYpe3ZhciBmPWMucGFyc2VCaW5kaW5nc1N0cmluZyhmLGUsYix7dmFsdWVBY2Nlc3NvcnM6ITAsYmluZGluZ1BhcmFtczohMH0pLGY9YS5hLkhhKGYsZnVuY3Rpb24oYyl7cmV0dXJuIGEubyhjLG51bGwse2w6Yn0pfSksZz1hLmEuSGEoZixmdW5jdGlvbihjKXt2YXIgZT1jLncoKTtyZXR1cm4gYy5qYSgpP2Eubyh7cmVhZDpmdW5jdGlvbigpe3JldHVybiBhLmEuYyhjKCkpfSx3cml0ZTphLllhKGUpJiZmdW5jdGlvbihhKXtjKCkoYSl9LGw6Yn0pOmV9KTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxcIiRyYXdcIil8fChnLiRyYXc9Zik7cmV0dXJuIGd9cmV0dXJueyRyYXc6e319fWEuaS5nZXRDb21wb25lbnROYW1lRm9yTm9kZT1cbmZ1bmN0aW9uKGIpe3ZhciBjPWEuYS5QKGIpO2lmKGEuaS5zYihjKSYmKC0xIT1jLmluZGV4T2YoXCItXCIpfHxcIltvYmplY3QgSFRNTFVua25vd25FbGVtZW50XVwiPT1cIlwiK2J8fDg+PWEuYS5XJiZiLnRhZ05hbWU9PT1jKSlyZXR1cm4gY307YS5pLnNjPWZ1bmN0aW9uKGMsZSxmLGcpe2lmKDE9PT1lLm5vZGVUeXBlKXt2YXIgaD1hLmkuZ2V0Q29tcG9uZW50TmFtZUZvck5vZGUoZSk7aWYoaCl7Yz1jfHx7fTtpZihjLmNvbXBvbmVudCl0aHJvdyBFcnJvcignQ2Fubm90IHVzZSB0aGUgXCJjb21wb25lbnRcIiBiaW5kaW5nIG9uIGEgY3VzdG9tIGVsZW1lbnQgbWF0Y2hpbmcgYSBjb21wb25lbnQnKTt2YXIgbT17bmFtZTpoLHBhcmFtczpiKGUsZil9O2MuY29tcG9uZW50PWc/ZnVuY3Rpb24oKXtyZXR1cm4gbX06bX19cmV0dXJuIGN9O3ZhciBjPW5ldyBhLmdhOzk+YS5hLlcmJihhLmkucmVnaXN0ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpfX0oYS5pLnJlZ2lzdGVyKSx3LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9YigpLGY9YS5pLmNkLGc7Zm9yKGcgaW4gZik7cmV0dXJuIGN9fSh3LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQpKX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCl7Yz1jLnRlbXBsYXRlO2lmKCFjKXRocm93IEVycm9yKFwiQ29tcG9uZW50ICdcIitiK1wiJyBoYXMgbm8gdGVtcGxhdGVcIik7Yj1hLmEuQ2EoYyk7YS5oLnVhKGQsYil9ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGQ9YS5jcmVhdGVWaWV3TW9kZWw7cmV0dXJuIGQ/ZC5jYWxsKGEsYixjKTpifXZhciBkPTA7YS5mLmNvbXBvbmVudD17aW5pdDpmdW5jdGlvbihlLGYsZyxoLG0pe2Z1bmN0aW9uIGwoKXt2YXIgYT1rJiZrLmRpc3Bvc2U7XCJmdW5jdGlvblwiPT09dHlwZW9mIGEmJmEuY2FsbChrKTtuJiZuLnMoKTtxPWs9bj1udWxsfXZhciBrLHEsbixyPWEuYS5sYShhLmguY2hpbGROb2RlcyhlKSk7XG5hLmguRWEoZSk7YS5hLkkuemEoZSxsKTthLm8oZnVuY3Rpb24oKXt2YXIgZz1hLmEuYyhmKCkpLGgsdTtcInN0cmluZ1wiPT09dHlwZW9mIGc/aD1nOihoPWEuYS5jKGcubmFtZSksdT1hLmEuYyhnLnBhcmFtcykpO2lmKCFoKXRocm93IEVycm9yKFwiTm8gY29tcG9uZW50IG5hbWUgc3BlY2lmaWVkXCIpO3ZhciBwPWEuai5CYihlLG0pLEI9cT0rK2Q7YS5pLmdldChoLGZ1bmN0aW9uKGQpe2lmKHE9PT1CKXtsKCk7aWYoIWQpdGhyb3cgRXJyb3IoXCJVbmtub3duIGNvbXBvbmVudCAnXCIraCtcIidcIik7YihoLGQsZSk7dmFyIGY9YyhkLHUse2VsZW1lbnQ6ZSx0ZW1wbGF0ZU5vZGVzOnJ9KTtkPXAuY3JlYXRlQ2hpbGRDb250ZXh0KGYse2V4dGVuZDpmdW5jdGlvbihhKXthLiRjb21wb25lbnQ9ZjthLiRjb21wb25lbnRUZW1wbGF0ZU5vZGVzPXJ9fSk7ZiYmZi5rb0Rlc2NlbmRhbnRzQ29tcGxldGUmJihuPWEuai5zdWJzY3JpYmUoZSxhLmoub2EsZi5rb0Rlc2NlbmRhbnRzQ29tcGxldGUsZikpO1xuaz1mO2EuUGEoZCxlKX19KX0sbnVsbCx7bDplfSk7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EuaC5lYS5jb21wb25lbnQ9ITB9KSgpO3ZhciBWPXtcImNsYXNzXCI6XCJjbGFzc05hbWVcIixcImZvclwiOlwiaHRtbEZvclwifTthLmYuYXR0cj17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmMoYygpKXx8e307YS5hLk8oZCxmdW5jdGlvbihjLGQpe2Q9YS5hLmMoZCk7dmFyIGc9Yy5pbmRleE9mKFwiOlwiKSxnPVwibG9va3VwTmFtZXNwYWNlVVJJXCJpbiBiJiYwPGcmJmIubG9va3VwTmFtZXNwYWNlVVJJKGMuc3Vic3RyKDAsZykpLGg9ITE9PT1kfHxudWxsPT09ZHx8ZD09PXA7aD9nP2IucmVtb3ZlQXR0cmlidXRlTlMoZyxjKTpiLnJlbW92ZUF0dHJpYnV0ZShjKTpkPWQudG9TdHJpbmcoKTs4Pj1hLmEuVyYmYyBpbiBWPyhjPVZbY10saD9iLnJlbW92ZUF0dHJpYnV0ZShjKTpiW2NdPWQpOmh8fChnP2Iuc2V0QXR0cmlidXRlTlMoZyxjLGQpOmIuc2V0QXR0cmlidXRlKGMsXG5kKSk7XCJuYW1lXCI9PT1jJiZhLmEuWGMoYixoP1wiXCI6ZCl9KX19OyhmdW5jdGlvbigpe2EuZi5jaGVja2VkPXthZnRlcjpbXCJ2YWx1ZVwiLFwiYXR0clwiXSxpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7dmFyIGU9Yi5jaGVja2VkLGY9ZygpO2lmKCFhLlUucmIoKSYmKGV8fCFtJiYhYS5VLnBhKCkpKXt2YXIgbD1hLnYuSyhjKTtpZihrKXt2YXIgbj1xP2wudygpOmwsQj1yO3I9ZjtCIT09Zj9lJiYoYS5hLk9hKG4sZiwhMCksYS5hLk9hKG4sQiwhMSkpOmEuYS5PYShuLGYsZSk7cSYmYS5ZYShsKSYmbChuKX1lbHNlIGgmJihmPT09cD9mPWU6ZXx8KGY9cCkpLGEubS4kYShsLGQsXCJjaGVja2VkXCIsZiwhMCl9fWZ1bmN0aW9uIGYoKXt2YXIgZD1hLmEuYyhjKCkpLGU9ZygpO2s/KGIuY2hlY2tlZD0wPD1hLmEuQShkLGUpLHI9ZSk6Yi5jaGVja2VkPWgmJmU9PT1wPyEhZDpnKCk9PT1kfXZhciBnPWEud2IoZnVuY3Rpb24oKXtpZihkLmhhcyhcImNoZWNrZWRWYWx1ZVwiKSlyZXR1cm4gYS5hLmMoZC5nZXQoXCJjaGVja2VkVmFsdWVcIikpO1xuaWYobilyZXR1cm4gZC5oYXMoXCJ2YWx1ZVwiKT9hLmEuYyhkLmdldChcInZhbHVlXCIpKTpiLnZhbHVlfSksaD1cImNoZWNrYm94XCI9PWIudHlwZSxtPVwicmFkaW9cIj09Yi50eXBlO2lmKGh8fG0pe3ZhciBsPWMoKSxrPWgmJmEuYS5jKGwpaW5zdGFuY2VvZiBBcnJheSxxPSEoayYmbC5wdXNoJiZsLnNwbGljZSksbj1tfHxrLHI9az9nKCk6cDttJiYhYi5uYW1lJiZhLmYudW5pcXVlTmFtZS5pbml0KGIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pO2EubyhlLG51bGwse2w6Yn0pO2EuYS5IKGIsXCJjbGlja1wiLGUpO2EubyhmLG51bGwse2w6Yn0pO2w9cH19fTthLm0udmEuY2hlY2tlZD0hMDthLmYuY2hlY2tlZFZhbHVlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXtiLnZhbHVlPWEuYS5jKGMoKSl9fX0pKCk7YS5mW1wiY2xhc3NcIl09e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5DYihhLmEuYyhjKCkpKTthLmEuRWIoYixiLl9fa29fX2Nzc1ZhbHVlLCExKTtiLl9fa29fX2Nzc1ZhbHVlPWQ7YS5hLkViKGIsXG5kLCEwKX19O2EuZi5jc3M9e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5jKGMoKSk7bnVsbCE9PWQmJlwib2JqZWN0XCI9PXR5cGVvZiBkP2EuYS5PKGQsZnVuY3Rpb24oYyxkKXtkPWEuYS5jKGQpO2EuYS5FYihiLGMsZCl9KTphLmZbXCJjbGFzc1wiXS51cGRhdGUoYixjKX19O2EuZi5lbmFibGU9e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5jKGMoKSk7ZCYmYi5kaXNhYmxlZD9iLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpOmR8fGIuZGlzYWJsZWR8fChiLmRpc2FibGVkPSEwKX19O2EuZi5kaXNhYmxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmYuZW5hYmxlLnVwZGF0ZShiLGZ1bmN0aW9uKCl7cmV0dXJuIWEuYS5jKGMoKSl9KX19O2EuZi5ldmVudD17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWMoKXx8e307YS5hLk8oZyxmdW5jdGlvbihnKXtcInN0cmluZ1wiPT10eXBlb2YgZyYmYS5hLkgoYixnLGZ1bmN0aW9uKGIpe3ZhciBsLGs9YygpW2ddO1xuaWYoayl7dHJ5e3ZhciBxPWEuYS5sYShhcmd1bWVudHMpO2U9Zi4kZGF0YTtxLnVuc2hpZnQoZSk7bD1rLmFwcGx5KGUscSl9ZmluYWxseXshMCE9PWwmJihiLnByZXZlbnREZWZhdWx0P2IucHJldmVudERlZmF1bHQoKTpiLnJldHVyblZhbHVlPSExKX0hMT09PWQuZ2V0KGcrXCJCdWJibGVcIikmJihiLmNhbmNlbEJ1YmJsZT0hMCxiLnN0b3BQcm9wYWdhdGlvbiYmYi5zdG9wUHJvcGFnYXRpb24oKSl9fSl9KX19O2EuZi5mb3JlYWNoPXtRYzpmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1iKCksZD1hLmEuJGIoYyk7aWYoIWR8fFwibnVtYmVyXCI9PXR5cGVvZiBkLmxlbmd0aClyZXR1cm57Zm9yZWFjaDpjLHRlbXBsYXRlRW5naW5lOmEuYmEuTmF9O2EuYS5jKGMpO3JldHVybntmb3JlYWNoOmQuZGF0YSxhczpkLmFzLG5vQ2hpbGRDb250ZXh0OmQubm9DaGlsZENvbnRleHQsaW5jbHVkZURlc3Ryb3llZDpkLmluY2x1ZGVEZXN0cm95ZWQsYWZ0ZXJBZGQ6ZC5hZnRlckFkZCxcbmJlZm9yZVJlbW92ZTpkLmJlZm9yZVJlbW92ZSxhZnRlclJlbmRlcjpkLmFmdGVyUmVuZGVyLGJlZm9yZU1vdmU6ZC5iZWZvcmVNb3ZlLGFmdGVyTW92ZTpkLmFmdGVyTW92ZSx0ZW1wbGF0ZUVuZ2luZTphLmJhLk5hfX19LGluaXQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5mLnRlbXBsYXRlLmluaXQoYixhLmYuZm9yZWFjaC5RYyhjKSl9LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3JldHVybiBhLmYudGVtcGxhdGUudXBkYXRlKGIsYS5mLmZvcmVhY2guUWMoYyksZCxlLGYpfX07YS5tLlJhLmZvcmVhY2g9ITE7YS5oLmVhLmZvcmVhY2g9ITA7YS5mLmhhc2ZvY3VzPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKGUpe2IuX19rb19oYXNmb2N1c1VwZGF0aW5nPSEwO3ZhciBmPWIub3duZXJEb2N1bWVudDtpZihcImFjdGl2ZUVsZW1lbnRcImluIGYpe3ZhciBnO3RyeXtnPWYuYWN0aXZlRWxlbWVudH1jYXRjaChrKXtnPWYuYm9keX1lPWc9PT1ifWY9YygpO2EubS4kYShmLFxuZCxcImhhc2ZvY3VzXCIsZSwhMCk7Yi5fX2tvX2hhc2ZvY3VzTGFzdFZhbHVlPWU7Yi5fX2tvX2hhc2ZvY3VzVXBkYXRpbmc9ITF9dmFyIGY9ZS5iaW5kKG51bGwsITApLGc9ZS5iaW5kKG51bGwsITEpO2EuYS5IKGIsXCJmb2N1c1wiLGYpO2EuYS5IKGIsXCJmb2N1c2luXCIsZik7YS5hLkgoYixcImJsdXJcIixnKTthLmEuSChiLFwiZm9jdXNvdXRcIixnKTtiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9ITF9LHVwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPSEhYS5hLmMoYygpKTtiLl9fa29faGFzZm9jdXNVcGRhdGluZ3x8Yi5fX2tvX2hhc2ZvY3VzTGFzdFZhbHVlPT09ZHx8KGQ/Yi5mb2N1cygpOmIuYmx1cigpLCFkJiZiLl9fa29faGFzZm9jdXNMYXN0VmFsdWUmJmIub3duZXJEb2N1bWVudC5ib2R5LmZvY3VzKCksYS52LksoYS5hLkZiLG51bGwsW2IsZD9cImZvY3VzaW5cIjpcImZvY3Vzb3V0XCJdKSl9fTthLm0udmEuaGFzZm9jdXM9ITA7YS5mLmhhc0ZvY3VzPWEuZi5oYXNmb2N1czthLm0udmEuaGFzRm9jdXM9XG5cImhhc2ZvY3VzXCI7YS5mLmh0bWw9e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmEuZGMoYixjKCkpfX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGQsZSl7YS5mW2JdPXtpbml0OmZ1bmN0aW9uKGIsYyxoLG0sbCl7dmFyIGsscSxuPXt9LHIscCxBO2lmKGQpe209aC5nZXQoXCJhc1wiKTt2YXIgdT1oLmdldChcIm5vQ2hpbGRDb250ZXh0XCIpO0E9IShtJiZ1KTtuPXthczptLG5vQ2hpbGRDb250ZXh0OnUsZXhwb3J0RGVwZW5kZW5jaWVzOkF9fXA9KHI9XCJyZW5kZXJcIj09aC5nZXQoXCJjb21wbGV0ZU9uXCIpKXx8aC5oYXMoYS5qLm9hKTthLm8oZnVuY3Rpb24oKXt2YXIgaD1hLmEuYyhjKCkpLG09IWUhPT0haCx1PSFxLHQ7aWYoQXx8bSE9PWspe3AmJihsPWEuai5CYihiLGwpKTtpZihtKXtpZighZHx8QSluLmRhdGFEZXBlbmRlbmN5PWEuVS5vKCk7dD1kP2wuY3JlYXRlQ2hpbGRDb250ZXh0KFwiZnVuY3Rpb25cIj09XG50eXBlb2YgaD9oOmMsbik6YS5VLnBhKCk/bC5leHRlbmQobnVsbCxuKTpsfXUmJmEuVS5wYSgpJiYocT1hLmEuQ2EoYS5oLmNoaWxkTm9kZXMoYiksITApKTttPyh1fHxhLmgudWEoYixhLmEuQ2EocSkpLGEuUGEodCxiKSk6KGEuaC5FYShiKSxyfHxhLmouR2EoYixhLmouVCkpO2s9bX19LG51bGwse2w6Yn0pO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLm0uUmFbYl09ITE7YS5oLmVhW2JdPSEwfWIoXCJpZlwiKTtiKFwiaWZub3RcIiwhMSwhMCk7YihcIndpdGhcIiwhMCl9KSgpO2EuZi5sZXQ9e2luaXQ6ZnVuY3Rpb24oYixjLGQsZSxmKXtjPWYuZXh0ZW5kKGMpO2EuUGEoYyxiKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmxldD0hMDt2YXIgUT17fTthLmYub3B0aW9ucz17aW5pdDpmdW5jdGlvbihiKXtpZihcInNlbGVjdFwiIT09YS5hLlAoYikpdGhyb3cgRXJyb3IoXCJvcHRpb25zIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTtcbmZvcig7MDxiLmxlbmd0aDspYi5yZW1vdmUoMCk7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGEuYS5mYihiLm9wdGlvbnMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWR9KX1mdW5jdGlvbiBmKGEsYixjKXt2YXIgZD10eXBlb2YgYjtyZXR1cm5cImZ1bmN0aW9uXCI9PWQ/YihhKTpcInN0cmluZ1wiPT1kP2FbYl06Y31mdW5jdGlvbiBnKGMsZSl7aWYoeSYmaylhLnUueWEoYixhLmEuYyhkLmdldChcInZhbHVlXCIpKSwhMCk7ZWxzZSBpZihyLmxlbmd0aCl7dmFyIGY9MDw9YS5hLkEocixhLnUuTChlWzBdKSk7YS5hLlljKGVbMF0sZik7eSYmIWYmJmEudi5LKGEuYS5GYixudWxsLFtiLFwiY2hhbmdlXCJdKX19dmFyIGg9Yi5tdWx0aXBsZSxtPTAhPWIubGVuZ3RoJiZoP2Iuc2Nyb2xsVG9wOm51bGwsbD1hLmEuYyhjKCkpLGs9ZC5nZXQoXCJ2YWx1ZUFsbG93VW5zZXRcIikmJmQuaGFzKFwidmFsdWVcIiksXG5xPWQuZ2V0KFwib3B0aW9uc0luY2x1ZGVEZXN0cm95ZWRcIik7Yz17fTt2YXIgbixyPVtdO2t8fChoP3I9YS5hLk1iKGUoKSxhLnUuTCk6MDw9Yi5zZWxlY3RlZEluZGV4JiZyLnB1c2goYS51LkwoYi5vcHRpb25zW2Iuc2VsZWN0ZWRJbmRleF0pKSk7bCYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBsLmxlbmd0aCYmKGw9W2xdKSxuPWEuYS5mYihsLGZ1bmN0aW9uKGIpe3JldHVybiBxfHxiPT09cHx8bnVsbD09PWJ8fCFhLmEuYyhiLl9kZXN0cm95KX0pLGQuaGFzKFwib3B0aW9uc0NhcHRpb25cIikmJihsPWEuYS5jKGQuZ2V0KFwib3B0aW9uc0NhcHRpb25cIikpLG51bGwhPT1sJiZsIT09cCYmbi51bnNoaWZ0KFEpKSk7dmFyIHk9ITE7Yy5iZWZvcmVSZW1vdmU9ZnVuY3Rpb24oYSl7Yi5yZW1vdmVDaGlsZChhKX07bD1nO2QuaGFzKFwib3B0aW9uc0FmdGVyUmVuZGVyXCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmdldChcIm9wdGlvbnNBZnRlclJlbmRlclwiKSYmKGw9ZnVuY3Rpb24oYixjKXtnKDAsYyk7XG5hLnYuSyhkLmdldChcIm9wdGlvbnNBZnRlclJlbmRlclwiKSxudWxsLFtjWzBdLGIhPT1RP2I6cF0pfSk7YS5hLmNjKGIsbixmdW5jdGlvbihjLGUsZyl7Zy5sZW5ndGgmJihyPSFrJiZnWzBdLnNlbGVjdGVkP1thLnUuTChnWzBdKV06W10seT0hMCk7ZT1iLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtjPT09UT8oYS5hLkFiKGUsZC5nZXQoXCJvcHRpb25zQ2FwdGlvblwiKSksYS51LnlhKGUscCkpOihnPWYoYyxkLmdldChcIm9wdGlvbnNWYWx1ZVwiKSxjKSxhLnUueWEoZSxhLmEuYyhnKSksYz1mKGMsZC5nZXQoXCJvcHRpb25zVGV4dFwiKSxnKSxhLmEuQWIoZSxjKSk7cmV0dXJuW2VdfSxjLGwpO2Eudi5LKGZ1bmN0aW9uKCl7aWYoaylhLnUueWEoYixhLmEuYyhkLmdldChcInZhbHVlXCIpKSwhMCk7ZWxzZXt2YXIgYztoP2M9ci5sZW5ndGgmJmUoKS5sZW5ndGg8ci5sZW5ndGg6Yz1yLmxlbmd0aCYmMDw9Yi5zZWxlY3RlZEluZGV4P2EudS5MKGIub3B0aW9uc1tiLnNlbGVjdGVkSW5kZXhdKSE9PVxuclswXTpyLmxlbmd0aHx8MDw9Yi5zZWxlY3RlZEluZGV4O2MmJmEuYS5GYihiLFwiY2hhbmdlXCIpfX0pO2EuYS52ZChiKTttJiYyMDxNYXRoLmFicyhtLWIuc2Nyb2xsVG9wKSYmKGIuc2Nyb2xsVG9wPW0pfX07YS5mLm9wdGlvbnMuWWI9YS5hLmcuWigpO2EuZi5zZWxlY3RlZE9wdGlvbnM9e2FmdGVyOltcIm9wdGlvbnNcIixcImZvcmVhY2hcIl0saW5pdDpmdW5jdGlvbihiLGMsZCl7YS5hLkgoYixcImNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGU9YygpLGY9W107YS5hLkMoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9wdGlvblwiKSxmdW5jdGlvbihiKXtiLnNlbGVjdGVkJiZmLnB1c2goYS51LkwoYikpfSk7YS5tLiRhKGUsZCxcInNlbGVjdGVkT3B0aW9uc1wiLGYpfSl9LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2lmKFwic2VsZWN0XCIhPWEuYS5QKGIpKXRocm93IEVycm9yKFwidmFsdWVzIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTt2YXIgZD1hLmEuYyhjKCkpLGU9Yi5zY3JvbGxUb3A7XG5kJiZcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgmJmEuYS5DKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7dmFyIGM9MDw9YS5hLkEoZCxhLnUuTChiKSk7Yi5zZWxlY3RlZCE9YyYmYS5hLlljKGIsYyl9KTtiLnNjcm9sbFRvcD1lfX07YS5tLnZhLnNlbGVjdGVkT3B0aW9ucz0hMDthLmYuc3R5bGU9e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5jKGMoKXx8e30pO2EuYS5PKGQsZnVuY3Rpb24oYyxkKXtkPWEuYS5jKGQpO2lmKG51bGw9PT1kfHxkPT09cHx8ITE9PT1kKWQ9XCJcIjtpZih2KXYoYikuY3NzKGMsZCk7ZWxzZSBpZigvXi0tLy50ZXN0KGMpKWIuc3R5bGUuc2V0UHJvcGVydHkoYyxkKTtlbHNle2M9Yy5yZXBsYWNlKC8tKFxcdykvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9KTt2YXIgZz1iLnN0eWxlW2NdO2Iuc3R5bGVbY109ZDtkPT09Z3x8Yi5zdHlsZVtjXSE9Z3x8aXNOYU4oZCl8fChiLnN0eWxlW2NdPVxuZCtcInB4XCIpfX0pfX07YS5mLnN1Ym1pdD17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMoKSl0aHJvdyBFcnJvcihcIlRoZSB2YWx1ZSBmb3IgYSBzdWJtaXQgYmluZGluZyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YS5hLkgoYixcInN1Ym1pdFwiLGZ1bmN0aW9uKGEpe3ZhciBkLGU9YygpO3RyeXtkPWUuY2FsbChmLiRkYXRhLGIpfWZpbmFsbHl7ITAhPT1kJiYoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9fSl9fTthLmYudGV4dD17aW5pdDpmdW5jdGlvbigpe3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYS5BYihiLGMoKSl9fTthLmguZWEudGV4dD0hMDsoZnVuY3Rpb24oKXtpZih6JiZ6Lm5hdmlnYXRvcil7dmFyIGI9ZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gcGFyc2VGbG9hdChhWzFdKX0sYz16Lm5hdmlnYXRvci51c2VyQWdlbnQsXG5kLGUsZixnLGg7KGQ9ei5vcGVyYSYmei5vcGVyYS52ZXJzaW9uJiZwYXJzZUludCh6Lm9wZXJhLnZlcnNpb24oKSkpfHwoaD1iKGMubWF0Y2goL0VkZ2VcXC8oW14gXSspJC8pKSl8fGIoYy5tYXRjaCgvQ2hyb21lXFwvKFteIF0rKS8pKXx8KGU9YihjLm1hdGNoKC9WZXJzaW9uXFwvKFteIF0rKSBTYWZhcmkvKSkpfHwoZj1iKGMubWF0Y2goL0ZpcmVmb3hcXC8oW14gXSspLykpKXx8KGc9YS5hLld8fGIoYy5tYXRjaCgvTVNJRSAoW14gXSspLykpKXx8KGc9YihjLm1hdGNoKC9ydjooW14gKV0rKS8pKSl9aWYoODw9ZyYmMTA+Zyl2YXIgbT1hLmEuZy5aKCksbD1hLmEuZy5aKCksaz1mdW5jdGlvbihiKXt2YXIgYz10aGlzLmFjdGl2ZUVsZW1lbnQ7KGM9YyYmYS5hLmcuZ2V0KGMsbCkpJiZjKGIpfSxxPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2EuYS5nLmdldChkLG0pfHwoYS5hLmcuc2V0KGQsbSwhMCksYS5hLkgoZCxcInNlbGVjdGlvbmNoYW5nZVwiLGspKTthLmEuZy5zZXQoYixcbmwsYyl9O2EuZi50ZXh0SW5wdXQ9e2luaXQ6ZnVuY3Rpb24oYixjLGwpe2Z1bmN0aW9uIGsoYyxkKXthLmEuSChiLGMsZCl9ZnVuY3Rpb24gbSgpe3ZhciBkPWEuYS5jKGMoKSk7aWYobnVsbD09PWR8fGQ9PT1wKWQ9XCJcIjtMIT09cCYmZD09PUw/YS5hLnNldFRpbWVvdXQobSw0KTpiLnZhbHVlIT09ZCYmKHg9ITAsYi52YWx1ZT1kLHg9ITEsdj1iLnZhbHVlKX1mdW5jdGlvbiB0KCl7d3x8KEw9Yi52YWx1ZSx3PWEuYS5zZXRUaW1lb3V0KEIsNCkpfWZ1bmN0aW9uIEIoKXtjbGVhclRpbWVvdXQodyk7TD13PXA7dmFyIGQ9Yi52YWx1ZTt2IT09ZCYmKHY9ZCxhLm0uJGEoYygpLGwsXCJ0ZXh0SW5wdXRcIixkKSl9dmFyIHY9Yi52YWx1ZSx3LEwsej05PT1hLmEuVz90OkIseD0hMTtnJiZrKFwia2V5cHJlc3NcIixCKTsxMT5nJiZrKFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbihhKXt4fHxcInZhbHVlXCIhPT1hLnByb3BlcnR5TmFtZXx8eihhKX0pOzg9PWcmJihrKFwia2V5dXBcIixCKSxrKFwia2V5ZG93blwiLFxuQikpO3EmJihxKGIseiksayhcImRyYWdlbmRcIix0KSk7KCFnfHw5PD1nKSYmayhcImlucHV0XCIseik7NT5lJiZcInRleHRhcmVhXCI9PT1hLmEuUChiKT8oayhcImtleWRvd25cIix0KSxrKFwicGFzdGVcIix0KSxrKFwiY3V0XCIsdCkpOjExPmQ/ayhcImtleWRvd25cIix0KTo0PmY/KGsoXCJET01BdXRvQ29tcGxldGVcIixCKSxrKFwiZHJhZ2Ryb3BcIixCKSxrKFwiZHJvcFwiLEIpKTpoJiZcIm51bWJlclwiPT09Yi50eXBlJiZrKFwia2V5ZG93blwiLHQpO2soXCJjaGFuZ2VcIixCKTtrKFwiYmx1clwiLEIpO2EubyhtLG51bGwse2w6Yn0pfX07YS5tLnZhLnRleHRJbnB1dD0hMDthLmYudGV4dGlucHV0PXtwcmVwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXtjKFwidGV4dElucHV0XCIsYSl9fX0pKCk7YS5mLnVuaXF1ZU5hbWU9e2luaXQ6ZnVuY3Rpb24oYixjKXtpZihjKCkpe3ZhciBkPVwia29fdW5pcXVlX1wiKyArK2EuZi51bmlxdWVOYW1lLnFkO2EuYS5YYyhiLGQpfX19O2EuZi51bmlxdWVOYW1lLnFkPTA7YS5mLnVzaW5nPXtpbml0OmZ1bmN0aW9uKGIsXG5jLGQsZSxmKXt2YXIgZztkLmhhcyhcImFzXCIpJiYoZz17YXM6ZC5nZXQoXCJhc1wiKSxub0NoaWxkQ29udGV4dDpkLmdldChcIm5vQ2hpbGRDb250ZXh0XCIpfSk7Yz1mLmNyZWF0ZUNoaWxkQ29udGV4dChjLGcpO2EuUGEoYyxiKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLnVzaW5nPSEwO2EuZi52YWx1ZT17YWZ0ZXI6W1wib3B0aW9uc1wiLFwiZm9yZWFjaFwiXSxpbml0OmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuUChiKSxmPVwiaW5wdXRcIj09ZTtpZighZnx8XCJjaGVja2JveFwiIT1iLnR5cGUmJlwicmFkaW9cIiE9Yi50eXBlKXt2YXIgZz1bXCJjaGFuZ2VcIl0saD1kLmdldChcInZhbHVlVXBkYXRlXCIpLG09ITEsbD1udWxsO2gmJihcInN0cmluZ1wiPT10eXBlb2YgaCYmKGg9W2hdKSxhLmEuZ2IoZyxoKSxnPWEuYS52YyhnKSk7dmFyIGs9ZnVuY3Rpb24oKXtsPW51bGw7bT0hMTt2YXIgZT1jKCksZj1hLnUuTChiKTthLm0uJGEoZSxkLFwidmFsdWVcIixmKX07IWEuYS5XfHxcbiFmfHxcInRleHRcIiE9Yi50eXBlfHxcIm9mZlwiPT1iLmF1dG9jb21wbGV0ZXx8Yi5mb3JtJiZcIm9mZlwiPT1iLmZvcm0uYXV0b2NvbXBsZXRlfHwtMSE9YS5hLkEoZyxcInByb3BlcnR5Y2hhbmdlXCIpfHwoYS5hLkgoYixcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oKXttPSEwfSksYS5hLkgoYixcImZvY3VzXCIsZnVuY3Rpb24oKXttPSExfSksYS5hLkgoYixcImJsdXJcIixmdW5jdGlvbigpe20mJmsoKX0pKTthLmEuQyhnLGZ1bmN0aW9uKGMpe3ZhciBkPWs7YS5hLlRkKGMsXCJhZnRlclwiKSYmKGQ9ZnVuY3Rpb24oKXtsPWEudS5MKGIpO2EuYS5zZXRUaW1lb3V0KGssMCl9LGM9Yy5zdWJzdHJpbmcoNSkpO2EuYS5IKGIsYyxkKX0pO3ZhciBxO3E9ZiYmXCJmaWxlXCI9PWIudHlwZT9mdW5jdGlvbigpe3ZhciBkPWEuYS5jKGMoKSk7bnVsbD09PWR8fGQ9PT1wfHxcIlwiPT09ZD9iLnZhbHVlPVwiXCI6YS52Lksoayl9OmZ1bmN0aW9uKCl7dmFyIGY9YS5hLmMoYygpKSxnPWEudS5MKGIpO2lmKG51bGwhPT1sJiZcbmY9PT1sKWEuYS5zZXRUaW1lb3V0KHEsMCk7ZWxzZSBpZihmIT09Z3x8Zz09PXApXCJzZWxlY3RcIj09PWU/KGc9ZC5nZXQoXCJ2YWx1ZUFsbG93VW5zZXRcIiksYS51LnlhKGIsZixnKSxnfHxmPT09YS51LkwoYil8fGEudi5LKGspKTphLnUueWEoYixmKX07YS5vKHEsbnVsbCx7bDpifSl9ZWxzZSBhLmViKGIse2NoZWNrZWRWYWx1ZTpjfSl9LHVwZGF0ZTpmdW5jdGlvbigpe319O2EubS52YS52YWx1ZT0hMDthLmYudmlzaWJsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmMoYygpKSxlPVwibm9uZVwiIT1iLnN0eWxlLmRpc3BsYXk7ZCYmIWU/Yi5zdHlsZS5kaXNwbGF5PVwiXCI6IWQmJmUmJihiLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfX07YS5mLmhpZGRlbj17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5mLnZpc2libGUudXBkYXRlKGIsZnVuY3Rpb24oKXtyZXR1cm4hYS5hLmMoYygpKX0pfX07KGZ1bmN0aW9uKGIpe2EuZltiXT17aW5pdDpmdW5jdGlvbihjLGQsZSxmLGcpe3JldHVybiBhLmYuZXZlbnQuaW5pdC5jYWxsKHRoaXMsXG5jLGZ1bmN0aW9uKCl7dmFyIGE9e307YVtiXT1kKCk7cmV0dXJuIGF9LGUsZixnKX19fSkoXCJjbGlja1wiKTthLmNhPWZ1bmN0aW9uKCl7fTthLmNhLnByb3RvdHlwZS5yZW5kZXJUZW1wbGF0ZVNvdXJjZT1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiT3ZlcnJpZGUgcmVuZGVyVGVtcGxhdGVTb3VyY2VcIik7fTthLmNhLnByb3RvdHlwZS5jcmVhdGVKYXZhU2NyaXB0RXZhbHVhdG9yQmxvY2s9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcIk92ZXJyaWRlIGNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9ja1wiKTt9O2EuY2EucHJvdG90eXBlLm1ha2VUZW1wbGF0ZVNvdXJjZT1mdW5jdGlvbihiLGMpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKXtjPWN8fHc7dmFyIGQ9Yy5nZXRFbGVtZW50QnlJZChiKTtpZighZCl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIHRlbXBsYXRlIHdpdGggSUQgXCIrYik7cmV0dXJuIG5ldyBhLkIuRChkKX1pZigxPT1iLm5vZGVUeXBlfHw4PT1iLm5vZGVUeXBlKXJldHVybiBuZXcgYS5CLmlhKGIpO1xudGhyb3cgRXJyb3IoXCJVbmtub3duIHRlbXBsYXRlIHR5cGU6IFwiK2IpO307YS5jYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGU9ZnVuY3Rpb24oYSxjLGQsZSl7YT10aGlzLm1ha2VUZW1wbGF0ZVNvdXJjZShhLGUpO3JldHVybiB0aGlzLnJlbmRlclRlbXBsYXRlU291cmNlKGEsYyxkLGUpfTthLmNhLnByb3RvdHlwZS5pc1RlbXBsYXRlUmV3cml0dGVuPWZ1bmN0aW9uKGEsYyl7cmV0dXJuITE9PT10aGlzLmFsbG93VGVtcGxhdGVSZXdyaXRpbmc/ITA6dGhpcy5tYWtlVGVtcGxhdGVTb3VyY2UoYSxjKS5kYXRhKFwiaXNSZXdyaXR0ZW5cIil9O2EuY2EucHJvdG90eXBlLnJld3JpdGVUZW1wbGF0ZT1mdW5jdGlvbihhLGMsZCl7YT10aGlzLm1ha2VUZW1wbGF0ZVNvdXJjZShhLGQpO2M9YyhhLnRleHQoKSk7YS50ZXh0KGMpO2EuZGF0YShcImlzUmV3cml0dGVuXCIsITApfTthLmIoXCJ0ZW1wbGF0ZUVuZ2luZVwiLGEuY2EpO2EuaWM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkLGgpe2I9YS5tLlpiKGIpO1xuZm9yKHZhciBtPWEubS5SYSxsPTA7bDxiLmxlbmd0aDtsKyspe3ZhciBrPWJbbF0ua2V5O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtLGspKXt2YXIgcT1tW2tdO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBxKXtpZihrPXEoYltsXS52YWx1ZSkpdGhyb3cgRXJyb3Ioayk7fWVsc2UgaWYoIXEpdGhyb3cgRXJyb3IoXCJUaGlzIHRlbXBsYXRlIGVuZ2luZSBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnXCIraytcIicgYmluZGluZyB3aXRoaW4gaXRzIHRlbXBsYXRlc1wiKTt9fWQ9XCJrby5fX3RyX2FtYnRucyhmdW5jdGlvbigkY29udGV4dCwkZWxlbWVudCl7cmV0dXJuKGZ1bmN0aW9uKCl7cmV0dXJueyBcIithLm0udWIoYix7dmFsdWVBY2Nlc3NvcnM6ITB9KStcIiB9IH0pKCl9LCdcIitkLnRvTG93ZXJDYXNlKCkrXCInKVwiO3JldHVybiBoLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jayhkKStjfXZhciBjPS8oPChbYS16XStcXGQqKSg/OlxccysoPyFkYXRhLWJpbmRcXHMqPVxccyopW2EtejAtOVxcLV0rKD86PSg/OlxcXCJbXlxcXCJdKlxcXCJ8XFwnW15cXCddKlxcJ3xbXj5dKikpPykqXFxzKylkYXRhLWJpbmRcXHMqPVxccyooW1wiJ10pKFtcXHNcXFNdKj8pXFwzL2dpLFxuZD0vXFx4M2MhLS1cXHMqa29cXGJcXHMqKFtcXHNcXFNdKj8pXFxzKi0tXFx4M2UvZztyZXR1cm57d2Q6ZnVuY3Rpb24oYixjLGQpe2MuaXNUZW1wbGF0ZVJld3JpdHRlbihiLGQpfHxjLnJld3JpdGVUZW1wbGF0ZShiLGZ1bmN0aW9uKGIpe3JldHVybiBhLmljLktkKGIsYyl9LGQpfSxLZDpmdW5jdGlvbihhLGYpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlLGspe3JldHVybiBiKGssYyxkLGYpfSkucmVwbGFjZShkLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIoYyxcIlxceDNjIS0tIGtvIC0tXFx4M2VcIixcIiNjb21tZW50XCIsZil9KX0sbGQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5hYS5XYihmdW5jdGlvbihkLGgpe3ZhciBtPWQubmV4dFNpYmxpbmc7bSYmbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09YyYmYS5lYihtLGIsaCl9KX19fSgpO2EuYihcIl9fdHJfYW1idG5zXCIsYS5pYy5sZCk7KGZ1bmN0aW9uKCl7YS5CPXt9O2EuQi5EPWZ1bmN0aW9uKGIpe2lmKHRoaXMuRD1iKXt2YXIgYz1cbmEuYS5QKGIpO3RoaXMuRGI9XCJzY3JpcHRcIj09PWM/MTpcInRleHRhcmVhXCI9PT1jPzI6XCJ0ZW1wbGF0ZVwiPT1jJiZiLmNvbnRlbnQmJjExPT09Yi5jb250ZW50Lm5vZGVUeXBlPzM6NH19O2EuQi5ELnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7dmFyIGI9MT09PXRoaXMuRGI/XCJ0ZXh0XCI6Mj09PXRoaXMuRGI/XCJ2YWx1ZVwiOlwiaW5uZXJIVE1MXCI7aWYoMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5EW2JdO3ZhciBjPWFyZ3VtZW50c1swXTtcImlubmVySFRNTFwiPT09Yj9hLmEuZGModGhpcy5ELGMpOnRoaXMuRFtiXT1jfTt2YXIgYj1hLmEuZy5aKCkrXCJfXCI7YS5CLkQucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oYyl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEuYS5nLmdldCh0aGlzLkQsYitjKTthLmEuZy5zZXQodGhpcy5ELGIrYyxhcmd1bWVudHNbMV0pfTt2YXIgYz1hLmEuZy5aKCk7YS5CLkQucHJvdG90eXBlLm5vZGVzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5EO1xuaWYoMD09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YS5hLmcuZ2V0KGIsYyl8fHt9LGY9ZS5qYnx8KDM9PT10aGlzLkRiP2IuY29udGVudDo0PT09dGhpcy5EYj9iOnApO2lmKCFmfHxlLmhkKWlmKGU9dGhpcy50ZXh0KCkpZj1hLmEuTGQoZSxiLm93bmVyRG9jdW1lbnQpLHRoaXMudGV4dChcIlwiKSxhLmEuZy5zZXQoYixjLHtqYjpmLGhkOiEwfSk7cmV0dXJuIGZ9YS5hLmcuc2V0KGIsYyx7amI6YXJndW1lbnRzWzBdfSl9O2EuQi5pYT1mdW5jdGlvbihhKXt0aGlzLkQ9YX07YS5CLmlhLnByb3RvdHlwZT1uZXcgYS5CLkQ7YS5CLmlhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLkIuaWE7YS5CLmlhLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7aWYoMD09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGI9YS5hLmcuZ2V0KHRoaXMuRCxjKXx8e307Yi5qYz09PXAmJmIuamImJihiLmpjPWIuamIuaW5uZXJIVE1MKTtyZXR1cm4gYi5qY31hLmEuZy5zZXQodGhpcy5ELGMse2pjOmFyZ3VtZW50c1swXX0pfTtcbmEuYihcInRlbXBsYXRlU291cmNlc1wiLGEuQik7YS5iKFwidGVtcGxhdGVTb3VyY2VzLmRvbUVsZW1lbnRcIixhLkIuRCk7YS5iKFwidGVtcGxhdGVTb3VyY2VzLmFub255bW91c1RlbXBsYXRlXCIsYS5CLmlhKX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCl7dmFyIGU7Zm9yKGM9YS5oLm5leHRTaWJsaW5nKGMpO2ImJihlPWIpIT09YzspYj1hLmgubmV4dFNpYmxpbmcoZSksZChlLGIpfWZ1bmN0aW9uIGMoYyxkKXtpZihjLmxlbmd0aCl7dmFyIGU9Y1swXSxmPWNbYy5sZW5ndGgtMV0sZz1lLnBhcmVudE5vZGUsaD1hLmdhLmluc3RhbmNlLG09aC5wcmVwcm9jZXNzTm9kZTtpZihtKXtiKGUsZixmdW5jdGlvbihhLGIpe3ZhciBjPWEucHJldmlvdXNTaWJsaW5nLGQ9bS5jYWxsKGgsYSk7ZCYmKGE9PT1lJiYoZT1kWzBdfHxiKSxhPT09ZiYmKGY9ZFtkLmxlbmd0aC0xXXx8YykpfSk7Yy5sZW5ndGg9MDtpZighZSlyZXR1cm47ZT09PWY/Yy5wdXNoKGUpOihjLnB1c2goZSxmKSxhLmEuVWEoYyxcbmcpKX1iKGUsZixmdW5jdGlvbihiKXsxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGV8fGEudWMoZCxiKX0pO2IoZSxmLGZ1bmN0aW9uKGIpezEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZXx8YS5hYS5iZChiLFtkXSl9KTthLmEuVWEoYyxnKX19ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5ub2RlVHlwZT9hOjA8YS5sZW5ndGg/YVswXTpudWxsfWZ1bmN0aW9uIGUoYixlLGYsaCxtKXttPW18fHt9O3ZhciBwPShiJiZkKGIpfHxmfHx7fSkub3duZXJEb2N1bWVudCxBPW0udGVtcGxhdGVFbmdpbmV8fGc7YS5pYy53ZChmLEEscCk7Zj1BLnJlbmRlclRlbXBsYXRlKGYsaCxtLHApO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBmLmxlbmd0aHx8MDxmLmxlbmd0aCYmXCJudW1iZXJcIiE9dHlwZW9mIGZbMF0ubm9kZVR5cGUpdGhyb3cgRXJyb3IoXCJUZW1wbGF0ZSBlbmdpbmUgbXVzdCByZXR1cm4gYW4gYXJyYXkgb2YgRE9NIG5vZGVzXCIpO3A9ITE7c3dpdGNoKGUpe2Nhc2UgXCJyZXBsYWNlQ2hpbGRyZW5cIjphLmgudWEoYixcbmYpO3A9ITA7YnJlYWs7Y2FzZSBcInJlcGxhY2VOb2RlXCI6YS5hLldjKGIsZik7cD0hMDticmVhaztjYXNlIFwiaWdub3JlVGFyZ2V0Tm9kZVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIHJlbmRlck1vZGU6IFwiK2UpO31wJiYoYyhmLGgpLG0uYWZ0ZXJSZW5kZXImJmEudi5LKG0uYWZ0ZXJSZW5kZXIsbnVsbCxbZixoW20uYXN8fFwiJGRhdGFcIl1dKSxcInJlcGxhY2VDaGlsZHJlblwiPT1lJiZhLmouR2EoYixhLmouVCkpO3JldHVybiBmfWZ1bmN0aW9uIGYoYixjLGQpe3JldHVybiBhLk4oYik/YigpOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2IoYyxkKTpifXZhciBnO2EuZWM9ZnVuY3Rpb24oYil7aWYoYiE9cCYmIShiIGluc3RhbmNlb2YgYS5jYSkpdGhyb3cgRXJyb3IoXCJ0ZW1wbGF0ZUVuZ2luZSBtdXN0IGluaGVyaXQgZnJvbSBrby50ZW1wbGF0ZUVuZ2luZVwiKTtnPWJ9O2EuYmM9ZnVuY3Rpb24oYixjLGgsbSxyKXtoPWh8fHt9O2lmKChoLnRlbXBsYXRlRW5naW5lfHxnKT09XG5wKXRocm93IEVycm9yKFwiU2V0IGEgdGVtcGxhdGUgZW5naW5lIGJlZm9yZSBjYWxsaW5nIHJlbmRlclRlbXBsYXRlXCIpO3I9cnx8XCJyZXBsYWNlQ2hpbGRyZW5cIjtpZihtKXt2YXIgeT1kKG0pO3JldHVybiBhLiQoZnVuY3Rpb24oKXt2YXIgZz1jJiZjIGluc3RhbmNlb2YgYS5mYT9jOm5ldyBhLmZhKGMsbnVsbCxudWxsLG51bGwse2V4cG9ydERlcGVuZGVuY2llczohMH0pLHA9ZihiLGcuJGRhdGEsZyksZz1lKG0scixwLGcsaCk7XCJyZXBsYWNlTm9kZVwiPT1yJiYobT1nLHk9ZChtKSl9LG51bGwse1NhOmZ1bmN0aW9uKCl7cmV0dXJuIXl8fCFhLmEuUmIoeSl9LGw6eSYmXCJyZXBsYWNlTm9kZVwiPT1yP3kucGFyZW50Tm9kZTp5fSl9cmV0dXJuIGEuYWEuV2IoZnVuY3Rpb24oZCl7YS5iYyhiLGMsaCxkLFwicmVwbGFjZU5vZGVcIil9KX07YS5QZD1mdW5jdGlvbihiLGQsZyxoLG0pe2Z1bmN0aW9uIHkoYixjKXthLnYuSyhhLmEuY2MsbnVsbCxbaCxiLHUsZyx0LGNdKTthLmouR2EoaCxhLmouVCl9XG5mdW5jdGlvbiB0KGEsYil7YyhiLHYpO2cuYWZ0ZXJSZW5kZXImJmcuYWZ0ZXJSZW5kZXIoYixhKTt2PW51bGx9ZnVuY3Rpb24gdShhLGMpe3Y9bS5jcmVhdGVDaGlsZENvbnRleHQoYSx7YXM6Qixub0NoaWxkQ29udGV4dDpnLm5vQ2hpbGRDb250ZXh0LGV4dGVuZDpmdW5jdGlvbihhKXthLiRpbmRleD1jO0ImJihhW0IrXCJJbmRleFwiXT1jKX19KTt2YXIgZD1mKGIsYSx2KTtyZXR1cm4gZShoLFwiaWdub3JlVGFyZ2V0Tm9kZVwiLGQsdixnKX12YXIgdixCPWcuYXMsdz0hMT09PWcuaW5jbHVkZURlc3Ryb3llZHx8YS5vcHRpb25zLmZvcmVhY2hIaWRlc0Rlc3Ryb3llZCYmIWcuaW5jbHVkZURlc3Ryb3llZDtpZih3fHxnLmJlZm9yZVJlbW92ZXx8IWEuT2MoZCkpcmV0dXJuIGEuJChmdW5jdGlvbigpe3ZhciBiPWEuYS5jKGQpfHxbXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgYi5sZW5ndGgmJihiPVtiXSk7dyYmKGI9YS5hLmZiKGIsZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1wfHxudWxsPT09Ynx8XG4hYS5hLmMoYi5fZGVzdHJveSl9KSk7eShiKX0sbnVsbCx7bDpofSk7eShkLncoKSk7dmFyIHo9ZC5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7eShkKCksYSl9LG51bGwsXCJhcnJheUNoYW5nZVwiKTt6LmwoaCk7cmV0dXJuIHp9O3ZhciBoPWEuYS5nLlooKSxtPWEuYS5nLlooKTthLmYudGVtcGxhdGU9e2luaXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuYyhjKCkpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBkfHxkLm5hbWUpYS5oLkVhKGIpO2Vsc2UgaWYoXCJub2Rlc1wiaW4gZCl7ZD1kLm5vZGVzfHxbXTtpZihhLk4oZCkpdGhyb3cgRXJyb3IoJ1RoZSBcIm5vZGVzXCIgb3B0aW9uIG11c3QgYmUgYSBwbGFpbiwgbm9uLW9ic2VydmFibGUgYXJyYXkuJyk7dmFyIGU9ZFswXSYmZFswXS5wYXJlbnROb2RlO2UmJmEuYS5nLmdldChlLG0pfHwoZT1hLmEuWGIoZCksYS5hLmcuc2V0KGUsbSwhMCkpOyhuZXcgYS5CLmlhKGIpKS5ub2RlcyhlKX1lbHNlIGlmKGQ9YS5oLmNoaWxkTm9kZXMoYiksMDxkLmxlbmd0aCllPVxuYS5hLlhiKGQpLChuZXcgYS5CLmlhKGIpKS5ub2RlcyhlKTtlbHNlIHRocm93IEVycm9yKFwiQW5vbnltb3VzIHRlbXBsYXRlIGRlZmluZWQsIGJ1dCBubyB0ZW1wbGF0ZSBjb250ZW50IHdhcyBwcm92aWRlZFwiKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZz1jKCk7Yz1hLmEuYyhnKTtkPSEwO2U9bnVsbDtcInN0cmluZ1wiPT10eXBlb2YgYz9jPXt9OihnPWMubmFtZSxcImlmXCJpbiBjJiYoZD1hLmEuYyhjW1wiaWZcIl0pKSxkJiZcImlmbm90XCJpbiBjJiYoZD0hYS5hLmMoYy5pZm5vdCkpKTtcImZvcmVhY2hcImluIGM/ZT1hLlBkKGd8fGIsZCYmYy5mb3JlYWNofHxbXSxjLGIsZik6ZD8oZD1mLFwiZGF0YVwiaW4gYyYmKGQ9Zi5jcmVhdGVDaGlsZENvbnRleHQoYy5kYXRhLHthczpjLmFzLG5vQ2hpbGRDb250ZXh0OmMubm9DaGlsZENvbnRleHQsZXhwb3J0RGVwZW5kZW5jaWVzOiEwfSkpLGU9YS5iYyhnfHxiLGQsYyxcbmIpKTphLmguRWEoYik7Zj1lOyhjPWEuYS5nLmdldChiLGgpKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYy5zJiZjLnMoKTthLmEuZy5zZXQoYixoLCFmfHxmLmphJiYhZi5qYSgpP3A6Zil9fTthLm0uUmEudGVtcGxhdGU9ZnVuY3Rpb24oYil7Yj1hLm0uWmIoYik7cmV0dXJuIDE9PWIubGVuZ3RoJiZiWzBdLnVua25vd258fGEubS5IZChiLFwibmFtZVwiKT9udWxsOlwiVGhpcyB0ZW1wbGF0ZSBlbmdpbmUgZG9lcyBub3Qgc3VwcG9ydCBhbm9ueW1vdXMgdGVtcGxhdGVzIG5lc3RlZCB3aXRoaW4gaXRzIHRlbXBsYXRlc1wifTthLmguZWEudGVtcGxhdGU9ITB9KSgpO2EuYihcInNldFRlbXBsYXRlRW5naW5lXCIsYS5lYyk7YS5iKFwicmVuZGVyVGVtcGxhdGVcIixhLmJjKTthLmEuSmM9ZnVuY3Rpb24oYSxjLGQpe2lmKGEubGVuZ3RoJiZjLmxlbmd0aCl7dmFyIGUsZixnLGgsbTtmb3IoZT1mPTA7KCFkfHxlPGQpJiYoaD1hW2ZdKTsrK2Ype2ZvcihnPTA7bT1jW2ddOysrZylpZihoLnZhbHVlPT09bS52YWx1ZSl7aC5tb3ZlZD1cbm0uaW5kZXg7bS5tb3ZlZD1oLmluZGV4O2Muc3BsaWNlKGcsMSk7ZT1nPTA7YnJlYWt9ZSs9Z319fTthLmEuT2I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCxlLGYsZyl7dmFyIGg9TWF0aC5taW4sbT1NYXRoLm1heCxsPVtdLGsscD1iLmxlbmd0aCxuLHI9ZC5sZW5ndGgsdD1yLXB8fDEsQT1wK3IrMSx1LHYsdztmb3Ioaz0wO2s8PXA7aysrKWZvcih2PXUsbC5wdXNoKHU9W10pLHc9aChyLGsrdCksbj1tKDAsay0xKTtuPD13O24rKyl1W25dPW4/az9iW2stMV09PT1kW24tMV0/dltuLTFdOmgodltuXXx8QSx1W24tMV18fEEpKzE6bisxOmsrMTtoPVtdO209W107dD1bXTtrPXA7Zm9yKG49cjtrfHxuOylyPWxba11bbl0tMSxuJiZyPT09bFtrXVtuLTFdP20ucHVzaChoW2gubGVuZ3RoXT17c3RhdHVzOmUsdmFsdWU6ZFstLW5dLGluZGV4Om59KTprJiZyPT09bFtrLTFdW25dP3QucHVzaChoW2gubGVuZ3RoXT17c3RhdHVzOmYsdmFsdWU6YlstLWtdLGluZGV4Omt9KTooLS1uLC0tayxcbmcuc3BhcnNlfHxoLnB1c2goe3N0YXR1czpcInJldGFpbmVkXCIsdmFsdWU6ZFtuXX0pKTthLmEuSmModCxtLCFnLmRvbnRMaW1pdE1vdmVzJiYxMCpwKTtyZXR1cm4gaC5yZXZlcnNlKCl9cmV0dXJuIGZ1bmN0aW9uKGEsZCxlKXtlPVwiYm9vbGVhblwiPT09dHlwZW9mIGU/e2RvbnRMaW1pdE1vdmVzOmV9OmV8fHt9O2E9YXx8W107ZD1kfHxbXTtyZXR1cm4gYS5sZW5ndGg8ZC5sZW5ndGg/YihhLGQsXCJhZGRlZFwiLFwiZGVsZXRlZFwiLGUpOmIoZCxhLFwiZGVsZXRlZFwiLFwiYWRkZWRcIixlKX19KCk7YS5iKFwidXRpbHMuY29tcGFyZUFycmF5c1wiLGEuYS5PYik7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCxoLG0pe3ZhciBsPVtdLGs9YS4kKGZ1bmN0aW9uKCl7dmFyIGs9YyhkLG0sYS5hLlVhKGwsYikpfHxbXTswPGwubGVuZ3RoJiYoYS5hLldjKGwsayksaCYmYS52LksoaCxudWxsLFtkLGssbV0pKTtsLmxlbmd0aD0wO2EuYS5nYihsLGspfSxudWxsLHtsOmIsU2E6ZnVuY3Rpb24oKXtyZXR1cm4hYS5hLmpkKGwpfX0pO1xucmV0dXJue1k6bCwkOmsuamEoKT9rOnB9fXZhciBjPWEuYS5nLlooKSxkPWEuYS5nLlooKTthLmEuY2M9ZnVuY3Rpb24oZSxmLGcsaCxtLGwpe2Z1bmN0aW9uIGsoYil7eD17QWE6YixuYjphLnNhKHcrKyl9O3YucHVzaCh4KTt0fHxGLnB1c2goeCl9ZnVuY3Rpb24gcShiKXt4PXJbYl07dyE9PXgubmIudygpJiZELnB1c2goeCk7eC5uYih3KyspO2EuYS5VYSh4LlksZSk7di5wdXNoKHgpfWZ1bmN0aW9uIG4oYixjKXtpZihiKWZvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylhLmEuQyhjW2RdLlksZnVuY3Rpb24oYSl7YihhLGQsY1tkXS5BYSl9KX1mPWZ8fFtdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBmLmxlbmd0aCYmKGY9W2ZdKTtoPWh8fHt9O3ZhciByPWEuYS5nLmdldChlLGMpLHQ9IXIsdj1bXSx1PTAsdz0wLEI9W10sej1bXSxDPVtdLEQ9W10sRj1bXSx4LEk9MDtpZih0KWEuYS5DKGYsayk7ZWxzZXtpZighbHx8ciYmci5fY291bnRXYWl0aW5nRm9yUmVtb3ZlKXt2YXIgRT1cbmEuYS5NYihyLGZ1bmN0aW9uKGEpe3JldHVybiBhLkFhfSk7bD1hLmEuT2IoRSxmLHtkb250TGltaXRNb3ZlczpoLmRvbnRMaW1pdE1vdmVzLHNwYXJzZTohMH0pfWZvcih2YXIgRT0wLEcsSCxLO0c9bFtFXTtFKyspc3dpdGNoKEg9Ry5tb3ZlZCxLPUcuaW5kZXgsRy5zdGF0dXMpe2Nhc2UgXCJkZWxldGVkXCI6Zm9yKDt1PEs7KXEodSsrKTtIPT09cCYmKHg9clt1XSx4LiQmJih4LiQucygpLHguJD1wKSxhLmEuVWEoeC5ZLGUpLmxlbmd0aCYmKGguYmVmb3JlUmVtb3ZlJiYodi5wdXNoKHgpLEkrKyx4LkFhPT09ZD94PW51bGw6Qy5wdXNoKHgpKSx4JiZCLnB1c2guYXBwbHkoQix4LlkpKSk7dSsrO2JyZWFrO2Nhc2UgXCJhZGRlZFwiOmZvcig7dzxLOylxKHUrKyk7SCE9PXA/KHoucHVzaCh2Lmxlbmd0aCkscShIKSk6ayhHLnZhbHVlKX1mb3IoO3c8Zi5sZW5ndGg7KXEodSsrKTt2Ll9jb3VudFdhaXRpbmdGb3JSZW1vdmU9SX1hLmEuZy5zZXQoZSxjLHYpO24oaC5iZWZvcmVNb3ZlLEQpO2EuYS5DKEIsXG5oLmJlZm9yZVJlbW92ZT9hLm5hOmEucmVtb3ZlTm9kZSk7dmFyIE0sTyxQO3RyeXtQPWUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50fWNhdGNoKE4pe31pZih6Lmxlbmd0aClmb3IoOyhFPXouc2hpZnQoKSkhPXA7KXt4PXZbRV07Zm9yKE09cDtFOylpZigoTz12Wy0tRV0uWSkmJk8ubGVuZ3RoKXtNPU9bTy5sZW5ndGgtMV07YnJlYWt9Zm9yKGY9MDt1PXguWVtmXTtNPXUsZisrKWEuaC5WYihlLHUsTSl9RT0wO2Zvcih6PWEuaC5maXJzdENoaWxkKGUpO3g9dltFXTtFKyspe3guWXx8YS5hLmV4dGVuZCh4LGIoZSxnLHguQWEsbSx4Lm5iKSk7Zm9yKGY9MDt1PXguWVtmXTt6PXUubmV4dFNpYmxpbmcsTT11LGYrKyl1IT09eiYmYS5oLlZiKGUsdSxNKTsheC5EZCYmbSYmKG0oeC5BYSx4LlkseC5uYikseC5EZD0hMCxNPXguWVt4LlkubGVuZ3RoLTFdKX1QJiZlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9UCYmUC5mb2N1cygpO24oaC5iZWZvcmVSZW1vdmUsQyk7Zm9yKEU9XG4wO0U8Qy5sZW5ndGg7KytFKUNbRV0uQWE9ZDtuKGguYWZ0ZXJNb3ZlLEQpO24oaC5hZnRlckFkZCxGKX19KSgpO2EuYihcInV0aWxzLnNldERvbU5vZGVDaGlsZHJlbkZyb21BcnJheU1hcHBpbmdcIixhLmEuY2MpO2EuYmE9ZnVuY3Rpb24oKXt0aGlzLmFsbG93VGVtcGxhdGVSZXdyaXRpbmc9ITF9O2EuYmEucHJvdG90eXBlPW5ldyBhLmNhO2EuYmEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuYmE7YS5iYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oYixjLGQsZSl7aWYoYz0oOT5hLmEuVz8wOmIubm9kZXMpP2Iubm9kZXMoKTpudWxsKXJldHVybiBhLmEubGEoYy5jbG9uZU5vZGUoITApLmNoaWxkTm9kZXMpO2I9Yi50ZXh0KCk7cmV0dXJuIGEuYS50YShiLGUpfTthLmJhLk5hPW5ldyBhLmJhO2EuZWMoYS5iYS5OYSk7YS5iKFwibmF0aXZlVGVtcGxhdGVFbmdpbmVcIixhLmJhKTsoZnVuY3Rpb24oKXthLlphPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5HZD1mdW5jdGlvbigpe2lmKCF2fHxcbiF2LnRtcGwpcmV0dXJuIDA7dHJ5e2lmKDA8PXYudG1wbC50YWcudG1wbC5vcGVuLnRvU3RyaW5nKCkuaW5kZXhPZihcIl9fXCIpKXJldHVybiAyfWNhdGNoKGEpe31yZXR1cm4gMX0oKTt0aGlzLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsZSxmLGcpe2c9Z3x8dztmPWZ8fHt9O2lmKDI+YSl0aHJvdyBFcnJvcihcIllvdXIgdmVyc2lvbiBvZiBqUXVlcnkudG1wbCBpcyB0b28gb2xkLiBQbGVhc2UgdXBncmFkZSB0byBqUXVlcnkudG1wbCAxLjAuMHByZSBvciBsYXRlci5cIik7dmFyIGg9Yi5kYXRhKFwicHJlY29tcGlsZWRcIik7aHx8KGg9Yi50ZXh0KCl8fFwiXCIsaD12LnRlbXBsYXRlKG51bGwsXCJ7e2tvX3dpdGggJGl0ZW0ua29CaW5kaW5nQ29udGV4dH19XCIraCtcInt7L2tvX3dpdGh9fVwiKSxiLmRhdGEoXCJwcmVjb21waWxlZFwiLGgpKTtiPVtlLiRkYXRhXTtlPXYuZXh0ZW5kKHtrb0JpbmRpbmdDb250ZXh0OmV9LGYudGVtcGxhdGVPcHRpb25zKTtlPXYudG1wbChoLGIsZSk7ZS5hcHBlbmRUbyhnLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xudi5mcmFnbWVudHM9e307cmV0dXJuIGV9O3RoaXMuY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrPWZ1bmN0aW9uKGEpe3JldHVyblwie3trb19jb2RlICgoZnVuY3Rpb24oKSB7IHJldHVybiBcIithK1wiIH0pKCkpIH19XCJ9O3RoaXMuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiKXt3LndyaXRlKFwiPHNjcmlwdCB0eXBlPSd0ZXh0L2h0bWwnIGlkPSdcIithK1wiJz5cIitiK1wiXFx4M2Mvc2NyaXB0PlwiKX07MDxhJiYodi50bXBsLnRhZy5rb19jb2RlPXtvcGVuOlwiX18ucHVzaCgkMSB8fCAnJyk7XCJ9LHYudG1wbC50YWcua29fd2l0aD17b3BlbjpcIndpdGgoJDEpIHtcIixjbG9zZTpcIn0gXCJ9KX07YS5aYS5wcm90b3R5cGU9bmV3IGEuY2E7YS5aYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YS5aYTt2YXIgYj1uZXcgYS5aYTswPGIuR2QmJmEuZWMoYik7YS5iKFwianF1ZXJ5VG1wbFRlbXBsYXRlRW5naW5lXCIsYS5aYSl9KSgpfSl9KSgpO30pKCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34va25vY2tvdXQvYnVpbGQvb3V0cHV0L2tub2Nrb3V0LWxhdGVzdC5qc1xuLy8gbW9kdWxlIGlkID0gMTQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBtYXAgPSB7XG5cdFwiLi9ib3gtY29udGVudC9pbmRleFwiOiAxNDMsXG5cdFwiLi9ib3gtZmlsdGVyL2luZGV4XCI6IDE0NCxcblx0XCIuL2JveC1zdGlja3kvaW5kZXhcIjogMTQ1LFxuXHRcIi4vYm94LXRhYnMvaW5kZXhcIjogMTQ2LFxuXHRcIi4vYm94L2luZGV4XCI6IDE0Nyxcblx0XCIuL2Nhc2NhZGVyL2luZGV4XCI6IDE0OCxcblx0XCIuL2Nhc2l0ZW0vaW5kZXhcIjogMTQ5LFxuXHRcIi4vZGF0ZXBpY2tlci9pbmRleFwiOiAzMCxcblx0XCIuL2RhdGVwaWNrZXIvdXRpbC9pbmRleFwiOiAxMjEsXG5cdFwiLi9kYXRldGltZXBpY2tlci9pbmRleFwiOiAxMzYsXG5cdFwiLi9kcm9wZG93bi9pbmRleFwiOiAxMzgsXG5cdFwiLi9mb3JtLWN0bi9pbmRleFwiOiAxNTAsXG5cdFwiLi9mb3JtLWdyb3VwL2luZGV4XCI6IDE1Mixcblx0XCIuL2Zvcm0tdGV4dC9pbmRleFwiOiAxNTMsXG5cdFwiLi9mb3JtLXRpdGxlL2luZGV4XCI6IDE1NCxcblx0XCIuL3BhZ2luYXRpb24vaW5kZXhcIjogMTU1LFxuXHRcIi4vcXVlcnktdGFicy9pbmRleFwiOiAxNTgsXG5cdFwiLi9zdGF0ZS1pdGVtL2luZGV4XCI6IDE1OSxcblx0XCIuL3N0YXRlLXRhYnMvaW5kZXhcIjogMTYwLFxuXHRcIi4vc3RlcC1sZWdlbmQvaW5kZXhcIjogMTYxLFxuXHRcIi4vc3RlcC9pbmRleFwiOiAxNjIsXG5cdFwiLi9zdWJtaXQvaW5kZXhcIjogMTYzLFxuXHRcIi4vdS1jaGVja2JveC9pbmRleFwiOiAxNjYsXG5cdFwiLi91LWN1cnJlbmN5L2luZGV4XCI6IDE2OCxcblx0XCIuL3UtZGF0ZXBpY2tlci9pbmRleFwiOiAxNjksXG5cdFwiLi91LWlucHV0L2luZGV4XCI6IDE3MCxcblx0XCIuL3UtbW9udGgvaW5kZXhcIjogMTcxLFxuXHRcIi4vdS1wYWdpbmF0aW9uL2luZGV4XCI6IDE3Mixcblx0XCIuL3UtcmFkaW8vaW5kZXhcIjogMTczLFxuXHRcIi4vdS1zZWxlY3QvaW5kZXhcIjogMTc0LFxuXHRcIi4vdS1zd2l0Y2gvaW5kZXhcIjogMTc1LFxuXHRcIi4vdS10b29sdGlwL2luZGV4XCI6IDE3Nixcblx0XCIuL3UtdHJlZS9pbmRleFwiOiAxNzcsXG5cdFwiLi91LXllYXIvaW5kZXhcIjogMTc4LFxuXHRcIi4vdS15ZWFybW9udGgvaW5kZXhcIjogMTc5XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDE0MjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMgXlxcLlxcLy4qXFwvaW5kZXgkXG4vLyBtb2R1bGUgaWQgPSAxNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZnVuY3Rpb24gaW5pdCAocGFyYW1zKSB7XG4gIHRoaXMudGl0bGUgPSBwYXJhbXMudGl0bGVcbiAgdGhpcy5tb2RlbCA9IHBhcmFtcy5tb2RlbFxufVxuXG5leHBvcnQgZGVmYXVsdCBpbml0XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9ib3gtY29udGVudC9pbmRleC5qcyIsImZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xuICB0aGlzLnRpdGxlID0gcGFyYW1zLnRpdGxlXG4gIHRoaXMucSA9IHBhcmFtcy5xXG4gIHRoaXMucXVlcnkgPSBwYXJhbXMucXVlcnlcbiAgdGhpcy5wbGFjZWhvbGRlciA9IHBhcmFtcy5wbGFjZWhvbGRlclxuICBpZiAocGFyYW1zLnF1ZXJ5KSB7XG4gICAgdGhpcy5xaGlkZGVuID0gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIHRoaXMucWhpZGRlbiA9IGZhbHNlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvYm94LWZpbHRlci9pbmRleC5qcyIsIi8qXG4qIOWPguiAgyBodHRwczovL2dpdGh1Yi5jb20vZ2FyYW5kL3N0aWNreS9ibG9iL21hc3Rlci9qcXVlcnkuc3RpY2t5Lmpz5a6e546wXG4qICovXG4vKiBnbG9iYWwgJCAqL1xudmFyIG8gPSB7XG4gIGN1cnJlbnRUb3A6IG51bGwsXG4gIHRvcFNwYWNpbmc6IDAsXG4gIGNsYXNzTmFtZTogJ2lzLXN0aWNreSdcbn1cbndpbmRvdy5pc1JlY29tcHV0ZUFjdGl2ZUFuY2hvciA9IHRydWVcbmZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xuICB0aGlzLnRpdGxlID0gcGFyYW1zLnRpdGxlXG4gIGxldCBzdGlja3lFbGVtZW50ID0gJCgnI2JveC1zdGlja3knKVxuICB2YXIgc3RpY2t5V3JhcHBlciA9IHN0aWNreUVsZW1lbnQucGFyZW50KClcbiAgby5zdGlja3lFbGVtZW50ID0gc3RpY2t5RWxlbWVudFxuICBvLnN0aWNreVdyYXBwZXIgPSBzdGlja3lXcmFwcGVyXG4gIG8gPSAkLmV4dGVuZCh7fSwgbywgcGFyYW1zKVxuICAvL1xuICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsZXIsIGZhbHNlKVxuICAgIC8vIFRPRE8g5rWP6KeI5Zmo56qX5Y+jcmVzaXpl55qE5pe25YCZ5Lmf6ZyA6KaB6YeN5paw6K6h566XXG4gICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZXIsIGZhbHNlKVxuICB9IGVsc2UgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkge1xuICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb25zY3JvbGwnLCBzY3JvbGxlcilcbiAgICAvLyB3aW5kb3cuYXR0YWNoRXZlbnQoJ29ucmVzaXplJywgcmVzaXplcilcbiAgfVxuICBzZXRUaW1lb3V0KHNjcm9sbGVyLCAwKVxuICB2YXIgdGltZW91dCA9IG51bGxcbiAgc3RpY2t5RWxlbWVudC5kZWxlZ2F0ZSgnLnN0aWNreS1hbmNob3InLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpID09PSB0aGlzLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSB0aGlzLmhvc3RuYW1lKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpXG4gICAgICAkKCcuc3RpY2t5LWFuY2hvcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIC8vIOiHs+S6jua7mui9rua7muWKqOeahOaXtuWAmeaJjeS8muinpuWPkSDpvKDmoIfngrnlh7vkuIrpnaLkuI3kvJrop6blj5FcbiAgICAgIHdpbmRvdy5pc1JlY29tcHV0ZUFjdGl2ZUFuY2hvciA9IGZhbHNlXG4gICAgICAvLyDlv6vpgJ/ngrnlh7vml7bmuIXpmaTkuYvliY3nmoTlrprml7blmahcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgfVxuICAgICAgLy8gMnPlkI7mlrnkvr/pvKDmoIfmu5rova7kuovku7bop6blj5FcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93LmlzUmVjb21wdXRlQWN0aXZlQW5jaG9yID0gdHJ1ZVxuICAgICAgfSwgMjAwMClcbiAgICAgIHRhcmdldCA9IHRhcmdldC5sZW5ndGggPyB0YXJnZXQgOiAkKCdbbmFtZT0nICsgdGhpcy5oYXNoLnNsaWNlKDEpICsgJ10nKVxuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgIC8vIOaUueaIkOabtOWQiOmAgueahOmrmOW6plxuICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDUwXG4gICAgICAgIH0sIDEwMDApXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cbnZhciBhbmNob3IgPSBudWxsXG52YXIgYW5jaG9ybGlzdCA9IFtdXG5mdW5jdGlvbiBzY3JvbGxlciAoKSB7XG4gIC8vIOWmguaenOS4jeWtmOWcqOWFg+e0oFxuICBpZiAoIWFuY2hvcikge1xuICAgIGFuY2hvciA9ICQoJy5zdGlja3ktYW5jaG9yJylcbiAgICBhbmNob3IuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBhbmNob3JsaXN0LnB1c2goJCh0aGlzKS5hdHRyKCdocmVmJykpXG4gICAgfSlcbiAgfVxuICAvLyDoh7Pkuo7mu5rova7mu5rliqjnmoTml7blgJnmiY3kvJrop6blj5Eg6byg5qCH54K55Ye75LiK6Z2i5LiN5Lya6Kem5Y+RXG4gIGlmICh3aW5kb3cuaXNSZWNvbXB1dGVBY3RpdmVBbmNob3IpIHtcbiAgICBhbmNob3JsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIGxldCBwb3MgPSAkKGl0ZW0pLm9mZnNldCgpLnRvcCAtICQoJ2JvZHknKS5zY3JvbGxUb3AoKVxuICAgICAgLy8g56Gu5L+d5rua6L2u5rua5Yqo5pe2IOS8muWumuS9jeWIsOebuOW6lOeahOmAiemhuVxuICAgICAgaWYgKHBvcyAtIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC8gMiA8IDUwKSB7XG4gICAgICAgIGlmICghKCQoJy5zdGlja3ktYW5jaG9yW2hyZWY9XCInICsgaXRlbSArICdcIl0nKS5oYXNDbGFzcygnYWN0aXZlJykpKSB7XG4gICAgICAgICAgJCgnLnN0aWNreS1hbmNob3InKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAkKCcuc3RpY2t5LWFuY2hvcltocmVmPVwiJyArIGl0ZW0gKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIC8vIHVwZGF0ZSBoZWlnaHQgaW4gY2FzZSBvZiBkeW5hbWljIGNvbnRlbnRcbiAgby5zdGlja3lXcmFwcGVyLmNzcygnaGVpZ2h0Jywgby5zdGlja3lFbGVtZW50Lm91dGVySGVpZ2h0KCkpXG4gIGxldCBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKClcbiAgbGV0IGRvY3VtZW50SGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KClcbiAgbGV0IHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKVxuICBsZXQgZHdoID0gZG9jdW1lbnRIZWlnaHQgLSB3aW5kb3dIZWlnaHRcbiAgbGV0IGV4dHJhID0gKHNjcm9sbFRvcCA+IGR3aCkgPyBkd2ggLSBzY3JvbGxUb3AgOiAwXG5cbiAgbGV0IGVsZW1lbnRUb3AgPSBvLnN0aWNreVdyYXBwZXIub2Zmc2V0KCkudG9wXG4gIGxldCBldHNlID0gZWxlbWVudFRvcCAtIG8udG9wU3BhY2luZyAtIGV4dHJhXG5cbiAgby5zdGlja3lXcmFwcGVyLmNzcygnaGVpZ2h0Jywgby5zdGlja3lFbGVtZW50Lm91dGVySGVpZ2h0KCkpXG4gIGlmIChzY3JvbGxUb3AgPD0gZXRzZSkge1xuICAgIGlmIChvLmN1cnJlbnRUb3AgIT09IG51bGwpIHtcbiAgICAgIG8uc3RpY2t5RWxlbWVudFxuICAgICAgICAuY3NzKHtcbiAgICAgICAgICAnd2lkdGgnOiAnJyxcbiAgICAgICAgICAncG9zaXRpb24nOiAnJyxcbiAgICAgICAgICAndG9wJzogJycsXG4gICAgICAgICAgJ3otaW5kZXgnOiAnJ1xuICAgICAgICB9KVxuICAgICAgby5zdGlja3lFbGVtZW50LnBhcmVudCgpLnJlbW92ZUNsYXNzKG8uY2xhc3NOYW1lKVxuICAgICAgby5jdXJyZW50VG9wID0gbnVsbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgbmV3VG9wID0gZG9jdW1lbnRIZWlnaHQgLSBvLnN0aWNreUVsZW1lbnQub3V0ZXJIZWlnaHQoKSAtIG8udG9wU3BhY2luZyAtIG8uYm90dG9tU3BhY2luZyAtIHNjcm9sbFRvcCAtIGV4dHJhXG4gICAgaWYgKG5ld1RvcCA8IDApIHtcbiAgICAgIG5ld1RvcCA9IG5ld1RvcCArIG8udG9wU3BhY2luZ1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdUb3AgPSBvLnRvcFNwYWNpbmdcbiAgICB9XG4gICAgaWYgKG8uY3VycmVudFRvcCAhPT0gbmV3VG9wKSB7XG4gICAgICB2YXIgbmV3V2lkdGhcbiAgICAgIGlmIChuZXdXaWR0aCA9PSBudWxsKSB7XG4gICAgICAgIG5ld1dpZHRoID0gby5zdGlja3lFbGVtZW50Lm91dGVyV2lkdGgoKVxuICAgICAgfVxuICAgICAgby5zdGlja3lFbGVtZW50XG4gICAgICAgIC5jc3MoJ3dpZHRoJywgbmV3V2lkdGgpXG4gICAgICAgIC5jc3MoJ3Bvc2l0aW9uJywgJ2ZpeGVkJylcbiAgICAgICAgLmNzcygndG9wJywgbmV3VG9wKVxuICAgICAgICAuY3NzKCd6LWluZGV4Jywgby56SW5kZXgpXG5cbiAgICAgIG8uc3RpY2t5RWxlbWVudC5wYXJlbnQoKS5hZGRDbGFzcyhvLmNsYXNzTmFtZSlcbiAgICAgIG8uY3VycmVudFRvcCA9IG5ld1RvcFxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHN0aWNreSBoYXMgcmVhY2hlZCBlbmQgb2YgY29udGFpbmVyIGFuZCBzdG9wIHN0aWNraW5nXG4gICAgdmFyIHN0aWNreVdyYXBwZXJDb250YWluZXIgPSBvLnN0aWNreVdyYXBwZXIucGFyZW50KClcbiAgICB2YXIgdW5zdGljayA9IChvLnN0aWNreUVsZW1lbnQub2Zmc2V0KCkudG9wICsgby5zdGlja3lFbGVtZW50Lm91dGVySGVpZ2h0KCkgPj0gc3RpY2t5V3JhcHBlckNvbnRhaW5lci5vZmZzZXQoKS50b3AgKyBzdGlja3lXcmFwcGVyQ29udGFpbmVyLm91dGVySGVpZ2h0KCkpICYmIChvLnN0aWNreUVsZW1lbnQub2Zmc2V0KCkudG9wIDw9IG8udG9wU3BhY2luZylcblxuICAgIGlmICh1bnN0aWNrKSB7XG4gICAgICBvLnN0aWNreUVsZW1lbnRcbiAgICAgICAgLmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxuICAgICAgICAuY3NzKCd0b3AnLCAnJylcbiAgICAgICAgLmNzcygnYm90dG9tJywgMClcbiAgICAgICAgLmNzcygnei1pbmRleCcsICcnKVxuICAgIH0gZWxzZSB7XG4gICAgICBvLnN0aWNreUVsZW1lbnRcbiAgICAgICAgLmNzcygncG9zaXRpb24nLCAnZml4ZWQnKVxuICAgICAgICAuY3NzKCd0b3AnLCBuZXdUb3ApXG4gICAgICAgIC5jc3MoJ2JvdHRvbScsICcnKVxuICAgICAgICAuY3NzKCd6LWluZGV4Jywgby56SW5kZXgpXG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBpbml0XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9ib3gtc3RpY2t5L2luZGV4LmpzIiwiZnVuY3Rpb24gaW5pdCAocGFyYW1zKSB7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2JveC10YWJzL2luZGV4LmpzIiwiZnVuY3Rpb24gaW5pdCAocGFyYW1zKSB7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2JveC9pbmRleC5qcyIsIi8qXG4gKiBwYXJhbXM6e1xuICogICBkYXRhOlxuICogICBzZWxlY3RlZFZhbHVlOlxuICogfVxuICpcbiAqICovXG5mdW5jdGlvbiBpbml0IChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgdGhpcy5kYXRhID0gcGFyYW1zLmRhdGFcbiAgdGhpcy5zZWxlY3RlZFZhbHVlID0gcGFyYW1zLnNlbGVjdGVkVmFsdWVcbiAgdGhpcy5jYXNpdG1ldmlzaWJsZSA9IHdpbmRvdy5rby5vYnNlcnZhYmxlKGZhbHNlKVxuICB0aGlzLmhhbmRsZVZpc2libGUgPSAoKSA9PiB0aGlzLmNhc2l0bWV2aXNpYmxlKHRydWUpXG4gIHRoaXMuaGFuZGxlQ2xvc2UgPSAoKSA9PiB0aGlzLmNhc2l0bWV2aXNpYmxlKGZhbHNlKVxufVxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvY2FzY2FkZXIvaW5kZXguanMiLCIvKlxuICogcGFyYW1zOntcbiAqICAgbWQ6IDQgICAvLyBmb3JtLWdyb3Vw5LiA5YWx5Y2g5o2u5Yeg5YiXIOm7mOiupOaMieeFp+agheagvOWMluW4g+WxgOadpSDnm7jlvZPkuo7orr7nva7moLflvI91LWNvbC00IOS4jeiuvue9ruWSjG1k55qE5pWI5p6c5LiA5qC3XG4gKiAgIHNtOiAzICAgLy8g55u45b2T5LqO5qC35byPdS1jb2wtc20tM1xuICogICB4czogMTIgIC8vIOebuOW9k+S6juiuvue9rnUtY29sLXhzLTEyXG4gKiAgIGxnOiA2ICAvL+ebuOW9k+S6juiuvue9rnUtY29sLWxnLTZcbiAqIH1cbiAqXG4gKiAqL1xuZnVuY3Rpb24gaW5pdCAocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG4gIHRoaXMuc3ViTGlzdCA9IHdpbmRvdy5rby5vYnNlcnZhYmxlQXJyYXkoW10pXG4gIHRoaXMuZGF0YSA9IHBhcmFtcy5kYXRhXG4gIHRoaXMuYWN0aXZlSW5kZXggPSB3aW5kb3cua28ub2JzZXJ2YWJsZSgtMSlcbiAgdGhpcy5zZWxlY3RlZFZhbHVlID0gcGFyYW1zLnNlbGVjdGVkVmFsdWVcbiAgdGhpcy5leHBhbmRDaGlsZCA9IGZ1bmN0aW9uIChkYXRhLCBpbmRleCkge1xuICAgIGRlYnVnZ2VyXG4gICAgdGhpcy5hY3RpdmVJbmRleChpbmRleClcbiAgICBpZiAoZGF0YS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5zdWJMaXN0KGRhdGEuY2hpbGRyZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3ViTGlzdChbXSlcbiAgICB9XG4gICAgdGhpcy5zZWxlY3RlZFZhbHVlKGRhdGEpXG4gIH0uYmluZCh0aGlzKVxufVxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvY2FzaXRlbS9pbmRleC5qcyIsIi8qXG4qIHBhcmFtczp7XG4qICAgbWQ6IDQgICAvLyBmb3JtLWdyb3Vw5LiA5YWx5Y2g5o2u5Yeg5YiXIOm7mOiupOaMieeFp+agheagvOWMluW4g+WxgOadpSDnm7jlvZPkuo7orr7nva7moLflvI91LWNvbC00IOS4jeiuvue9ruWSjG1k55qE5pWI5p6c5LiA5qC3XG4qICAgc206IDMgICAvLyDnm7jlvZPkuo7moLflvI91LWNvbC1zbS0zXG4qICAgeHM6IDEyICAvLyDnm7jlvZPkuo7orr7nva51LWNvbC14cy0xMlxuKiAgIGxnOiA2ICAvL+ebuOW9k+S6juiuvue9rnUtY29sLWxnLTZcbiogfVxuKlxuKiAqL1xuaW1wb3J0IHthZGRMYXlvdXRDbGFzc30gZnJvbSAnLi4vdXRpbCdcbmZ1bmN0aW9uIGluaXQgKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgZWxlbWVudCA9IGNvbXBvbmVudEluZm8uZWxlbWVudC5jaGlsZHJlblswXVxuICBhZGRMYXlvdXRDbGFzcyhlbGVtZW50LCBwYXJhbXMpXG59XG5leHBvcnQgZGVmYXVsdCBpbml0XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9mb3JtLWN0bi9pbmRleC5qcyIsIi8vIOWinuWKoOW4g+WxgOS/oeaBr1xuZnVuY3Rpb24gYWRkTGF5b3V0Q2xhc3MgKGVsZW1lbnQsIHBhcmFtcykge1xuICBpZiAocGFyYW1zLnhzKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1LWNvbC14cy0nICsgcGFyYW1zLnhzKVxuICB9XG4gIGlmIChwYXJhbXMuc20pIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3UtY29sLXNtLScgKyBwYXJhbXMuc20pXG4gIH1cbiAgaWYgKHBhcmFtcy5tZCkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndS1jb2wtbWQtJyArIHBhcmFtcy5tZClcbiAgICBpZiAocGFyYW1zWydtZC1vZmZzZXQnXSkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1LWNvbC1tZC1vZmZzZXQtJyArIHBhcmFtc1snbWQtb2Zmc2V0J10pXG4gICAgfVxuICB9XG4gIGlmIChwYXJhbXMubGcpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3UtY29sLWxnLScgKyBwYXJhbXMubGcpXG4gIH1cbn1cblxuLy8g5pel5pyf5qC85byP5YyWXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuRGF0ZS5wcm90b3R5cGUuRm9ybWF0ID0gZnVuY3Rpb24gKGZtdCkgeyAvLyBhdXRob3I6IHNvbmdobGNcbiAgdmFyIG8gPSB7XG4gICAgJ00rJzogdGhpcy5nZXRNb250aCgpICsgMSwgLy8g5pyI5Lu9XG4gICAgJ2QrJzogdGhpcy5nZXREYXRlKCksIC8vIOaXpVxuICAgICdoKyc6IHRoaXMuZ2V0SG91cnMoKSwgLy8g5bCP5pe2XG4gICAgJ20rJzogdGhpcy5nZXRNaW51dGVzKCksIC8vIOWIhlxuICAgICdzKyc6IHRoaXMuZ2V0U2Vjb25kcygpLCAvLyDnp5JcbiAgICAncSsnOiBNYXRoLmZsb29yKCh0aGlzLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvLyDlraPluqZcbiAgICAnUyc6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgLy8g5q+r56eSXG4gIH1cbiAgaWYgKC8oeSspLy50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKHRoaXMuZ2V0RnVsbFllYXIoKSArICcnKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKVxuICBmb3IgKHZhciBrIGluIG8pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnKCcgKyBrICsgJyknKS50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT09IDEpID8gKG9ba10pIDogKCgnMDAnICsgb1trXSkuc3Vic3RyKCgnJyArIG9ba10pLmxlbmd0aCkpKVxuICB9XG4gIHJldHVybiBmbXRcbn1cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmV4cG9ydCB7XG4gIGFkZExheW91dENsYXNzXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy91dGlsLmpzIiwiLypcbiogcGFyYW1zOntcbiogICBtZDogNCAgIC8vIGZvcm0tZ3JvdXDkuIDlhbHljaDmja7lh6DliJcg6buY6K6k5oyJ54Wn5qCF5qC85YyW5biD5bGA5p2lIOebuOW9k+S6juiuvue9ruagt+W8j3UtY29sLTQg5LiN6K6+572u5ZKMbWTnmoTmlYjmnpzkuIDmoLdcbiogICBzbTogMyAgIC8vIOebuOW9k+S6juagt+W8j3UtY29sLXNtLTNcbiogICB4czogMTIgIC8vIOebuOW9k+S6juiuvue9rnUtY29sLXhzLTEyXG4qICAgbGc6IDYgIC8v55u45b2T5LqO6K6+572udS1jb2wtbGctNlxuKiB9XG4qXG4qICovXG5pbXBvcnQge2FkZExheW91dENsYXNzfSBmcm9tICcuLi91dGlsJ1xuZnVuY3Rpb24gaW5pdCAocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG4gIGxldCBlbGVtZW50ID0gY29tcG9uZW50SW5mby5lbGVtZW50LmNoaWxkcmVuWzBdXG4gIGFkZExheW91dENsYXNzKGVsZW1lbnQsIHBhcmFtcylcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZm9ybS1ncm91cC9pbmRleC5qcyIsIi8qXG4qIHBhcmFtczp7XG4qICAgbWQ6IDQgICAvLyBmb3JtLWdyb3Vw5LiA5YWx5Y2g5o2u5Yeg5YiXIOm7mOiupOaMieeFp+agheagvOWMluW4g+WxgOadpSDnm7jlvZPkuo7orr7nva7moLflvI91LWNvbC00IOS4jeiuvue9ruWSjG1k55qE5pWI5p6c5LiA5qC3XG4qICAgc206IDMgICAvLyDnm7jlvZPkuo7moLflvI91LWNvbC1zbS0zXG4qICAgeHM6IDEyICAvLyDnm7jlvZPkuo7orr7nva51LWNvbC14cy0xMlxuKiAgIGxnOiA2ICAvL+ebuOW9k+S6juiuvue9rnUtY29sLWxnLTZcbiogfVxuKlxuKiAqL1xuaW1wb3J0IHthZGRMYXlvdXRDbGFzc30gZnJvbSAnLi4vdXRpbCdcbmZ1bmN0aW9uIGluaXQgKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgZWxlbWVudCA9IGNvbXBvbmVudEluZm8uZWxlbWVudC5jaGlsZHJlblswXVxuICBhZGRMYXlvdXRDbGFzcyhlbGVtZW50LCBwYXJhbXMpXG4gIHJldHVybiB7XG4gICAgdGV4dDogcGFyYW1zLnRleHRcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZm9ybS10ZXh0L2luZGV4LmpzIiwiLypcbiogcGFyYW1zOntcbiogICBtZDogNCAgIC8vIGZvcm0tZ3JvdXDkuIDlhbHljaDmja7lh6DliJcg6buY6K6k5oyJ54Wn5qCF5qC85YyW5biD5bGA5p2lIOebuOW9k+S6juiuvue9ruagt+W8j3UtY29sLTQg5LiN6K6+572u5ZKMbWTnmoTmlYjmnpzkuIDmoLdcbiogICBzbTogMyAgIC8vIOebuOW9k+S6juagt+W8j3UtY29sLXNtLTNcbiogICB4czogMTIgIC8vIOebuOW9k+S6juiuvue9rnUtY29sLXhzLTEyXG4qICAgbGc6IDYgIC8v55u45b2T5LqO6K6+572udS1jb2wtbGctNlxuKiB9XG4qXG4qICovXG5pbXBvcnQge2FkZExheW91dENsYXNzfSBmcm9tICcuLi91dGlsJ1xuZnVuY3Rpb24gaW5pdCAocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG4gIGxldCBlbGVtZW50ID0gY29tcG9uZW50SW5mby5lbGVtZW50LmNoaWxkcmVuWzBdXG4gIGlmIChwYXJhbXMudGV4dCkge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gcGFyYW1zLnRleHRcbiAgfVxuICBhZGRMYXlvdXRDbGFzcyhlbGVtZW50LCBwYXJhbXMpXG59XG5leHBvcnQgZGVmYXVsdCBpbml0XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9mb3JtLXRpdGxlL2luZGV4LmpzIiwidmFyIEV2ZW50QnVzID0ge31cbnZhciBVID0gd2luZG93LnVcbmZ1bmN0aW9uIHBhZ2luYXRpb24gKGRvbSwgdm0sIHN0b3JlLCBuYW1lKSB7XG4gIHZhciBwYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBwYWcuY2xhc3NOYW1lID0gJ3UtcGFnaW5hdGlvbidcbiAgcGFnLnNldEF0dHJpYnV0ZSgnb3B0aW9ucycsIEpTT04uc3RyaW5naWZ5KHsndHlwZSc6ICdwYWdpbmF0aW9uJywgJ2RhdGEnOiAncGFnaW5hdGlvbid9KSlcblxuICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICd0ZXh0LWNlbnRlcidcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBhZylcbiAgZG9tLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKVxuICB2YXIgY29tcCA9IG5ldyBVLnBhZ2luYXRpb24oeyBlbDogcGFnLCBzaG93U3RhdGU6IGZhbHNlIH0pXG4gIGNvbXAub24oJ3BhZ2VDaGFuZ2UnLCBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgc3RvcmUubG9hZCh7XG4gICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleFxuICAgIH0pXG4gICAgd2luZG93Lmdsb2JhbC5oYXNoKCdwYWdlJywgcGFnZUluZGV4KVxuICB9KVxuXG4gIEV2ZW50QnVzLm9uKCdwYWdpbmF0aW9uLicgKyBzdG9yZS5fY29uZmlnLm5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgY29tcC51cGRhdGUoe1xuICAgICAgdG90YWxQYWdlczogZGF0YS50b3RhbFBhZ2UsXG4gICAgICBwYWdlU2l6ZTogZGF0YS5wYWdlU2l6ZSxcbiAgICAgIGN1cnJlbnRQYWdlOiBkYXRhLnBhZ2VJbmRleCArIDEsXG4gICAgICB0b3RhbENvdW50OiBkYXRhLnRvdGFsQ291bnR9KVxuICB9KVxuXG4gIC8vIGlmKCFwYWdlKXtcbiAgLy8gICByZXR1cm5cbiAgLy8gfVxuICAvLyAvL+WIneWni+WMluS/oeaBr1xuICBpZiAoc3RvcmUuZGF0YSkge1xuICAgIHZhciBwYWdlID0gc3RvcmUuZGF0YVxuICAgIGNvbXAudXBkYXRlKHtcbiAgICAgIHRvdGFsUGFnZXM6IHBhZ2UudG90YWxQYWdlLFxuICAgICAgcGFnZVNpemU6IHBhZ2UucGFnZVNpemUsXG4gICAgICBjdXJyZW50UGFnZTogcGFnZS5wYWdlSW5kZXggKyAxLFxuICAgICAgdG90YWxDb3VudDogcGFnZS50b3RhbENvdW50fSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwYWdpbmF0aW9uXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9wYWdpbmF0aW9uL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qc1xuLy8gbW9kdWxlIGlkID0gMTU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBjb3JlICA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKVxuICAsICRKU09OID0gY29yZS5KU09OIHx8IChjb3JlLkpTT04gPSB7c3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeX0pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHJldHVybiAkSlNPTi5zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3VtZW50cyk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDE1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJmdW5jdGlvbiBpbml0IChwYXJhbXMpIHtcbiAgdGhpcy5pdGVtcyA9IHBhcmFtcy5pdGVtc1xuICBsZXQgY3Vyc3RhdGUgPSBwYXJhbXMuaXRlbXMoKVtwYXJhbXMuaW5kZXgoKSB8fCAwXS5zdGF0ZVxuICB0aGlzLmN1clN0YXRlID0gY3Vyc3RhdGVcbiAgdGhpcy5oYW5kbGVyID0gKG1zZykgPT4ge1xuICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVyeV90YWJzJyArIG1zZy5zdGF0ZSlcbiAgICBlbC5jaGVja2VkID0gJ2NoZWNrZWQnXG4gICAgcGFyYW1zLmhhbmRsZXIobXNnKVxuICB9XG4gIC8vIHBhcmFtcy5oYW5kbGVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3F1ZXJ5LXRhYnMvaW5kZXguanMiLCJmdW5jdGlvbiBpbml0IChwYXJhbXMpIHtcbiAgdGhpcy50aXRsZSA9IHBhcmFtcy50aXRsZVxuICB0aGlzLmNvdW50ID0gcGFyYW1zLmNvdW50XG4gIHRoaXMuYWN0aXZlID0gcGFyYW1zLmFjdGl2ZSA/IHBhcmFtcy5hY3RpdmUgOiBmYWxzZVxuICB0aGlzLmNsaWNrID0gcGFyYW1zLmNsaWNrXG4gIHRoaXMuc3RhdGUgPSBwYXJhbXMuc3RhdGVcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvc3RhdGUtaXRlbS9pbmRleC5qcyIsImZ1bmN0aW9uIGluaXQgKHBhcmFtcykge1xuICB0aGlzLml0ZW1zID0gcGFyYW1zLml0ZW1zXG4gIHRoaXMuaW5kZXggPSBwYXJhbXMuaW5kZXhcbiAgdGhpcy5oYW5kbGVyID0gKG1zZywgX2luZGV4KSA9PiB7XG4gICAgdGhpcy5pbmRleChfaW5kZXgpXG4gICAgcGFyYW1zLmhhbmRsZXIobXNnKVxuICB9XG4gIC8vIHBhcmFtcy5oYW5kbGVyXG59XG5leHBvcnQgZGVmYXVsdCBpbml0XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9zdGF0ZS10YWJzL2luZGV4LmpzIiwiLypcbip0aXRsZTogc3RlcCBsZWdlbmTnu4Tku7ZcbiphdXRob3I6IHNvbmdobGNcbipkZXNjcmlwdGlvbjog55So5LqO5pi+56S65Lia5Yqh5rWB56iL5b2T5YmN5omA5aSE55qE6IqC54K55ZKM54q25oCB77yI6buY6K6k5Y+q5pSv5oyB57q/5oCn5rWB56iL77yM5LiA5p2h55u057q/77yM5LiN5pSv5oyB6L+H5aSa5YiG5pSv57G75rWB56iL77yJXG4qIHBhcmFtczoge1xuKiAgIC8v5Yid5aeL5YyW5pWw5o2uXG4qICAgbGlzdDogW3tcbiogICAgIGlkOiAnJyxcbiogICAgIG5hbWU6ICcnXG4qICAgfV0sXG4qICAgY3VycmVudElkOiAnJywgLy/kuozpgInkuIBcbiogICBjdXJyZW50SW5kZXg6ICcnIC8v5LqM6YCJ5LiAXG4qIH1cbipcbiogKi9cblxuZnVuY3Rpb24gaW5pdCAoe2xpc3QsIGN1cnJlbnRJZCwgY3VycmVudEluZGV4LCB0eXBlID0gJ21kJ30pIHtcbiAgdGhpcy5saXN0ID0gbGlzdFxuICB0aGlzLmN1cnJlbnRJZCA9IGN1cnJlbnRJZFxuICB0aGlzLnR5cGUgPSB0eXBlXG5cbiAgaWYgKGN1cnJlbnRJbmRleCAmJiBjdXJyZW50SW5kZXguc3Vic2NyaWJlKSB7XG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSBjdXJyZW50SW5kZXhcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHdpbmRvdy5rby5vYnNlcnZhYmxlKGN1cnJlbnRJbmRleCB8fCAwKVxuICB9XG4gIGlmICh0aGlzLmN1cnJlbnRJZCAmJiB0aGlzLmN1cnJlbnRJZC5zdWJzY3JpYmUpIHtcbiAgICAvLyDmlK/mjIFjdXJyZW50SWQg6K6+572uY3VycmVudEluZGV4XG4gICAgdGhpcy5jdXJyZW50SWQuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMubGlzdCgpLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRJZCgpID09PSBpdGVtLmlkXG4gICAgICB9KVxuICAgICAgdGhpcy5jdXJyZW50SW5kZXgoaW5kZXhbMF0uaWQpXG4gICAgfSlcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvc3RlcC1sZWdlbmQvaW5kZXguanMiLCIvKlxuKlxuKlxuKlxuKiAqL1xuXG5mdW5jdGlvbiBpbml0ICh7bGlzdCwgY3VycmVudCA9IDB9KSB7XG4gIHRoaXMubGlzdCA9IGxpc3RcbiAgdGhpcy5jdXJyZW50ID0gY3VycmVudFxufVxuZXhwb3J0IGRlZmF1bHQgaW5pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvc3RlcC9pbmRleC5qcyIsIi8qIGdsb2JhbCBrbyAqL1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuZnVuY3Rpb24gaW5pdCAocGFyYW1zKSB7XG4gIGxldCBmbGFnID0gdHJ1ZVxuICB0aGlzLnRleHQgPSBrby5vYnNlcnZhYmxlKHBhcmFtcy50ZXh0IHx8ICcnKVxuICB0aGlzLmNsaWNrID0gXy5kZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgLy8g5Yqg5YWlNHPlhoXpmLLmraLlho3mrKHngrnlh7vmnLrliLbvvIzkuIDml6bngrnlh7vlj5HpgIFjbGlja+S6i+S7tuWImTRz5YaF5LiN5YaN5o+Q5LqkXG4gICAgaWYgKGZsYWcpIHtcbiAgICAgIHBhcmFtcy5jbGljaygpXG4gICAgICBmbGFnID0gZmFsc2VcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBmbGFnID0gdHJ1ZVxuICAgICAgfSwgNDAwMClcbiAgICB9XG4gIH0sIHBhcmFtcy5kZWJvdW5jZSB8fCAzMDAsIHsgJ21heFdhaXQnOiBwYXJhbXMubWF4V2FpdCB8fCAyMDAwIH0pXG59XG5leHBvcnQgZGVmYXVsdCBpbml0XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9zdWJtaXQvaW5kZXguanMiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4xMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG4gIHZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZyxcbiAgICAgIHJlVHJpbVN0YXJ0ID0gL15cXHMrLyxcbiAgICAgIHJlVHJpbUVuZCA9IC9cXHMrJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciBjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvdW50SG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSAwO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgKytyZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gICAqL1xuICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICAgIHZhciBkYXRhLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRhdGEudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVpciBpbmRleGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAodmFsdWUgPT09IHBsYWNlaG9sZGVyIHx8IHZhbHVlID09PSBQTEFDRUhPTERFUikge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBQTEFDRUhPTERFUjtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBbdmFsdWUsIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggKyAxO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc3ltYm9scyBpbiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nU2l6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVTaXplKHN0cmluZylcbiAgICAgIDogYXNjaWlTaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciB1bmVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbFVuZXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYSBVbmljb2RlIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlU2l6ZShzdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVVbmljb2RlLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICsrcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGBjb250ZXh0YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDEuMS4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5taXhpbih7ICdmb28nOiBfLmNvbnN0YW50KCdmb28nKSB9KTtcbiAgICpcbiAgICogdmFyIGxvZGFzaCA9IF8ucnVuSW5Db250ZXh0KCk7XG4gICAqIGxvZGFzaC5taXhpbih7ICdiYXInOiBsb2Rhc2guY29uc3RhbnQoJ2JhcicpIH0pO1xuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXy5mb28pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guYmFyKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzdXBlZC11cCBgZGVmZXJgIGluIE5vZGUuanMuXG4gICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG4gICAqL1xuICB2YXIgcnVuSW5Db250ZXh0ID0gKGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblxuICAgIC8qKiBCdWlsdC1pbiBjb25zdHJ1Y3RvciByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEVycm9yID0gY29udGV4dC5FcnJvcixcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gICAgdmFyIGNvcmVKc0RhdGEgPSBjb250ZXh0WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbiAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuICAgIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbiAgICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICAgKiBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG4gICAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgXy5ub0NvbmZsaWN0YC4gKi9cbiAgICB2YXIgb2xkRGFzaCA9IHJvb3QuXztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyBjb250ZXh0LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG4gICAgICAgIFVpbnQ4QXJyYXkgPSBjb250ZXh0LlVpbnQ4QXJyYXksXG4gICAgICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1JdGVyYXRvciA9IFN5bWJvbCA/IFN5bWJvbC5pdGVyYXRvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSgpKTtcblxuICAgIC8qKiBNb2NrZWQgYnVpbHQtaW5zLiAqL1xuICAgIHZhciBjdHhDbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCAhPT0gcm9vdC5jbGVhclRpbWVvdXQgJiYgY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG4gICAgICAgIGN0eFNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQgIT09IHJvb3Quc2V0VGltZW91dCAmJiBjb250ZXh0LnNldFRpbWVvdXQ7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG4gICAgdmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZU5vdyA9IERhdGUubm93LFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuICAgICAgICBuYXRpdmVSZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlO1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuICAgIHZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShjb250ZXh0LCAnRGF0YVZpZXcnKSxcbiAgICAgICAgTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdNYXAnKSxcbiAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuICAgICAgICBTZXQgPSBnZXROYXRpdmUoY29udGV4dCwgJ1NldCcpLFxuICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdXZWFrTWFwJyksXG4gICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuICAgIC8qKiBVc2VkIHRvIHN0b3JlIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCB1bm1pbmlmaWVkIGZ1bmN0aW9uIG5hbWVzLiAqL1xuICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG4gICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gICAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBpbXBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcbiAgICAgKiBhbmQgZnVuY3Rpb25zIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLiBNZXRob2RzIHRoYXQgcmV0cmlldmUgYSBzaW5nbGUgdmFsdWVcbiAgICAgKiBvciBtYXkgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlIHdpbGwgYXV0b21hdGljYWxseSBlbmQgdGhlIGNoYWluIHNlcXVlbmNlXG4gICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG4gICAgICogZW5hYmxlZCB1c2luZyBgXy5jaGFpbmAuXG4gICAgICpcbiAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG4gICAgICogYF8jdmFsdWVgIGlzIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cbiAgICAgKiBTaG9ydGN1dCBmdXNpb24gaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1lcmdlIGl0ZXJhdGVlIGNhbGxzOyB0aGlzIGF2b2lkc1xuICAgICAqIHRoZSBjcmVhdGlvbiBvZiBpbnRlcm1lZGlhdGUgYXJyYXlzIGFuZCBjYW4gZ3JlYXRseSByZWR1Y2UgdGhlIG51bWJlciBvZlxuICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaWYgdGhlIHNlY3Rpb24gaXMgYXBwbGllZCB0byBhbiBhcnJheSBhbmQgaXRlcmF0ZWVzIGFjY2VwdCBvbmx5XG4gICAgICogb25lIGFyZ3VtZW50LiBUaGUgaGV1cmlzdGljIGZvciB3aGV0aGVyIGEgc2VjdGlvbiBxdWFsaWZpZXMgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYF8jdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gbG9kYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGhhdmUgYEFycmF5YCBhbmQgYFN0cmluZ2AgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBBcnJheWAgbWV0aG9kcyBhcmU6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHNoaWZ0YCwgYHNvcnRgLCBgc3BsaWNlYCwgYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYFN0cmluZ2AgbWV0aG9kcyBhcmU6XG4gICAgICogYHJlcGxhY2VgIGFuZCBgc3BsaXRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24gYXJlOlxuICAgICAqIGBhdGAsIGBjb21wYWN0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGRyb3BXaGlsZWAsIGBmaWx0ZXJgLCBgZmluZGAsXG4gICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG4gICAgICogYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLCBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYW5kIGB0b0FycmF5YFxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhcnlgLCBgYXNzaWduYCwgYGFzc2lnbkluYCwgYGFzc2lnbkluV2l0aGAsIGBhc3NpZ25XaXRoYCwgYGF0YCxcbiAgICAgKiBgYmVmb3JlYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNhc3RBcnJheWAsIGBjaGFpbmAsIGBjaHVua2AsXG4gICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG4gICAgICogYGN1cnJ5YCwgYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBkZWZlcmAsIGBkZWxheWAsXG4gICAgICogYGRpZmZlcmVuY2VgLCBgZGlmZmVyZW5jZUJ5YCwgYGRpZmZlcmVuY2VXaXRoYCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCxcbiAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcbiAgICAgKiBgZmxhdE1hcGAsIGBmbGF0TWFwRGVlcGAsIGBmbGF0TWFwRGVwdGhgLCBgZmxhdHRlbmAsIGBmbGF0dGVuRGVlcGAsXG4gICAgICogYGZsYXR0ZW5EZXB0aGAsIGBmbGlwYCwgYGZsb3dgLCBgZmxvd1JpZ2h0YCwgYGZyb21QYWlyc2AsIGBmdW5jdGlvbnNgLFxuICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcbiAgICAgKiBgaW50ZXJzZWN0aW9uV2l0aGAsIGBpbnZlcnRgLCBgaW52ZXJ0QnlgLCBgaW52b2tlTWFwYCwgYGl0ZXJhdGVlYCwgYGtleUJ5YCxcbiAgICAgKiBga2V5c2AsIGBrZXlzSW5gLCBgbWFwYCwgYG1hcEtleXNgLCBgbWFwVmFsdWVzYCwgYG1hdGNoZXNgLCBgbWF0Y2hlc1Byb3BlcnR5YCxcbiAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG4gICAgICogYG50aEFyZ2AsIGBvbWl0YCwgYG9taXRCeWAsIGBvbmNlYCwgYG9yZGVyQnlgLCBgb3ZlcmAsIGBvdmVyQXJnc2AsXG4gICAgICogYG92ZXJFdmVyeWAsIGBvdmVyU29tZWAsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwYXJ0aXRpb25gLCBgcGlja2AsXG4gICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuICAgICAqIGBwdWxsQWxsV2l0aGAsIGBwdWxsQXRgLCBgcHVzaGAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlYXJnYCwgYHJlamVjdGAsXG4gICAgICogYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2FtcGxlU2l6ZWAsIGBzZXRgLCBgc2V0V2l0aGAsIGBzaHVmZmxlYCxcbiAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aHJ1YCwgYHRvQXJyYXlgLFxuICAgICAqIGB0b1BhaXJzYCwgYHRvUGFpcnNJbmAsIGB0b1BhdGhgLCBgdG9QbGFpbk9iamVjdGAsIGB0cmFuc2Zvcm1gLCBgdW5hcnlgLFxuICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG4gICAgICogYHVuc2hpZnRgLCBgdW56aXBgLCBgdW56aXBXaXRoYCwgYHVwZGF0ZWAsIGB1cGRhdGVXaXRoYCwgYHZhbHVlc2AsXG4gICAgICogYHZhbHVlc0luYCwgYHdpdGhvdXRgLCBgd3JhcGAsIGB4b3JgLCBgeG9yQnlgLCBgeG9yV2l0aGAsIGB6aXBgLFxuICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBhcmUgKipub3QqKiBjaGFpbmFibGUgYnkgZGVmYXVsdCBhcmU6XG4gICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuICAgICAqIGBjbG9uZURlZXBgLCBgY2xvbmVEZWVwV2l0aGAsIGBjbG9uZVdpdGhgLCBgY29uZm9ybXNUb2AsIGBkZWJ1cnJgLFxuICAgICAqIGBkZWZhdWx0VG9gLCBgZGl2aWRlYCwgYGVhY2hgLCBgZWFjaFJpZ2h0YCwgYGVuZHNXaXRoYCwgYGVxYCwgYGVzY2FwZWAsXG4gICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcbiAgICAgKiBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBmaXJzdGAsIGBmbG9vcmAsIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsXG4gICAgICogYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCwgYGdldGAsIGBndGAsIGBndGVgLCBgaGFzYCxcbiAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcbiAgICAgKiBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0FycmF5QnVmZmVyYCwgYGlzQXJyYXlMaWtlYCwgYGlzQXJyYXlMaWtlT2JqZWN0YCxcbiAgICAgKiBgaXNCb29sZWFuYCwgYGlzQnVmZmVyYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLCBgaXNFbXB0eWAsIGBpc0VxdWFsYCxcbiAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG4gICAgICogYGlzTWFwYCwgYGlzTWF0Y2hgLCBgaXNNYXRjaFdpdGhgLCBgaXNOYU5gLCBgaXNOYXRpdmVgLCBgaXNOaWxgLCBgaXNOdWxsYCxcbiAgICAgKiBgaXNOdW1iZXJgLCBgaXNPYmplY3RgLCBgaXNPYmplY3RMaWtlYCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLFxuICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG4gICAgICogYGlzV2Vha01hcGAsIGBpc1dlYWtTZXRgLCBgam9pbmAsIGBrZWJhYkNhc2VgLCBgbGFzdGAsIGBsYXN0SW5kZXhPZmAsXG4gICAgICogYGxvd2VyQ2FzZWAsIGBsb3dlckZpcnN0YCwgYGx0YCwgYGx0ZWAsIGBtYXhgLCBgbWF4QnlgLCBgbWVhbmAsIGBtZWFuQnlgLFxuICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcbiAgICAgKiBgcGFkRW5kYCwgYHBhZFN0YXJ0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCwgYHJlZHVjZVJpZ2h0YCxcbiAgICAgKiBgcmVwZWF0YCwgYHJlc3VsdGAsIGByb3VuZGAsIGBydW5JbkNvbnRleHRgLCBgc2FtcGxlYCwgYHNoaWZ0YCwgYHNpemVgLFxuICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG4gICAgICogYHNvcnRlZExhc3RJbmRleEJ5YCwgYHN0YXJ0Q2FzZWAsIGBzdGFydHNXaXRoYCwgYHN0dWJBcnJheWAsIGBzdHViRmFsc2VgLFxuICAgICAqIGBzdHViT2JqZWN0YCwgYHN0dWJTdHJpbmdgLCBgc3R1YlRydWVgLCBgc3VidHJhY3RgLCBgc3VtYCwgYHN1bUJ5YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG4gICAgICogYHRvTG93ZXJgLCBgdG9OdW1iZXJgLCBgdG9TYWZlSW50ZWdlcmAsIGB0b1N0cmluZ2AsIGB0b1VwcGVyYCwgYHRyaW1gLFxuICAgICAqIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGB0cnVuY2F0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGB1cHBlckNhc2VgLFxuICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoXy5hZGQpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoc3F1YXJlKTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlckNsb25lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aG9zZSBwcm90b3R5cGUgY2hhaW4gc2VxdWVuY2Ugd3JhcHBlcnMgaW5oZXJpdCBmcm9tLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgbG9kYXNoIGFyZSBsaWtlIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG4gICAgICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogcmVFdmFsdWF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuc3VyZSB3cmFwcGVycyBhcmUgaW5zdGFuY2VzIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGxvZGFzaDtcblxuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2Rhc2hXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fZGlyX18gPSAxO1xuICAgICAgdGhpcy5fX2ZpbHRlcmVkX18gPSBmYWxzZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlZXNfXyA9IFtdO1xuICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcbiAgICAgIHRoaXMuX192aWV3c19fID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBsYXp5IHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMuX193cmFwcGVkX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG4gICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdGhpcy5fX2ZpbHRlcmVkX187XG4gICAgICByZXN1bHQuX19pdGVyYXRlZXNfXyA9IGNvcHlBcnJheSh0aGlzLl9faXRlcmF0ZWVzX18pO1xuICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG4gICAgICByZXN1bHQuX192aWV3c19fID0gY29weUFycmF5KHRoaXMuX192aWV3c19fKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyByZXZlcnNlZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5UmV2ZXJzZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fZmlsdGVyZWRfXykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyA9IC0xO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gKj0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB1bndyYXBwZWQgdmFsdWUgZnJvbSBpdHMgbGF6eSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLFxuICAgICAgICAgIGRpciA9IHRoaXMuX19kaXJfXyxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuICAgICAgICAgIGlzUmlnaHQgPSBkaXIgPCAwLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGlzQXJyID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcbiAgICAgICAgICBzdGFydCA9IHZpZXcuc3RhcnQsXG4gICAgICAgICAgZW5kID0gdmlldy5lbmQsXG4gICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG4gICAgICAgICAgaW5kZXggPSBpc1JpZ2h0ID8gZW5kIDogKHN0YXJ0IC0gMSksXG4gICAgICAgICAgaXRlcmF0ZWVzID0gdGhpcy5fX2l0ZXJhdGVlc19fLFxuICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICB0YWtlQ291bnQgPSBuYXRpdmVNaW4obGVuZ3RoLCB0aGlzLl9fdGFrZUNvdW50X18pO1xuXG4gICAgICBpZiAoIWlzQXJyIHx8ICghaXNSaWdodCAmJiBhcnJMZW5ndGggPT0gbGVuZ3RoICYmIHRha2VDb3VudCA9PSBsZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKGFycmF5LCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAobGVuZ3RoLS0gJiYgcmVzSW5kZXggPCB0YWtlQ291bnQpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuXG4gICAgICAgIHZhciBpdGVySW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIHdoaWxlICgrK2l0ZXJJbmRleCA8IGl0ZXJMZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGl0ZXJhdGVlc1tpdGVySW5kZXhdLFxuICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG4gICAgICAgICAgICAgIHR5cGUgPSBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9NQVBfRkxBRykge1xuICAgICAgICAgICAgdmFsdWUgPSBjb21wdXRlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRykge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGBMYXp5V3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGJhc2VMb2Rhc2hgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgICAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gICAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuICAgIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gICAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgLS10aGlzLnNpemU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgKyt0aGlzLnNpemU7XG4gICAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgYWRkXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQGFsaWFzIHB1c2hcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgICB9XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICAgKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2Jhc2VSYW5kb20oMCwgbGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVTaXplYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAgICAgKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFnZ3JlZ2F0ZXMgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIG9uIGBhY2N1bXVsYXRvcmAgd2l0aCBrZXlzIHRyYW5zZm9ybWVkXG4gICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICAgICAqIHZhbHVlIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICBza2lwID0gb2JqZWN0ID09IG51bGw7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBza2lwID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAgICogdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIERlZXAgY2xvbmVcbiAgICAgKiAgMiAtIEZsYXR0ZW4gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuICAgICAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICAgICAgaXNGdWxsID0gYml0bWFzayAmIENMT05FX1NZTUJPTFNfRkxBRztcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRmxhdFxuICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZDtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZChiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN1YlZhbHVlLCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMubGVuZ3RoID8gaXRlcmF0ZWVzIDogW2lkZW50aXR5XSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgICgnc291cmNlVVJMJyBpbiBvcHRpb25zXG4gICAgICAgICAgPyBvcHRpb25zLnNvdXJjZVVSTFxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1FbmQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSAobG9kYXNoRnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgICAgbmFtZXMgPSByZWFsTmFtZXNba2V5XSB8fCAocmVhbE5hbWVzW2tleV0gPSBbXSk7XG5cbiAgICAgICAgbmFtZXMucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbG9kYXNoL2xvZGFzaC5qc1xuLy8gbW9kdWxlIGlkID0gMTY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogaXVhcCBjaGVja2JveCAqL1xuaW1wb3J0IHtDcmVhdEFwcH0gZnJvbSAnLi4vYmFzZSdcbmZ1bmN0aW9uIGNyZWF0ZURhdGUgKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgdW1ldGEgPSB7J3R5cGUnOiAndS1jaGVja2JveCd9XG4gIENyZWF0QXBwKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpXG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEYXRlXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy91LWNoZWNrYm94L2luZGV4LmpzIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0QXBwIChjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKSB7XG4gIGxldCBkb20gPSBjb21wb25lbnRJbmZvLmVsZW1lbnQuY2hpbGRyZW5bMF1cbiAgbGV0IHVNZXRhID0gXy5leHRlbmQodW1ldGEsIHBhcmFtcy51bWV0YSlcbiAgaWYgKCF1TWV0YS5kYXRhKSB7XG4gICAgdU1ldGEuZGF0YSA9ICdkYXRhJ1xuICB9XG4gIC8vIOWvueS6jui+k+WFpeahhue7n+S4gOa3u+WKoHBsYWNlaG9sZGVyXG4gIGlmIChwYXJhbXMudm0pIHtcbiAgICBpZiAocGFyYW1zLnZtLnBsYWNlaG9sZGVyKSB7XG4gICAgICBsZXQgZWxlbWVudCA9IGRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXVxuICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnBsYWNlaG9sZGVyLm5vZGVWYWx1ZSA9IHBhcmFtcy52bS5wbGFjZWhvbGRlclxuICAgIH1cbiAgfVxuICAvLyDpgILphY1kYXRhc291cmNlKGNoZWNrYm94IHJhZGlvYm94IHNlbGVjdClcbiAgaWYgKHBhcmFtcy52bSAmJiBwYXJhbXMudm0uZGF0YXNvdXJjZSkge1xuICAgIHVNZXRhLmRhdGFzb3VyY2UgPSAnZGF0YXNvdXJjZSdcbiAgfVxuICBkb20uc2V0QXR0cmlidXRlKCd1LW1ldGEnLCBKU09OLnN0cmluZ2lmeSh1TWV0YSkpXG4gIGxldCB2bSA9IHtcbiAgfVxuICAvLyDpgILphY3ogIHnmoRhcGkg6L+Z6YeM5a6a5LmJ5oiQdm3mm7TnrKblkIjor63kuYkgbW9kaWZ5IGJ5IHNvbmdobGNcbiAgaWYgKHBhcmFtcy5kYXRhKSB7XG4gICAgdm0gPSBfLmV4dGVuZCh2bSwgcGFyYW1zLmRhdGEpXG4gIH1cbiAgaWYgKHBhcmFtcy52bSkge1xuICAgIHZtID0gXy5leHRlbmQodm0sIHBhcmFtcy52bSlcbiAgfVxuXG4gIHdpbmRvdy5hcHAuY3JlYXRlQ29tcChkb20sIHZtKVxufVxuZXhwb3J0IGZ1bmN0aW9uIEN1c3RvbUljb25DbHMgKHBhcmFtcywgY29tcG9uZW50SW5mbywgY3VzdG9tVGFnKSB7XG4gIC8vIOa3u+WKoOiHquWumuS5ieagt+W8j+aUr+aMgVxuICBpZiAocGFyYW1zLnZtKSB7XG4gICAgaWYgKHBhcmFtcy52bS5pY29uQ2xzKSB7XG4gICAgICBsZXQgZG9tID0gY29tcG9uZW50SW5mby5lbGVtZW50LmNoaWxkcmVuWzBdXG4gICAgICBsZXQgZWxlbWVudCA9IGRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZShjdXN0b21UYWcpWzBdXG4gICAgICBsZXQgbm9kZUNscyA9IHBhcmFtcy52bS5pY29uQ2xzLmluZGV4T2YoJ3VmJykgPj0gMCA/IChwYXJhbXMudm0uaWNvbkNscyArICcgdS1mb3JtLWNvbnRyb2wtZmVlZGJhY2snKSA6IHBhcmFtcy52bS5pY29uQ2xzXG4gICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuY2xhc3Mubm9kZVZhbHVlID0gbm9kZUNsc1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvYmFzZS5qcyIsIlxuLyogaXVhcCBzd2l0Y2ggKi9cbmltcG9ydCB7Q3JlYXRBcHB9IGZyb20gJy4uL2Jhc2UnXG5mdW5jdGlvbiBjcmVhdGVEcm9wZG93biAocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG4gIGxldCB1bWV0YSA9IHsndHlwZSc6ICdjdXJyZW5jeSd9XG4gIENyZWF0QXBwKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpXG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEcm9wZG93blxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1jdXJyZW5jeS9pbmRleC5qcyIsIi8qIGl1YXAgZGF0ZXBpY2VyICovXG5pbXBvcnQge0NyZWF0QXBwLCBDdXN0b21JY29uQ2xzfSBmcm9tICcuLi9iYXNlJ1xuXG5mdW5jdGlvbiBjcmVhdGVEYXRlIChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgbGV0IHVtZXRhID0geyd0eXBlJzogJ3UtZGF0ZScsICdmb3JtYXQnOiAnWVlZWS1NTS1ERCd9XG4gIC8vIOiHquWumuS5ieagt+W8j1xuICBDdXN0b21JY29uQ2xzKHBhcmFtcywgY29tcG9uZW50SW5mbywgJ3NwYW4nKVxuICBDcmVhdEFwcChjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKVxufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRGF0ZVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1kYXRlcGlja2VyL2luZGV4LmpzIiwiXG4vKiBpdWFwIHUtaW5wdXQgKi9cbmltcG9ydCB7Q3JlYXRBcHB9IGZyb20gJy4uL2Jhc2UnXG5mdW5jdGlvbiBjcmVhdGVEcm9wZG93biAocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG4gIGxldCB1bWV0YSA9IHsndHlwZSc6ICdzdHJpbmcnfVxuICBDcmVhdEFwcChjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKVxufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRHJvcGRvd25cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3UtaW5wdXQvaW5kZXguanMiLCJcbi8qIGl1YXAgc3dpdGNoICovXG5pbXBvcnQge0NyZWF0QXBwfSBmcm9tICcuLi9iYXNlJ1xuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgdW1ldGEgPSB7J3R5cGUnOiAndS1tb250aCd9XG4gIENyZWF0QXBwKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpXG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEcm9wZG93blxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1tb250aC9pbmRleC5qcyIsImltcG9ydCB7Q3JlYXRBcHB9IGZyb20gJy4uL2Jhc2UnXG5mdW5jdGlvbiBjcmVhdGVEcm9wZG93biAocGFyYW1zLCBjb21wb25lbnRJbmZvKSB7XG4gIGxldCB1bWV0YSA9IHsndHlwZSc6ICdwYWdpbmF0aW9uJ31cbiAgaWYgKHBhcmFtcy52bSAmJiBwYXJhbXMudm0uc2l6ZUNoYW5nZSkge1xuICAgIHVtZXRhLnNpemVDaGFuZ2UgPSAnc2l6ZUNoYW5nZSdcbiAgfVxuICBpZiAocGFyYW1zLnZtICYmIHBhcmFtcy52bS5wYWdlQ2hhbmdlKSB7XG4gICAgdW1ldGEucGFnZUNoYW5nZSA9ICdwYWdlQ2hhbmdlJ1xuICB9XG4gIENyZWF0QXBwKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpXG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEcm9wZG93blxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1wYWdpbmF0aW9uL2luZGV4LmpzIiwiLyogaXVhcCBkYXRlcGljZXIgKi9cbmltcG9ydCB7Q3JlYXRBcHB9IGZyb20gJy4uL2Jhc2UnXG5mdW5jdGlvbiBjcmVhdGVEYXRlIChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgbGV0IHVtZXRhID0geyd0eXBlJzogJ3UtcmFkaW8nfVxuICB2YXIgZG9tID0gY29tcG9uZW50SW5mby5lbGVtZW50LmNoaWxkcmVuWzBdXG4gIGRvbS5jaGlsZHJlblswXS5jaGlsZE5vZGVzWzBdLnNldEF0dHJpYnV0ZSgnbmFtZScsIE1hdGgucmFuZG9tKCkpXG4gIENyZWF0QXBwKGNvbXBvbmVudEluZm8sIHVtZXRhLCBwYXJhbXMpXG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEYXRlXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy91LXJhZGlvL2luZGV4LmpzIiwiLyogaXVhcCBzZWxlY3QoZHJvcGRvd24pICovXG5pbXBvcnQge0NyZWF0QXBwLCBDdXN0b21JY29uQ2xzfSBmcm9tICcuLi9iYXNlJ1xuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgdW1ldGEgPSB7J3R5cGUnOiAndS1jb21ib2JveCd9XG4gIC8vIOiHquWumuS5ieagt+W8j1xuICBDdXN0b21JY29uQ2xzKHBhcmFtcywgY29tcG9uZW50SW5mbywgJ3NwYW4nKVxuICBDcmVhdEFwcChjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKVxufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRHJvcGRvd25cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3Utc2VsZWN0L2luZGV4LmpzIiwiXG4vKiBpdWFwIHN3aXRjaCAqL1xuaW1wb3J0IHtDcmVhdEFwcH0gZnJvbSAnLi4vYmFzZSdcbmZ1bmN0aW9uIGNyZWF0ZURyb3Bkb3duIChwYXJhbXMsIGNvbXBvbmVudEluZm8pIHtcbiAgbGV0IHVtZXRhID0geyd0eXBlJzogJ3Utc3dpdGNoJywgJ2NoZWNrZWRWYWx1ZSc6ICcxJywgJ3VuQ2hlY2tlZFZhbHVlJzogJzAnfVxuICBDcmVhdEFwcChjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKVxufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRHJvcGRvd25cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3Utc3dpdGNoL2luZGV4LmpzIiwiXG4vKiBpdWFwIHN3aXRjaCAqL1xuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgZG9tID0gY29tcG9uZW50SW5mby5lbGVtZW50LmNoaWxkcmVuWzBdXG4gIGxldCBvcHRpb24gPSBwYXJhbXMub3B0aW9uXG4gIGlmIChvcHRpb24gJiYgb3B0aW9uLnRpdGxlICYmIHR5cGVvZiBvcHRpb24udGl0bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb24udGl0bGUgPSBvcHRpb24udGl0bGUoKVxuICB9XG4gIG5ldyB3aW5kb3cudS5Ub29sdGlwKGRvbSwgcGFyYW1zLm9wdGlvbilcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZURyb3Bkb3duXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy91LXRvb2x0aXAvaW5kZXguanMiLCJcbi8qIGl1YXAgc3dpdGNoICovXG5pbXBvcnQge0NyZWF0QXBwfSBmcm9tICcuLi9iYXNlJ1xuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgdW1ldGEgPSB7J3R5cGUnOiAndHJlZSd9XG4gIGlmIChwYXJhbXMudm0gJiYgcGFyYW1zLnZtLnNldHRpbmcpIHtcbiAgICB1bWV0YS5zZXR0aW5nID0gJ3NldHRpbmcnXG4gIH1cbiAgQ3JlYXRBcHAoY29tcG9uZW50SW5mbywgdW1ldGEsIHBhcmFtcylcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZURyb3Bkb3duXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy91LXRyZWUvaW5kZXguanMiLCJcbi8qIGl1YXAgc3dpdGNoICovXG5pbXBvcnQge0NyZWF0QXBwfSBmcm9tICcuLi9iYXNlJ1xuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgdW1ldGEgPSB7J3R5cGUnOiAndS15ZWFyJ31cbiAgQ3JlYXRBcHAoY29tcG9uZW50SW5mbywgdW1ldGEsIHBhcmFtcylcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZURyb3Bkb3duXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy91LXllYXIvaW5kZXguanMiLCJcbi8qIGl1YXAgc3dpdGNoICovXG5pbXBvcnQge0NyZWF0QXBwfSBmcm9tICcuLi9iYXNlJ1xuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24gKHBhcmFtcywgY29tcG9uZW50SW5mbykge1xuICBsZXQgdW1ldGEgPSB7J3R5cGUnOiAndS15ZWFybW9udGgnfVxuICBDcmVhdEFwcChjb21wb25lbnRJbmZvLCB1bWV0YSwgcGFyYW1zKVxufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRHJvcGRvd25cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3UteWVhcm1vbnRoL2luZGV4LmpzIiwidmFyIG1hcCA9IHtcblx0XCIuL2JveC1jb250ZW50L2luZGV4Lmh0bWxcIjogMTgxLFxuXHRcIi4vYm94LWZpbHRlci9pbmRleC5odG1sXCI6IDE4Mixcblx0XCIuL2JveC1zdGlja3kvaW5kZXguaHRtbFwiOiAxODMsXG5cdFwiLi9ib3gtdGFicy9pbmRleC5odG1sXCI6IDE4NCxcblx0XCIuL2JveC9pbmRleC5odG1sXCI6IDE4NSxcblx0XCIuL2Nhc2NhZGVyL2luZGV4Lmh0bWxcIjogMTg2LFxuXHRcIi4vY2FzaXRlbS9pbmRleC5odG1sXCI6IDE4Nyxcblx0XCIuL2RhdGVwaWNrZXIvaW5kZXguaHRtbFwiOiAxMTksXG5cdFwiLi9kYXRldGltZXBpY2tlci9pbmRleC5odG1sXCI6IDEzNyxcblx0XCIuL2Ryb3Bkb3duL2luZGV4Lmh0bWxcIjogMTM5LFxuXHRcIi4vZm9ybS1jdG4vaW5kZXguaHRtbFwiOiAxODgsXG5cdFwiLi9mb3JtLWdyb3VwL2luZGV4Lmh0bWxcIjogMTg5LFxuXHRcIi4vZm9ybS10ZXh0L2luZGV4Lmh0bWxcIjogMTkwLFxuXHRcIi4vZm9ybS10aXRsZS9pbmRleC5odG1sXCI6IDE5MSxcblx0XCIuL3F1ZXJ5LXRhYnMvaW5kZXguaHRtbFwiOiAxOTIsXG5cdFwiLi9zdGF0ZS1pdGVtL2luZGV4Lmh0bWxcIjogMTkzLFxuXHRcIi4vc3RhdGUtdGFicy9pbmRleC5odG1sXCI6IDE5NCxcblx0XCIuL3N0ZXAtbGVnZW5kL2luZGV4Lmh0bWxcIjogMTk1LFxuXHRcIi4vc3RlcC9pbmRleC5odG1sXCI6IDE5Nixcblx0XCIuL3N1Ym1pdC9pbmRleC5odG1sXCI6IDE5Nyxcblx0XCIuL3UtY2hlY2tib3gvaW5kZXguaHRtbFwiOiAxOTgsXG5cdFwiLi91LWN1cnJlbmN5L2luZGV4Lmh0bWxcIjogMTk5LFxuXHRcIi4vdS1kYXRlcGlja2VyL2luZGV4Lmh0bWxcIjogMjAwLFxuXHRcIi4vdS1pbnB1dC9pbmRleC5odG1sXCI6IDIwMSxcblx0XCIuL3UtbW9udGgvaW5kZXguaHRtbFwiOiAyMDIsXG5cdFwiLi91LXBhZ2luYXRpb24vaW5kZXguaHRtbFwiOiAyMDMsXG5cdFwiLi91LXJhZGlvL2luZGV4Lmh0bWxcIjogMjA0LFxuXHRcIi4vdS1zZWxlY3QvaW5kZXguaHRtbFwiOiAyMDUsXG5cdFwiLi91LXN3aXRjaC9pbmRleC5odG1sXCI6IDIwNixcblx0XCIuL3UtdG9vbHRpcC9pbmRleC5odG1sXCI6IDIwNyxcblx0XCIuL3UtdHJlZS9pbmRleC5odG1sXCI6IDIwOCxcblx0XCIuL3UteWVhci9pbmRleC5odG1sXCI6IDIwOSxcblx0XCIuL3UteWVhcm1vbnRoL2luZGV4Lmh0bWxcIjogMjEwXG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDE4MDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMgXlxcLlxcLy4qXFwvaW5kZXhcXC5odG1sJFxuLy8gbW9kdWxlIGlkID0gMTgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWJveC1jb250ZW50PiA8IS0tIGtvIGlmOiB0aXRsZSAtLT4gPGRpdiBjbGFzcz1ib3gtY29udGVudC10aXRsZSBkYXRhLWJpbmQ9dGV4dDp0aXRsZT48L2Rpdj4gPCEtLSAva28gLS0+IDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2JveC1jb250ZW50L2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1ib3gtZmlsdGVyPiA8ZGl2IGNsYXNzPVxcXCJwdWxsLWxlZnQgYm94LWZpbHRlci10aXRsZVxcXCI+IDxzcGFuIGRhdGEtYmluZD10ZXh0OnRpdGxlPjwvc3Bhbj4gPC9kaXY+IDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+IDwhLS0ga28gaWY6IHFoaWRkZW4gLS0+IDxkaXYgY2xhc3M9cHVsbC1yaWdodD4gPGZvcm0gY2xhc3M9XFxcImZvcm0tc2VhcmNoIHUtaW5wdXQtZ3JvdXBcXFwiIGRhdGEtYmluZD1zdWJtaXQ6cXVlcnk+IDxpbnB1dCB0eXBlPXRleHQgY2xhc3M9XFxcInUtZm9ybS1jb250cm9sIGlucHV0X3NlYXJjaFxcXCIgbmFtZT1zZWFyY2hfTElLRV9wcm9kdWN0TmFtZSBkYXRhLWJpbmQ9dmFsdWU6cSxhdHRyOntwbGFjZWhvbGRlcjpwbGFjZWhvbGRlcn0+IDxzcGFuIGNsYXNzPXUtaW5wdXQtZ3JvdXAtYnRuPiA8YnV0dG9uIHR5cGU9c3VibWl0IGNsYXNzPVxcXCJidG4gYnRuLXdoaXRlIG5vLWJ0bi1vdXRsaW5lXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiBxdWVyeVxcXCI+IDxpIGNsYXNzPVxcXCJmYSBmYS1zZWFyY2hcXFwiPjwvaT4gPC9idXR0b24+IDwvc3Bhbj4gPC9mb3JtPiA8L2Rpdj4gPCEtLSAva28gLS0+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2JveC1maWx0ZXIvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWJveC1zdGlja3ktY3RuPiA8ZGl2IGNsYXNzPWJveC1zdGlja3kgaWQ9Ym94LXN0aWNreT4gPGRpdiBjbGFzcz11LXJvdz4gPGRpdiBjbGFzcz1cXFwidS1jb2wtMiBib3gtc3RpY2t5LXRpdGxlXFxcIj4gPHNwYW4gZGF0YS1iaW5kPXRleHQ6dGl0bGU+PC9zcGFuPiA8L2Rpdj4gPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT48IS0tIC9rbyAtLT4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9ib3gtc3RpY2t5L2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1ib3gtdGFicz4gPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT48IS0tIC9rbyAtLT4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvYm94LXRhYnMvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWJveD4gPCEtLSBrbyB0ZW1wbGF0ZTogeyBub2RlczogJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMgfSAtLT48IS0tIC9rbyAtLT4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvYm94L2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1jYXNjYWRlciBkYXRhLWJpbmQ9XFxcImNsaWNrb3V0c2lkZTogaGFuZGxlQ2xvc2VcXFwiPiA8ZGl2IGNsYXNzPVxcXCJ1LWZvcm0tY29udHJvbCBjYXNjYWRlci1kaXNwbGF5XFxcIiBzdHlsZT1saW5lLWhlaWdodDoyNHB4IGRhdGEtYmluZD1cXFwiY2xpY2s6IGhhbmRsZVZpc2libGVcXFwiPiA8c3BhbiBkYXRhLWJpbmQ9dGV4dDpzZWxlY3RlZFZhbHVlKCkubmFtZT48L3NwYW4+IDxpIGNsYXNzPVxcXCJmYSBmYS1hbmdsZS1kb3duXFxcIiBzdHlsZT1wb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMHB4O3RvcDoxM3B4PjwvaT4gPC9kaXY+IDxkaXYgY2xhc3M9c2VsZWN0LWRyb3Bkb3duIGRhdGEtYmluZD1cXFwidmlzaWJsZTogY2FzaXRtZXZpc2libGVcXFwiPiA8Y2FzaXRlbSBwYXJhbXM9XFxcImRhdGE6IGRhdGEsc2VsZWN0ZWRWYWx1ZTpzZWxlY3RlZFZhbHVlXFxcIj48L2Nhc2l0ZW0+IDwvZGl2PiA8L2Rpdj4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9jYXNjYWRlci9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxODZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjx1bCBkYXRhLWJpbmQ9XFxcImZvcmVhY2g6IHsgZGF0YTogZGF0YSgpLCBhczogJ3JvdycgfVxcXCIgY2xhc3M9Y2FzaXRlbT4gPGxpIGRhdGEtYmluZD1cXFwiY2xpY2s6IGZ1bmN0aW9uKCl7IHJldHVybiAkcGFyZW50LmV4cGFuZENoaWxkKCRkYXRhLCAkaW5kZXgoKSl9LCBjc3M6e2FjdGl2ZTokaW5kZXgoKSA9PSAkcGFyZW50LmFjdGl2ZUluZGV4KCl9XFxcIiBjbGFzcz1jYXNpdGVtLWl0ZW0+IDxzcGFuIGRhdGEtYmluZD10ZXh0OnJvdy5uYW1lPjwvc3Bhbj4gPCEtLSBrbyBpZjogcm93LmNoaWxkcmVuICYmIHJvdy5jaGlsZHJlbi5sZW5ndGggPiAwIC0tPiA8aSBjbGFzcz1cXFwiZmEgZmEtYW5nbGUtcmlnaHRcXFwiPjwvaT4gPCEtLSAva28gLS0+IDwvbGk+IDwvdWw+IDwhLS0ga28gaWY6IHN1Ykxpc3QoKS5sZW5ndGggPiAwIC0tPiA8Y2FzaXRlbSBwYXJhbXM9XFxcImRhdGE6IHN1Ykxpc3QsIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVcXFwiPjwvY2FzaXRlbT4gPCEtLSAva28gLS0+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvY2FzaXRlbS9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxODdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9Zm9ybS1jdG4+IDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2Zvcm0tY3RuL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE4OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz11LWZvcm0tZ3JvdXA+IDwhLS0ga28gdGVtcGxhdGU6IHsgbm9kZXM6ICRjb21wb25lbnRUZW1wbGF0ZU5vZGVzIH0gLS0+PCEtLSAva28gLS0+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2Zvcm0tZ3JvdXAvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8bGFiZWwgY2xhc3M9XFxcInRleHQtbGVmdCBsYWJlbC10ZXh0XFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IHRleHRcXFwiPjwvbGFiZWw+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvZm9ybS10ZXh0L2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGxhYmVsIGNsYXNzPVxcXCJ0ZXh0LXJpZ2h0IGZvcm0tdGl0bGVcXFwiPiA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPiA8L2xhYmVsPiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL2Zvcm0tdGl0bGUvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPXF1ZXJ5LXRhYnMgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiBpdGVtc1xcXCI+IDxpbnB1dCBuYW1lPXF1ZXJ5LXRhYnMgdHlwZT1yYWRpbyBkYXRhLWJpbmQ9XFxcImNoZWNrZWQ6ICRwYXJlbnQuY3VyU3RhdGUsdmFsdWU6c3RhdGUsYXR0cjp7aWQ6J3F1ZXJ5X3RhYnMnK3N0YXRlfVxcXCI+IDxkaXYgY2xhc3M9cXVlcnktdGFiIGRhdGEtYmluZD1jbGljazokcGFyZW50LmhhbmRsZXI+IDxsYWJlbCBkYXRhLWJpbmQ9XFxcInRleHQ6dGl0bGUsYXR0cjp7Zm9yOidxdWVyeV90YWJzJytzdGF0ZX1cXFwiPjwvbGFiZWw+IDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDonKCcgKyBudW0gKyAnKSdcXFwiPjwvc3Bhbj4gPC9kaXY+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL3F1ZXJ5LXRhYnMvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPXN0YXRlLWl0ZW0+IDxsYWJlbCBmb3I9XFxcIlxcXCIgZGF0YS1iaW5kPVxcXCJjc3M6eydhY3RpdmUnOiBhY3RpdmV9LGNsaWNrOmNsaWNrXFxcIj4gPHNwYW4gY2xhc3M9aXRlbS10aXRsZSBkYXRhLWJpbmQ9dGV4dDp0aXRsZT48L3NwYW4+IDxzcGFuIGNsYXNzPWl0ZW0tY291bnQgZGF0YS1iaW5kPXRleHQ6Y291bnQ+PC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9zdGF0ZS1pdGVtL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1zdGF0ZS10YWJzIGRhdGEtYmluZD1mb3JlYWNoOml0ZW1zPiA8ZGl2IGNsYXNzPXN0YXRlLXRhYiBkYXRhLWJpbmQ9XFxcImNsaWNrOmZ1bmN0aW9uKCl7JHBhcmVudC5oYW5kbGVyKCRkYXRhLCRpbmRleCgpKX0sY3NzOiRwYXJlbnQuaW5kZXgoKT09JGluZGV4KCk/J2FjdGl2ZSc6JydcXFwiPiA8bGFiZWwgZGF0YS1iaW5kPXRleHQ6dGl0bGU+PC9sYWJlbD4gPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OicoJyArIG51bSArICcpJ1xcXCI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvc3RhdGUtdGFicy9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxOTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9c3RlcC1sZWdlbmQgZGF0YS1iaW5kPVxcXCJjc3M6eydzdGVwLXNtJzp0eXBlPT0nc20nfVxcXCI+IDx1bD4gPCEtLSBrbyBmb3JlYWNoOiBsaXN0IC0tPiA8bGkgZGF0YS1iaW5kPVxcXCJjc3M6eydjdXJyZW50c3RlcCc6ICRwYXJlbnQuY3VycmVudEluZGV4KCkgPT0gJGluZGV4KCksICdmaW5pc2hlZHN0ZXAnOiAkcGFyZW50LmN1cnJlbnRJbmRleCgpID49ICRpbmRleCgpfVxcXCI+IDxkaXYgY2xhc3M9c3RlcC1sZWdlbmQtbmFtZT4gPGRpdiBjbGFzcz1sZWdlbmQtYXJyb3c+IDxzcGFuPiYjOTY3MDs8L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPWxlZ2VuZC1jb250ZW50IGRhdGEtYmluZD10ZXh0Om5hbWU+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1zdGVwLWxlZ2VuZC1zdGVwPiA8ZGl2IGNsYXNzPXN0ZXAtb3V0dGVyPiA8ZGl2IGNsYXNzPXN0ZXAtaW5uZXIgZGF0YS1iaW5kPVxcXCJ0ZXh0OiAkaW5kZXgoKSArMVxcXCI+IDwvZGl2PiA8ZGl2IGNsYXNzPXN0ZXAtdG9vbHRpcD48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9c3RlcC1sZWZ0PjwvZGl2PiA8ZGl2IGNsYXNzPXN0ZXAtcmlnaHQ+PC9kaXY+IDwvZGl2PiA8L2xpPiA8IS0tIC9rbyAtLT4gPC91bD4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvc3RlcC1sZWdlbmQvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMTk1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2PiA8dWw+IDwhLS0ga28gZm9yZWFjaDogbGlzdCAtLT4gPGxpIGRhdGEtYmluZD1cXFwiY3NzOnsnYWN0aXZlJzogJHBhcmVudC5jdXJyZW50ID09ICRpbmRleH0sdGV4dDpuYW1lXFxcIj48L2xpPiA8IS0tIC9rbyAtLT4gPC91bD4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvc3RlcC9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxOTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCIgZGF0YS1iaW5kPWNsaWNrOmNsaWNrLHRleHQ6dGV4dD4gPC9idXR0b24+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvc3VibWl0L2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdj4gPGxhYmVsIGNsYXNzPXUtY2hlY2tib3g+IDxpbnB1dCB0eXBlPWNoZWNrYm94IGNsYXNzPXUtY2hlY2tib3gtaW5wdXQ+IDxzcGFuIGNsYXNzPXUtY2hlY2tib3gtbGFiZWwgZGF0YS1yb2xlPW5hbWU+PC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy91LWNoZWNrYm94L2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwicC1yZWxhdGl2ZSBpbmxpbmUtYmxvY2tcXFwiPiA8aW5wdXQgY2xhc3M9dS1mb3JtLWNvbnRyb2wgLz4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1jdXJyZW5jeS9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxOTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInUtZGF0ZXBpY2tlciB3MTAwXFxcIj4gPGlucHV0IGNsYXNzPXUtZm9ybS1jb250cm9sIHR5cGU9dGV4dCBwbGFjZWhvbGRlcj1cXFwiXFxcIj4gPHNwYW4gY2xhc3M9XFxcInUtZm9ybS1jb250cm9sLWZlZWRiYWNrIHVmIHVmLWNhbGVuZGFycGFnZWVtcHR5XFxcIj48L3NwYW4+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL3UtZGF0ZXBpY2tlci9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAyMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxpbnB1dCB0eXBlPXRleHQgY2xhc3M9dS1mb3JtLWNvbnRyb2w+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1pbnB1dC9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAyMDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInAtcmVsYXRpdmUgaW5saW5lLWJsb2NrXFxcIj4gPGlucHV0IGNsYXNzPXUtZm9ybS1jb250cm9sIC8+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL3UtbW9udGgvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMjAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPXUtcGFnaW5hdGlvbj4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1wYWdpbmF0aW9uL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDIwM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdj4gPGxhYmVsIGNsYXNzPXUtcmFkaW8+PGlucHV0IHR5cGU9cmFkaW8gY2xhc3M9dS1yYWRpby1idXR0b24+IDxzcGFuIGNsYXNzPXUtcmFkaW8tbGFiZWw+PC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy91LXJhZGlvL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDIwNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwidS1pbnB1dC1ncm91cCB1LWhhcy1mZWVkYmFja1xcXCI+IDxpbnB1dCBjbGFzcz11LWZvcm0tY29udHJvbCBwbGFjZWhvbGRlcj3or7fpgInmi6kgLz4gPHNwYW4gY2xhc3M9XFxcInUtZm9ybS1jb250cm9sLWZlZWRiYWNrIHVmIHVmLWFuZ2xlYXJyb3dkb3duXFxcIiBkYXRhLXJvbGU9Y29tYm8tYnV0dG9uPjwvc3Bhbj4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdS1zZWxlY3QvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMjA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8bGFiZWwgY2xhc3M9dS1zd2l0Y2g+IDxpbnB1dCB0eXBlPWNoZWNrYm94IGNsYXNzPXUtc3dpdGNoLWlucHV0IC8+IDxzcGFuIGNsYXNzPXUtc3dpdGNoLWxhYmVsPjwvc3Bhbj4gPC9sYWJlbD4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy91LXN3aXRjaC9pbmRleC5odG1sXG4vLyBtb2R1bGUgaWQgPSAyMDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzcGFuPiA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcyB9IC0tPjwhLS0gL2tvIC0tPiA8L3NwYW4+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdS10b29sdGlwL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDIwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz16dHJlZT4gPC9kaXY+IFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdS10cmVlL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDIwOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwicC1yZWxhdGl2ZSBpbmxpbmUtYmxvY2tcXFwiPiA8aW5wdXQgY2xhc3M9dS1mb3JtLWNvbnRyb2wgcGxhY2Vob2xkZXI9XFxcIlxcXCIvPiA8L2Rpdj4gXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy91LXllYXIvaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMjA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJwLXJlbGF0aXZlIGlubGluZS1ibG9ja1xcXCI+IDxpbnB1dCBjbGFzcz11LWZvcm0tY29udHJvbCBwbGFjZWhvbGRlcj1cXFwiXFxcIi8+IDwvZGl2PiBcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL3UteWVhcm1vbnRoL2luZGV4Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDIxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbWFwID0ge1xuXHRcIi4vY2xpY2tvdXRzaWRlL2luZGV4XCI6IDIxMixcblx0XCIuL2hpZGVJbk5ld1dpbmRvdy9pbmRleFwiOiAyMTMsXG5cdFwiLi9rby1jdXJyZW5jeS9pbmRleFwiOiAyMTQsXG5cdFwiLi9yZXBlYXRDbGljay9pbmRleFwiOiAyMTUsXG5cdFwiLi9yZXBlYXRTdWJtaXQvaW5kZXhcIjogMjE2XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDIxMTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2JpbmRpbmdIYW5kbGVycyBeXFwuXFwvLipcXC9pbmRleCRcbi8vIG1vZHVsZSBpZCA9IDIxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyDlpoLmnpzmmK/mlrDnqpflj6PmiZPlvIDnmoTpobXpnaLvvIzliJnorqTkuLpoaXN0b3J5Lmxlbmd0aCA9PSAxIOaIluWwj+S6jjEg5YiZ5bCG5YWD57Sg6ZqQ6JePXG4vLyDnlKjkuo7kuIDkupvlkIzkuIDkuKrpobXpnaLnlLHkuI3lkIznp43mlrnlvI/miZPlvIAg6L+U5Zue5oyJ6ZKu6ZyA6KaB5Y675o6J55qE54m55q6K6ZyA5rGCXG5jb25zdCBjbGlja291dHNpZGUgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIChlbCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBmdW5jdGlvbiBkb2N1bWVudEhhbmRsZXIgKGUpIHtcbiAgICAgIGlmIChlbC5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAodmFsdWVBY2Nlc3NvcigpKSB7XG4gICAgICAgIHZhbHVlQWNjZXNzb3IoKShlKVxuICAgICAgfVxuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRvY3VtZW50SGFuZGxlcilcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgY2xpY2tvdXRzaWRlXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmluZGluZ0hhbmRsZXJzL2NsaWNrb3V0c2lkZS9pbmRleC5qcyIsIi8vIOWmguaenOaYr+aWsOeql+WPo+aJk+W8gOeahOmhtemdou+8jOWImeiupOS4umhpc3RvcnkubGVuZ3RoID09IDEg5oiW5bCP5LqOMSDliJnlsIblhYPntKDpmpDol49cbi8vIOeUqOS6juS4gOS6m+WQjOS4gOS4qumhtemdoueUseS4jeWQjOenjeaWueW8j+aJk+W8gCDov5Tlm57mjInpkq7pnIDopoHljrvmjonnmoTnibnmrorpnIDmsYJcbmNvbnN0IGhpZGRlbmlubmV3d2luZG93ID0ge1xuICBpbml0OiBmdW5jdGlvbiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBpZiAod2luZG93Lmhpc3RvcnkubGVuZ3RoIDw9IDEpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgaGlkZGVuaW5uZXd3aW5kb3dcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iaW5kaW5nSGFuZGxlcnMvaGlkZUluTmV3V2luZG93L2luZGV4LmpzIiwiY29uc3QgY3VycmVuY3kgPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24gKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCBvbmNlIHdoZW4gdGhlIGJpbmRpbmcgaXMgZmlyc3QgYXBwbGllZCB0byBhbiBlbGVtZW50LFxuICAgIC8vIGFuZCBhZ2FpbiB3aGVuZXZlciBhbnkgb2JzZXJ2YWJsZXMvY29tcHV0ZWRzIHRoYXQgYXJlIGFjY2Vzc2VkIGNoYW5nZVxuICAgIC8vIFVwZGF0ZSB0aGUgRE9NIGVsZW1lbnQgYmFzZWQgb24gdGhlIHN1cHBsaWVkIHZhbHVlcyBoZXJlLlxuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyQ6JyArIHZhbHVlQWNjZXNzb3IoKSgpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY3VycmVuY3lcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iaW5kaW5nSGFuZGxlcnMva28tY3VycmVuY3kvaW5kZXguanMiLCJpbXBvcnQge2RlYm91bmNlfSBmcm9tICdsb2Rhc2gnXG4vLyByZXBlYXRDbGlja++8jOmYsuatoumHjeWkjeeCueWHuyDnlKjkuo7mjInpkq4sZGVib3VuY2XpmLLmipYgKyAzc+WGheaXoOazleWGjeasoeeCueWHu1xuY29uc3QgcmVwZWF0Q2xpY2sgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBjb250aW51ZVRyaWdnZXIgPSB0cnVlXG4gICAgdmFyIHJlcGVhdFN1Ym1pdCA9IGRlYm91bmNlKGZ1bmN0aW9uIChldmVudCwgY2IpIHtcbiAgICAgIGlmIChjb250aW51ZVRyaWdnZXIpIHtcbiAgICAgICAgY2IoZXZlbnQpXG4gICAgICAgIGNvbnRpbnVlVHJpZ2dlciA9IGZhbHNlXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnRpbnVlVHJpZ2dlciA9IHRydWVcbiAgICAgICAgfSwgMjUwMClcbiAgICAgIH1cbiAgICB9LCAzMDApXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgcmVwZWF0U3VibWl0KGV2ZW50LCB2YWx1ZUFjY2Vzc29yKCkpXG4gICAgfSlcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgcmVwZWF0Q2xpY2tcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JpbmRpbmdIYW5kbGVycy9yZXBlYXRDbGljay9pbmRleC5qcyIsImltcG9ydCB7ZGVib3VuY2V9IGZyb20gJ2xvZGFzaCdcbi8vIHN1Ym1pdGNsaWNr5oyH5Luk77yM6Ziy5q2i6YeN5aSN54K55Ye777yM55So5LqOZm9ybSBzdWJtaXQsZGVib3VuY2XpmLLmipYgKyAzc+WGheaXoOazleWGjeasoeeCueWHu1xuY29uc3QgcmVwZWF0U3VibWl0ID0ge1xuICBpbml0OiBmdW5jdGlvbiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBsZXQgY29udGludWVUcmlnZ2VyID0gdHJ1ZVxuICAgIGxldCByZXBlYXRTdWJtaXQgPSBkZWJvdW5jZShmdW5jdGlvbiAoZXZlbnQsIGNiKSB7XG4gICAgICBpZiAoY29udGludWVUcmlnZ2VyKSB7XG4gICAgICAgIGNiKGV2ZW50KVxuICAgICAgICBjb250aW51ZVRyaWdnZXIgPSBmYWxzZVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb250aW51ZVRyaWdnZXIgPSB0cnVlXG4gICAgICAgIH0sIDI1MDApXG4gICAgICB9XG4gICAgfSwgMzAwKVxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICByZXBlYXRTdWJtaXQoZXZlbnQsIHZhbHVlQWNjZXNzb3IoKSlcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IHJlcGVhdFN1Ym1pdFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JpbmRpbmdIYW5kbGVycy9yZXBlYXRTdWJtaXQvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9